/*! jQuery v2.2.4 | (c) jQuery Foundation | jquery.org/license */
!function(a,b){"object"==typeof module&&"object"==typeof module.exports?module.exports=a.document?b(a,!0):function(a){if(!a.document)throw new Error("jQuery requires a window with a document");return b(a)}:b(a)}("undefined"!=typeof window?window:this,function(a,b){var c=[],d=a.document,e=c.slice,f=c.concat,g=c.push,h=c.indexOf,i={},j=i.toString,k=i.hasOwnProperty,l={},m="2.2.4",n=function(a,b){return new n.fn.init(a,b)},o=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,p=/^-ms-/,q=/-([\da-z])/gi,r=function(a,b){return b.toUpperCase()};n.fn=n.prototype={jquery:m,constructor:n,selector:"",length:0,toArray:function(){return e.call(this)},get:function(a){return null!=a?0>a?this[a+this.length]:this[a]:e.call(this)},pushStack:function(a){var b=n.merge(this.constructor(),a);return b.prevObject=this,b.context=this.context,b},each:function(a){return n.each(this,a)},map:function(a){return this.pushStack(n.map(this,function(b,c){return a.call(b,c,b)}))},slice:function(){return this.pushStack(e.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(a){var b=this.length,c=+a+(0>a?b:0);return this.pushStack(c>=0&&b>c?[this[c]]:[])},end:function(){return this.prevObject||this.constructor()},push:g,sort:c.sort,splice:c.splice},n.extend=n.fn.extend=function(){var a,b,c,d,e,f,g=arguments[0]||{},h=1,i=arguments.length,j=!1;for("boolean"==typeof g&&(j=g,g=arguments[h]||{},h++),"object"==typeof g||n.isFunction(g)||(g={}),h===i&&(g=this,h--);i>h;h++)if(null!=(a=arguments[h]))for(b in a)c=g[b],d=a[b],g!==d&&(j&&d&&(n.isPlainObject(d)||(e=n.isArray(d)))?(e?(e=!1,f=c&&n.isArray(c)?c:[]):f=c&&n.isPlainObject(c)?c:{},g[b]=n.extend(j,f,d)):void 0!==d&&(g[b]=d));return g},n.extend({expando:"jQuery"+(m+Math.random()).replace(/\D/g,""),isReady:!0,error:function(a){throw new Error(a)},noop:function(){},isFunction:function(a){return"function"===n.type(a)},isArray:Array.isArray,isWindow:function(a){return null!=a&&a===a.window},isNumeric:function(a){var b=a&&a.toString();return!n.isArray(a)&&b-parseFloat(b)+1>=0},isPlainObject:function(a){var b;if("object"!==n.type(a)||a.nodeType||n.isWindow(a))return!1;if(a.constructor&&!k.call(a,"constructor")&&!k.call(a.constructor.prototype||{},"isPrototypeOf"))return!1;for(b in a);return void 0===b||k.call(a,b)},isEmptyObject:function(a){var b;for(b in a)return!1;return!0},type:function(a){return null==a?a+"":"object"==typeof a||"function"==typeof a?i[j.call(a)]||"object":typeof a},globalEval:function(a){var b,c=eval;a=n.trim(a),a&&(1===a.indexOf("use strict")?(b=d.createElement("script"),b.text=a,d.head.appendChild(b).parentNode.removeChild(b)):c(a))},camelCase:function(a){return a.replace(p,"ms-").replace(q,r)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toLowerCase()===b.toLowerCase()},each:function(a,b){var c,d=0;if(s(a)){for(c=a.length;c>d;d++)if(b.call(a[d],d,a[d])===!1)break}else for(d in a)if(b.call(a[d],d,a[d])===!1)break;return a},trim:function(a){return null==a?"":(a+"").replace(o,"")},makeArray:function(a,b){var c=b||[];return null!=a&&(s(Object(a))?n.merge(c,"string"==typeof a?[a]:a):g.call(c,a)),c},inArray:function(a,b,c){return null==b?-1:h.call(b,a,c)},merge:function(a,b){for(var c=+b.length,d=0,e=a.length;c>d;d++)a[e++]=b[d];return a.length=e,a},grep:function(a,b,c){for(var d,e=[],f=0,g=a.length,h=!c;g>f;f++)d=!b(a[f],f),d!==h&&e.push(a[f]);return e},map:function(a,b,c){var d,e,g=0,h=[];if(s(a))for(d=a.length;d>g;g++)e=b(a[g],g,c),null!=e&&h.push(e);else for(g in a)e=b(a[g],g,c),null!=e&&h.push(e);return f.apply([],h)},guid:1,proxy:function(a,b){var c,d,f;return"string"==typeof b&&(c=a[b],b=a,a=c),n.isFunction(a)?(d=e.call(arguments,2),f=function(){return a.apply(b||this,d.concat(e.call(arguments)))},f.guid=a.guid=a.guid||n.guid++,f):void 0},now:Date.now,support:l}),"function"==typeof Symbol&&(n.fn[Symbol.iterator]=c[Symbol.iterator]),n.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(a,b){i["[object "+b+"]"]=b.toLowerCase()});function s(a){var b=!!a&&"length"in a&&a.length,c=n.type(a);return"function"===c||n.isWindow(a)?!1:"array"===c||0===b||"number"==typeof b&&b>0&&b-1 in a}var t=function(a){var b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u="sizzle"+1*new Date,v=a.document,w=0,x=0,y=ga(),z=ga(),A=ga(),B=function(a,b){return a===b&&(l=!0),0},C=1<<31,D={}.hasOwnProperty,E=[],F=E.pop,G=E.push,H=E.push,I=E.slice,J=function(a,b){for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",L="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",N="\\["+L+"*("+M+")(?:"+L+"*([*^$|!~]?=)"+L+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+L+"*\\]",O=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+N+")*)|.*)\\)|)",P=new RegExp(L+"+","g"),Q=new RegExp("^"+L+"+|((?:^|[^\\\\])(?:\\\\.)*)"+L+"+$","g"),R=new RegExp("^"+L+"*,"+L+"*"),S=new RegExp("^"+L+"*([>+~]|"+L+")"+L+"*"),T=new RegExp("="+L+"*([^\\]'\"]*?)"+L+"*\\]","g"),U=new RegExp(O),V=new RegExp("^"+M+"$"),W={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+N),PSEUDO:new RegExp("^"+O),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+L+"*(even|odd|(([+-]|)(\\d*)n|)"+L+"*(?:([+-]|)"+L+"*(\\d+)|))"+L+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+L+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+L+"*((?:-\\d)?\\d*)"+L+"*\\)|)(?=[^-]|$)","i")},X=/^(?:input|select|textarea|button)$/i,Y=/^h\d$/i,Z=/^[^{]+\{\s*\[native \w/,$=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,_=/[+~]/,aa=/'|\\/g,ba=new RegExp("\\\\([\\da-f]{1,6}"+L+"?|("+L+")|.)","ig"),ca=function(a,b,c){var d="0x"+b-65536;return d!==d||c?b:0>d?String.fromCharCode(d+65536):String.fromCharCode(d>>10|55296,1023&d|56320)},da=function(){m()};try{H.apply(E=I.call(v.childNodes),v.childNodes),E[v.childNodes.length].nodeType}catch(ea){H={apply:E.length?function(a,b){G.apply(a,I.call(b))}:function(a,b){var c=a.length,d=0;while(a[c++]=b[d++]);a.length=c-1}}}function fa(a,b,d,e){var f,h,j,k,l,o,r,s,w=b&&b.ownerDocument,x=b?b.nodeType:9;if(d=d||[],"string"!=typeof a||!a||1!==x&&9!==x&&11!==x)return d;if(!e&&((b?b.ownerDocument||b:v)!==n&&m(b),b=b||n,p)){if(11!==x&&(o=$.exec(a)))if(f=o[1]){if(9===x){if(!(j=b.getElementById(f)))return d;if(j.id===f)return d.push(j),d}else if(w&&(j=w.getElementById(f))&&t(b,j)&&j.id===f)return d.push(j),d}else{if(o[2])return H.apply(d,b.getElementsByTagName(a)),d;if((f=o[3])&&c.getElementsByClassName&&b.getElementsByClassName)return H.apply(d,b.getElementsByClassName(f)),d}if(c.qsa&&!A[a+" "]&&(!q||!q.test(a))){if(1!==x)w=b,s=a;else if("object"!==b.nodeName.toLowerCase()){(k=b.getAttribute("id"))?k=k.replace(aa,"\\$&"):b.setAttribute("id",k=u),r=g(a),h=r.length,l=V.test(k)?"#"+k:"[id='"+k+"']";while(h--)r[h]=l+" "+qa(r[h]);s=r.join(","),w=_.test(a)&&oa(b.parentNode)||b}if(s)try{return H.apply(d,w.querySelectorAll(s)),d}catch(y){}finally{k===u&&b.removeAttribute("id")}}}return i(a.replace(Q,"$1"),b,d,e)}function ga(){var a=[];function b(c,e){return a.push(c+" ")>d.cacheLength&&delete b[a.shift()],b[c+" "]=e}return b}function ha(a){return a[u]=!0,a}function ia(a){var b=n.createElement("div");try{return!!a(b)}catch(c){return!1}finally{b.parentNode&&b.parentNode.removeChild(b),b=null}}function ja(a,b){var c=a.split("|"),e=c.length;while(e--)d.attrHandle[c[e]]=b}function ka(a,b){var c=b&&a,d=c&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||C)-(~a.sourceIndex||C);if(d)return d;if(c)while(c=c.nextSibling)if(c===b)return-1;return a?1:-1}function la(a){return function(b){var c=b.nodeName.toLowerCase();return"input"===c&&b.type===a}}function ma(a){return function(b){var c=b.nodeName.toLowerCase();return("input"===c||"button"===c)&&b.type===a}}function na(a){return ha(function(b){return b=+b,ha(function(c,d){var e,f=a([],c.length,b),g=f.length;while(g--)c[e=f[g]]&&(c[e]=!(d[e]=c[e]))})})}function oa(a){return a&&"undefined"!=typeof a.getElementsByTagName&&a}c=fa.support={},f=fa.isXML=function(a){var b=a&&(a.ownerDocument||a).documentElement;return b?"HTML"!==b.nodeName:!1},m=fa.setDocument=function(a){var b,e,g=a?a.ownerDocument||a:v;return g!==n&&9===g.nodeType&&g.documentElement?(n=g,o=n.documentElement,p=!f(n),(e=n.defaultView)&&e.top!==e&&(e.addEventListener?e.addEventListener("unload",da,!1):e.attachEvent&&e.attachEvent("onunload",da)),c.attributes=ia(function(a){return a.className="i",!a.getAttribute("className")}),c.getElementsByTagName=ia(function(a){return a.appendChild(n.createComment("")),!a.getElementsByTagName("*").length}),c.getElementsByClassName=Z.test(n.getElementsByClassName),c.getById=ia(function(a){return o.appendChild(a).id=u,!n.getElementsByName||!n.getElementsByName(u).length}),c.getById?(d.find.ID=function(a,b){if("undefined"!=typeof b.getElementById&&p){var c=b.getElementById(a);return c?[c]:[]}},d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){return a.getAttribute("id")===b}}):(delete d.find.ID,d.filter.ID=function(a){var b=a.replace(ba,ca);return function(a){var c="undefined"!=typeof a.getAttributeNode&&a.getAttributeNode("id");return c&&c.value===b}}),d.find.TAG=c.getElementsByTagName?function(a,b){return"undefined"!=typeof b.getElementsByTagName?b.getElementsByTagName(a):c.qsa?b.querySelectorAll(a):void 0}:function(a,b){var c,d=[],e=0,f=b.getElementsByTagName(a);if("*"===a){while(c=f[e++])1===c.nodeType&&d.push(c);return d}return f},d.find.CLASS=c.getElementsByClassName&&function(a,b){return"undefined"!=typeof b.getElementsByClassName&&p?b.getElementsByClassName(a):void 0},r=[],q=[],(c.qsa=Z.test(n.querySelectorAll))&&(ia(function(a){o.appendChild(a).innerHTML="<a id='"+u+"'></a><select id='"+u+"-\r\\' msallowcapture=''><option selected=''></option></select>",a.querySelectorAll("[msallowcapture^='']").length&&q.push("[*^$]="+L+"*(?:''|\"\")"),a.querySelectorAll("[selected]").length||q.push("\\["+L+"*(?:value|"+K+")"),a.querySelectorAll("[id~="+u+"-]").length||q.push("~="),a.querySelectorAll(":checked").length||q.push(":checked"),a.querySelectorAll("a#"+u+"+*").length||q.push(".#.+[+~]")}),ia(function(a){var b=n.createElement("input");b.setAttribute("type","hidden"),a.appendChild(b).setAttribute("name","D"),a.querySelectorAll("[name=d]").length&&q.push("name"+L+"*[*^$|!~]?="),a.querySelectorAll(":enabled").length||q.push(":enabled",":disabled"),a.querySelectorAll("*,:x"),q.push(",.*:")})),(c.matchesSelector=Z.test(s=o.matches||o.webkitMatchesSelector||o.mozMatchesSelector||o.oMatchesSelector||o.msMatchesSelector))&&ia(function(a){c.disconnectedMatch=s.call(a,"div"),s.call(a,"[s!='']:x"),r.push("!=",O)}),q=q.length&&new RegExp(q.join("|")),r=r.length&&new RegExp(r.join("|")),b=Z.test(o.compareDocumentPosition),t=b||Z.test(o.contains)?function(a,b){var c=9===a.nodeType?a.documentElement:a,d=b&&b.parentNode;return a===d||!(!d||1!==d.nodeType||!(c.contains?c.contains(d):a.compareDocumentPosition&&16&a.compareDocumentPosition(d)))}:function(a,b){if(b)while(b=b.parentNode)if(b===a)return!0;return!1},B=b?function(a,b){if(a===b)return l=!0,0;var d=!a.compareDocumentPosition-!b.compareDocumentPosition;return d?d:(d=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&d||!c.sortDetached&&b.compareDocumentPosition(a)===d?a===n||a.ownerDocument===v&&t(v,a)?-1:b===n||b.ownerDocument===v&&t(v,b)?1:k?J(k,a)-J(k,b):0:4&d?-1:1)}:function(a,b){if(a===b)return l=!0,0;var c,d=0,e=a.parentNode,f=b.parentNode,g=[a],h=[b];if(!e||!f)return a===n?-1:b===n?1:e?-1:f?1:k?J(k,a)-J(k,b):0;if(e===f)return ka(a,b);c=a;while(c=c.parentNode)g.unshift(c);c=b;while(c=c.parentNode)h.unshift(c);while(g[d]===h[d])d++;return d?ka(g[d],h[d]):g[d]===v?-1:h[d]===v?1:0},n):n},fa.matches=function(a,b){return fa(a,null,null,b)},fa.matchesSelector=function(a,b){if((a.ownerDocument||a)!==n&&m(a),b=b.replace(T,"='$1']"),c.matchesSelector&&p&&!A[b+" "]&&(!r||!r.test(b))&&(!q||!q.test(b)))try{var d=s.call(a,b);if(d||c.disconnectedMatch||a.document&&11!==a.document.nodeType)return d}catch(e){}return fa(b,n,null,[a]).length>0},fa.contains=function(a,b){return(a.ownerDocument||a)!==n&&m(a),t(a,b)},fa.attr=function(a,b){(a.ownerDocument||a)!==n&&m(a);var e=d.attrHandle[b.toLowerCase()],f=e&&D.call(d.attrHandle,b.toLowerCase())?e(a,b,!p):void 0;return void 0!==f?f:c.attributes||!p?a.getAttribute(b):(f=a.getAttributeNode(b))&&f.specified?f.value:null},fa.error=function(a){throw new Error("Syntax error, unrecognized expression: "+a)},fa.uniqueSort=function(a){var b,d=[],e=0,f=0;if(l=!c.detectDuplicates,k=!c.sortStable&&a.slice(0),a.sort(B),l){while(b=a[f++])b===a[f]&&(e=d.push(f));while(e--)a.splice(d[e],1)}return k=null,a},e=fa.getText=function(a){var b,c="",d=0,f=a.nodeType;if(f){if(1===f||9===f||11===f){if("string"==typeof a.textContent)return a.textContent;for(a=a.firstChild;a;a=a.nextSibling)c+=e(a)}else if(3===f||4===f)return a.nodeValue}else while(b=a[d++])c+=e(b);return c},d=fa.selectors={cacheLength:50,createPseudo:ha,match:W,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(a){return a[1]=a[1].replace(ba,ca),a[3]=(a[3]||a[4]||a[5]||"").replace(ba,ca),"~="===a[2]&&(a[3]=" "+a[3]+" "),a.slice(0,4)},CHILD:function(a){return a[1]=a[1].toLowerCase(),"nth"===a[1].slice(0,3)?(a[3]||fa.error(a[0]),a[4]=+(a[4]?a[5]+(a[6]||1):2*("even"===a[3]||"odd"===a[3])),a[5]=+(a[7]+a[8]||"odd"===a[3])):a[3]&&fa.error(a[0]),a},PSEUDO:function(a){var b,c=!a[6]&&a[2];return W.CHILD.test(a[0])?null:(a[3]?a[2]=a[4]||a[5]||"":c&&U.test(c)&&(b=g(c,!0))&&(b=c.indexOf(")",c.length-b)-c.length)&&(a[0]=a[0].slice(0,b),a[2]=c.slice(0,b)),a.slice(0,3))}},filter:{TAG:function(a){var b=a.replace(ba,ca).toLowerCase();return"*"===a?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===b}},CLASS:function(a){var b=y[a+" "];return b||(b=new RegExp("(^|"+L+")"+a+"("+L+"|$)"))&&y(a,function(a){return b.test("string"==typeof a.className&&a.className||"undefined"!=typeof a.getAttribute&&a.getAttribute("class")||"")})},ATTR:function(a,b,c){return function(d){var e=fa.attr(d,a);return null==e?"!="===b:b?(e+="","="===b?e===c:"!="===b?e!==c:"^="===b?c&&0===e.indexOf(c):"*="===b?c&&e.indexOf(c)>-1:"$="===b?c&&e.slice(-c.length)===c:"~="===b?(" "+e.replace(P," ")+" ").indexOf(c)>-1:"|="===b?e===c||e.slice(0,c.length+1)===c+"-":!1):!0}},CHILD:function(a,b,c,d,e){var f="nth"!==a.slice(0,3),g="last"!==a.slice(-4),h="of-type"===b;return 1===d&&0===e?function(a){return!!a.parentNode}:function(b,c,i){var j,k,l,m,n,o,p=f!==g?"nextSibling":"previousSibling",q=b.parentNode,r=h&&b.nodeName.toLowerCase(),s=!i&&!h,t=!1;if(q){if(f){while(p){m=b;while(m=m[p])if(h?m.nodeName.toLowerCase()===r:1===m.nodeType)return!1;o=p="only"===a&&!o&&"nextSibling"}return!0}if(o=[g?q.firstChild:q.lastChild],g&&s){m=q,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n&&j[2],m=n&&q.childNodes[n];while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if(1===m.nodeType&&++t&&m===b){k[a]=[w,n,t];break}}else if(s&&(m=b,l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),j=k[a]||[],n=j[0]===w&&j[1],t=n),t===!1)while(m=++n&&m&&m[p]||(t=n=0)||o.pop())if((h?m.nodeName.toLowerCase()===r:1===m.nodeType)&&++t&&(s&&(l=m[u]||(m[u]={}),k=l[m.uniqueID]||(l[m.uniqueID]={}),k[a]=[w,t]),m===b))break;return t-=e,t===d||t%d===0&&t/d>=0}}},PSEUDO:function(a,b){var c,e=d.pseudos[a]||d.setFilters[a.toLowerCase()]||fa.error("unsupported pseudo: "+a);return e[u]?e(b):e.length>1?(c=[a,a,"",b],d.setFilters.hasOwnProperty(a.toLowerCase())?ha(function(a,c){var d,f=e(a,b),g=f.length;while(g--)d=J(a,f[g]),a[d]=!(c[d]=f[g])}):function(a){return e(a,0,c)}):e}},pseudos:{not:ha(function(a){var b=[],c=[],d=h(a.replace(Q,"$1"));return d[u]?ha(function(a,b,c,e){var f,g=d(a,null,e,[]),h=a.length;while(h--)(f=g[h])&&(a[h]=!(b[h]=f))}):function(a,e,f){return b[0]=a,d(b,null,f,c),b[0]=null,!c.pop()}}),has:ha(function(a){return function(b){return fa(a,b).length>0}}),contains:ha(function(a){return a=a.replace(ba,ca),function(b){return(b.textContent||b.innerText||e(b)).indexOf(a)>-1}}),lang:ha(function(a){return V.test(a||"")||fa.error("unsupported lang: "+a),a=a.replace(ba,ca).toLowerCase(),function(b){var c;do if(c=p?b.lang:b.getAttribute("xml:lang")||b.getAttribute("lang"))return c=c.toLowerCase(),c===a||0===c.indexOf(a+"-");while((b=b.parentNode)&&1===b.nodeType);return!1}}),target:function(b){var c=a.location&&a.location.hash;return c&&c.slice(1)===b.id},root:function(a){return a===o},focus:function(a){return a===n.activeElement&&(!n.hasFocus||n.hasFocus())&&!!(a.type||a.href||~a.tabIndex)},enabled:function(a){return a.disabled===!1},disabled:function(a){return a.disabled===!0},checked:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&!!a.checked||"option"===b&&!!a.selected},selected:function(a){return a.parentNode&&a.parentNode.selectedIndex,a.selected===!0},empty:function(a){for(a=a.firstChild;a;a=a.nextSibling)if(a.nodeType<6)return!1;return!0},parent:function(a){return!d.pseudos.empty(a)},header:function(a){return Y.test(a.nodeName)},input:function(a){return X.test(a.nodeName)},button:function(a){var b=a.nodeName.toLowerCase();return"input"===b&&"button"===a.type||"button"===b},text:function(a){var b;return"input"===a.nodeName.toLowerCase()&&"text"===a.type&&(null==(b=a.getAttribute("type"))||"text"===b.toLowerCase())},first:na(function(){return[0]}),last:na(function(a,b){return[b-1]}),eq:na(function(a,b,c){return[0>c?c+b:c]}),even:na(function(a,b){for(var c=0;b>c;c+=2)a.push(c);return a}),odd:na(function(a,b){for(var c=1;b>c;c+=2)a.push(c);return a}),lt:na(function(a,b,c){for(var d=0>c?c+b:c;--d>=0;)a.push(d);return a}),gt:na(function(a,b,c){for(var d=0>c?c+b:c;++d<b;)a.push(d);return a})}},d.pseudos.nth=d.pseudos.eq;for(b in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})d.pseudos[b]=la(b);for(b in{submit:!0,reset:!0})d.pseudos[b]=ma(b);function pa(){}pa.prototype=d.filters=d.pseudos,d.setFilters=new pa,g=fa.tokenize=function(a,b){var c,e,f,g,h,i,j,k=z[a+" "];if(k)return b?0:k.slice(0);h=a,i=[],j=d.preFilter;while(h){c&&!(e=R.exec(h))||(e&&(h=h.slice(e[0].length)||h),i.push(f=[])),c=!1,(e=S.exec(h))&&(c=e.shift(),f.push({value:c,type:e[0].replace(Q," ")}),h=h.slice(c.length));for(g in d.filter)!(e=W[g].exec(h))||j[g]&&!(e=j[g](e))||(c=e.shift(),f.push({value:c,type:g,matches:e}),h=h.slice(c.length));if(!c)break}return b?h.length:h?fa.error(a):z(a,i).slice(0)};function qa(a){for(var b=0,c=a.length,d="";c>b;b++)d+=a[b].value;return d}function ra(a,b,c){var d=b.dir,e=c&&"parentNode"===d,f=x++;return b.first?function(b,c,f){while(b=b[d])if(1===b.nodeType||e)return a(b,c,f)}:function(b,c,g){var h,i,j,k=[w,f];if(g){while(b=b[d])if((1===b.nodeType||e)&&a(b,c,g))return!0}else while(b=b[d])if(1===b.nodeType||e){if(j=b[u]||(b[u]={}),i=j[b.uniqueID]||(j[b.uniqueID]={}),(h=i[d])&&h[0]===w&&h[1]===f)return k[2]=h[2];if(i[d]=k,k[2]=a(b,c,g))return!0}}}function sa(a){return a.length>1?function(b,c,d){var e=a.length;while(e--)if(!a[e](b,c,d))return!1;return!0}:a[0]}function ta(a,b,c){for(var d=0,e=b.length;e>d;d++)fa(a,b[d],c);return c}function ua(a,b,c,d,e){for(var f,g=[],h=0,i=a.length,j=null!=b;i>h;h++)(f=a[h])&&(c&&!c(f,d,e)||(g.push(f),j&&b.push(h)));return g}function va(a,b,c,d,e,f){return d&&!d[u]&&(d=va(d)),e&&!e[u]&&(e=va(e,f)),ha(function(f,g,h,i){var j,k,l,m=[],n=[],o=g.length,p=f||ta(b||"*",h.nodeType?[h]:h,[]),q=!a||!f&&b?p:ua(p,m,a,h,i),r=c?e||(f?a:o||d)?[]:g:q;if(c&&c(q,r,h,i),d){j=ua(r,n),d(j,[],h,i),k=j.length;while(k--)(l=j[k])&&(r[n[k]]=!(q[n[k]]=l))}if(f){if(e||a){if(e){j=[],k=r.length;while(k--)(l=r[k])&&j.push(q[k]=l);e(null,r=[],j,i)}k=r.length;while(k--)(l=r[k])&&(j=e?J(f,l):m[k])>-1&&(f[j]=!(g[j]=l))}}else r=ua(r===g?r.splice(o,r.length):r),e?e(null,g,r,i):H.apply(g,r)})}function wa(a){for(var b,c,e,f=a.length,g=d.relative[a[0].type],h=g||d.relative[" "],i=g?1:0,k=ra(function(a){return a===b},h,!0),l=ra(function(a){return J(b,a)>-1},h,!0),m=[function(a,c,d){var e=!g&&(d||c!==j)||((b=c).nodeType?k(a,c,d):l(a,c,d));return b=null,e}];f>i;i++)if(c=d.relative[a[i].type])m=[ra(sa(m),c)];else{if(c=d.filter[a[i].type].apply(null,a[i].matches),c[u]){for(e=++i;f>e;e++)if(d.relative[a[e].type])break;return va(i>1&&sa(m),i>1&&qa(a.slice(0,i-1).concat({value:" "===a[i-2].type?"*":""})).replace(Q,"$1"),c,e>i&&wa(a.slice(i,e)),f>e&&wa(a=a.slice(e)),f>e&&qa(a))}m.push(c)}return sa(m)}function xa(a,b){var c=b.length>0,e=a.length>0,f=function(f,g,h,i,k){var l,o,q,r=0,s="0",t=f&&[],u=[],v=j,x=f||e&&d.find.TAG("*",k),y=w+=null==v?1:Math.random()||.1,z=x.length;for(k&&(j=g===n||g||k);s!==z&&null!=(l=x[s]);s++){if(e&&l){o=0,g||l.ownerDocument===n||(m(l),h=!p);while(q=a[o++])if(q(l,g||n,h)){i.push(l);break}k&&(w=y)}c&&((l=!q&&l)&&r--,f&&t.push(l))}if(r+=s,c&&s!==r){o=0;while(q=b[o++])q(t,u,g,h);if(f){if(r>0)while(s--)t[s]||u[s]||(u[s]=F.call(i));u=ua(u)}H.apply(i,u),k&&!f&&u.length>0&&r+b.length>1&&fa.uniqueSort(i)}return k&&(w=y,j=v),t};return c?ha(f):f}return h=fa.compile=function(a,b){var c,d=[],e=[],f=A[a+" "];if(!f){b||(b=g(a)),c=b.length;while(c--)f=wa(b[c]),f[u]?d.push(f):e.push(f);f=A(a,xa(e,d)),f.selector=a}return f},i=fa.select=function(a,b,e,f){var i,j,k,l,m,n="function"==typeof a&&a,o=!f&&g(a=n.selector||a);if(e=e||[],1===o.length){if(j=o[0]=o[0].slice(0),j.length>2&&"ID"===(k=j[0]).type&&c.getById&&9===b.nodeType&&p&&d.relative[j[1].type]){if(b=(d.find.ID(k.matches[0].replace(ba,ca),b)||[])[0],!b)return e;n&&(b=b.parentNode),a=a.slice(j.shift().value.length)}i=W.needsContext.test(a)?0:j.length;while(i--){if(k=j[i],d.relative[l=k.type])break;if((m=d.find[l])&&(f=m(k.matches[0].replace(ba,ca),_.test(j[0].type)&&oa(b.parentNode)||b))){if(j.splice(i,1),a=f.length&&qa(j),!a)return H.apply(e,f),e;break}}}return(n||h(a,o))(f,b,!p,e,!b||_.test(a)&&oa(b.parentNode)||b),e},c.sortStable=u.split("").sort(B).join("")===u,c.detectDuplicates=!!l,m(),c.sortDetached=ia(function(a){return 1&a.compareDocumentPosition(n.createElement("div"))}),ia(function(a){return a.innerHTML="<a href='#'></a>","#"===a.firstChild.getAttribute("href")})||ja("type|href|height|width",function(a,b,c){return c?void 0:a.getAttribute(b,"type"===b.toLowerCase()?1:2)}),c.attributes&&ia(function(a){return a.innerHTML="<input/>",a.firstChild.setAttribute("value",""),""===a.firstChild.getAttribute("value")})||ja("value",function(a,b,c){return c||"input"!==a.nodeName.toLowerCase()?void 0:a.defaultValue}),ia(function(a){return null==a.getAttribute("disabled")})||ja(K,function(a,b,c){var d;return c?void 0:a[b]===!0?b.toLowerCase():(d=a.getAttributeNode(b))&&d.specified?d.value:null}),fa}(a);n.find=t,n.expr=t.selectors,n.expr[":"]=n.expr.pseudos,n.uniqueSort=n.unique=t.uniqueSort,n.text=t.getText,n.isXMLDoc=t.isXML,n.contains=t.contains;var u=function(a,b,c){var d=[],e=void 0!==c;while((a=a[b])&&9!==a.nodeType)if(1===a.nodeType){if(e&&n(a).is(c))break;d.push(a)}return d},v=function(a,b){for(var c=[];a;a=a.nextSibling)1===a.nodeType&&a!==b&&c.push(a);return c},w=n.expr.match.needsContext,x=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,y=/^.[^:#\[\.,]*$/;function z(a,b,c){if(n.isFunction(b))return n.grep(a,function(a,d){return!!b.call(a,d,a)!==c});if(b.nodeType)return n.grep(a,function(a){return a===b!==c});if("string"==typeof b){if(y.test(b))return n.filter(b,a,c);b=n.filter(b,a)}return n.grep(a,function(a){return h.call(b,a)>-1!==c})}n.filter=function(a,b,c){var d=b[0];return c&&(a=":not("+a+")"),1===b.length&&1===d.nodeType?n.find.matchesSelector(d,a)?[d]:[]:n.find.matches(a,n.grep(b,function(a){return 1===a.nodeType}))},n.fn.extend({find:function(a){var b,c=this.length,d=[],e=this;if("string"!=typeof a)return this.pushStack(n(a).filter(function(){for(b=0;c>b;b++)if(n.contains(e[b],this))return!0}));for(b=0;c>b;b++)n.find(a,e[b],d);return d=this.pushStack(c>1?n.unique(d):d),d.selector=this.selector?this.selector+" "+a:a,d},filter:function(a){return this.pushStack(z(this,a||[],!1))},not:function(a){return this.pushStack(z(this,a||[],!0))},is:function(a){return!!z(this,"string"==typeof a&&w.test(a)?n(a):a||[],!1).length}});var A,B=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,C=n.fn.init=function(a,b,c){var e,f;if(!a)return this;if(c=c||A,"string"==typeof a){if(e="<"===a[0]&&">"===a[a.length-1]&&a.length>=3?[null,a,null]:B.exec(a),!e||!e[1]&&b)return!b||b.jquery?(b||c).find(a):this.constructor(b).find(a);if(e[1]){if(b=b instanceof n?b[0]:b,n.merge(this,n.parseHTML(e[1],b&&b.nodeType?b.ownerDocument||b:d,!0)),x.test(e[1])&&n.isPlainObject(b))for(e in b)n.isFunction(this[e])?this[e](b[e]):this.attr(e,b[e]);return this}return f=d.getElementById(e[2]),f&&f.parentNode&&(this.length=1,this[0]=f),this.context=d,this.selector=a,this}return a.nodeType?(this.context=this[0]=a,this.length=1,this):n.isFunction(a)?void 0!==c.ready?c.ready(a):a(n):(void 0!==a.selector&&(this.selector=a.selector,this.context=a.context),n.makeArray(a,this))};C.prototype=n.fn,A=n(d);var D=/^(?:parents|prev(?:Until|All))/,E={children:!0,contents:!0,next:!0,prev:!0};n.fn.extend({has:function(a){var b=n(a,this),c=b.length;return this.filter(function(){for(var a=0;c>a;a++)if(n.contains(this,b[a]))return!0})},closest:function(a,b){for(var c,d=0,e=this.length,f=[],g=w.test(a)||"string"!=typeof a?n(a,b||this.context):0;e>d;d++)for(c=this[d];c&&c!==b;c=c.parentNode)if(c.nodeType<11&&(g?g.index(c)>-1:1===c.nodeType&&n.find.matchesSelector(c,a))){f.push(c);break}return this.pushStack(f.length>1?n.uniqueSort(f):f)},index:function(a){return a?"string"==typeof a?h.call(n(a),this[0]):h.call(this,a.jquery?a[0]:a):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(a,b){return this.pushStack(n.uniqueSort(n.merge(this.get(),n(a,b))))},addBack:function(a){return this.add(null==a?this.prevObject:this.prevObject.filter(a))}});function F(a,b){while((a=a[b])&&1!==a.nodeType);return a}n.each({parent:function(a){var b=a.parentNode;return b&&11!==b.nodeType?b:null},parents:function(a){return u(a,"parentNode")},parentsUntil:function(a,b,c){return u(a,"parentNode",c)},next:function(a){return F(a,"nextSibling")},prev:function(a){return F(a,"previousSibling")},nextAll:function(a){return u(a,"nextSibling")},prevAll:function(a){return u(a,"previousSibling")},nextUntil:function(a,b,c){return u(a,"nextSibling",c)},prevUntil:function(a,b,c){return u(a,"previousSibling",c)},siblings:function(a){return v((a.parentNode||{}).firstChild,a)},children:function(a){return v(a.firstChild)},contents:function(a){return a.contentDocument||n.merge([],a.childNodes)}},function(a,b){n.fn[a]=function(c,d){var e=n.map(this,b,c);return"Until"!==a.slice(-5)&&(d=c),d&&"string"==typeof d&&(e=n.filter(d,e)),this.length>1&&(E[a]||n.uniqueSort(e),D.test(a)&&e.reverse()),this.pushStack(e)}});var G=/\S+/g;function H(a){var b={};return n.each(a.match(G)||[],function(a,c){b[c]=!0}),b}n.Callbacks=function(a){a="string"==typeof a?H(a):n.extend({},a);var b,c,d,e,f=[],g=[],h=-1,i=function(){for(e=a.once,d=b=!0;g.length;h=-1){c=g.shift();while(++h<f.length)f[h].apply(c[0],c[1])===!1&&a.stopOnFalse&&(h=f.length,c=!1)}a.memory||(c=!1),b=!1,e&&(f=c?[]:"")},j={add:function(){return f&&(c&&!b&&(h=f.length-1,g.push(c)),function d(b){n.each(b,function(b,c){n.isFunction(c)?a.unique&&j.has(c)||f.push(c):c&&c.length&&"string"!==n.type(c)&&d(c)})}(arguments),c&&!b&&i()),this},remove:function(){return n.each(arguments,function(a,b){var c;while((c=n.inArray(b,f,c))>-1)f.splice(c,1),h>=c&&h--}),this},has:function(a){return a?n.inArray(a,f)>-1:f.length>0},empty:function(){return f&&(f=[]),this},disable:function(){return e=g=[],f=c="",this},disabled:function(){return!f},lock:function(){return e=g=[],c||(f=c=""),this},locked:function(){return!!e},fireWith:function(a,c){return e||(c=c||[],c=[a,c.slice?c.slice():c],g.push(c),b||i()),this},fire:function(){return j.fireWith(this,arguments),this},fired:function(){return!!d}};return j},n.extend({Deferred:function(a){var b=[["resolve","done",n.Callbacks("once memory"),"resolved"],["reject","fail",n.Callbacks("once memory"),"rejected"],["notify","progress",n.Callbacks("memory")]],c="pending",d={state:function(){return c},always:function(){return e.done(arguments).fail(arguments),this},then:function(){var a=arguments;return n.Deferred(function(c){n.each(b,function(b,f){var g=n.isFunction(a[b])&&a[b];e[f[1]](function(){var a=g&&g.apply(this,arguments);a&&n.isFunction(a.promise)?a.promise().progress(c.notify).done(c.resolve).fail(c.reject):c[f[0]+"With"](this===d?c.promise():this,g?[a]:arguments)})}),a=null}).promise()},promise:function(a){return null!=a?n.extend(a,d):d}},e={};return d.pipe=d.then,n.each(b,function(a,f){var g=f[2],h=f[3];d[f[1]]=g.add,h&&g.add(function(){c=h},b[1^a][2].disable,b[2][2].lock),e[f[0]]=function(){return e[f[0]+"With"](this===e?d:this,arguments),this},e[f[0]+"With"]=g.fireWith}),d.promise(e),a&&a.call(e,e),e},when:function(a){var b=0,c=e.call(arguments),d=c.length,f=1!==d||a&&n.isFunction(a.promise)?d:0,g=1===f?a:n.Deferred(),h=function(a,b,c){return function(d){b[a]=this,c[a]=arguments.length>1?e.call(arguments):d,c===i?g.notifyWith(b,c):--f||g.resolveWith(b,c)}},i,j,k;if(d>1)for(i=new Array(d),j=new Array(d),k=new Array(d);d>b;b++)c[b]&&n.isFunction(c[b].promise)?c[b].promise().progress(h(b,j,i)).done(h(b,k,c)).fail(g.reject):--f;return f||g.resolveWith(k,c),g.promise()}});var I;n.fn.ready=function(a){return n.ready.promise().done(a),this},n.extend({isReady:!1,readyWait:1,holdReady:function(a){a?n.readyWait++:n.ready(!0)},ready:function(a){(a===!0?--n.readyWait:n.isReady)||(n.isReady=!0,a!==!0&&--n.readyWait>0||(I.resolveWith(d,[n]),n.fn.triggerHandler&&(n(d).triggerHandler("ready"),n(d).off("ready"))))}});function J(){d.removeEventListener("DOMContentLoaded",J),a.removeEventListener("load",J),n.ready()}n.ready.promise=function(b){return I||(I=n.Deferred(),"complete"===d.readyState||"loading"!==d.readyState&&!d.documentElement.doScroll?a.setTimeout(n.ready):(d.addEventListener("DOMContentLoaded",J),a.addEventListener("load",J))),I.promise(b)},n.ready.promise();var K=function(a,b,c,d,e,f,g){var h=0,i=a.length,j=null==c;if("object"===n.type(c)){e=!0;for(h in c)K(a,b,h,c[h],!0,f,g)}else if(void 0!==d&&(e=!0,n.isFunction(d)||(g=!0),j&&(g?(b.call(a,d),b=null):(j=b,b=function(a,b,c){return j.call(n(a),c)})),b))for(;i>h;h++)b(a[h],c,g?d:d.call(a[h],h,b(a[h],c)));return e?a:j?b.call(a):i?b(a[0],c):f},L=function(a){return 1===a.nodeType||9===a.nodeType||!+a.nodeType};function M(){this.expando=n.expando+M.uid++}M.uid=1,M.prototype={register:function(a,b){var c=b||{};return a.nodeType?a[this.expando]=c:Object.defineProperty(a,this.expando,{value:c,writable:!0,configurable:!0}),a[this.expando]},cache:function(a){if(!L(a))return{};var b=a[this.expando];return b||(b={},L(a)&&(a.nodeType?a[this.expando]=b:Object.defineProperty(a,this.expando,{value:b,configurable:!0}))),b},set:function(a,b,c){var d,e=this.cache(a);if("string"==typeof b)e[b]=c;else for(d in b)e[d]=b[d];return e},get:function(a,b){return void 0===b?this.cache(a):a[this.expando]&&a[this.expando][b]},access:function(a,b,c){var d;return void 0===b||b&&"string"==typeof b&&void 0===c?(d=this.get(a,b),void 0!==d?d:this.get(a,n.camelCase(b))):(this.set(a,b,c),void 0!==c?c:b)},remove:function(a,b){var c,d,e,f=a[this.expando];if(void 0!==f){if(void 0===b)this.register(a);else{n.isArray(b)?d=b.concat(b.map(n.camelCase)):(e=n.camelCase(b),b in f?d=[b,e]:(d=e,d=d in f?[d]:d.match(G)||[])),c=d.length;while(c--)delete f[d[c]]}(void 0===b||n.isEmptyObject(f))&&(a.nodeType?a[this.expando]=void 0:delete a[this.expando])}},hasData:function(a){var b=a[this.expando];return void 0!==b&&!n.isEmptyObject(b)}};var N=new M,O=new M,P=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,Q=/[A-Z]/g;function R(a,b,c){var d;if(void 0===c&&1===a.nodeType)if(d="data-"+b.replace(Q,"-$&").toLowerCase(),c=a.getAttribute(d),"string"==typeof c){try{c="true"===c?!0:"false"===c?!1:"null"===c?null:+c+""===c?+c:P.test(c)?n.parseJSON(c):c;
}catch(e){}O.set(a,b,c)}else c=void 0;return c}n.extend({hasData:function(a){return O.hasData(a)||N.hasData(a)},data:function(a,b,c){return O.access(a,b,c)},removeData:function(a,b){O.remove(a,b)},_data:function(a,b,c){return N.access(a,b,c)},_removeData:function(a,b){N.remove(a,b)}}),n.fn.extend({data:function(a,b){var c,d,e,f=this[0],g=f&&f.attributes;if(void 0===a){if(this.length&&(e=O.get(f),1===f.nodeType&&!N.get(f,"hasDataAttrs"))){c=g.length;while(c--)g[c]&&(d=g[c].name,0===d.indexOf("data-")&&(d=n.camelCase(d.slice(5)),R(f,d,e[d])));N.set(f,"hasDataAttrs",!0)}return e}return"object"==typeof a?this.each(function(){O.set(this,a)}):K(this,function(b){var c,d;if(f&&void 0===b){if(c=O.get(f,a)||O.get(f,a.replace(Q,"-$&").toLowerCase()),void 0!==c)return c;if(d=n.camelCase(a),c=O.get(f,d),void 0!==c)return c;if(c=R(f,d,void 0),void 0!==c)return c}else d=n.camelCase(a),this.each(function(){var c=O.get(this,d);O.set(this,d,b),a.indexOf("-")>-1&&void 0!==c&&O.set(this,a,b)})},null,b,arguments.length>1,null,!0)},removeData:function(a){return this.each(function(){O.remove(this,a)})}}),n.extend({queue:function(a,b,c){var d;return a?(b=(b||"fx")+"queue",d=N.get(a,b),c&&(!d||n.isArray(c)?d=N.access(a,b,n.makeArray(c)):d.push(c)),d||[]):void 0},dequeue:function(a,b){b=b||"fx";var c=n.queue(a,b),d=c.length,e=c.shift(),f=n._queueHooks(a,b),g=function(){n.dequeue(a,b)};"inprogress"===e&&(e=c.shift(),d--),e&&("fx"===b&&c.unshift("inprogress"),delete f.stop,e.call(a,g,f)),!d&&f&&f.empty.fire()},_queueHooks:function(a,b){var c=b+"queueHooks";return N.get(a,c)||N.access(a,c,{empty:n.Callbacks("once memory").add(function(){N.remove(a,[b+"queue",c])})})}}),n.fn.extend({queue:function(a,b){var c=2;return"string"!=typeof a&&(b=a,a="fx",c--),arguments.length<c?n.queue(this[0],a):void 0===b?this:this.each(function(){var c=n.queue(this,a,b);n._queueHooks(this,a),"fx"===a&&"inprogress"!==c[0]&&n.dequeue(this,a)})},dequeue:function(a){return this.each(function(){n.dequeue(this,a)})},clearQueue:function(a){return this.queue(a||"fx",[])},promise:function(a,b){var c,d=1,e=n.Deferred(),f=this,g=this.length,h=function(){--d||e.resolveWith(f,[f])};"string"!=typeof a&&(b=a,a=void 0),a=a||"fx";while(g--)c=N.get(f[g],a+"queueHooks"),c&&c.empty&&(d++,c.empty.add(h));return h(),e.promise(b)}});var S=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,T=new RegExp("^(?:([+-])=|)("+S+")([a-z%]*)$","i"),U=["Top","Right","Bottom","Left"],V=function(a,b){return a=b||a,"none"===n.css(a,"display")||!n.contains(a.ownerDocument,a)};function W(a,b,c,d){var e,f=1,g=20,h=d?function(){return d.cur()}:function(){return n.css(a,b,"")},i=h(),j=c&&c[3]||(n.cssNumber[b]?"":"px"),k=(n.cssNumber[b]||"px"!==j&&+i)&&T.exec(n.css(a,b));if(k&&k[3]!==j){j=j||k[3],c=c||[],k=+i||1;do f=f||".5",k/=f,n.style(a,b,k+j);while(f!==(f=h()/i)&&1!==f&&--g)}return c&&(k=+k||+i||0,e=c[1]?k+(c[1]+1)*c[2]:+c[2],d&&(d.unit=j,d.start=k,d.end=e)),e}var X=/^(?:checkbox|radio)$/i,Y=/<([\w:-]+)/,Z=/^$|\/(?:java|ecma)script/i,$={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};$.optgroup=$.option,$.tbody=$.tfoot=$.colgroup=$.caption=$.thead,$.th=$.td;function _(a,b){var c="undefined"!=typeof a.getElementsByTagName?a.getElementsByTagName(b||"*"):"undefined"!=typeof a.querySelectorAll?a.querySelectorAll(b||"*"):[];return void 0===b||b&&n.nodeName(a,b)?n.merge([a],c):c}function aa(a,b){for(var c=0,d=a.length;d>c;c++)N.set(a[c],"globalEval",!b||N.get(b[c],"globalEval"))}var ba=/<|&#?\w+;/;function ca(a,b,c,d,e){for(var f,g,h,i,j,k,l=b.createDocumentFragment(),m=[],o=0,p=a.length;p>o;o++)if(f=a[o],f||0===f)if("object"===n.type(f))n.merge(m,f.nodeType?[f]:f);else if(ba.test(f)){g=g||l.appendChild(b.createElement("div")),h=(Y.exec(f)||["",""])[1].toLowerCase(),i=$[h]||$._default,g.innerHTML=i[1]+n.htmlPrefilter(f)+i[2],k=i[0];while(k--)g=g.lastChild;n.merge(m,g.childNodes),g=l.firstChild,g.textContent=""}else m.push(b.createTextNode(f));l.textContent="",o=0;while(f=m[o++])if(d&&n.inArray(f,d)>-1)e&&e.push(f);else if(j=n.contains(f.ownerDocument,f),g=_(l.appendChild(f),"script"),j&&aa(g),c){k=0;while(f=g[k++])Z.test(f.type||"")&&c.push(f)}return l}!function(){var a=d.createDocumentFragment(),b=a.appendChild(d.createElement("div")),c=d.createElement("input");c.setAttribute("type","radio"),c.setAttribute("checked","checked"),c.setAttribute("name","t"),b.appendChild(c),l.checkClone=b.cloneNode(!0).cloneNode(!0).lastChild.checked,b.innerHTML="<textarea>x</textarea>",l.noCloneChecked=!!b.cloneNode(!0).lastChild.defaultValue}();var da=/^key/,ea=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,fa=/^([^.]*)(?:\.(.+)|)/;function ga(){return!0}function ha(){return!1}function ia(){try{return d.activeElement}catch(a){}}function ja(a,b,c,d,e,f){var g,h;if("object"==typeof b){"string"!=typeof c&&(d=d||c,c=void 0);for(h in b)ja(a,h,c,d,b[h],f);return a}if(null==d&&null==e?(e=c,d=c=void 0):null==e&&("string"==typeof c?(e=d,d=void 0):(e=d,d=c,c=void 0)),e===!1)e=ha;else if(!e)return a;return 1===f&&(g=e,e=function(a){return n().off(a),g.apply(this,arguments)},e.guid=g.guid||(g.guid=n.guid++)),a.each(function(){n.event.add(this,b,e,d,c)})}n.event={global:{},add:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.get(a);if(r){c.handler&&(f=c,c=f.handler,e=f.selector),c.guid||(c.guid=n.guid++),(i=r.events)||(i=r.events={}),(g=r.handle)||(g=r.handle=function(b){return"undefined"!=typeof n&&n.event.triggered!==b.type?n.event.dispatch.apply(a,arguments):void 0}),b=(b||"").match(G)||[""],j=b.length;while(j--)h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o&&(l=n.event.special[o]||{},o=(e?l.delegateType:l.bindType)||o,l=n.event.special[o]||{},k=n.extend({type:o,origType:q,data:d,handler:c,guid:c.guid,selector:e,needsContext:e&&n.expr.match.needsContext.test(e),namespace:p.join(".")},f),(m=i[o])||(m=i[o]=[],m.delegateCount=0,l.setup&&l.setup.call(a,d,p,g)!==!1||a.addEventListener&&a.addEventListener(o,g)),l.add&&(l.add.call(a,k),k.handler.guid||(k.handler.guid=c.guid)),e?m.splice(m.delegateCount++,0,k):m.push(k),n.event.global[o]=!0)}},remove:function(a,b,c,d,e){var f,g,h,i,j,k,l,m,o,p,q,r=N.hasData(a)&&N.get(a);if(r&&(i=r.events)){b=(b||"").match(G)||[""],j=b.length;while(j--)if(h=fa.exec(b[j])||[],o=q=h[1],p=(h[2]||"").split(".").sort(),o){l=n.event.special[o]||{},o=(d?l.delegateType:l.bindType)||o,m=i[o]||[],h=h[2]&&new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"),g=f=m.length;while(f--)k=m[f],!e&&q!==k.origType||c&&c.guid!==k.guid||h&&!h.test(k.namespace)||d&&d!==k.selector&&("**"!==d||!k.selector)||(m.splice(f,1),k.selector&&m.delegateCount--,l.remove&&l.remove.call(a,k));g&&!m.length&&(l.teardown&&l.teardown.call(a,p,r.handle)!==!1||n.removeEvent(a,o,r.handle),delete i[o])}else for(o in i)n.event.remove(a,o+b[j],c,d,!0);n.isEmptyObject(i)&&N.remove(a,"handle events")}},dispatch:function(a){a=n.event.fix(a);var b,c,d,f,g,h=[],i=e.call(arguments),j=(N.get(this,"events")||{})[a.type]||[],k=n.event.special[a.type]||{};if(i[0]=a,a.delegateTarget=this,!k.preDispatch||k.preDispatch.call(this,a)!==!1){h=n.event.handlers.call(this,a,j),b=0;while((f=h[b++])&&!a.isPropagationStopped()){a.currentTarget=f.elem,c=0;while((g=f.handlers[c++])&&!a.isImmediatePropagationStopped())a.rnamespace&&!a.rnamespace.test(g.namespace)||(a.handleObj=g,a.data=g.data,d=((n.event.special[g.origType]||{}).handle||g.handler).apply(f.elem,i),void 0!==d&&(a.result=d)===!1&&(a.preventDefault(),a.stopPropagation()))}return k.postDispatch&&k.postDispatch.call(this,a),a.result}},handlers:function(a,b){var c,d,e,f,g=[],h=b.delegateCount,i=a.target;if(h&&i.nodeType&&("click"!==a.type||isNaN(a.button)||a.button<1))for(;i!==this;i=i.parentNode||this)if(1===i.nodeType&&(i.disabled!==!0||"click"!==a.type)){for(d=[],c=0;h>c;c++)f=b[c],e=f.selector+" ",void 0===d[e]&&(d[e]=f.needsContext?n(e,this).index(i)>-1:n.find(e,this,null,[i]).length),d[e]&&d.push(f);d.length&&g.push({elem:i,handlers:d})}return h<b.length&&g.push({elem:this,handlers:b.slice(h)}),g},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(a,b){return null==a.which&&(a.which=null!=b.charCode?b.charCode:b.keyCode),a}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(a,b){var c,e,f,g=b.button;return null==a.pageX&&null!=b.clientX&&(c=a.target.ownerDocument||d,e=c.documentElement,f=c.body,a.pageX=b.clientX+(e&&e.scrollLeft||f&&f.scrollLeft||0)-(e&&e.clientLeft||f&&f.clientLeft||0),a.pageY=b.clientY+(e&&e.scrollTop||f&&f.scrollTop||0)-(e&&e.clientTop||f&&f.clientTop||0)),a.which||void 0===g||(a.which=1&g?1:2&g?3:4&g?2:0),a}},fix:function(a){if(a[n.expando])return a;var b,c,e,f=a.type,g=a,h=this.fixHooks[f];h||(this.fixHooks[f]=h=ea.test(f)?this.mouseHooks:da.test(f)?this.keyHooks:{}),e=h.props?this.props.concat(h.props):this.props,a=new n.Event(g),b=e.length;while(b--)c=e[b],a[c]=g[c];return a.target||(a.target=d),3===a.target.nodeType&&(a.target=a.target.parentNode),h.filter?h.filter(a,g):a},special:{load:{noBubble:!0},focus:{trigger:function(){return this!==ia()&&this.focus?(this.focus(),!1):void 0},delegateType:"focusin"},blur:{trigger:function(){return this===ia()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return"checkbox"===this.type&&this.click&&n.nodeName(this,"input")?(this.click(),!1):void 0},_default:function(a){return n.nodeName(a.target,"a")}},beforeunload:{postDispatch:function(a){void 0!==a.result&&a.originalEvent&&(a.originalEvent.returnValue=a.result)}}}},n.removeEvent=function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c)},n.Event=function(a,b){return this instanceof n.Event?(a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||void 0===a.defaultPrevented&&a.returnValue===!1?ga:ha):this.type=a,b&&n.extend(this,b),this.timeStamp=a&&a.timeStamp||n.now(),void(this[n.expando]=!0)):new n.Event(a,b)},n.Event.prototype={constructor:n.Event,isDefaultPrevented:ha,isPropagationStopped:ha,isImmediatePropagationStopped:ha,isSimulated:!1,preventDefault:function(){var a=this.originalEvent;this.isDefaultPrevented=ga,a&&!this.isSimulated&&a.preventDefault()},stopPropagation:function(){var a=this.originalEvent;this.isPropagationStopped=ga,a&&!this.isSimulated&&a.stopPropagation()},stopImmediatePropagation:function(){var a=this.originalEvent;this.isImmediatePropagationStopped=ga,a&&!this.isSimulated&&a.stopImmediatePropagation(),this.stopPropagation()}},n.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(a,b){n.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c,d=this,e=a.relatedTarget,f=a.handleObj;return e&&(e===d||n.contains(d,e))||(a.type=f.origType,c=f.handler.apply(this,arguments),a.type=b),c}}}),n.fn.extend({on:function(a,b,c,d){return ja(this,a,b,c,d)},one:function(a,b,c,d){return ja(this,a,b,c,d,1)},off:function(a,b,c){var d,e;if(a&&a.preventDefault&&a.handleObj)return d=a.handleObj,n(a.delegateTarget).off(d.namespace?d.origType+"."+d.namespace:d.origType,d.selector,d.handler),this;if("object"==typeof a){for(e in a)this.off(e,b,a[e]);return this}return b!==!1&&"function"!=typeof b||(c=b,b=void 0),c===!1&&(c=ha),this.each(function(){n.event.remove(this,a,c,b)})}});var ka=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,la=/<script|<style|<link/i,ma=/checked\s*(?:[^=]|=\s*.checked.)/i,na=/^true\/(.*)/,oa=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function pa(a,b){return n.nodeName(a,"table")&&n.nodeName(11!==b.nodeType?b:b.firstChild,"tr")?a.getElementsByTagName("tbody")[0]||a.appendChild(a.ownerDocument.createElement("tbody")):a}function qa(a){return a.type=(null!==a.getAttribute("type"))+"/"+a.type,a}function ra(a){var b=na.exec(a.type);return b?a.type=b[1]:a.removeAttribute("type"),a}function sa(a,b){var c,d,e,f,g,h,i,j;if(1===b.nodeType){if(N.hasData(a)&&(f=N.access(a),g=N.set(b,f),j=f.events)){delete g.handle,g.events={};for(e in j)for(c=0,d=j[e].length;d>c;c++)n.event.add(b,e,j[e][c])}O.hasData(a)&&(h=O.access(a),i=n.extend({},h),O.set(b,i))}}function ta(a,b){var c=b.nodeName.toLowerCase();"input"===c&&X.test(a.type)?b.checked=a.checked:"input"!==c&&"textarea"!==c||(b.defaultValue=a.defaultValue)}function ua(a,b,c,d){b=f.apply([],b);var e,g,h,i,j,k,m=0,o=a.length,p=o-1,q=b[0],r=n.isFunction(q);if(r||o>1&&"string"==typeof q&&!l.checkClone&&ma.test(q))return a.each(function(e){var f=a.eq(e);r&&(b[0]=q.call(this,e,f.html())),ua(f,b,c,d)});if(o&&(e=ca(b,a[0].ownerDocument,!1,a,d),g=e.firstChild,1===e.childNodes.length&&(e=g),g||d)){for(h=n.map(_(e,"script"),qa),i=h.length;o>m;m++)j=e,m!==p&&(j=n.clone(j,!0,!0),i&&n.merge(h,_(j,"script"))),c.call(a[m],j,m);if(i)for(k=h[h.length-1].ownerDocument,n.map(h,ra),m=0;i>m;m++)j=h[m],Z.test(j.type||"")&&!N.access(j,"globalEval")&&n.contains(k,j)&&(j.src?n._evalUrl&&n._evalUrl(j.src):n.globalEval(j.textContent.replace(oa,"")))}return a}function va(a,b,c){for(var d,e=b?n.filter(b,a):a,f=0;null!=(d=e[f]);f++)c||1!==d.nodeType||n.cleanData(_(d)),d.parentNode&&(c&&n.contains(d.ownerDocument,d)&&aa(_(d,"script")),d.parentNode.removeChild(d));return a}n.extend({htmlPrefilter:function(a){return a.replace(ka,"<$1></$2>")},clone:function(a,b,c){var d,e,f,g,h=a.cloneNode(!0),i=n.contains(a.ownerDocument,a);if(!(l.noCloneChecked||1!==a.nodeType&&11!==a.nodeType||n.isXMLDoc(a)))for(g=_(h),f=_(a),d=0,e=f.length;e>d;d++)ta(f[d],g[d]);if(b)if(c)for(f=f||_(a),g=g||_(h),d=0,e=f.length;e>d;d++)sa(f[d],g[d]);else sa(a,h);return g=_(h,"script"),g.length>0&&aa(g,!i&&_(a,"script")),h},cleanData:function(a){for(var b,c,d,e=n.event.special,f=0;void 0!==(c=a[f]);f++)if(L(c)){if(b=c[N.expando]){if(b.events)for(d in b.events)e[d]?n.event.remove(c,d):n.removeEvent(c,d,b.handle);c[N.expando]=void 0}c[O.expando]&&(c[O.expando]=void 0)}}}),n.fn.extend({domManip:ua,detach:function(a){return va(this,a,!0)},remove:function(a){return va(this,a)},text:function(a){return K(this,function(a){return void 0===a?n.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=a)})},null,a,arguments.length)},append:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.appendChild(a)}})},prepend:function(){return ua(this,arguments,function(a){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var b=pa(this,a);b.insertBefore(a,b.firstChild)}})},before:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this)})},after:function(){return ua(this,arguments,function(a){this.parentNode&&this.parentNode.insertBefore(a,this.nextSibling)})},empty:function(){for(var a,b=0;null!=(a=this[b]);b++)1===a.nodeType&&(n.cleanData(_(a,!1)),a.textContent="");return this},clone:function(a,b){return a=null==a?!1:a,b=null==b?a:b,this.map(function(){return n.clone(this,a,b)})},html:function(a){return K(this,function(a){var b=this[0]||{},c=0,d=this.length;if(void 0===a&&1===b.nodeType)return b.innerHTML;if("string"==typeof a&&!la.test(a)&&!$[(Y.exec(a)||["",""])[1].toLowerCase()]){a=n.htmlPrefilter(a);try{for(;d>c;c++)b=this[c]||{},1===b.nodeType&&(n.cleanData(_(b,!1)),b.innerHTML=a);b=0}catch(e){}}b&&this.empty().append(a)},null,a,arguments.length)},replaceWith:function(){var a=[];return ua(this,arguments,function(b){var c=this.parentNode;n.inArray(this,a)<0&&(n.cleanData(_(this)),c&&c.replaceChild(b,this))},a)}}),n.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(a,b){n.fn[a]=function(a){for(var c,d=[],e=n(a),f=e.length-1,h=0;f>=h;h++)c=h===f?this:this.clone(!0),n(e[h])[b](c),g.apply(d,c.get());return this.pushStack(d)}});var wa,xa={HTML:"block",BODY:"block"};function ya(a,b){var c=n(b.createElement(a)).appendTo(b.body),d=n.css(c[0],"display");return c.detach(),d}function za(a){var b=d,c=xa[a];return c||(c=ya(a,b),"none"!==c&&c||(wa=(wa||n("<iframe frameborder='0' width='0' height='0'/>")).appendTo(b.documentElement),b=wa[0].contentDocument,b.write(),b.close(),c=ya(a,b),wa.detach()),xa[a]=c),c}var Aa=/^margin/,Ba=new RegExp("^("+S+")(?!px)[a-z%]+$","i"),Ca=function(b){var c=b.ownerDocument.defaultView;return c&&c.opener||(c=a),c.getComputedStyle(b)},Da=function(a,b,c,d){var e,f,g={};for(f in b)g[f]=a.style[f],a.style[f]=b[f];e=c.apply(a,d||[]);for(f in b)a.style[f]=g[f];return e},Ea=d.documentElement;!function(){var b,c,e,f,g=d.createElement("div"),h=d.createElement("div");if(h.style){h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",l.clearCloneStyle="content-box"===h.style.backgroundClip,g.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",g.appendChild(h);function i(){h.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",h.innerHTML="",Ea.appendChild(g);var d=a.getComputedStyle(h);b="1%"!==d.top,f="2px"===d.marginLeft,c="4px"===d.width,h.style.marginRight="50%",e="4px"===d.marginRight,Ea.removeChild(g)}n.extend(l,{pixelPosition:function(){return i(),b},boxSizingReliable:function(){return null==c&&i(),c},pixelMarginRight:function(){return null==c&&i(),e},reliableMarginLeft:function(){return null==c&&i(),f},reliableMarginRight:function(){var b,c=h.appendChild(d.createElement("div"));return c.style.cssText=h.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",c.style.marginRight=c.style.width="0",h.style.width="1px",Ea.appendChild(g),b=!parseFloat(a.getComputedStyle(c).marginRight),Ea.removeChild(g),h.removeChild(c),b}})}}();function Fa(a,b,c){var d,e,f,g,h=a.style;return c=c||Ca(a),g=c?c.getPropertyValue(b)||c[b]:void 0,""!==g&&void 0!==g||n.contains(a.ownerDocument,a)||(g=n.style(a,b)),c&&!l.pixelMarginRight()&&Ba.test(g)&&Aa.test(b)&&(d=h.width,e=h.minWidth,f=h.maxWidth,h.minWidth=h.maxWidth=h.width=g,g=c.width,h.width=d,h.minWidth=e,h.maxWidth=f),void 0!==g?g+"":g}function Ga(a,b){return{get:function(){return a()?void delete this.get:(this.get=b).apply(this,arguments)}}}var Ha=/^(none|table(?!-c[ea]).+)/,Ia={position:"absolute",visibility:"hidden",display:"block"},Ja={letterSpacing:"0",fontWeight:"400"},Ka=["Webkit","O","Moz","ms"],La=d.createElement("div").style;function Ma(a){if(a in La)return a;var b=a[0].toUpperCase()+a.slice(1),c=Ka.length;while(c--)if(a=Ka[c]+b,a in La)return a}function Na(a,b,c){var d=T.exec(b);return d?Math.max(0,d[2]-(c||0))+(d[3]||"px"):b}function Oa(a,b,c,d,e){for(var f=c===(d?"border":"content")?4:"width"===b?1:0,g=0;4>f;f+=2)"margin"===c&&(g+=n.css(a,c+U[f],!0,e)),d?("content"===c&&(g-=n.css(a,"padding"+U[f],!0,e)),"margin"!==c&&(g-=n.css(a,"border"+U[f]+"Width",!0,e))):(g+=n.css(a,"padding"+U[f],!0,e),"padding"!==c&&(g+=n.css(a,"border"+U[f]+"Width",!0,e)));return g}function Pa(a,b,c){var d=!0,e="width"===b?a.offsetWidth:a.offsetHeight,f=Ca(a),g="border-box"===n.css(a,"boxSizing",!1,f);if(0>=e||null==e){if(e=Fa(a,b,f),(0>e||null==e)&&(e=a.style[b]),Ba.test(e))return e;d=g&&(l.boxSizingReliable()||e===a.style[b]),e=parseFloat(e)||0}return e+Oa(a,b,c||(g?"border":"content"),d,f)+"px"}function Qa(a,b){for(var c,d,e,f=[],g=0,h=a.length;h>g;g++)d=a[g],d.style&&(f[g]=N.get(d,"olddisplay"),c=d.style.display,b?(f[g]||"none"!==c||(d.style.display=""),""===d.style.display&&V(d)&&(f[g]=N.access(d,"olddisplay",za(d.nodeName)))):(e=V(d),"none"===c&&e||N.set(d,"olddisplay",e?c:n.css(d,"display"))));for(g=0;h>g;g++)d=a[g],d.style&&(b&&"none"!==d.style.display&&""!==d.style.display||(d.style.display=b?f[g]||"":"none"));return a}n.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=Fa(a,"opacity");return""===c?"1":c}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":"cssFloat"},style:function(a,b,c,d){if(a&&3!==a.nodeType&&8!==a.nodeType&&a.style){var e,f,g,h=n.camelCase(b),i=a.style;return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],void 0===c?g&&"get"in g&&void 0!==(e=g.get(a,!1,d))?e:i[b]:(f=typeof c,"string"===f&&(e=T.exec(c))&&e[1]&&(c=W(a,b,e),f="number"),null!=c&&c===c&&("number"===f&&(c+=e&&e[3]||(n.cssNumber[h]?"":"px")),l.clearCloneStyle||""!==c||0!==b.indexOf("background")||(i[b]="inherit"),g&&"set"in g&&void 0===(c=g.set(a,c,d))||(i[b]=c)),void 0)}},css:function(a,b,c,d){var e,f,g,h=n.camelCase(b);return b=n.cssProps[h]||(n.cssProps[h]=Ma(h)||h),g=n.cssHooks[b]||n.cssHooks[h],g&&"get"in g&&(e=g.get(a,!0,c)),void 0===e&&(e=Fa(a,b,d)),"normal"===e&&b in Ja&&(e=Ja[b]),""===c||c?(f=parseFloat(e),c===!0||isFinite(f)?f||0:e):e}}),n.each(["height","width"],function(a,b){n.cssHooks[b]={get:function(a,c,d){return c?Ha.test(n.css(a,"display"))&&0===a.offsetWidth?Da(a,Ia,function(){return Pa(a,b,d)}):Pa(a,b,d):void 0},set:function(a,c,d){var e,f=d&&Ca(a),g=d&&Oa(a,b,d,"border-box"===n.css(a,"boxSizing",!1,f),f);return g&&(e=T.exec(c))&&"px"!==(e[3]||"px")&&(a.style[b]=c,c=n.css(a,b)),Na(a,c,g)}}}),n.cssHooks.marginLeft=Ga(l.reliableMarginLeft,function(a,b){return b?(parseFloat(Fa(a,"marginLeft"))||a.getBoundingClientRect().left-Da(a,{marginLeft:0},function(){return a.getBoundingClientRect().left}))+"px":void 0}),n.cssHooks.marginRight=Ga(l.reliableMarginRight,function(a,b){return b?Da(a,{display:"inline-block"},Fa,[a,"marginRight"]):void 0}),n.each({margin:"",padding:"",border:"Width"},function(a,b){n.cssHooks[a+b]={expand:function(c){for(var d=0,e={},f="string"==typeof c?c.split(" "):[c];4>d;d++)e[a+U[d]+b]=f[d]||f[d-2]||f[0];return e}},Aa.test(a)||(n.cssHooks[a+b].set=Na)}),n.fn.extend({css:function(a,b){return K(this,function(a,b,c){var d,e,f={},g=0;if(n.isArray(b)){for(d=Ca(a),e=b.length;e>g;g++)f[b[g]]=n.css(a,b[g],!1,d);return f}return void 0!==c?n.style(a,b,c):n.css(a,b)},a,b,arguments.length>1)},show:function(){return Qa(this,!0)},hide:function(){return Qa(this)},toggle:function(a){return"boolean"==typeof a?a?this.show():this.hide():this.each(function(){V(this)?n(this).show():n(this).hide()})}});function Ra(a,b,c,d,e){return new Ra.prototype.init(a,b,c,d,e)}n.Tween=Ra,Ra.prototype={constructor:Ra,init:function(a,b,c,d,e,f){this.elem=a,this.prop=c,this.easing=e||n.easing._default,this.options=b,this.start=this.now=this.cur(),this.end=d,this.unit=f||(n.cssNumber[c]?"":"px")},cur:function(){var a=Ra.propHooks[this.prop];return a&&a.get?a.get(this):Ra.propHooks._default.get(this)},run:function(a){var b,c=Ra.propHooks[this.prop];return this.options.duration?this.pos=b=n.easing[this.easing](a,this.options.duration*a,0,1,this.options.duration):this.pos=b=a,this.now=(this.end-this.start)*b+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),c&&c.set?c.set(this):Ra.propHooks._default.set(this),this}},Ra.prototype.init.prototype=Ra.prototype,Ra.propHooks={_default:{get:function(a){var b;return 1!==a.elem.nodeType||null!=a.elem[a.prop]&&null==a.elem.style[a.prop]?a.elem[a.prop]:(b=n.css(a.elem,a.prop,""),b&&"auto"!==b?b:0)},set:function(a){n.fx.step[a.prop]?n.fx.step[a.prop](a):1!==a.elem.nodeType||null==a.elem.style[n.cssProps[a.prop]]&&!n.cssHooks[a.prop]?a.elem[a.prop]=a.now:n.style(a.elem,a.prop,a.now+a.unit)}}},Ra.propHooks.scrollTop=Ra.propHooks.scrollLeft={set:function(a){a.elem.nodeType&&a.elem.parentNode&&(a.elem[a.prop]=a.now)}},n.easing={linear:function(a){return a},swing:function(a){return.5-Math.cos(a*Math.PI)/2},_default:"swing"},n.fx=Ra.prototype.init,n.fx.step={};var Sa,Ta,Ua=/^(?:toggle|show|hide)$/,Va=/queueHooks$/;function Wa(){return a.setTimeout(function(){Sa=void 0}),Sa=n.now()}function Xa(a,b){var c,d=0,e={height:a};for(b=b?1:0;4>d;d+=2-b)c=U[d],e["margin"+c]=e["padding"+c]=a;return b&&(e.opacity=e.width=a),e}function Ya(a,b,c){for(var d,e=(_a.tweeners[b]||[]).concat(_a.tweeners["*"]),f=0,g=e.length;g>f;f++)if(d=e[f].call(c,b,a))return d}function Za(a,b,c){var d,e,f,g,h,i,j,k,l=this,m={},o=a.style,p=a.nodeType&&V(a),q=N.get(a,"fxshow");c.queue||(h=n._queueHooks(a,"fx"),null==h.unqueued&&(h.unqueued=0,i=h.empty.fire,h.empty.fire=function(){h.unqueued||i()}),h.unqueued++,l.always(function(){l.always(function(){h.unqueued--,n.queue(a,"fx").length||h.empty.fire()})})),1===a.nodeType&&("height"in b||"width"in b)&&(c.overflow=[o.overflow,o.overflowX,o.overflowY],j=n.css(a,"display"),k="none"===j?N.get(a,"olddisplay")||za(a.nodeName):j,"inline"===k&&"none"===n.css(a,"float")&&(o.display="inline-block")),c.overflow&&(o.overflow="hidden",l.always(function(){o.overflow=c.overflow[0],o.overflowX=c.overflow[1],o.overflowY=c.overflow[2]}));for(d in b)if(e=b[d],Ua.exec(e)){if(delete b[d],f=f||"toggle"===e,e===(p?"hide":"show")){if("show"!==e||!q||void 0===q[d])continue;p=!0}m[d]=q&&q[d]||n.style(a,d)}else j=void 0;if(n.isEmptyObject(m))"inline"===("none"===j?za(a.nodeName):j)&&(o.display=j);else{q?"hidden"in q&&(p=q.hidden):q=N.access(a,"fxshow",{}),f&&(q.hidden=!p),p?n(a).show():l.done(function(){n(a).hide()}),l.done(function(){var b;N.remove(a,"fxshow");for(b in m)n.style(a,b,m[b])});for(d in m)g=Ya(p?q[d]:0,d,l),d in q||(q[d]=g.start,p&&(g.end=g.start,g.start="width"===d||"height"===d?1:0))}}function $a(a,b){var c,d,e,f,g;for(c in a)if(d=n.camelCase(c),e=b[d],f=a[c],n.isArray(f)&&(e=f[1],f=a[c]=f[0]),c!==d&&(a[d]=f,delete a[c]),g=n.cssHooks[d],g&&"expand"in g){f=g.expand(f),delete a[d];for(c in f)c in a||(a[c]=f[c],b[c]=e)}else b[d]=e}function _a(a,b,c){var d,e,f=0,g=_a.prefilters.length,h=n.Deferred().always(function(){delete i.elem}),i=function(){if(e)return!1;for(var b=Sa||Wa(),c=Math.max(0,j.startTime+j.duration-b),d=c/j.duration||0,f=1-d,g=0,i=j.tweens.length;i>g;g++)j.tweens[g].run(f);return h.notifyWith(a,[j,f,c]),1>f&&i?c:(h.resolveWith(a,[j]),!1)},j=h.promise({elem:a,props:n.extend({},b),opts:n.extend(!0,{specialEasing:{},easing:n.easing._default},c),originalProperties:b,originalOptions:c,startTime:Sa||Wa(),duration:c.duration,tweens:[],createTween:function(b,c){var d=n.Tween(a,j.opts,b,c,j.opts.specialEasing[b]||j.opts.easing);return j.tweens.push(d),d},stop:function(b){var c=0,d=b?j.tweens.length:0;if(e)return this;for(e=!0;d>c;c++)j.tweens[c].run(1);return b?(h.notifyWith(a,[j,1,0]),h.resolveWith(a,[j,b])):h.rejectWith(a,[j,b]),this}}),k=j.props;for($a(k,j.opts.specialEasing);g>f;f++)if(d=_a.prefilters[f].call(j,a,k,j.opts))return n.isFunction(d.stop)&&(n._queueHooks(j.elem,j.opts.queue).stop=n.proxy(d.stop,d)),d;return n.map(k,Ya,j),n.isFunction(j.opts.start)&&j.opts.start.call(a,j),n.fx.timer(n.extend(i,{elem:a,anim:j,queue:j.opts.queue})),j.progress(j.opts.progress).done(j.opts.done,j.opts.complete).fail(j.opts.fail).always(j.opts.always)}n.Animation=n.extend(_a,{tweeners:{"*":[function(a,b){var c=this.createTween(a,b);return W(c.elem,a,T.exec(b),c),c}]},tweener:function(a,b){n.isFunction(a)?(b=a,a=["*"]):a=a.match(G);for(var c,d=0,e=a.length;e>d;d++)c=a[d],_a.tweeners[c]=_a.tweeners[c]||[],_a.tweeners[c].unshift(b)},prefilters:[Za],prefilter:function(a,b){b?_a.prefilters.unshift(a):_a.prefilters.push(a)}}),n.speed=function(a,b,c){var d=a&&"object"==typeof a?n.extend({},a):{complete:c||!c&&b||n.isFunction(a)&&a,duration:a,easing:c&&b||b&&!n.isFunction(b)&&b};return d.duration=n.fx.off?0:"number"==typeof d.duration?d.duration:d.duration in n.fx.speeds?n.fx.speeds[d.duration]:n.fx.speeds._default,null!=d.queue&&d.queue!==!0||(d.queue="fx"),d.old=d.complete,d.complete=function(){n.isFunction(d.old)&&d.old.call(this),d.queue&&n.dequeue(this,d.queue)},d},n.fn.extend({fadeTo:function(a,b,c,d){return this.filter(V).css("opacity",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){var e=n.isEmptyObject(a),f=n.speed(b,c,d),g=function(){var b=_a(this,n.extend({},a),f);(e||N.get(this,"finish"))&&b.stop(!0)};return g.finish=g,e||f.queue===!1?this.each(g):this.queue(f.queue,g)},stop:function(a,b,c){var d=function(a){var b=a.stop;delete a.stop,b(c)};return"string"!=typeof a&&(c=b,b=a,a=void 0),b&&a!==!1&&this.queue(a||"fx",[]),this.each(function(){var b=!0,e=null!=a&&a+"queueHooks",f=n.timers,g=N.get(this);if(e)g[e]&&g[e].stop&&d(g[e]);else for(e in g)g[e]&&g[e].stop&&Va.test(e)&&d(g[e]);for(e=f.length;e--;)f[e].elem!==this||null!=a&&f[e].queue!==a||(f[e].anim.stop(c),b=!1,f.splice(e,1));!b&&c||n.dequeue(this,a)})},finish:function(a){return a!==!1&&(a=a||"fx"),this.each(function(){var b,c=N.get(this),d=c[a+"queue"],e=c[a+"queueHooks"],f=n.timers,g=d?d.length:0;for(c.finish=!0,n.queue(this,a,[]),e&&e.stop&&e.stop.call(this,!0),b=f.length;b--;)f[b].elem===this&&f[b].queue===a&&(f[b].anim.stop(!0),f.splice(b,1));for(b=0;g>b;b++)d[b]&&d[b].finish&&d[b].finish.call(this);delete c.finish})}}),n.each(["toggle","show","hide"],function(a,b){var c=n.fn[b];n.fn[b]=function(a,d,e){return null==a||"boolean"==typeof a?c.apply(this,arguments):this.animate(Xa(b,!0),a,d,e)}}),n.each({slideDown:Xa("show"),slideUp:Xa("hide"),slideToggle:Xa("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(a,b){n.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),n.timers=[],n.fx.tick=function(){var a,b=0,c=n.timers;for(Sa=n.now();b<c.length;b++)a=c[b],a()||c[b]!==a||c.splice(b--,1);c.length||n.fx.stop(),Sa=void 0},n.fx.timer=function(a){n.timers.push(a),a()?n.fx.start():n.timers.pop()},n.fx.interval=13,n.fx.start=function(){Ta||(Ta=a.setInterval(n.fx.tick,n.fx.interval))},n.fx.stop=function(){a.clearInterval(Ta),Ta=null},n.fx.speeds={slow:600,fast:200,_default:400},n.fn.delay=function(b,c){return b=n.fx?n.fx.speeds[b]||b:b,c=c||"fx",this.queue(c,function(c,d){var e=a.setTimeout(c,b);d.stop=function(){a.clearTimeout(e)}})},function(){var a=d.createElement("input"),b=d.createElement("select"),c=b.appendChild(d.createElement("option"));a.type="checkbox",l.checkOn=""!==a.value,l.optSelected=c.selected,b.disabled=!0,l.optDisabled=!c.disabled,a=d.createElement("input"),a.value="t",a.type="radio",l.radioValue="t"===a.value}();var ab,bb=n.expr.attrHandle;n.fn.extend({attr:function(a,b){return K(this,n.attr,a,b,arguments.length>1)},removeAttr:function(a){return this.each(function(){n.removeAttr(this,a)})}}),n.extend({attr:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return"undefined"==typeof a.getAttribute?n.prop(a,b,c):(1===f&&n.isXMLDoc(a)||(b=b.toLowerCase(),e=n.attrHooks[b]||(n.expr.match.bool.test(b)?ab:void 0)),void 0!==c?null===c?void n.removeAttr(a,b):e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:(a.setAttribute(b,c+""),c):e&&"get"in e&&null!==(d=e.get(a,b))?d:(d=n.find.attr(a,b),null==d?void 0:d))},attrHooks:{type:{set:function(a,b){if(!l.radioValue&&"radio"===b&&n.nodeName(a,"input")){var c=a.value;return a.setAttribute("type",b),c&&(a.value=c),b}}}},removeAttr:function(a,b){var c,d,e=0,f=b&&b.match(G);if(f&&1===a.nodeType)while(c=f[e++])d=n.propFix[c]||c,n.expr.match.bool.test(c)&&(a[d]=!1),a.removeAttribute(c)}}),ab={set:function(a,b,c){return b===!1?n.removeAttr(a,c):a.setAttribute(c,c),c}},n.each(n.expr.match.bool.source.match(/\w+/g),function(a,b){var c=bb[b]||n.find.attr;bb[b]=function(a,b,d){var e,f;return d||(f=bb[b],bb[b]=e,e=null!=c(a,b,d)?b.toLowerCase():null,bb[b]=f),e}});var cb=/^(?:input|select|textarea|button)$/i,db=/^(?:a|area)$/i;n.fn.extend({prop:function(a,b){return K(this,n.prop,a,b,arguments.length>1)},removeProp:function(a){return this.each(function(){delete this[n.propFix[a]||a]})}}),n.extend({prop:function(a,b,c){var d,e,f=a.nodeType;if(3!==f&&8!==f&&2!==f)return 1===f&&n.isXMLDoc(a)||(b=n.propFix[b]||b,e=n.propHooks[b]),
void 0!==c?e&&"set"in e&&void 0!==(d=e.set(a,c,b))?d:a[b]=c:e&&"get"in e&&null!==(d=e.get(a,b))?d:a[b]},propHooks:{tabIndex:{get:function(a){var b=n.find.attr(a,"tabindex");return b?parseInt(b,10):cb.test(a.nodeName)||db.test(a.nodeName)&&a.href?0:-1}}},propFix:{"for":"htmlFor","class":"className"}}),l.optSelected||(n.propHooks.selected={get:function(a){var b=a.parentNode;return b&&b.parentNode&&b.parentNode.selectedIndex,null},set:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex)}}),n.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){n.propFix[this.toLowerCase()]=this});var eb=/[\t\r\n\f]/g;function fb(a){return a.getAttribute&&a.getAttribute("class")||""}n.fn.extend({addClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).addClass(a.call(this,b,fb(this)))});if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])d.indexOf(" "+f+" ")<0&&(d+=f+" ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},removeClass:function(a){var b,c,d,e,f,g,h,i=0;if(n.isFunction(a))return this.each(function(b){n(this).removeClass(a.call(this,b,fb(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof a&&a){b=a.match(G)||[];while(c=this[i++])if(e=fb(c),d=1===c.nodeType&&(" "+e+" ").replace(eb," ")){g=0;while(f=b[g++])while(d.indexOf(" "+f+" ")>-1)d=d.replace(" "+f+" "," ");h=n.trim(d),e!==h&&c.setAttribute("class",h)}}return this},toggleClass:function(a,b){var c=typeof a;return"boolean"==typeof b&&"string"===c?b?this.addClass(a):this.removeClass(a):n.isFunction(a)?this.each(function(c){n(this).toggleClass(a.call(this,c,fb(this),b),b)}):this.each(function(){var b,d,e,f;if("string"===c){d=0,e=n(this),f=a.match(G)||[];while(b=f[d++])e.hasClass(b)?e.removeClass(b):e.addClass(b)}else void 0!==a&&"boolean"!==c||(b=fb(this),b&&N.set(this,"__className__",b),this.setAttribute&&this.setAttribute("class",b||a===!1?"":N.get(this,"__className__")||""))})},hasClass:function(a){var b,c,d=0;b=" "+a+" ";while(c=this[d++])if(1===c.nodeType&&(" "+fb(c)+" ").replace(eb," ").indexOf(b)>-1)return!0;return!1}});var gb=/\r/g,hb=/[\x20\t\r\n\f]+/g;n.fn.extend({val:function(a){var b,c,d,e=this[0];{if(arguments.length)return d=n.isFunction(a),this.each(function(c){var e;1===this.nodeType&&(e=d?a.call(this,c,n(this).val()):a,null==e?e="":"number"==typeof e?e+="":n.isArray(e)&&(e=n.map(e,function(a){return null==a?"":a+""})),b=n.valHooks[this.type]||n.valHooks[this.nodeName.toLowerCase()],b&&"set"in b&&void 0!==b.set(this,e,"value")||(this.value=e))});if(e)return b=n.valHooks[e.type]||n.valHooks[e.nodeName.toLowerCase()],b&&"get"in b&&void 0!==(c=b.get(e,"value"))?c:(c=e.value,"string"==typeof c?c.replace(gb,""):null==c?"":c)}}}),n.extend({valHooks:{option:{get:function(a){var b=n.find.attr(a,"value");return null!=b?b:n.trim(n.text(a)).replace(hb," ")}},select:{get:function(a){for(var b,c,d=a.options,e=a.selectedIndex,f="select-one"===a.type||0>e,g=f?null:[],h=f?e+1:d.length,i=0>e?h:f?e:0;h>i;i++)if(c=d[i],(c.selected||i===e)&&(l.optDisabled?!c.disabled:null===c.getAttribute("disabled"))&&(!c.parentNode.disabled||!n.nodeName(c.parentNode,"optgroup"))){if(b=n(c).val(),f)return b;g.push(b)}return g},set:function(a,b){var c,d,e=a.options,f=n.makeArray(b),g=e.length;while(g--)d=e[g],(d.selected=n.inArray(n.valHooks.option.get(d),f)>-1)&&(c=!0);return c||(a.selectedIndex=-1),f}}}}),n.each(["radio","checkbox"],function(){n.valHooks[this]={set:function(a,b){return n.isArray(b)?a.checked=n.inArray(n(a).val(),b)>-1:void 0}},l.checkOn||(n.valHooks[this].get=function(a){return null===a.getAttribute("value")?"on":a.value})});var ib=/^(?:focusinfocus|focusoutblur)$/;n.extend(n.event,{trigger:function(b,c,e,f){var g,h,i,j,l,m,o,p=[e||d],q=k.call(b,"type")?b.type:b,r=k.call(b,"namespace")?b.namespace.split("."):[];if(h=i=e=e||d,3!==e.nodeType&&8!==e.nodeType&&!ib.test(q+n.event.triggered)&&(q.indexOf(".")>-1&&(r=q.split("."),q=r.shift(),r.sort()),l=q.indexOf(":")<0&&"on"+q,b=b[n.expando]?b:new n.Event(q,"object"==typeof b&&b),b.isTrigger=f?2:3,b.namespace=r.join("."),b.rnamespace=b.namespace?new RegExp("(^|\\.)"+r.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,b.result=void 0,b.target||(b.target=e),c=null==c?[b]:n.makeArray(c,[b]),o=n.event.special[q]||{},f||!o.trigger||o.trigger.apply(e,c)!==!1)){if(!f&&!o.noBubble&&!n.isWindow(e)){for(j=o.delegateType||q,ib.test(j+q)||(h=h.parentNode);h;h=h.parentNode)p.push(h),i=h;i===(e.ownerDocument||d)&&p.push(i.defaultView||i.parentWindow||a)}g=0;while((h=p[g++])&&!b.isPropagationStopped())b.type=g>1?j:o.bindType||q,m=(N.get(h,"events")||{})[b.type]&&N.get(h,"handle"),m&&m.apply(h,c),m=l&&h[l],m&&m.apply&&L(h)&&(b.result=m.apply(h,c),b.result===!1&&b.preventDefault());return b.type=q,f||b.isDefaultPrevented()||o._default&&o._default.apply(p.pop(),c)!==!1||!L(e)||l&&n.isFunction(e[q])&&!n.isWindow(e)&&(i=e[l],i&&(e[l]=null),n.event.triggered=q,e[q](),n.event.triggered=void 0,i&&(e[l]=i)),b.result}},simulate:function(a,b,c){var d=n.extend(new n.Event,c,{type:a,isSimulated:!0});n.event.trigger(d,null,b)}}),n.fn.extend({trigger:function(a,b){return this.each(function(){n.event.trigger(a,b,this)})},triggerHandler:function(a,b){var c=this[0];return c?n.event.trigger(a,b,c,!0):void 0}}),n.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(a,b){n.fn[b]=function(a,c){return arguments.length>0?this.on(b,null,a,c):this.trigger(b)}}),n.fn.extend({hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),l.focusin="onfocusin"in a,l.focusin||n.each({focus:"focusin",blur:"focusout"},function(a,b){var c=function(a){n.event.simulate(b,a.target,n.event.fix(a))};n.event.special[b]={setup:function(){var d=this.ownerDocument||this,e=N.access(d,b);e||d.addEventListener(a,c,!0),N.access(d,b,(e||0)+1)},teardown:function(){var d=this.ownerDocument||this,e=N.access(d,b)-1;e?N.access(d,b,e):(d.removeEventListener(a,c,!0),N.remove(d,b))}}});var jb=a.location,kb=n.now(),lb=/\?/;n.parseJSON=function(a){return JSON.parse(a+"")},n.parseXML=function(b){var c;if(!b||"string"!=typeof b)return null;try{c=(new a.DOMParser).parseFromString(b,"text/xml")}catch(d){c=void 0}return c&&!c.getElementsByTagName("parsererror").length||n.error("Invalid XML: "+b),c};var mb=/#.*$/,nb=/([?&])_=[^&]*/,ob=/^(.*?):[ \t]*([^\r\n]*)$/gm,pb=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,qb=/^(?:GET|HEAD)$/,rb=/^\/\//,sb={},tb={},ub="*/".concat("*"),vb=d.createElement("a");vb.href=jb.href;function wb(a){return function(b,c){"string"!=typeof b&&(c=b,b="*");var d,e=0,f=b.toLowerCase().match(G)||[];if(n.isFunction(c))while(d=f[e++])"+"===d[0]?(d=d.slice(1)||"*",(a[d]=a[d]||[]).unshift(c)):(a[d]=a[d]||[]).push(c)}}function xb(a,b,c,d){var e={},f=a===tb;function g(h){var i;return e[h]=!0,n.each(a[h]||[],function(a,h){var j=h(b,c,d);return"string"!=typeof j||f||e[j]?f?!(i=j):void 0:(b.dataTypes.unshift(j),g(j),!1)}),i}return g(b.dataTypes[0])||!e["*"]&&g("*")}function yb(a,b){var c,d,e=n.ajaxSettings.flatOptions||{};for(c in b)void 0!==b[c]&&((e[c]?a:d||(d={}))[c]=b[c]);return d&&n.extend(!0,a,d),a}function zb(a,b,c){var d,e,f,g,h=a.contents,i=a.dataTypes;while("*"===i[0])i.shift(),void 0===d&&(d=a.mimeType||b.getResponseHeader("Content-Type"));if(d)for(e in h)if(h[e]&&h[e].test(d)){i.unshift(e);break}if(i[0]in c)f=i[0];else{for(e in c){if(!i[0]||a.converters[e+" "+i[0]]){f=e;break}g||(g=e)}f=f||g}return f?(f!==i[0]&&i.unshift(f),c[f]):void 0}function Ab(a,b,c,d){var e,f,g,h,i,j={},k=a.dataTypes.slice();if(k[1])for(g in a.converters)j[g.toLowerCase()]=a.converters[g];f=k.shift();while(f)if(a.responseFields[f]&&(c[a.responseFields[f]]=b),!i&&d&&a.dataFilter&&(b=a.dataFilter(b,a.dataType)),i=f,f=k.shift())if("*"===f)f=i;else if("*"!==i&&i!==f){if(g=j[i+" "+f]||j["* "+f],!g)for(e in j)if(h=e.split(" "),h[1]===f&&(g=j[i+" "+h[0]]||j["* "+h[0]])){g===!0?g=j[e]:j[e]!==!0&&(f=h[0],k.unshift(h[1]));break}if(g!==!0)if(g&&a["throws"])b=g(b);else try{b=g(b)}catch(l){return{state:"parsererror",error:g?l:"No conversion from "+i+" to "+f}}}return{state:"success",data:b}}n.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:jb.href,type:"GET",isLocal:pb.test(jb.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":ub,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":n.parseJSON,"text xml":n.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(a,b){return b?yb(yb(a,n.ajaxSettings),b):yb(n.ajaxSettings,a)},ajaxPrefilter:wb(sb),ajaxTransport:wb(tb),ajax:function(b,c){"object"==typeof b&&(c=b,b=void 0),c=c||{};var e,f,g,h,i,j,k,l,m=n.ajaxSetup({},c),o=m.context||m,p=m.context&&(o.nodeType||o.jquery)?n(o):n.event,q=n.Deferred(),r=n.Callbacks("once memory"),s=m.statusCode||{},t={},u={},v=0,w="canceled",x={readyState:0,getResponseHeader:function(a){var b;if(2===v){if(!h){h={};while(b=ob.exec(g))h[b[1].toLowerCase()]=b[2]}b=h[a.toLowerCase()]}return null==b?null:b},getAllResponseHeaders:function(){return 2===v?g:null},setRequestHeader:function(a,b){var c=a.toLowerCase();return v||(a=u[c]=u[c]||a,t[a]=b),this},overrideMimeType:function(a){return v||(m.mimeType=a),this},statusCode:function(a){var b;if(a)if(2>v)for(b in a)s[b]=[s[b],a[b]];else x.always(a[x.status]);return this},abort:function(a){var b=a||w;return e&&e.abort(b),z(0,b),this}};if(q.promise(x).complete=r.add,x.success=x.done,x.error=x.fail,m.url=((b||m.url||jb.href)+"").replace(mb,"").replace(rb,jb.protocol+"//"),m.type=c.method||c.type||m.method||m.type,m.dataTypes=n.trim(m.dataType||"*").toLowerCase().match(G)||[""],null==m.crossDomain){j=d.createElement("a");try{j.href=m.url,j.href=j.href,m.crossDomain=vb.protocol+"//"+vb.host!=j.protocol+"//"+j.host}catch(y){m.crossDomain=!0}}if(m.data&&m.processData&&"string"!=typeof m.data&&(m.data=n.param(m.data,m.traditional)),xb(sb,m,c,x),2===v)return x;k=n.event&&m.global,k&&0===n.active++&&n.event.trigger("ajaxStart"),m.type=m.type.toUpperCase(),m.hasContent=!qb.test(m.type),f=m.url,m.hasContent||(m.data&&(f=m.url+=(lb.test(f)?"&":"?")+m.data,delete m.data),m.cache===!1&&(m.url=nb.test(f)?f.replace(nb,"$1_="+kb++):f+(lb.test(f)?"&":"?")+"_="+kb++)),m.ifModified&&(n.lastModified[f]&&x.setRequestHeader("If-Modified-Since",n.lastModified[f]),n.etag[f]&&x.setRequestHeader("If-None-Match",n.etag[f])),(m.data&&m.hasContent&&m.contentType!==!1||c.contentType)&&x.setRequestHeader("Content-Type",m.contentType),x.setRequestHeader("Accept",m.dataTypes[0]&&m.accepts[m.dataTypes[0]]?m.accepts[m.dataTypes[0]]+("*"!==m.dataTypes[0]?", "+ub+"; q=0.01":""):m.accepts["*"]);for(l in m.headers)x.setRequestHeader(l,m.headers[l]);if(m.beforeSend&&(m.beforeSend.call(o,x,m)===!1||2===v))return x.abort();w="abort";for(l in{success:1,error:1,complete:1})x[l](m[l]);if(e=xb(tb,m,c,x)){if(x.readyState=1,k&&p.trigger("ajaxSend",[x,m]),2===v)return x;m.async&&m.timeout>0&&(i=a.setTimeout(function(){x.abort("timeout")},m.timeout));try{v=1,e.send(t,z)}catch(y){if(!(2>v))throw y;z(-1,y)}}else z(-1,"No Transport");function z(b,c,d,h){var j,l,t,u,w,y=c;2!==v&&(v=2,i&&a.clearTimeout(i),e=void 0,g=h||"",x.readyState=b>0?4:0,j=b>=200&&300>b||304===b,d&&(u=zb(m,x,d)),u=Ab(m,u,x,j),j?(m.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(n.lastModified[f]=w),w=x.getResponseHeader("etag"),w&&(n.etag[f]=w)),204===b||"HEAD"===m.type?y="nocontent":304===b?y="notmodified":(y=u.state,l=u.data,t=u.error,j=!t)):(t=y,!b&&y||(y="error",0>b&&(b=0))),x.status=b,x.statusText=(c||y)+"",j?q.resolveWith(o,[l,y,x]):q.rejectWith(o,[x,y,t]),x.statusCode(s),s=void 0,k&&p.trigger(j?"ajaxSuccess":"ajaxError",[x,m,j?l:t]),r.fireWith(o,[x,y]),k&&(p.trigger("ajaxComplete",[x,m]),--n.active||n.event.trigger("ajaxStop")))}return x},getJSON:function(a,b,c){return n.get(a,b,c,"json")},getScript:function(a,b){return n.get(a,void 0,b,"script")}}),n.each(["get","post"],function(a,b){n[b]=function(a,c,d,e){return n.isFunction(c)&&(e=e||d,d=c,c=void 0),n.ajax(n.extend({url:a,type:b,dataType:e,data:c,success:d},n.isPlainObject(a)&&a))}}),n._evalUrl=function(a){return n.ajax({url:a,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},n.fn.extend({wrapAll:function(a){var b;return n.isFunction(a)?this.each(function(b){n(this).wrapAll(a.call(this,b))}):(this[0]&&(b=n(a,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstElementChild)a=a.firstElementChild;return a}).append(this)),this)},wrapInner:function(a){return n.isFunction(a)?this.each(function(b){n(this).wrapInner(a.call(this,b))}):this.each(function(){var b=n(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=n.isFunction(a);return this.each(function(c){n(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){n.nodeName(this,"body")||n(this).replaceWith(this.childNodes)}).end()}}),n.expr.filters.hidden=function(a){return!n.expr.filters.visible(a)},n.expr.filters.visible=function(a){return a.offsetWidth>0||a.offsetHeight>0||a.getClientRects().length>0};var Bb=/%20/g,Cb=/\[\]$/,Db=/\r?\n/g,Eb=/^(?:submit|button|image|reset|file)$/i,Fb=/^(?:input|select|textarea|keygen)/i;function Gb(a,b,c,d){var e;if(n.isArray(b))n.each(b,function(b,e){c||Cb.test(a)?d(a,e):Gb(a+"["+("object"==typeof e&&null!=e?b:"")+"]",e,c,d)});else if(c||"object"!==n.type(b))d(a,b);else for(e in b)Gb(a+"["+e+"]",b[e],c,d)}n.param=function(a,b){var c,d=[],e=function(a,b){b=n.isFunction(b)?b():null==b?"":b,d[d.length]=encodeURIComponent(a)+"="+encodeURIComponent(b)};if(void 0===b&&(b=n.ajaxSettings&&n.ajaxSettings.traditional),n.isArray(a)||a.jquery&&!n.isPlainObject(a))n.each(a,function(){e(this.name,this.value)});else for(c in a)Gb(c,a[c],b,e);return d.join("&").replace(Bb,"+")},n.fn.extend({serialize:function(){return n.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var a=n.prop(this,"elements");return a?n.makeArray(a):this}).filter(function(){var a=this.type;return this.name&&!n(this).is(":disabled")&&Fb.test(this.nodeName)&&!Eb.test(a)&&(this.checked||!X.test(a))}).map(function(a,b){var c=n(this).val();return null==c?null:n.isArray(c)?n.map(c,function(a){return{name:b.name,value:a.replace(Db,"\r\n")}}):{name:b.name,value:c.replace(Db,"\r\n")}}).get()}}),n.ajaxSettings.xhr=function(){try{return new a.XMLHttpRequest}catch(b){}};var Hb={0:200,1223:204},Ib=n.ajaxSettings.xhr();l.cors=!!Ib&&"withCredentials"in Ib,l.ajax=Ib=!!Ib,n.ajaxTransport(function(b){var c,d;return l.cors||Ib&&!b.crossDomain?{send:function(e,f){var g,h=b.xhr();if(h.open(b.type,b.url,b.async,b.username,b.password),b.xhrFields)for(g in b.xhrFields)h[g]=b.xhrFields[g];b.mimeType&&h.overrideMimeType&&h.overrideMimeType(b.mimeType),b.crossDomain||e["X-Requested-With"]||(e["X-Requested-With"]="XMLHttpRequest");for(g in e)h.setRequestHeader(g,e[g]);c=function(a){return function(){c&&(c=d=h.onload=h.onerror=h.onabort=h.onreadystatechange=null,"abort"===a?h.abort():"error"===a?"number"!=typeof h.status?f(0,"error"):f(h.status,h.statusText):f(Hb[h.status]||h.status,h.statusText,"text"!==(h.responseType||"text")||"string"!=typeof h.responseText?{binary:h.response}:{text:h.responseText},h.getAllResponseHeaders()))}},h.onload=c(),d=h.onerror=c("error"),void 0!==h.onabort?h.onabort=d:h.onreadystatechange=function(){4===h.readyState&&a.setTimeout(function(){c&&d()})},c=c("abort");try{h.send(b.hasContent&&b.data||null)}catch(i){if(c)throw i}},abort:function(){c&&c()}}:void 0}),n.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(a){return n.globalEval(a),a}}}),n.ajaxPrefilter("script",function(a){void 0===a.cache&&(a.cache=!1),a.crossDomain&&(a.type="GET")}),n.ajaxTransport("script",function(a){if(a.crossDomain){var b,c;return{send:function(e,f){b=n("<script>").prop({charset:a.scriptCharset,src:a.url}).on("load error",c=function(a){b.remove(),c=null,a&&f("error"===a.type?404:200,a.type)}),d.head.appendChild(b[0])},abort:function(){c&&c()}}}});var Jb=[],Kb=/(=)\?(?=&|$)|\?\?/;n.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var a=Jb.pop()||n.expando+"_"+kb++;return this[a]=!0,a}}),n.ajaxPrefilter("json jsonp",function(b,c,d){var e,f,g,h=b.jsonp!==!1&&(Kb.test(b.url)?"url":"string"==typeof b.data&&0===(b.contentType||"").indexOf("application/x-www-form-urlencoded")&&Kb.test(b.data)&&"data");return h||"jsonp"===b.dataTypes[0]?(e=b.jsonpCallback=n.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,h?b[h]=b[h].replace(Kb,"$1"+e):b.jsonp!==!1&&(b.url+=(lb.test(b.url)?"&":"?")+b.jsonp+"="+e),b.converters["script json"]=function(){return g||n.error(e+" was not called"),g[0]},b.dataTypes[0]="json",f=a[e],a[e]=function(){g=arguments},d.always(function(){void 0===f?n(a).removeProp(e):a[e]=f,b[e]&&(b.jsonpCallback=c.jsonpCallback,Jb.push(e)),g&&n.isFunction(f)&&f(g[0]),g=f=void 0}),"script"):void 0}),n.parseHTML=function(a,b,c){if(!a||"string"!=typeof a)return null;"boolean"==typeof b&&(c=b,b=!1),b=b||d;var e=x.exec(a),f=!c&&[];return e?[b.createElement(e[1])]:(e=ca([a],b,f),f&&f.length&&n(f).remove(),n.merge([],e.childNodes))};var Lb=n.fn.load;n.fn.load=function(a,b,c){if("string"!=typeof a&&Lb)return Lb.apply(this,arguments);var d,e,f,g=this,h=a.indexOf(" ");return h>-1&&(d=n.trim(a.slice(h)),a=a.slice(0,h)),n.isFunction(b)?(c=b,b=void 0):b&&"object"==typeof b&&(e="POST"),g.length>0&&n.ajax({url:a,type:e||"GET",dataType:"html",data:b}).done(function(a){f=arguments,g.html(d?n("<div>").append(n.parseHTML(a)).find(d):a)}).always(c&&function(a,b){g.each(function(){c.apply(this,f||[a.responseText,b,a])})}),this},n.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(a,b){n.fn[b]=function(a){return this.on(b,a)}}),n.expr.filters.animated=function(a){return n.grep(n.timers,function(b){return a===b.elem}).length};function Mb(a){return n.isWindow(a)?a:9===a.nodeType&&a.defaultView}n.offset={setOffset:function(a,b,c){var d,e,f,g,h,i,j,k=n.css(a,"position"),l=n(a),m={};"static"===k&&(a.style.position="relative"),h=l.offset(),f=n.css(a,"top"),i=n.css(a,"left"),j=("absolute"===k||"fixed"===k)&&(f+i).indexOf("auto")>-1,j?(d=l.position(),g=d.top,e=d.left):(g=parseFloat(f)||0,e=parseFloat(i)||0),n.isFunction(b)&&(b=b.call(a,c,n.extend({},h))),null!=b.top&&(m.top=b.top-h.top+g),null!=b.left&&(m.left=b.left-h.left+e),"using"in b?b.using.call(a,m):l.css(m)}},n.fn.extend({offset:function(a){if(arguments.length)return void 0===a?this:this.each(function(b){n.offset.setOffset(this,a,b)});var b,c,d=this[0],e={top:0,left:0},f=d&&d.ownerDocument;if(f)return b=f.documentElement,n.contains(b,d)?(e=d.getBoundingClientRect(),c=Mb(f),{top:e.top+c.pageYOffset-b.clientTop,left:e.left+c.pageXOffset-b.clientLeft}):e},position:function(){if(this[0]){var a,b,c=this[0],d={top:0,left:0};return"fixed"===n.css(c,"position")?b=c.getBoundingClientRect():(a=this.offsetParent(),b=this.offset(),n.nodeName(a[0],"html")||(d=a.offset()),d.top+=n.css(a[0],"borderTopWidth",!0),d.left+=n.css(a[0],"borderLeftWidth",!0)),{top:b.top-d.top-n.css(c,"marginTop",!0),left:b.left-d.left-n.css(c,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){var a=this.offsetParent;while(a&&"static"===n.css(a,"position"))a=a.offsetParent;return a||Ea})}}),n.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(a,b){var c="pageYOffset"===b;n.fn[a]=function(d){return K(this,function(a,d,e){var f=Mb(a);return void 0===e?f?f[b]:a[d]:void(f?f.scrollTo(c?f.pageXOffset:e,c?e:f.pageYOffset):a[d]=e)},a,d,arguments.length)}}),n.each(["top","left"],function(a,b){n.cssHooks[b]=Ga(l.pixelPosition,function(a,c){return c?(c=Fa(a,b),Ba.test(c)?n(a).position()[b]+"px":c):void 0})}),n.each({Height:"height",Width:"width"},function(a,b){n.each({padding:"inner"+a,content:b,"":"outer"+a},function(c,d){n.fn[d]=function(d,e){var f=arguments.length&&(c||"boolean"!=typeof d),g=c||(d===!0||e===!0?"margin":"border");return K(this,function(b,c,d){var e;return n.isWindow(b)?b.document.documentElement["client"+a]:9===b.nodeType?(e=b.documentElement,Math.max(b.body["scroll"+a],e["scroll"+a],b.body["offset"+a],e["offset"+a],e["client"+a])):void 0===d?n.css(b,c,g):n.style(b,c,d,g)},b,f?d:void 0,f,null)}})}),n.fn.extend({bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return 1===arguments.length?this.off(a,"**"):this.off(b,a||"**",c)},size:function(){return this.length}}),n.fn.andSelf=n.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return n});var Nb=a.jQuery,Ob=a.$;return n.noConflict=function(b){return a.$===n&&(a.$=Ob),b&&a.jQuery===n&&(a.jQuery=Nb),n},b||(a.jQuery=a.$=n),n});

!function(){"undefined"==typeof Math.sgn&&(Math.sgn=function(a){return 0==a?0:a>0?1:-1});var a={subtract:function(a,b){return{x:a.x-b.x,y:a.y-b.y}},dotProduct:function(a,b){return a.x*b.x+a.y*b.y},square:function(a){return Math.sqrt(a.x*a.x+a.y*a.y)},scale:function(a,b){return{x:a.x*b,y:a.y*b}}},b=64,c=Math.pow(2,-b-1),d=function(b,c){for(var d=[],e=f(b,c),h=c.length-1,i=2*h-1,j=g(e,i,d,0),k=a.subtract(b,c[0]),m=a.square(k),n=0,o=0;j>o;o++){k=a.subtract(b,l(c,h,d[o],null,null));var p=a.square(k);m>p&&(m=p,n=d[o])}return k=a.subtract(b,c[h]),p=a.square(k),m>p&&(m=p,n=1),{location:n,distance:m}},e=function(a,b){var c=d(a,b);return{point:l(b,b.length-1,c.location,null,null),location:c.location}},f=function(b,c){for(var d=c.length-1,e=2*d-1,f=[],g=[],h=[],i=[],k=[[1,.6,.3,.1],[.4,.6,.6,.4],[.1,.3,.6,1]],l=0;d>=l;l++)f[l]=a.subtract(c[l],b);for(var l=0;d-1>=l;l++)g[l]=a.subtract(c[l+1],c[l]),g[l]=a.scale(g[l],3);for(var m=0;d-1>=m;m++)for(var n=0;d>=n;n++)h[m]||(h[m]=[]),h[m][n]=a.dotProduct(g[m],f[n]);for(l=0;e>=l;l++)i[l]||(i[l]=[]),i[l].y=0,i[l].x=parseFloat(l)/e;for(var o=d,p=d-1,q=0;o+p>=q;q++){var r=Math.max(0,q-p),s=Math.min(q,o);for(l=r;s>=l;l++)j=q-l,i[l+j].y+=h[j][l]*k[j][l]}return i},g=function(a,c,d,e){var f,j,m=[],n=[],o=[],p=[];switch(h(a,c)){case 0:return 0;case 1:if(e>=b)return d[0]=(a[0].x+a[c].x)/2,1;if(i(a,c))return d[0]=k(a,c),1}l(a,c,.5,m,n),f=g(m,c,o,e+1),j=g(n,c,p,e+1);for(var q=0;f>q;q++)d[q]=o[q];for(var q=0;j>q;q++)d[q+f]=p[q];return f+j},h=function(a,b){var c,d,e=0;c=d=Math.sgn(a[0].y);for(var f=1;b>=f;f++)c=Math.sgn(a[f].y),c!=d&&e++,d=c;return e},i=function(a,b){var d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;i=a[0].y-a[b].y,j=a[b].x-a[0].x,k=a[0].x*a[b].y-a[b].x*a[0].y;for(var t=max_distance_below=0,u=1;b>u;u++){var v=i*a[u].x+j*a[u].y+k;v>t?t=v:max_distance_below>v&&(max_distance_below=v)}return n=0,o=1,p=0,q=i,r=j,s=k-t,l=n*r-q*o,m=1/l,e=(o*s-r*p)*m,q=i,r=j,s=k-max_distance_below,l=n*r-q*o,m=1/l,f=(o*s-r*p)*m,g=Math.min(e,f),h=Math.max(e,f),d=h-g,c>d?1:0},k=function(a,b){var c=1,d=0,e=a[b].x-a[0].x,f=a[b].y-a[0].y,g=a[0].x-0,h=a[0].y-0,i=e*d-f*c,j=1/i,k=(e*h-f*g)*j;return 0+c*k},l=function(a,b,c,d,e){for(var f=[[]],g=0;b>=g;g++)f[0][g]=a[g];for(var h=1;b>=h;h++)for(var g=0;b-h>=g;g++)f[h]||(f[h]=[]),f[h][g]||(f[h][g]={}),f[h][g].x=(1-c)*f[h-1][g].x+c*f[h-1][g+1].x,f[h][g].y=(1-c)*f[h-1][g].y+c*f[h-1][g+1].y;if(null!=d)for(g=0;b>=g;g++)d[g]=f[g][0];if(null!=e)for(g=0;b>=g;g++)e[g]=f[b-g][g];return f[b][0]},m={},n=function(a){var b=m[a];if(!b){b=[];var c=function(){return function(b){return Math.pow(b,a)}},d=function(){return function(b){return Math.pow(1-b,a)}},e=function(a){return function(){return a}},f=function(){return function(a){return a}},g=function(){return function(a){return 1-a}},h=function(a){return function(b){for(var c=1,d=0;d<a.length;d++)c*=a[d](b);return c}};b.push(new c);for(var i=1;a>i;i++){for(var j=[new e(a)],k=0;a-i>k;k++)j.push(new f);for(var k=0;i>k;k++)j.push(new g);b.push(new h(j))}b.push(new d),m[a]=b}return b},o=function(a,b){for(var c=n(a.length-1),d=0,e=0,f=0;f<a.length;f++)d+=a[f].x*c[f](b),e+=a[f].y*c[f](b);return{x:d,y:e}},p=function(a,b){return Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2))},q=function(a){return a[0].x==a[1].x&&a[0].y==a[1].y},r=function(a,b,c){if(q(a))return{point:a[0],location:b};for(var d=o(a,b),e=0,f=b,g=c>0?1:-1,h=null;e<Math.abs(c);)f+=.005*g,h=o(a,f),e+=p(h,d),d=h;return{point:h,location:f}},s=function(a){if(q(a))return 0;for(var b=o(a,0),c=0,d=0,e=1,f=null;1>d;)d+=.005*e,f=o(a,d),c+=p(f,b),b=f;return c},t=function(a,b,c){return r(a,b,c).point},u=function(a,b,c){return r(a,b,c).location},v=function(a,b){var c=o(a,b),d=o(a.slice(0,a.length-1),b),e=d.y-c.y,f=d.x-c.x;return 0==e?1/0:Math.atan(e/f)},w=function(a,b,c){var d=r(a,b,c);return d.location>1&&(d.location=1),d.location<0&&(d.location=0),v(a,d.location)},x=function(a,b,c,d){d=null==d?0:d;var e=r(a,b,d),f=v(a,e.location),g=Math.atan(-1/f),h=c/2*Math.sin(g),i=c/2*Math.cos(g);return[{x:e.point.x+i,y:e.point.y+h},{x:e.point.x-i,y:e.point.y-h}]};window.jsBezier={distanceFromCurve:d,gradientAtPoint:v,gradientAtPointAlongCurveFrom:w,nearestPointOnCurve:e,pointOnCurve:o,pointAlongCurveFrom:t,perpendicularToCurveAt:x,locationAlongCurveFrom:u,getLength:s}}(),function(){"use strict";var a,b=this;a="undefined"!=typeof exports?exports:b.jsPlumbGeom={};var c=function(a){return"[object Array]"===Object.prototype.toString.call(a)},d=function(a,b,d){return a=c(a)?a:[a.x,a.y],b=c(b)?b:[b.x,b.y],d(a,b)},e=a.gradient=function(a,b){return d(a,b,function(a,b){return b[0]==a[0]?b[1]>a[1]?1/0:-1/0:b[1]==a[1]?b[0]>a[0]?0:-0:(b[1]-a[1])/(b[0]-a[0])})},f=(a.normal=function(a,b){return-1/e(a,b)},a.lineLength=function(a,b){return d(a,b,function(a,b){return Math.sqrt(Math.pow(b[1]-a[1],2)+Math.pow(b[0]-a[0],2))})},a.quadrant=function(a,b){return d(a,b,function(a,b){return b[0]>a[0]?b[1]>a[1]?2:1:b[0]==a[0]?b[1]>a[1]?2:1:b[1]>a[1]?3:4})}),g=(a.theta=function(a,b){return d(a,b,function(a,b){var c=e(a,b),d=Math.atan(c),g=f(a,b);return(4==g||3==g)&&(d+=Math.PI),0>d&&(d+=2*Math.PI),d})},a.intersects=function(a,b){var c=a.x,d=a.x+a.w,e=a.y,f=a.y+a.h,g=b.x,h=b.x+b.w,i=b.y,j=b.y+b.h;return g>=c&&d>=g&&i>=e&&f>=i||h>=c&&d>=h&&i>=e&&f>=i||g>=c&&d>=g&&j>=e&&f>=j||h>=c&&d>=g&&j>=e&&f>=j||c>=g&&h>=c&&e>=i&&j>=e||d>=g&&h>=d&&e>=i&&j>=e||c>=g&&h>=c&&f>=i&&j>=f||d>=g&&h>=c&&f>=i&&j>=f},[null,[1,-1],[1,1],[-1,1],[-1,-1]]),h=[null,[-1,-1],[-1,1],[1,1],[1,-1]];a.pointOnLine=function(a,b,c){var d=e(a,b),i=f(a,b),j=c>0?g[i]:h[i],k=Math.atan(d),l=Math.abs(c*Math.sin(k))*j[1],m=Math.abs(c*Math.cos(k))*j[0];return{x:a.x+m,y:a.y+l}},a.perpendicularLineTo=function(a,b,c){var d=e(a,b),f=Math.atan(-1/d),g=c/2*Math.sin(f),h=c/2*Math.cos(f);return[{x:b.x+h,y:b.y+g},{x:b.x-h,y:b.y-g}]}}.call(this),function(){var a=function(a){return"[object Array]"===Object.prototype.toString.call(a)},b=function(a){return"[object Number]"===Object.prototype.toString.call(a)},c=function(a){return"string"==typeof a},d=function(a){return"boolean"==typeof a},e=function(a){return null==a},f=function(a){return null==a?!1:"[object Object]"===Object.prototype.toString.call(a)},g=function(a){return"[object Date]"===Object.prototype.toString.call(a)},h=function(a){return"[object Function]"===Object.prototype.toString.call(a)},i=function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0};jsPlumbUtil={isArray:a,isString:c,isBoolean:d,isNull:e,isObject:f,isDate:g,isFunction:h,isEmpty:i,isNumber:b,clone:function(b){if(c(b))return""+b;if(d(b))return!!b;if(g(b))return new Date(b.getTime());if(h(b))return b;if(a(b)){for(var e=[],i=0;i<b.length;i++)e.push(this.clone(b[i]));return e}if(f(b)){var j={};for(var k in b)j[k]=this.clone(b[k]);return j}return b},merge:function(b,e){var g=this.clone(b);for(var h in e)if(null==g[h]||c(e[h])||d(e[h]))g[h]=e[h];else if(a(e[h])){var i=[];a(g[h])&&i.push.apply(i,g[h]),i.push.apply(i,e[h]),g[h]=i}else if(f(e[h])){f(g[h])||(g[h]={});for(var j in e[h])g[h][j]=e[h][j]}return g},copyValues:function(a,b,c){for(var d=0;d<a.length;d++)c[a[d]]=b[a[d]]},functionChain:function(a,b,c){for(var d=0;d<c.length;d++){var e=c[d][0][c[d][1]].apply(c[d][0],c[d][2]);if(e===b)return e}return a},populate:function(b,d){var e=function(a){var b=a.match(/(\${.*?})/g);if(null!=b)for(var c=0;c<b.length;c++){var e=d[b[c].substring(2,b[c].length-1)];null!=e&&(a=a.replace(b[c],e))}return a},g=function(b){if(null!=b){if(c(b))return e(b);if(a(b)){for(var d=[],h=0;h<b.length;h++)d.push(g(b[h]));return d}if(f(b)){var i={};for(var j in b)i[j]=g(b[j]);return i}return b}};return g(b)},convertStyle:function(a,b){if("transparent"===a)return a;var c=a,d=function(a){return 1==a.length?"0"+a:a},e=function(a){return d(Number(a).toString(16))},f=/(rgb[a]?\()(.*)(\))/;if(a.match(f)){var g=a.match(f)[2].split(",");c="#"+e(g[0])+e(g[1])+e(g[2]),b||4!=g.length||(c+=e(g[3]))}return c},findWithFunction:function(a,b){if(a)for(var c=0;c<a.length;c++)if(b(a[c]))return c;return-1},clampToGrid:function(a,b,c,d,e){var f=function(a,b){var c=a%b,d=Math.floor(a/b),e=c>=b/2?1:0;return(d+e)*b};return[d||null==c?a:f(a,c[0]),e||null==c?b:f(b,c[1])]},indexOf:function(a,b){return jsPlumbUtil.findWithFunction(a,function(a){return a==b})},removeWithFunction:function(a,b){var c=jsPlumbUtil.findWithFunction(a,b);return c>-1&&a.splice(c,1),-1!=c},remove:function(a,b){var c=jsPlumbUtil.indexOf(a,b);return c>-1&&a.splice(c,1),-1!=c},addWithFunction:function(a,b,c){-1==jsPlumbUtil.findWithFunction(a,c)&&a.push(b)},addToList:function(a,b,c,d){var e=a[b];return null==e&&(e=[],a[b]=e),e[d?"unshift":"push"](c),e},extend:function(b,c,d,e){d=d||{},e=e||{},c=a(c)?c:[c];for(var f=0;f<c.length;f++)for(var g in c[f].prototype)c[f].prototype.hasOwnProperty(g)&&(b.prototype[g]=c[f].prototype[g]);var h=function(a){return function(){for(var b=0;b<c.length;b++)c[b].prototype[a]&&c[b].prototype[a].apply(this,arguments);return d[a].apply(this,arguments)}};for(var i in d)b.prototype[i]=h(i);return b},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(a){var b=0|16*Math.random(),c="x"==a?b:8|3&b;return c.toString(16)})},logEnabled:!0,log:function(){if(jsPlumbUtil.logEnabled&&"undefined"!=typeof console)try{var a=arguments[arguments.length-1];console.log(a)}catch(b){}},group:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.group(a)},groupEnd:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.groupEnd(a)},time:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.time(a)},timeEnd:function(a){jsPlumbUtil.logEnabled&&"undefined"!=typeof console&&console.timeEnd(a)},removeElement:function(a){null!=a&&null!=a.parentNode&&a.parentNode.removeChild(a)},removeElements:function(a){for(var b=0;b<a.length;b++)jsPlumbUtil.removeElement(a[b])},sizeElement:function(a,b,c,d,e){a&&(a.style.height=e+"px",a.height=e,a.style.width=d+"px",a.width=d,a.style.left=b+"px",a.style.top=c+"px")},wrap:function(a,b,c){return a=a||function(){},b=b||function(){},function(){var d=null;try{d=b.apply(this,arguments)}catch(e){jsPlumbUtil.log("jsPlumb function failed : "+e)}if(null==c||d!==c)try{d=a.apply(this,arguments)}catch(e){jsPlumbUtil.log("wrapped function failed : "+e)}return d}}},jsPlumbUtil.EventGenerator=function(){var a={},b=!1,c=["ready"];this.bind=function(b,c,d){return jsPlumbUtil.addToList(a,b,c,d),this},this.fire=function(d,e,f){if(!b&&a[d]){var g=a[d].length,h=0,i=!1,j=null;if(!this.shouldFireEvent||this.shouldFireEvent(d,e,f))for(;!i&&g>h&&j!==!1;){if(-1!=jsPlumbUtil.findWithFunction(c,function(a){return a===d}))a[d][h](e,f);else try{j=a[d][h](e,f)}catch(k){jsPlumbUtil.log("jsPlumb: fire failed for event "+d+" : "+k)}h++,(null==a||null==a[d])&&(i=!0)}}return this},this.unbind=function(b){return b?delete a[b]:a={},this},this.getListener=function(b){return a[b]},this.setSuspendEvents=function(a){b=a},this.isSuspendEvents=function(){return b},this.cleanupListeners=function(){for(var b in a)a[b].splice(0),delete a[b]}},jsPlumbUtil.EventGenerator.prototype={cleanup:function(){this.cleanupListeners()}},Function.prototype.bind||(Function.prototype.bind=function(a){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var b=Array.prototype.slice.call(arguments,1),c=this,d=function(){},e=function(){return c.apply(this instanceof d&&a?this:a,b.concat(Array.prototype.slice.call(arguments)))};return d.prototype=this.prototype,e.prototype=new d,e})}(),function(){var a=!!document.createElement("canvas").getContext,b=!!window.SVGAngle||document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1"),c=function(){if(void 0===c.vml){var a=document.body.appendChild(document.createElement("div"));a.innerHTML='<v:shape id="vml_flag1" adj="1" />';var b=a.firstChild;null!=b&&null!=b.style?(b.style.behavior="url(#default#VML)",c.vml=b?"object"==typeof b.adj:!0):c.vml=!1,a.parentNode.removeChild(a)}return c.vml},d=function(a){var b={},c=[],d={},e={},f={};this.register=function(g){var h=jsPlumb.CurrentLibrary,i=h.getElementObject(g),j=a.getId(g),k=h.getOffset(i);b[j]||(b[j]=g,c.push(g),d[j]={});var l=function(b){if(b)for(var c=0;c<b.childNodes.length;c++)if(3!=b.childNodes[c].nodeType&&8!=b.childNodes[c].nodeType){var g=h.getElementObject(b.childNodes[c]),i=a.getId(b.childNodes[c],null,!0);if(i&&e[i]&&e[i]>0){var m=h.getOffset(g);d[j][i]={id:i,offset:{left:m.left-k.left,top:m.top-k.top}},f[i]=j}l(b.childNodes[c])}};l(g)},this.updateOffsets=function(b){var c=jsPlumb.CurrentLibrary,e=c.getElementObject(b),g=c.getDOMElement(e),h=a.getId(g),i=d[h],j=c.getOffset(e);if(i)for(var k in i){var l=c.getElementObject(k),m=c.getOffset(l);d[h][k]={id:k,offset:{left:m.left-j.left,top:m.top-j.top}},f[k]=h}},this.endpointAdded=function(c){var g=jsPlumb.CurrentLibrary,h=document.body,i=a.getId(c),j=g.getElementObject(c),k=jsPlumb.CurrentLibrary.getOffset(j),l=c.parentNode;for(e[i]=e[i]?e[i]+1:1;null!=l&&l!=h;){var m=a.getId(l,null,!0);if(m&&b[m]){var n=g.getElementObject(l),o=g.getOffset(n);null==d[m][i]&&(d[m][i]={id:i,offset:{left:k.left-o.left,top:k.top-o.top}},f[i]=m);break}l=l.parentNode}},this.endpointDeleted=function(a){if(e[a.elementId]&&(e[a.elementId]--,e[a.elementId]<=0))for(var b in d)d[b]&&(delete d[b][a.elementId],delete f[a.elementId])},this.changeId=function(a,b){d[b]=d[a],d[a]={},f[b]=f[a],f[a]=null},this.getElementsForDraggable=function(a){return d[a]},this.elementRemoved=function(a){var b=f[a];b&&(delete d[b][a],delete f[a])},this.reset=function(){b={},c=[],d={},e={}},this.dragEnded=function(b){var c=a.getId(b),d=f[c];d&&this.updateOffsets(d)},this.setParent=function(a,b,c,e){var g=f[b];if(g){d[e]||(d[e]={}),d[e][b]=d[g][b],delete d[g][b];var h=jsPlumb.CurrentLibrary.getOffset(c),i=jsPlumb.CurrentLibrary.getOffset(a);d[e][b].offset={left:i.left-h.left,top:i.top-h.top},f[b]=e}}};window.console||(window.console={time:function(){},timeEnd:function(){},group:function(){},groupEnd:function(){},log:function(){}}),window.jsPlumbAdapter={headless:!1,getAttribute:function(a,b){return a.getAttribute(b)},setAttribute:function(a,b,c){a.setAttribute(b,c)},appendToRoot:function(a){document.body.appendChild(a)},getRenderModes:function(){return["canvas","svg","vml"]},isRenderModeAvailable:function(d){return{canvas:a,svg:b,vml:c()}[d]},getDragManager:function(a){return new d(a)},setRenderMode:function(a){var b;if(a){a=a.toLowerCase();var c=this.isRenderModeAvailable("canvas"),d=this.isRenderModeAvailable("svg"),e=this.isRenderModeAvailable("vml");"svg"===a?d?b="svg":c?b="canvas":e&&(b="vml"):"canvas"===a&&c?b="canvas":e&&(b="vml")}return b}}}(),function(){var a=jsPlumbUtil,b=function(a,b){y.CurrentLibrary.addClass(d(a),b)},c=function(a,b){y.CurrentLibrary.removeClass(d(a),b)},d=function(a){return y.CurrentLibrary.getElementObject(a)},e=function(a){return y.CurrentLibrary.getDOMElement(a)},f=function(a,b){var c=y.CurrentLibrary.getOffset(d(a));if(null!=b){var e=b.getZoom();return{left:c.left/e,top:c.top/e}}return c},g=function(a){return y.CurrentLibrary.getSize(d(a))},h=function(){return""+(new Date).getTime()},i=function(a){if(a._jsPlumb.paintStyle&&a._jsPlumb.hoverPaintStyle){var b={};y.extend(b,a._jsPlumb.paintStyle),y.extend(b,a._jsPlumb.hoverPaintStyle),delete a._jsPlumb.hoverPaintStyle,b.gradient&&a._jsPlumb.paintStyle.fillStyle&&delete b.gradient,a._jsPlumb.hoverPaintStyle=b}},j=["click","dblclick","mouseenter","mouseout","mousemove","mousedown","mouseup","contextmenu"],k={mouseout:"mouseexit"},l=function(a,b,c,d){var e=a.getAttachedElements();if(e)for(var f=0,g=e.length;g>f;f++)d&&d==e[f]||e[f].setHover(b,!0,c)},m=function(a){return null==a?null:a.split(" ")},n=function(b,c,d){if(b.getDefaultType){for(var e=b.getTypeDescriptor(),f=a.merge({},b.defaultType),g=0,h=b._jsPlumb.types.length;h>g;g++)f=a.merge(f,b._jsPlumb.instance.getType(b._jsPlumb.types[g],e));c&&(f=a.populate(f,c)),b.applyType(f,d),d||b.repaint()}},o=window.jsPlumbUIComponent=function(b){jsPlumbUtil.EventGenerator.apply(this,arguments);var c=this,d=arguments,e=c.idPrefix,f=e+(new Date).getTime(),g=y.CurrentLibrary;if(this._jsPlumb={instance:b._jsPlumb,parameters:b.parameters||{},paintStyle:null,hoverPaintStyle:null,paintStyleInUse:null,hover:!1,beforeDetach:b.beforeDetach,beforeDrop:b.beforeDrop,overlayPlacements:[],hoverClass:b.hoverClass||b._jsPlumb.Defaults.HoverClass||y.Defaults.HoverClass,types:[]},this.getId=function(){return f},b.events)for(var h in b.events)c.bind(h,b.events[h]);this.clone=function(){var a={};return this.constructor.apply(a,d),a}.bind(this),this.isDetachAllowed=function(b){var c=!0;if(this._jsPlumb.beforeDetach)try{c=this._jsPlumb.beforeDetach(b)}catch(d){a.log("jsPlumb: beforeDetach callback failed",d)}return c},this.isDropAllowed=function(b,c,d,e,f){var g=this._jsPlumb.instance.checkCondition("beforeDrop",{sourceId:b,targetId:c,scope:d,connection:e,dropEndpoint:f});if(this._jsPlumb.beforeDrop)try{g=this._jsPlumb.beforeDrop({sourceId:b,targetId:c,scope:d,connection:e,dropEndpoint:f})}catch(h){a.log("jsPlumb: beforeDrop callback failed",h)}return g};var i=[],l=function(a,b,c){i.push([a,b,c]),a.bind(b,c)},m=[],n=function(a,b,c){var d=k[c]||c,e=function(a){b.fire(d,b,a)};m.push([a,c,e]),g.bind(a,c,e)},o=function(a,b,c){k[b]||b,g.unbind(a,b,c)};this.bindListeners=function(a,b,c){l(a,"click",function(a,c){b.fire("click",b,c)}),l(a,"dblclick",function(a,c){b.fire("dblclick",b,c)}),l(a,"contextmenu",function(a,c){b.fire("contextmenu",b,c)}),l(a,"mouseenter",function(a,d){b.isHover()||(c(!0),b.fire("mouseenter",b,d))}),l(a,"mouseexit",function(a,d){b.isHover()&&(c(!1),b.fire("mouseexit",b,d))}),l(a,"mousedown",function(a,c){b.fire("mousedown",b,c)}),l(a,"mouseup",function(a,c){b.fire("mouseup",b,c)})},this.unbindListeners=function(){for(var a=0;a<i.length;a++){var b=i[a];b[0].unbind(b[1],b[2])}i=null},this.attachListeners=function(a,b){for(var c=0,d=j.length;d>c;c++)n(a,b,j[c])},this.detachListeners=function(){for(var a=0;a<m.length;a++)o(m[a][0],m[a][1],m[a][2]);m=null},this.reattachListenersForElement=function(a){if(arguments.length>1){for(var b=0,c=j.length;c>b;b++)o(a,j[b]);for(b=1,c=arguments.length;c>b;b++)this.attachListeners(a,arguments[b])}}};jsPlumbUtil.extend(o,jsPlumbUtil.EventGenerator,{getParameter:function(a){return this._jsPlumb.parameters[a]},setParameter:function(a,b){this._jsPlumb.parameters[a]=b},getParameters:function(){return this._jsPlumb.parameters},setParameters:function(a){this._jsPlumb.parameters=a},addClass:function(a){null!=this.canvas&&b(this.canvas,a)},removeClass:function(a){null!=this.canvas&&c(this.canvas,a)},setType:function(a,b,c){this._jsPlumb.types=m(a)||[],n(this,b,c)},getType:function(){return this._jsPlumb.types},reapplyTypes:function(a,b){n(this,a,b)},hasType:function(a){return-1!=jsPlumbUtil.indexOf(this._jsPlumb.types,a)},addType:function(a,b,c){var d=m(a),e=!1;if(null!=d){for(var f=0,g=d.length;g>f;f++)this.hasType(d[f])||(this._jsPlumb.types.push(d[f]),e=!0);e&&n(this,b,c)}},removeType:function(b,c){var d=m(b),e=!1,f=function(b){var c=a.indexOf(this._jsPlumb.types,b);return-1!=c?(this._jsPlumb.types.splice(c,1),!0):!1}.bind(this);if(null!=d){for(var g=0,h=d.length;h>g;g++)e=f(d[g])||e;e&&n(this,null,c)}},toggleType:function(a,b,c){var d=m(a);if(null!=d){for(var e=0,f=d.length;f>e;e++){var g=jsPlumbUtil.indexOf(this._jsPlumb.types,d[e]);-1!=g?this._jsPlumb.types.splice(g,1):this._jsPlumb.types.push(d[e])}n(this,b,c)}},applyType:function(a,b){if(this.setPaintStyle(a.paintStyle,b),this.setHoverPaintStyle(a.hoverPaintStyle,b),a.parameters)for(var c in a.parameters)this.setParameter(c,a.parameters[c])},setPaintStyle:function(a,b){this._jsPlumb.paintStyle=a,this._jsPlumb.paintStyleInUse=this._jsPlumb.paintStyle,i(this),b||this.repaint()},getPaintStyle:function(){return this._jsPlumb.paintStyle},setHoverPaintStyle:function(a,b){this._jsPlumb.hoverPaintStyle=a,i(this),b||this.repaint()},getHoverPaintStyle:function(){return this._jsPlumb.hoverPaintStyle},cleanup:function(){this.unbindListeners(),this.detachListeners()},destroy:function(){this.cleanupListeners(),this.clone=null,this._jsPlumb=null},isHover:function(){return this._jsPlumb.hover},setHover:function(a,b,c){var d=y.CurrentLibrary;!this._jsPlumb||this._jsPlumb.instance.currentlyDragging||this._jsPlumb.instance.isHoverSuspended()||(this._jsPlumb.hover=a,null!=this.canvas&&null!=this._jsPlumb.instance.hoverClass&&d[a?"addClass":"removeClass"](this.canvas,this._jsPlumb.instance.hoverClass),null!=this._jsPlumb.hoverPaintStyle&&(this._jsPlumb.paintStyleInUse=a?this._jsPlumb.hoverPaintStyle:this._jsPlumb.paintStyle,this._jsPlumb.instance.isSuspendDrawing()||(c=c||h(),this.repaint({timestamp:c,recalc:!1}))),this.getAttachedElements&&!b&&l(this,a,h(),this))}});var p="__label",q=function(a,b){for(var c=-1,d=0,e=a._jsPlumb.overlays.length;e>d;d++)if(b===a._jsPlumb.overlays[d].id){c=d;break}return c},r=function(a,b){var c={cssClass:b.cssClass,labelStyle:a.labelStyle,id:p,component:a,_jsPlumb:a._jsPlumb.instance},d=y.extend(c,b);return new(y.Overlays[a._jsPlumb.instance.getRenderMode()].Label)(d)},s=function(b,c){var d=null;if(a.isArray(c)){var e=c[0],f=y.extend({component:b,_jsPlumb:b._jsPlumb.instance},c[1]);3==c.length&&y.extend(f,c[2]),d=new(y.Overlays[b._jsPlumb.instance.getRenderMode()][e])(f)}else d=c.constructor==String?new(y.Overlays[b._jsPlumb.instance.getRenderMode()][c])({component:b,_jsPlumb:b._jsPlumb.instance}):c;b._jsPlumb.overlays.push(d)},t=function(a,b){var c=a.defaultOverlayKeys||[],d=b.overlays,e=function(b){return a._jsPlumb.instance.Defaults[b]||y.Defaults[b]||[]};d||(d=[]);for(var f=0,g=c.length;g>f;f++)d.unshift.apply(d,e(c[f]));return d},u=window.OverlayCapableJsPlumbUIComponent=function(a){o.apply(this,arguments),this._jsPlumb.overlays=[];var b=t(this,a);if(b)for(var c=0,d=b.length;d>c;c++)s(this,b[c]);if(a.label){var e=a.labelLocation||this.defaultLabelLocation||.5,f=a.labelStyle||this._jsPlumb.instance.Defaults.LabelStyle||y.Defaults.LabelStyle;this._jsPlumb.overlays.push(r(this,{label:a.label,location:e,labelStyle:f}))}};jsPlumbUtil.extend(u,o,{applyType:function(a,b){if(this.removeAllOverlays(b),a.overlays)for(var c=0,d=a.overlays.length;d>c;c++)this.addOverlay(a.overlays[c],!0)},setHover:function(a){if(this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged())for(var b=0,c=this._jsPlumb.overlays.length;c>b;b++)this._jsPlumb.overlays[b][a?"addClass":"removeClass"](this._jsPlumb.instance.hoverClass)},addOverlay:function(a,b){s(this,a),b||this.repaint()},getOverlay:function(a){var b=q(this,a);return b>=0?this._jsPlumb.overlays[b]:null},getOverlays:function(){return this._jsPlumb.overlays},hideOverlay:function(a){var b=this.getOverlay(a);b&&b.hide()},hideOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;b>a;a++)this._jsPlumb.overlays[a].hide()},showOverlay:function(a){var b=this.getOverlay(a);b&&b.show()},showOverlays:function(){for(var a=0,b=this._jsPlumb.overlays.length;b>a;a++)this._jsPlumb.overlays[a].show()},removeAllOverlays:function(a){for(var b=0,c=this._jsPlumb.overlays.length;c>b;b++)this._jsPlumb.overlays[b].cleanup&&this._jsPlumb.overlays[b].cleanup();this._jsPlumb.overlays.splice(0,this._jsPlumb.overlays.length),this._jsPlumb.overlayPositions=null,a||this.repaint()},removeOverlay:function(a){var b=q(this,a);if(-1!=b){var c=this._jsPlumb.overlays[b];c.cleanup&&c.cleanup(),this._jsPlumb.overlays.splice(b,1),this._jsPlumb.overlayPositions&&delete this._jsPlumb.overlayPositions[a]}},removeOverlays:function(){for(var a=0,b=arguments.length;b>a;a++)this.removeOverlay(arguments[a])},getLabel:function(){var a=this.getOverlay(p);return null!=a?a.getLabel():null},getLabelOverlay:function(){return this.getOverlay(p)},setLabel:function(a){var b=this.getOverlay(p);if(b)a.constructor==String||a.constructor==Function?b.setLabel(a):(a.label&&b.setLabel(a.label),a.location&&b.setLocation(a.location));else{var c=a.constructor==String||a.constructor==Function?{label:a}:a;b=r(this,c),this._jsPlumb.overlays.push(b)}this._jsPlumb.instance.isSuspendDrawing()||this.repaint()},cleanup:function(){for(var a=0;a<this._jsPlumb.overlays.length;a++)this._jsPlumb.overlays[a].cleanup(),this._jsPlumb.overlays[a].destroy();this._jsPlumb.overlays.splice(0),this._jsPlumb.overlayPositions=null},setVisible:function(a){this[a?"showOverlays":"hideOverlays"]()},setAbsoluteOverlayPosition:function(a,b){this._jsPlumb.overlayPositions=this._jsPlumb.overlayPositions||{},this._jsPlumb.overlayPositions[a.id]=b},getAbsoluteOverlayPosition:function(a){return this._jsPlumb.overlayPositions?this._jsPlumb.overlayPositions[a.id]:null}});var v=0,w=function(){var a=v+1;return v++,a},x=window.jsPlumbInstance=function(i){this.Defaults={Anchor:"BottomCenter",Anchors:[null,null],ConnectionsDetachable:!0,ConnectionOverlays:[],Connector:"Bezier",Container:null,DoNotThrowErrors:!1,DragOptions:{},DropOptions:{},Endpoint:"Dot",EndpointOverlays:[],Endpoints:[null,null],EndpointStyle:{fillStyle:"#456"},EndpointStyles:[null,null],EndpointHoverStyle:null,EndpointHoverStyles:[null,null],HoverPaintStyle:null,LabelStyle:{color:"black"},LogEnabled:!1,Overlays:[],MaxConnections:1,PaintStyle:{lineWidth:8,strokeStyle:"#456"},ReattachConnections:!1,RenderMode:"svg",Scope:"jsPlumb_DefaultScope"},i&&y.extend(this.Defaults,i),this.logEnabled=this.Defaults.LogEnabled,this._connectionTypes={},this._endpointTypes={},jsPlumbUtil.EventGenerator.apply(this);var j=this,k=w(),l=j.bind,m={},n=1,p=function(a){var b=e(a);return{el:b,id:jsPlumbUtil.isString(a)&&null==b?a:bb(b)}};this.getInstanceIndex=function(){return k},this.setZoom=function(a,b){n=a,b&&j.repaintEverything()},this.getZoom=function(){return n};for(var q in this.Defaults)m[q]=this.Defaults[q];this.bind=function(a,b){"ready"===a&&s?b():l.apply(j,[a,b])},j.importDefaults=function(a){for(var b in a)j.Defaults[b]=a[b];return j},j.restoreDefaults=function(){return j.Defaults=y.extend({},m),j};var r=null,s=!1,t=[],u={},v={},x={},z={},A={},B={},C=!1,D=[],E=!1,F=null,G=this.Defaults.Scope,H=null,I=1,J=function(){return""+I++},K=function(a,b){j.Defaults.Container?y.CurrentLibrary.appendElement(a,j.Defaults.Container):b?y.CurrentLibrary.appendElement(a,b):jsPlumbAdapter.appendToRoot(a)},L=function(a){return a._nodes?a._nodes:a},M=function(a,b,c,d){if(!jsPlumbAdapter.headless&&!E){var e=bb(a),f=j.dragManager.getElementsForDraggable(e);null==c&&(c=h());var g=_({elId:e,offset:b,recalc:!1,timestamp:c});if(f)for(var i in f)_({elId:f[i].id,offset:{left:g.o.left+f[i].offset.left,top:g.o.top+f[i].offset.top},recalc:!1,timestamp:c});if(j.anchorManager.redraw(e,b,c,null,d),f)for(var k in f)j.anchorManager.redraw(f[k].id,b,c,f[k].offset,d,!0)}},N=function(b,c){var e,f,g=null;if(a.isArray(b)){g=[];for(var h=0,i=b.length;i>h;h++)e=d(b[h]),f=j.getAttribute(e,"id"),g.push(c(e,f))}else e=d(b),f=j.getAttribute(e,"id"),g=c(e,f);return g},O=function(a){return v[a]},P=function(d,e,f){if(!jsPlumbAdapter.headless){var g=null==e?!1:e,h=y.CurrentLibrary;if(g&&h.isDragSupported(d)&&!h.isAlreadyDraggable(d)){var i=f||j.Defaults.DragOptions||y.Defaults.DragOptions;i=y.extend({},i);var k=h.dragEvents.drag,l=h.dragEvents.stop,m=h.dragEvents.start;i[m]=a.wrap(i[m],function(){j.setHoverSuspended(!0),j.select({source:d}).addClass(j.elementDraggingClass+" "+j.sourceElementDraggingClass,!0),j.select({target:d}).addClass(j.elementDraggingClass+" "+j.targetElementDraggingClass,!0),j.setConnectionBeingDragged(!0)}),i[k]=a.wrap(i[k],function(){var a=h.getUIPosition(arguments,j.getZoom());M(d,a,null,!0),b(d,"jsPlumb_dragged")}),i[l]=a.wrap(i[l],function(){var a=h.getUIPosition(arguments,j.getZoom());M(d,a),c(d,"jsPlumb_dragged"),j.setHoverSuspended(!1),j.select({source:d}).removeClass(j.elementDraggingClass+" "+j.sourceElementDraggingClass,!0),j.select({target:d}).removeClass(j.elementDraggingClass+" "+j.targetElementDraggingClass,!0),j.setConnectionBeingDragged(!1),j.dragManager.dragEnded(d)});var n=bb(d);B[n]=!0;var o=B[n];i.disabled=null==o?!1:!o,h.initDraggable(d,i,!1,j),j.dragManager.register(d)}}},Q=function(b,c){var d=y.extend({},b);if(c&&y.extend(d,c),d.source&&(d.source.endpoint?d.sourceEndpoint=d.source:d.source=e(d.source)),d.target&&(d.target.endpoint?d.targetEndpoint=d.target:d.target=e(d.target)),b.uuids&&(d.sourceEndpoint=O(b.uuids[0]),d.targetEndpoint=O(b.uuids[1])),d.sourceEndpoint&&d.sourceEndpoint.isFull())return a.log(j,"could not add connection; source endpoint is full"),void 0;if(d.targetEndpoint&&d.targetEndpoint.isFull())return a.log(j,"could not add connection; target endpoint is full"),void 0;if(!d.type&&d.sourceEndpoint&&(d.type=d.sourceEndpoint.connectionType),d.sourceEndpoint&&d.sourceEndpoint.connectorOverlays){d.overlays=d.overlays||[];for(var f=0,g=d.sourceEndpoint.connectorOverlays.length;g>f;f++)d.overlays.push(d.sourceEndpoint.connectorOverlays[f])}!d["pointer-events"]&&d.sourceEndpoint&&d.sourceEndpoint.connectorPointerEvents&&(d["pointer-events"]=d.sourceEndpoint.connectorPointerEvents);var h,i,k,l;if(d.target&&!d.target.endpoint&&!d.targetEndpoint&&!d.newConnection&&(h=bb(d.target),i=tb[h],k=ub[h],i)){if(!Eb[h])return;i.isTarget=!0,l=null!=k?k:j.addEndpoint(d.target,i),vb[h]&&(ub[h]=l),d.targetEndpoint=l,l._doNotDeleteOnDetach=!1,l._deleteOnDetach=!0}if(d.source&&!d.source.endpoint&&!d.sourceEndpoint&&!d.newConnection&&(h=bb(d.source),i=yb[h],k=zb[h],i)){if(!Bb[h])return;l=null!=k?k:j.addEndpoint(d.source,i),Ab[h]&&(zb[h]=l),d.sourceEndpoint=l,l._doNotDeleteOnDetach=!1,l._deleteOnDetach=!0}return d},R=function(a){var b=j.Defaults.ConnectionType||j.getDefaultConnectionType(),c=j.Defaults.EndpointType||y.Endpoint,d=y.CurrentLibrary.getParent;a.parent=a.container?a.container:a.sourceEndpoint?a.sourceEndpoint.parent:a.source.constructor==c?a.source.parent:d(a.source),a._jsPlumb=j,a.newConnection=R,a.newEndpoint=V,a.endpointsByUUID=v,a.endpointsByElement=u,a.finaliseConnection=S;var e=new b(a);return e.id="con_"+J(),T("click","click",e),T("dblclick","dblclick",e),T("contextmenu","contextmenu",e),e.isDetachable()&&(e.endpoints[0].initDraggable(),e.endpoints[1].initDraggable()),e},S=function(a,b,c,d){if(b=b||{},a.suspendedEndpoint||t.push(a),(null==a.suspendedEndpoint||d)&&j.anchorManager.newConnection(a),M(a.source),!b.doNotFireConnectionEvent&&b.fireEvent!==!1){var e={connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]};j.fire("connection",e,c)}},T=function(a,b,c){c.bind(a,function(a,d){j.fire(b,c,d)})},U=function(a){if(a.container)return a.container;var b=y.CurrentLibrary.getTagName(a.source),c=y.CurrentLibrary.getParent(a.source);return b&&"td"===b.toLowerCase()?y.CurrentLibrary.getParent(c):c},V=function(a){var b=j.Defaults.EndpointType||y.Endpoint,c=y.extend({},a);c.parent=U(c),c._jsPlumb=j,c.newConnection=R,c.newEndpoint=V,c.endpointsByUUID=v,c.endpointsByElement=u,c.finaliseConnection=S,c.fireDetachEvent=cb,c.fireMoveEvent=db,c.floatingConnections=A,c.getParentFromParams=U,c.elementId=bb(c.source);var d=new b(c);return d.id="ep_"+J(),T("click","endpointClick",d),T("dblclick","endpointDblClick",d),T("contextmenu","contextmenu",d),jsPlumbAdapter.headless||j.dragManager.endpointAdded(c.source),d},W=function(a,b,c){var d=u[a];if(d&&d.length)for(var e=0,f=d.length;f>e;e++){for(var g=0,h=d[e].connections.length;h>g;g++){var i=b(d[e].connections[g]);if(i)return}c&&c(d[e])}},X=function(a,b){return N(a,function(a,c){B[c]=b,y.CurrentLibrary.isDragSupported(a)&&y.CurrentLibrary.setDraggable(a,b)})},Y=function(a,b,c){b="block"===b;var d=null;c&&(d=b?function(a){a.setVisible(!0,!0,!0)}:function(a){a.setVisible(!1,!0,!0)});var e=p(a);W(e.id,function(a){if(b&&c){var d=a.sourceId===e.id?1:0;a.endpoints[d].isVisible()&&a.setVisible(!0)}else a.setVisible(b)},d)},Z=function(a){return N(a,function(a,b){var c=null==B[b]?!1:B[b];return c=!c,B[b]=c,y.CurrentLibrary.setDraggable(a,c),c})},$=function(a,b){var c=null;b&&(c=function(a){var b=a.isVisible();a.setVisible(!b)}),W(a,function(a){var b=a.isVisible();
a.setVisible(!b)},c)},_=function(a){var b,c=a.timestamp,e=a.recalc,h=a.offset,i=a.elId;return E&&!c&&(c=F),!e&&c&&c===z[i]?{o:a.offset||x[i],s:D[i]}:(e||!h?(b=d(i),null!=b&&(D[i]=g(b),x[i]=f(b,j),z[i]=c)):(x[i]=h,null==D[i]&&(b=d(i),null!=b&&(D[i]=g(b))),z[i]=c),x[i]&&!x[i].right&&(x[i].right=x[i].left+D[i][0],x[i].bottom=x[i].top+D[i][1],x[i].width=D[i][0],x[i].height=D[i][1],x[i].centerx=x[i].left+x[i].width/2,x[i].centery=x[i].top+x[i].height/2),{o:x[i],s:D[i]})},ab=function(a){var b=x[a];return b?{o:b,s:D[a]}:_({elId:a})},bb=function(a,b,c){if(jsPlumbUtil.isString(a))return a;if(null==a)return null;var d=jsPlumbAdapter.getAttribute(a,"id");return d&&"undefined"!==d||(2==arguments.length&&void 0!==arguments[1]?d=b:(1==arguments.length||3==arguments.length&&!arguments[2])&&(d="jsPlumb_"+k+"_"+J()),c||jsPlumbAdapter.setAttribute(a,"id",d)),d};this.setConnectionBeingDragged=function(a){C=a},this.isConnectionBeingDragged=function(){return C},this.connectorClass="_jsPlumb_connector",this.hoverClass="_jsPlumb_hover",this.endpointClass="_jsPlumb_endpoint",this.endpointConnectedClass="_jsPlumb_endpoint_connected",this.endpointFullClass="_jsPlumb_endpoint_full",this.endpointDropAllowedClass="_jsPlumb_endpoint_drop_allowed",this.endpointDropForbiddenClass="_jsPlumb_endpoint_drop_forbidden",this.overlayClass="_jsPlumb_overlay",this.draggingClass="_jsPlumb_dragging",this.elementDraggingClass="_jsPlumb_element_dragging",this.sourceElementDraggingClass="_jsPlumb_source_element_dragging",this.targetElementDraggingClass="_jsPlumb_target_element_dragging",this.endpointAnchorClassPrefix="_jsPlumb_endpoint_anchor",this.hoverSourceClass="_jsPlumb_source_hover",this.hoverTargetClass="_jsPlumb_target_hover",this.dragSelectClass="_jsPlumb_drag_select",this.Anchors={},this.Connectors={canvas:{},svg:{},vml:{}},this.Endpoints={canvas:{},svg:{},vml:{}},this.Overlays={canvas:{},svg:{},vml:{}},this.ConnectorRenderers={},this.SVG="svg",this.CANVAS="canvas",this.VML="vml",this.addEndpoint=function(b,c,d){d=d||{};var f=y.extend({},d);y.extend(f,c),f.endpoint=f.endpoint||j.Defaults.Endpoint||y.Defaults.Endpoint,f.paintStyle=f.paintStyle||j.Defaults.EndpointStyle||y.Defaults.EndpointStyle,b=L(b);for(var g=[],h=a.isArray(b)||null!=b.length&&!a.isString(b)?b:[b],i=0,k=h.length;k>i;i++){var l=e(h[i]),m=bb(l);f.source=l,_({elId:m,timestamp:F});var n=V(f);f.parentAnchor&&(n.parentAnchor=f.parentAnchor),a.addToList(u,m,n);var o=x[m],p=D[m],q=n.anchor.compute({xy:[o.left,o.top],wh:p,element:n,timestamp:F}),r={anchorLoc:q,timestamp:F};E&&(r.recalc=!1),E||n.paint(r),g.push(n),n._doNotDeleteOnDetach=!0}return 1==g.length?g[0]:g},this.addEndpoints=function(b,c,d){for(var e=[],f=0,g=c.length;g>f;f++){var h=j.addEndpoint(b,c[f],d);a.isArray(h)?Array.prototype.push.apply(e,h):e.push(h)}return e},this.animate=function(b,c,e){e=e||{};var f=d(b),g=bb(b),h=y.CurrentLibrary.dragEvents.step,i=y.CurrentLibrary.dragEvents.complete;e[h]=a.wrap(e[h],function(){j.repaint(g)}),e[i]=a.wrap(e[i],function(){j.repaint(g)}),y.CurrentLibrary.animate(f,c,e)},this.checkCondition=function(b,c){var d=j.getListener(b),e=!0;if(d&&d.length>0)try{for(var f=0,g=d.length;g>f;f++)e=e&&d[f](c)}catch(h){a.log(j,"cannot check condition ["+b+"]"+h)}return e},this.checkASyncCondition=function(b,c,d,e){var f=j.getListener(b);if(f&&f.length>0)try{f[0](c,d,e)}catch(g){a.log(j,"cannot asynchronously check condition ["+b+"]"+g)}},this.connect=function(a,b){var c,d=Q(a,b);return d&&(c=R(d),S(c,d)),c},this.deleteEndpoint=function(a,b){var c=j.setSuspendDrawing(!0),d="string"==typeof a?v[a]:a;return d&&j.deleteObject({endpoint:d}),c||j.setSuspendDrawing(!1,b),j},this.deleteEveryEndpoint=function(){var a=j.setSuspendDrawing(!0);for(var b in u){var c=u[b];if(c&&c.length)for(var d=0,e=c.length;e>d;d++)j.deleteEndpoint(c[d],!0)}return u={},v={},j.anchorManager.reset(),j.dragManager.reset(),a||j.setSuspendDrawing(!1),j};var cb=function(a,b,c){var d=j.Defaults.ConnectionType||j.getDefaultConnectionType(),e=a.constructor==d,f=e?{connection:a,source:a.source,target:a.target,sourceId:a.sourceId,targetId:a.targetId,sourceEndpoint:a.endpoints[0],targetEndpoint:a.endpoints[1]}:a;b&&j.fire("connectionDetached",f,c),j.anchorManager.connectionDetached(f)},db=function(a,b){j.fire("connectionMoved",a,b)};this.unregisterEndpoint=function(a){a._jsPlumb.uuid&&(v[a._jsPlumb.uuid]=null),j.anchorManager.deleteEndpoint(a);for(var b in u){var c=u[b];if(c){for(var d=[],e=0,f=c.length;f>e;e++)c[e]!=a&&d.push(c[e]);u[b]=d}u[b].length<1&&delete u[b]}},this.detach=function(){if(0!==arguments.length){var a=j.Defaults.ConnectionType||j.getDefaultConnectionType(),b=arguments[0].constructor==a,c=2==arguments.length?b?arguments[1]||{}:arguments[0]:arguments[0],d=c.fireEvent!==!1,f=c.forceDetach,g=b?arguments[0]:c.connection;if(g)(f||jsPlumbUtil.functionChain(!0,!1,[[g.endpoints[0],"isDetachAllowed",[g]],[g.endpoints[1],"isDetachAllowed",[g]],[g,"isDetachAllowed",[g]],[j,"checkCondition",["beforeDetach",g]]]))&&g.endpoints[0].detach(g,!1,!0,d);else{var h=y.extend({},c);if(h.uuids)O(h.uuids[0]).detachFrom(O(h.uuids[1]),d);else if(h.sourceEndpoint&&h.targetEndpoint)h.sourceEndpoint.detachFrom(h.targetEndpoint);else{var i=bb(e(h.source)),k=bb(e(h.target));W(i,function(a){(a.sourceId==i&&a.targetId==k||a.targetId==i&&a.sourceId==k)&&j.checkCondition("beforeDetach",a)&&a.endpoints[0].detach(a,!1,!0,d)})}}}},this.detachAllConnections=function(a,b){b=b||{},a=e(a);var c=bb(a),d=u[c];if(d&&d.length)for(var f=0,g=d.length;g>f;f++)d[f].detachAll(b.fireEvent!==!1);return j},this.detachEveryConnection=function(a){return a=a||{},j.doWhileSuspended(function(){for(var b in u){var c=u[b];if(c&&c.length)for(var d=0,e=c.length;e>d;d++)c[d].detachAll(a.fireEvent!==!1)}t.splice(0)}),j},this.deleteObject=function(a){var b={endpoints:{},connections:{},endpointCount:0,connectionCount:0},c=a.fireEvent!==!1,d=a.deleteAttachedObjects!==!1,e=function(a){if(null!=a&&null==b.connections[a.id]&&(null!=a._jsPlumb&&a.setHover(!1),b.connections[a.id]=a,b.connectionCount++,d))for(var c=0;c<a.endpoints.length;c++)a.endpoints[c]._deleteOnDetach&&f(a.endpoints[c])},f=function(a){if(null!=a&&null==b.endpoints[a.id]&&(null!=a._jsPlumb&&a.setHover(!1),b.endpoints[a.id]=a,b.endpointCount++,d))for(var c=0;c<a.connections.length;c++){var f=a.connections[c];e(f)}};a.connection?e(a.connection):f(a.endpoint);for(var g in b.connections){var h=b.connections[g];h.endpoints[0].detachFromConnection(h),h.endpoints[1].detachFromConnection(h),jsPlumbUtil.removeWithFunction(t,function(a){return h.id==a.id}),cb(h,c,a.originalEvent),h.cleanup(),h.destroy()}for(var i in b.endpoints){var k=b.endpoints[i];j.unregisterEndpoint(k),k.cleanup(),k.destroy()}return b},this.draggable=function(a,b){var c,d,f;if("object"==typeof a&&a.length)for(c=0,d=a.length;d>c;c++)f=e(a[c]),f&&P(f,!0,b);else if(a._nodes)for(c=0,d=a._nodes.length;d>c;c++)f=e(a._nodes[c]),f&&P(f,!0,b);else f=e(a),f&&P(f,!0,b);return j},this.extend=function(a,b){return y.CurrentLibrary.extend(a,b)};var eb=function(a,b,c,d){for(var e=0,f=a.length;f>e;e++)a[e][b].apply(a[e],c);return d(a)},fb=function(a,b,c){for(var d=[],e=0,f=a.length;f>e;e++)d.push([a[e][b].apply(a[e],c),a[e]]);return d},gb=function(a,b,c){return function(){return eb(a,b,arguments,c)}},hb=function(a,b){return function(){return fb(a,b,arguments)}},ib=function(a,b){var c=[];if(a)if("string"==typeof a){if("*"===a)return a;c.push(a)}else if(a=d(a),b)c=a;else for(var e=0,f=a.length;f>e;e++)c.push(p(a[e]).id);return c},jb=function(a,b,c){return"*"===a?!0:a.length>0?-1!=jsPlumbUtil.indexOf(a,b):!c};this.getConnections=function(a,b){a?a.constructor==String&&(a={scope:a}):a={};for(var c=a.scope||j.getDefaultScope(),d=ib(c,!0),e=ib(a.source),f=ib(a.target),g=!b&&d.length>1?{}:[],h=function(a,c){if(!b&&d.length>1){var e=g[a];null==e&&(e=g[a]=[]),e.push(c)}else g.push(c)},i=0,k=t.length;k>i;i++){var l=t[i];jb(d,l.scope)&&jb(e,l.sourceId)&&jb(f,l.targetId)&&h(l.scope,l)}return g};var kb=function(a,b){return function(c){for(var d=0,e=a.length;e>d;d++)c(a[d]);return b(a)}},lb=function(a){return function(b){return a[b]}},mb=function(a,b){var c,d,e={length:a.length,each:kb(a,b),get:lb(a)},f=["setHover","removeAllOverlays","setLabel","addClass","addOverlay","removeOverlay","removeOverlays","showOverlay","hideOverlay","showOverlays","hideOverlays","setPaintStyle","setHoverPaintStyle","setSuspendEvents","setParameter","setParameters","setVisible","repaint","addType","toggleType","removeType","removeClass","setType","bind","unbind"],g=["getLabel","getOverlay","isHover","getParameter","getParameters","getPaintStyle","getHoverPaintStyle","isVisible","hasType","getType","isSuspendEvents"];for(c=0,d=f.length;d>c;c++)e[f[c]]=gb(a,f[c],b);for(c=0,d=g.length;d>c;c++)e[g[c]]=hb(a,g[c]);return e},nb=function(a){var b=mb(a,nb);return y.CurrentLibrary.extend(b,{setDetachable:gb(a,"setDetachable",nb),setReattach:gb(a,"setReattach",nb),setConnector:gb(a,"setConnector",nb),detach:function(){for(var b=0,c=a.length;c>b;b++)j.detach(a[b])},isDetachable:hb(a,"isDetachable"),isReattach:hb(a,"isReattach")})},ob=function(a){var b=mb(a,ob);return y.CurrentLibrary.extend(b,{setEnabled:gb(a,"setEnabled",ob),setAnchor:gb(a,"setAnchor",ob),isEnabled:hb(a,"isEnabled"),detachAll:function(){for(var b=0,c=a.length;c>b;b++)a[b].detachAll()},remove:function(){for(var b=0,c=a.length;c>b;b++)j.deleteObject({endpoint:a[b]})}})};this.select=function(a){return a=a||{},a.scope=a.scope||"*",nb(a.connections||j.getConnections(a,!0))},this.selectEndpoints=function(a){a=a||{},a.scope=a.scope||"*";var b=!a.element&&!a.source&&!a.target,c=b?"*":ib(a.element),d=b?"*":ib(a.source),e=b?"*":ib(a.target),f=ib(a.scope,!0),g=[];for(var h in u){var i=jb(c,h,!0),j=jb(d,h,!0),k="*"!=d,l=jb(e,h,!0),m="*"!=e;if(i||j||l)a:for(var n=0,o=u[h].length;o>n;n++){var p=u[h][n];if(jb(f,p.scope,!0)){var q=k&&d.length>0&&!p.isSource,r=m&&e.length>0&&!p.isTarget;if(q||r)continue a;g.push(p)}}}return ob(g)},this.getAllConnections=function(){return t},this.getDefaultScope=function(){return G},this.getEndpoint=O,this.getEndpoints=function(a){return u[p(a).id]},this.getDefaultEndpointType=function(){return y.Endpoint},this.getDefaultConnectionType=function(){return y.Connection},this.getId=bb,this.getOffset=function(a){return x[a],_({elId:a})},this.getSelector=function(){return y.CurrentLibrary.getSelector.apply(null,arguments)},this.getSize=function(a){var b=D[a];return b||_({elId:a}),D[a]},this.appendElement=K;var pb=!1;this.isHoverSuspended=function(){return pb},this.setHoverSuspended=function(a){pb=a};var qb=function(a){return function(){return jsPlumbAdapter.isRenderModeAvailable(a)}};this.isCanvasAvailable=qb("canvas"),this.isSVGAvailable=qb("svg"),this.isVMLAvailable=qb("vml"),this.hide=function(a,b){return Y(a,"none",b),j},this.idstamp=J,this.connectorsInitialized=!1;var rb=[],sb=["canvas","svg","vml"];this.registerConnectorType=function(a,b){rb.push([a,b])},this.init=function(){var a=function(a,b,c){y.Connectors[a][b]=function(){c.apply(this,arguments),y.ConnectorRenderers[a].apply(this,arguments)},jsPlumbUtil.extend(y.Connectors[a][b],[c,y.ConnectorRenderers[a]])};if(!y.connectorsInitialized){for(var b=0;b<rb.length;b++)for(var c=0;c<sb.length;c++)a(sb[c],rb[b][1],rb[b][0]);y.connectorsInitialized=!0}s||(j.anchorManager=new y.AnchorManager({jsPlumbInstance:j}),j.setRenderMode(j.Defaults.RenderMode),s=!0,j.fire("ready",j))}.bind(this),this.log=r,this.jsPlumbUIComponent=o,this.makeAnchor=function(){var b,c=function(a,b){if(y.Anchors[a])return new y.Anchors[a](b);if(!j.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown anchor type '"+a+"'"}};if(0===arguments.length)return null;var d=arguments[0],e=arguments[1],f=arguments[2],g=null;if(d.compute&&d.getOrientation)return d;if("string"==typeof d)g=c(arguments[0],{elementId:e,jsPlumbInstance:j});else if(a.isArray(d))if(a.isArray(d[0])||a.isString(d[0]))2==d.length&&a.isObject(d[1])?a.isString(d[0])?(b=y.extend({elementId:e,jsPlumbInstance:j},d[1]),g=c(d[0],b)):(b=y.extend({elementId:e,jsPlumbInstance:j,anchors:d[0]},d[1]),g=new y.DynamicAnchor(b)):g=new y.DynamicAnchor({anchors:d,selector:null,elementId:e,jsPlumbInstance:f});else{var h={x:d[0],y:d[1],orientation:d.length>=4?[d[2],d[3]]:[0,0],offsets:d.length>=6?[d[4],d[5]]:[0,0],elementId:e,jsPlumbInstance:f,cssClass:7==d.length?d[6]:null};g=new y.Anchor(h),g.clone=function(){return new y.Anchor(h)}}return g.id||(g.id="anchor_"+J()),g},this.makeAnchors=function(b,c,d){for(var e=[],f=0,g=b.length;g>f;f++)"string"==typeof b[f]?e.push(y.Anchors[b[f]]({elementId:c,jsPlumbInstance:d})):a.isArray(b[f])&&e.push(j.makeAnchor(b[f],c,d));return e},this.makeDynamicAnchor=function(a,b){return new y.DynamicAnchor({anchors:a,selector:b,elementId:null,jsPlumbInstance:j})};var tb={},ub={},vb={},wb={},xb=function(a,b){a.paintStyle=a.paintStyle||j.Defaults.EndpointStyles[b]||j.Defaults.EndpointStyle||y.Defaults.EndpointStyles[b]||y.Defaults.EndpointStyle,a.hoverPaintStyle=a.hoverPaintStyle||j.Defaults.EndpointHoverStyles[b]||j.Defaults.EndpointHoverStyle||y.Defaults.EndpointHoverStyles[b]||y.Defaults.EndpointHoverStyle,a.anchor=a.anchor||j.Defaults.Anchors[b]||j.Defaults.Anchor||y.Defaults.Anchors[b]||y.Defaults.Anchor,a.endpoint=a.endpoint||j.Defaults.Endpoints[b]||j.Defaults.Endpoint||y.Defaults.Endpoints[b]||y.Defaults.Endpoint},yb={},zb={},Ab={},Bb={},Cb={},Db={},Eb={},Fb=function(a,b,c){for(var d=a.target||a.srcElement,e=!1,f=j.getSelector(b,c),g=0;g<f.length;g++)if(f[g]==d){e=!0;break}return e};this.makeTarget=function(b,c,e){var h=y.extend({_jsPlumb:j},e);y.extend(h,c),xb(h,1);var i=y.CurrentLibrary,k=h.scope||j.Defaults.Scope,l=!(h.deleteEndpointsOnDetach===!1),m=h.maxConnections||-1,n=h.onMaxConnections,q=function(b){var c=p(b),e=c.id,q=new o(h),r=y.extend({},h.dropOptions||{});tb[e]=h,vb[e]=h.uniqueEndpoint,wb[e]=m,Eb[e]=!0;var s=function(){j.currentlyDragging=!1;var a=y.CurrentLibrary.getDropEvent(arguments),b=j.select({target:e}).length,k=d(i.getDragObject(arguments)),m=j.getAttribute(k,"dragId"),o=j.getAttribute(k,"originalScope"),p=A[m],r=p.endpoints[0].isFloating()?0:1,s=p.endpoints[0];if(h.endpoint?y.extend({},h.endpoint):{},!Eb[e]||wb[e]>0&&b>=wb[e])return n&&n({element:c.el,connection:p},a),!1;if(s.anchor.locked=!1,o&&i.setDragScope(k,o),null==p.suspendedEndpoint&&!p.pending)return!1;var t=q.isDropAllowed(0===r?e:p.sourceId,0===r?p.targetId:e,p.scope,p,null);if(p.suspendedEndpoint&&(p[r?"targetId":"sourceId"]=p.suspendedEndpoint.elementId,p[r?"target":"source"]=p.suspendedEndpoint.element,p.endpoints[r]=p.suspendedEndpoint),t){var u=i.getElementObject(c.el),v=ub[e];if((null==v||null==v._jsPlumb)&&(v=j.addEndpoint(u,h)),h.uniqueEndpoint&&(ub[e]=v),v._doNotDeleteOnDetach=!1,v._deleteOnDetach=!0,null!=v.anchor.positionFinder){var w=i.getUIPosition(arguments,j.getZoom()),x=f(u,j),z=g(u),B=v.anchor.positionFinder(w,x,z,v.anchor.constructorParams);v.anchor.x=B[0],v.anchor.y=B[1]}p[r?"target":"source"]=v.element,p[r?"targetId":"sourceId"]=v.elementId,p.endpoints[r].detachFromConnection(p),p.endpoints[r]._deleteOnDetach&&(p.endpoints[r].deleteAfterDragStop=!0),v.addConnection(p),p.endpoints[r]=v,p.deleteEndpointsOnDetach=l,1==r?j.anchorManager.updateOtherEndpoint(p.sourceId,p.suspendedElementId,p.targetId,p):j.anchorManager.sourceChanged(p.suspendedEndpoint.elementId,p.sourceId,p),S(p,null,a),p.pending=!1}else p.suspendedEndpoint&&(p.isReattach()?(p.setHover(!1),p.floatingAnchorIndex=null,p.suspendedEndpoint.addConnection(p),j.repaint(s.elementId)):s.detach(p,!1,!0,!0,a))},t=i.dragEvents.drop;r.scope=r.scope||k,r[t]=a.wrap(r[t],s),i.initDroppable(d(c.el),r,!0)};b=L(b);for(var r=b.length&&b.constructor!=String?b:[b],s=0,t=r.length;t>s;s++)q(r[s]);return j},this.unmakeTarget=function(a,b){var c=p(a);return y.CurrentLibrary.destroyDroppable(c.el),b||(delete tb[c.id],delete vb[c.id],delete wb[c.id],delete Eb[c.id]),j},this.makeSource=function(b,c,h){var i=y.extend({},h);y.extend(i,c),xb(i,0);var k=y.CurrentLibrary,l=i.maxConnections||-1,m=i.onMaxConnections,n=function(b){var c=b.id,h=d(b.el),n=function(){return null==i.parent?null:"parent"===i.parent?b.el.parentNode:e(i.parent)},o=null!=i.parent?j.getId(n()):c;yb[o]=i,Ab[o]=i.uniqueEndpoint,Bb[o]=!0;var p=k.dragEvents.stop,q=k.dragEvents.drag,r=y.extend({},i.dragOptions||{}),s=r.drag,t=r.stop,u=null,v=!1;Db[o]=l,r.scope=r.scope||i.scope,r[q]=a.wrap(r[q],function(){s&&s.apply(this,arguments),v=!1}),r[p]=a.wrap(r[p],function(){if(t&&t.apply(this,arguments),j.currentlyDragging=!1,null!=u._jsPlumb){k.unbind(u.canvas,"mousedown");var a=i.anchor||j.Defaults.Anchor,b=u.anchor,d=u.connections[0],e=j.makeAnchor(a,c,j),h=u.element;if(null!=e.positionFinder){var l=f(h,j),m=g(h),o={left:l.left+b.x*m[0],top:l.top+b.y*m[1]},p=e.positionFinder(o,l,m,e.constructorParams);e.x=p[0],e.y=p[1]}if(u.setAnchor(e,!0),i.parent){var q=n();if(q){var r=i.container||j.Defaults.Container||y.Defaults.Container;u.setElement(q,r)}}u.repaint(),j.repaint(u.elementId),j.repaint(d.targetId)}});var w=function(a){if(Bb[o]){if(i.filter){var b=k.getOriginalEvent(a),d=jsPlumbUtil.isString(i.filter)?Fb(b,h,i.filter):i.filter(b,h);if(d===!1)return}var e=j.select({source:o}).length;if(Db[o]>=0&&e>=Db[o])return m&&m({element:h,maxConnections:l},a),!1;var f=_({elId:c}).o,g=j.getZoom(),p=((a.pageX||a.page.x)/g-f.left)/f.width,q=((a.pageY||a.page.y)/g-f.top)/f.height,s=p,t=q;if(i.parent){var w=n(),x=bb(w);f=_({elId:x}).o,s=((a.pageX||a.page.x)-f.left)/f.width,t=((a.pageY||a.page.y)-f.top)/f.height}var z={};if(y.extend(z,i),z.isSource=!0,z.anchor=[p,q,0,0],z.parentAnchor=[s,t,0,0],z.dragOptions=r,i.parent){var A=z.container||j.Defaults.Container||y.Defaults.Container;z.container=A?A:y.CurrentLibrary.getParent(n())}u=j.addEndpoint(c,z),v=!0,u.endpointWillMoveAfterConnection=null!=i.parent,u.endpointWillMoveTo=i.parent?n():null,u._doNotDeleteOnDetach=!1,u._deleteOnDetach=!0;var B=function(){v&&(v=!1,j.deleteEndpoint(u))};j.registerListener(u.canvas,"mouseup",B),j.registerListener(h,"mouseup",B),k.trigger(u.canvas,"mousedown",a)}};j.registerListener(h,"mousedown",w),Cb[c]=w,i.filter&&jsPlumbUtil.isString(i.filter)&&k.setDragFilter(h,i.filter)};b=L(b);for(var o=b.length&&b.constructor!=String?b:[b],q=0,r=o.length;r>q;q++)n(p(o[q]));return j},this.unmakeSource=function(a,b){var c=p(a),d=Cb[c.id];return d&&j.unregisterListener(c.el,"mousedown",d),b||(delete yb[c.id],delete Ab[c.id],delete Bb[c.id],delete Cb[c.id],delete Db[c.id]),j},this.unmakeEverySource=function(){for(var a in Bb)j.unmakeSource(a,!0);yb={},Ab={},Bb={},Cb={}},this.unmakeEveryTarget=function(){for(var a in Eb)j.unmakeTarget(a,!0);return tb={},vb={},wb={},Eb={},j};var Gb=function(b,c,d,e){var f="source"==b?Bb:Eb;if(c=L(c),a.isString(c))f[c]=e?!f[c]:d;else if(c.length)for(var g=0,h=c.length;h>g;g++){var i=p(c[g]);f[i.id]=e?!f[i.id]:d}return j};this.toggleSourceEnabled=function(a){return Gb("source",a,null,!0),j.isSourceEnabled(a)},this.setSourceEnabled=function(a,b){return Gb("source",a,b)},this.isSource=function(a){return null!=Bb[p(a).id]},this.isSourceEnabled=function(a){return Bb[p(a).id]===!0},this.toggleTargetEnabled=function(a){return Gb("target",a,null,!0),j.isTargetEnabled(a)},this.isTarget=function(a){return null!=Eb[p(a).id]},this.isTargetEnabled=function(a){return Eb[p(a).id]===!0},this.setTargetEnabled=function(a,b){return Gb("target",a,b)},this.ready=function(a){j.bind("ready",a)},this.repaint=function(a,b,c){if("object"==typeof a&&a.length)for(var d=0,e=a.length;e>d;d++)M(a[d],b,c);else M(a,b,c);return j},this.repaintEverything=function(a){var b=h();for(var c in u)M(c,null,b,a);return j},this.removeAllEndpoints=function(a,b){var c=function(a){var d,e,f=p(a),g=u[f.id];if(g)for(d=0,e=g.length;e>d;d++)j.deleteEndpoint(g[d]);if(delete u[f.id],b&&f.el&&3!=f.el.nodeType&&8!=f.el.nodeType)for(d=0,e=f.el.childNodes.length;e>d;d++)c(f.el.childNodes[d])};return c(a),j},this.remove=function(a,b){var c=p(a);j.doWhileSuspended(function(){j.removeAllEndpoints(c.id,!0),j.dragManager.elementRemoved(c.id),delete A[c.id],j.anchorManager.clearFor(c.id),j.anchorManager.removeFloatingConnection(c.id)},b===!1),c.el&&y.CurrentLibrary.removeElement(c.el)};var Hb={},Ib=function(){for(var a in Hb)for(var b=0,c=Hb[a].length;c>b;b++){var d=Hb[a][b];y.CurrentLibrary.unbind(d.el,d.event,d.listener)}Hb={}};this.registerListener=function(a,b,c){y.CurrentLibrary.bind(a,b,c),jsPlumbUtil.addToList(Hb,b,{el:a,event:b,listener:c})},this.unregisterListener=function(a,b,c){y.CurrentLibrary.unbind(a,b,c),jsPlumbUtil.removeWithFunction(Hb,function(a){return a.type==b&&a.listener==c})},this.reset=function(){j.deleteEveryEndpoint(),j.unbind(),tb={},ub={},vb={},wb={},yb={},zb={},Ab={},Db={},t.splice(0),Ib(),j.anchorManager.reset(),jsPlumbAdapter.headless||j.dragManager.reset()},this.setDefaultScope=function(a){return G=a,j},this.setDraggable=X,this.setId=function(a,b,c){var d;jsPlumbUtil.isString(a)?d=a:(a=e(a),d=j.getId(a));var f=j.getConnections({source:d,scope:"*"},!0),g=j.getConnections({target:d,scope:"*"},!0);b=""+b,c?a=e(b):(a=e(d),jsPlumbAdapter.setAttribute(a,"id",b)),u[b]=u[d]||[];for(var h=0,i=u[b].length;i>h;h++)u[b][h].setElementId(b),u[b][h].setReferenceElement(a);delete u[d],j.anchorManager.changeId(d,b),jsPlumbAdapter.headless||j.dragManager.changeId(d,b);var k=function(c,d,e){for(var f=0,g=c.length;g>f;f++)c[f].endpoints[d].setElementId(b),c[f].endpoints[d].setReferenceElement(a),c[f][e+"Id"]=b,c[f][e]=a};k(f,0,"source"),k(g,1,"target"),j.repaint(b)},this.setDebugLog=function(a){r=a},this.setSuspendDrawing=function(a,b){var c=E;return E=a,F=a?(new Date).getTime():null,b&&j.repaintEverything(),c},this.isSuspendDrawing=function(){return E},this.getSuspendedAt=function(){return F},this.doWhileSuspended=function(b,c){var d=j.isSuspendDrawing();d||j.setSuspendDrawing(!0);try{b()}catch(e){a.log("Function run while suspended failed",e)}d||j.setSuspendDrawing(!1,!c)},this.updateOffset=_,this.getOffset=function(a){return x[a]},this.getSize=function(a){return D[a]},this.getCachedData=ab,this.timestamp=h,this.setRenderMode=function(a){H=jsPlumbAdapter.setRenderMode(a);var b,c;if(H==y.CANVAS){var d=function(a){y.CurrentLibrary.bind(document,a,function(d){if(!j.currentlyDragging&&H==y.CANVAS){for(b=0,c=t.length;c>b;b++){var e=t[b].getConnector()[a](d);if(e)return}for(var f in u){var g=u[f];for(b=0,c=g.length;c>b;b++)if(g[b].endpoint[a]&&g[b].endpoint[a](d))return}}})};d("click"),d("dblclick"),d("mousemove"),d("mousedown"),d("mouseup"),d("contextmenu")}return H},this.getRenderMode=function(){return H},this.show=function(a,b){return Y(a,"block",b),j},this.getTestHarness=function(){return{endpointsByElement:u,endpointCount:function(a){var b=u[a];return b?b.length:0},connectionCount:function(a){a=a||G;var b=j.getConnections({scope:a});return b?b.length:0},getId:bb,makeAnchor:self.makeAnchor,makeDynamicAnchor:self.makeDynamicAnchor}},this.toggleVisible=$,this.toggleDraggable=Z,this.addListener=this.bind,this.adjustForParentOffsetAndScroll=function(a,b){var c=null,d=a;if("svg"===b.tagName.toLowerCase()&&b.parentNode?c=b.parentNode:b.offsetParent&&(c=b.offsetParent),null!=c){var e="body"===c.tagName.toLowerCase()?{left:0,top:0}:f(c,j),g="body"===c.tagName.toLowerCase()?{left:0,top:0}:{left:c.scrollLeft,top:c.scrollTop};d[0]=a[0]-e.left+g.left,d[1]=a[1]-e.top+g.top}return d},jsPlumbAdapter.headless||(j.dragManager=jsPlumbAdapter.getDragManager(j),j.recalculateOffsets=j.dragManager.updateOffsets)};jsPlumbUtil.extend(x,jsPlumbUtil.EventGenerator,{setAttribute:function(a,b,c){jsPlumbAdapter.setAttribute(a,b,c)},getAttribute:function(a,b){return jsPlumbAdapter.getAttribute(y.CurrentLibrary.getDOMElement(a),b)},registerConnectionType:function(a,b){this._connectionTypes[a]=y.extend({},b)},registerConnectionTypes:function(a){for(var b in a)this._connectionTypes[b]=y.extend({},a[b])},registerEndpointType:function(a,b){this._endpointTypes[a]=y.extend({},b)},registerEndpointTypes:function(a){for(var b in a)this._endpointTypes[b]=y.extend({},a[b])},getType:function(a,b){return"connection"===b?this._connectionTypes[a]:this._endpointTypes[a]},setIdChanged:function(a,b){this.setId(a,b,!0)},setParent:function(a,b){var c=y.CurrentLibrary,d=c.getElementObject(a),e=c.getDOMElement(d),f=this.getId(e),g=c.getElementObject(b),h=c.getDOMElement(g),i=this.getId(h);e.parentNode.removeChild(e),h.appendChild(e),this.dragManager.setParent(d,f,g,i)}});var y=new x;"undefined"!=typeof window&&(window.jsPlumb=y),y.getInstance=function(a){var b=new x(a);return b.init(),b},"function"==typeof define&&(define("jsplumb",[],function(){return y}),define("jsplumbinstance",[],function(){return y.getInstance()})),"undefined"!=typeof exports&&(exports.jsPlumb=y)}(),function(){var a=function(a,b){var c=!1;return{drag:function(){if(c)return c=!1,!0;var d=jsPlumb.CurrentLibrary.getUIPosition(arguments,b.getZoom());a.element&&(jsPlumb.CurrentLibrary.setOffset(a.element,d),b.repaint(a.element,d))},stopDrag:function(){c=!0}}},b=function(a,b,c){var d=document.createElement("div");d.style.position="absolute",jsPlumb.CurrentLibrary.getElementObject(d),jsPlumb.CurrentLibrary.appendElement(d,b);var e=c.getId(d);c.updateOffset({elId:e}),a.id=e,a.element=d},c=function(a,b,c,d,e,f,g){var h=new jsPlumb.FloatingAnchor({reference:b,referenceCanvas:d,jsPlumbInstance:f});return g({paintStyle:a,endpoint:c,anchor:h,source:e,scope:"__floating"})},d=["connectorStyle","connectorHoverStyle","connectorOverlays","connector","connectionType","connectorClass","connectorHoverClass"],e=function(a,b){var c=0;if(null!=b)for(var d=0;d<a.connections.length;d++)if(a.connections[d].sourceId==b||a.connections[d].targetId==b){c=d;break}return a.connections[c]},f=function(a,b){return jsPlumbUtil.findWithFunction(b.connections,function(b){return b.id==a.id})};jsPlumb.Endpoint=function(g){var h=g._jsPlumb,i=jsPlumb.CurrentLibrary,j=(jsPlumbAdapter.getAttribute,i.getElementObject),k=i.getDOMElement,l=jsPlumbUtil,m=g.newConnection,n=g.newEndpoint,o=g.finaliseConnection,p=(g.fireDetachEvent,g.fireMoveEvent),q=g.floatingConnections;this.idPrefix="_jsplumb_e_",this.defaultLabelLocation=[.5,.5],this.defaultOverlayKeys=["Overlays","EndpointOverlays"],this.parent=g.parent,OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.getDefaultType=function(){return{parameters:{},scope:null,maxConnections:this._jsPlumb.instance.Defaults.MaxConnections,paintStyle:this._jsPlumb.instance.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,endpoint:this._jsPlumb.instance.Defaults.Endpoint||jsPlumb.Defaults.Endpoint,hoverPaintStyle:this._jsPlumb.instance.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,overlays:this._jsPlumb.instance.Defaults.EndpointOverlays||jsPlumb.Defaults.EndpointOverlays,connectorStyle:g.connectorStyle,connectorHoverStyle:g.connectorHoverStyle,connectorClass:g.connectorClass,connectorHoverClass:g.connectorHoverClass,connectorOverlays:g.connectorOverlays,connector:g.connector,connectorTooltip:g.connectorTooltip}},this._jsPlumb.enabled=!(g.enabled===!1),this._jsPlumb.visible=!0,this.element=k(g.source),this._jsPlumb.uuid=g.uuid,this._jsPlumb.floatingEndpoint=null;var r=null;this._jsPlumb.uuid&&(g.endpointsByUUID[this._jsPlumb.uuid]=this),this.elementId=g.elementId,this._jsPlumb.connectionCost=g.connectionCost,this._jsPlumb.connectionsDirected=g.connectionsDirected,this._jsPlumb.currentAnchorClass="",this._jsPlumb.events={};var s=function(){i.removeClass(this.element,h.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass),this.removeClass(h.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass),this._jsPlumb.currentAnchorClass=this.anchor.getCssClass(),this.addClass(h.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass),i.addClass(this.element,h.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass)}.bind(this);this.setAnchor=function(a,b){return this._jsPlumb.instance.continuousAnchorFactory.clear(this.elementId),this.anchor=this._jsPlumb.instance.makeAnchor(a,this.elementId,h),s(),this.anchor.bind("anchorChanged",function(a){this.fire("anchorChanged",{endpoint:this,anchor:a}),s()}.bind(this)),b||this._jsPlumb.instance.repaint(this.elementId),this};var t=g.anchor?g.anchor:g.anchors?g.anchors:h.Defaults.Anchor||"Top";this.setAnchor(t,!0);var u=function(a){this.connections.length>0?this.connections[0].setHover(a,!1):this.setHover(a)}.bind(this);g._transient||this._jsPlumb.instance.anchorManager.add(this,this.elementId),this.setEndpoint=function(a){null!=this.endpoint&&(this.endpoint.cleanup(),this.endpoint.destroy());var b=function(a,b){var c=h.getRenderMode();if(jsPlumb.Endpoints[c][a])return new jsPlumb.Endpoints[c][a](b);if(!h.Defaults.DoNotThrowErrors)throw{msg:"jsPlumb: unknown endpoint type '"+a+"'"}},c={_jsPlumb:this._jsPlumb.instance,cssClass:g.cssClass,parent:g.parent,container:g.container,tooltip:g.tooltip,connectorTooltip:g.connectorTooltip,endpoint:this};l.isString(a)?this.endpoint=b(a,c):l.isArray(a)?(c=l.merge(a[1],c),this.endpoint=b(a[0],c)):this.endpoint=a.clone(),jsPlumb.extend({},c),this.endpoint.clone=function(){return l.isString(a)?b(a,c):l.isArray(a)?(c=l.merge(a[1],c),b(a[0],c)):void 0}.bind(this),this.type=this.endpoint.type,this.bindListeners(this.endpoint,this,u)},this.setEndpoint(g.endpoint||h.Defaults.Endpoint||jsPlumb.Defaults.Endpoint||"Dot"),this.setPaintStyle(g.paintStyle||g.style||h.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle,!0),this.setHoverPaintStyle(g.hoverPaintStyle||h.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle,!0),this._jsPlumb.paintStyleInUse=this.getPaintStyle(),l.copyValues(d,g,this),this.isSource=g.isSource||!1,this.isTarget=g.isTarget||!1,this._jsPlumb.maxConnections=g.maxConnections||h.Defaults.MaxConnections,this.canvas=this.endpoint.canvas,this.addClass(h.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass),i.addClass(this.element,h.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass),this.connections=g.connections||[],this.connectorPointerEvents=g["connector-pointer-events"],this.scope=g.scope||h.getDefaultScope(),this.timestamp=null,this.reattachConnections=g.reattach||h.Defaults.ReattachConnections,this.connectionsDetachable=h.Defaults.ConnectionsDetachable,(g.connectionsDetachable===!1||g.detachable===!1)&&(this.connectionsDetachable=!1),this.dragAllowedWhenFull=g.dragAllowedWhenFull||!0,g.onMaxConnections&&this.bind("maxConnections",g.onMaxConnections),this.addConnection=function(a){this.connections.push(a),this[(this.connections.length>0?"add":"remove")+"Class"](h.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](h.endpointFullClass)},this.detachFromConnection=function(a,b){b=null==b?f(a,this):b,b>=0&&(this.connections.splice(b,1),this[(this.connections.length>0?"add":"remove")+"Class"](h.endpointConnectedClass),this[(this.isFull()?"add":"remove")+"Class"](h.endpointFullClass))},this.detach=function(a,b,c,d,e,g,i){var j=null==i?f(a,this):i,k=!1;return d=d!==!1,j>=0&&(c||a._forceDetach||a.isDetachable()&&a.isDetachAllowed(a)&&this.isDetachAllowed(a))&&(h.deleteObject({connection:a,fireEvent:!b&&d,originalEvent:e}),k=!0),k},this.detachAll=function(a,b){for(;this.connections.length>0;)this.detach(this.connections[0],!1,!0,a!==!1,b,this,0);return this},this.detachFrom=function(a,b,c){for(var d=[],e=0;e<this.connections.length;e++)(this.connections[e].endpoints[1]==a||this.connections[e].endpoints[0]==a)&&d.push(this.connections[e]);for(var f=0;f<d.length;f++)this.detach(d[f],!1,!0,b,c);return this},this.getElement=function(){return this.element},this.setElement=function(a){var b=this._jsPlumb.instance.getId(a),c=this.elementId;return l.removeWithFunction(g.endpointsByElement[this.elementId],function(a){return a.id==this.id}.bind(this)),this.element=k(a),this.elementId=h.getId(this.element),h.anchorManager.rehomeEndpoint(this,c,this.element),h.dragManager.endpointAdded(this.element),l.addToList(g.endpointsByElement,b,this),this},this.makeInPlaceCopy=function(){var a=this.anchor.getCurrentLocation({element:this}),b=this.anchor.getOrientation(this),c=this.anchor.getCssClass(),d={bind:function(){},compute:function(){return[a[0],a[1]]
},getCurrentLocation:function(){return[a[0],a[1]]},getOrientation:function(){return b},getCssClass:function(){return c}};return n({anchor:d,source:this.element,paintStyle:this.getPaintStyle(),endpoint:g.hideOnDrag?"Blank":this.endpoint,_transient:!0,scope:this.scope})},this.isFloating=function(){return null!=this.anchor&&this.anchor.isFloating},this.connectorSelector=function(){var a=this.connections[0];return this.isTarget&&a?a:this.connections.length<this._jsPlumb.maxConnections||-1==this._jsPlumb.maxConnections?null:a},this.setStyle=this.setPaintStyle,this.paint=function(a){a=a||{};var b=a.timestamp,c=!(a.recalc===!1);if(!b||this.timestamp!==b){var d=h.updateOffset({elId:this.elementId,timestamp:b}),f=a.offset?a.offset.o:d.o;if(null!=f){var g=a.anchorPoint,i=a.connectorPaintStyle;if(null==g){var j=a.dimensions||d.s,k={xy:[f.left,f.top],wh:j,element:this,timestamp:b};if(c&&this.anchor.isDynamic&&this.connections.length>0){var l=e(this,a.elementWithPrecedence),m=l.endpoints[0]==this?1:0,n=0===m?l.sourceId:l.targetId,o=h.getCachedData(n),p=o.o,q=o.s;k.txy=[p.left,p.top],k.twh=q,k.tElement=l.endpoints[m]}g=this.anchor.compute(k)}this.endpoint.compute(g,this.anchor.getOrientation(this),this._jsPlumb.paintStyleInUse,i||this.paintStyleInUse),this.endpoint.paint(this._jsPlumb.paintStyleInUse,this.anchor),this.timestamp=b;for(var r=0;r<this._jsPlumb.overlays.length;r++){var s=this._jsPlumb.overlays[r];s.isVisible()&&(this._jsPlumb.overlayPlacements[r]=s.draw(this.endpoint,this._jsPlumb.paintStyleInUse),s.paint(this._jsPlumb.overlayPlacements[r]))}}}},this.repaint=this.paint;var v=!1;this.initDraggable=function(){if(!v&&i.isDragSupported(this.element)){var d={id:null,element:null},e=null,f=!1,k=null,o=a(d,h),p=function(){e=this.connectorSelector();var a=!0;if(this.isEnabled()||(a=!1),null!=e||this.isSource||(a=!1),this.isSource&&this.isFull()&&!this.dragAllowedWhenFull&&(a=!1),null==e||e.isDetachable()||(a=!1),a===!1)return i.stopDrag&&i.stopDrag(),o.stopDrag(),!1;for(var p=0;p<this.connections.length;p++)this.connections[p].setHover(!1);this.addClass("endpointDrag"),h.setConnectionBeingDragged(!0),e&&!this.isFull()&&this.isSource&&(e=null),h.updateOffset({elId:this.elementId}),r=this.makeInPlaceCopy(),r.referenceEndpoint=this,r.paint(),b(d,this.parent,h);var s=j(r.canvas),t=jsPlumb.CurrentLibrary.getOffset(s,h),u=h.adjustForParentOffsetAndScroll([t.left,t.top],r.canvas),v=j(this.canvas);if(i.setOffset(d.element,{left:u[0],top:u[1]}),this.parentAnchor&&(this.anchor=h.makeAnchor(this.parentAnchor,this.elementId,h)),h.setAttribute(this.canvas,"dragId",d.id),h.setAttribute(this.canvas,"elId",this.elementId),this._jsPlumb.floatingEndpoint=c(this.getPaintStyle(),this.anchor,this.endpoint,this.canvas,d.element,h,n),this.canvas.style.visibility="hidden",null==e)this.anchor.locked=!0,this.setHover(!1,!1),e=m({sourceEndpoint:this,targetEndpoint:this._jsPlumb.floatingEndpoint,source:this.endpointWillMoveTo||this.element,target:d.element,anchors:[this.anchor,this._jsPlumb.floatingEndpoint.anchor],paintStyle:g.connectorStyle,hoverPaintStyle:g.connectorHoverStyle,connector:g.connector,overlays:g.connectorOverlays,type:this.connectionType,cssClass:this.connectorClass,hoverClass:this.connectorHoverClass}),e.pending=!0,e.addClass(h.draggingClass),this._jsPlumb.floatingEndpoint.addClass(h.draggingClass),h.fire("connectionDrag",e);else{f=!0,e.setHover(!1),w(s,!1,!0);var x=e.endpoints[0].id==this.id?0:1;e.floatingAnchorIndex=x,this.detachFromConnection(e);var y=jsPlumb.CurrentLibrary.getDragScope(v);h.setAttribute(this.canvas,"originalScope",y);var z=i.getDropScope(v);i.setDragScope(v,z),h.fire("connectionDrag",e),0===x?(k=[e.source,e.sourceId,v,y],e.source=d.element,e.sourceId=d.id):(k=[e.target,e.targetId,v,y],e.target=d.element,e.targetId=d.id),e.endpoints[0===x?1:0].anchor.locked=!0,e.suspendedEndpoint=e.endpoints[x],e.suspendedElement=e.endpoints[x].getElement(),e.suspendedElementId=e.endpoints[x].elementId,e.suspendedElementType=0===x?"source":"target",e.suspendedEndpoint.setHover(!1),this._jsPlumb.floatingEndpoint.referenceEndpoint=e.suspendedEndpoint,e.endpoints[x]=this._jsPlumb.floatingEndpoint,e.addClass(h.draggingClass),this._jsPlumb.floatingEndpoint.addClass(h.draggingClass)}q[d.id]=e,h.anchorManager.addFloatingConnection(d.id,e),l.addToList(g.endpointsByElement,d.id,this._jsPlumb.floatingEndpoint),h.currentlyDragging=!0}.bind(this),s=g.dragOptions||{},t=jsPlumb.extend({},i.defaultDragOptions),u=i.dragEvents.start,x=i.dragEvents.stop,y=i.dragEvents.drag;s=jsPlumb.extend(t,s),s.scope=s.scope||this.scope,s[u]=l.wrap(s[u],p,!1),s[y]=l.wrap(s[y],o.drag),s[x]=l.wrap(s[x],function(){if(h.setConnectionBeingDragged(!1),null!=e.endpoints){var a=i.getDropEvent(arguments),b=null==e.floatingAnchorIndex?1:e.floatingAnchorIndex;e.endpoints[0===b?1:0].anchor.locked=!1,e.removeClass(h.draggingClass),e.endpoints[b]==this._jsPlumb.floatingEndpoint&&f&&e.suspendedEndpoint&&(0===b?(e.source=k[0],e.sourceId=k[1]):(e.target=k[0],e.targetId=k[1]),i.setDragScope(k[2],k[3]),e.endpoints[b]=e.suspendedEndpoint,(e.isReattach()||e._forceReattach||e._forceDetach||!e.endpoints[0===b?1:0].detach(e,!1,!1,!0,a))&&(e.setHover(!1),e.floatingAnchorIndex=null,e._forceDetach=null,e._forceReattach=null,this._jsPlumb.floatingEndpoint.detachFromConnection(e),e.suspendedEndpoint.addConnection(e),h.repaint(k[1])))}h.remove(d.element,!1),h.remove(r.canvas,!1),this.deleteAfterDragStop?h.deleteObject({endpoint:this}):this._jsPlumb&&(this._jsPlumb.floatingEndpoint=null,this.canvas.style.visibility="visible",this.anchor.locked=!1,this.paint({recalc:!1})),h.fire("connectionDragStop",e,a),h.currentlyDragging=!1,e=null}.bind(this));var z=j(this.canvas);i.initDraggable(z,s,!0,h),v=!0}},(this.isSource||this.isTarget)&&this.initDraggable();var w=function(a,b,c,d){if((this.isTarget||b)&&i.isDropSupported(this.element)){var e=g.dropOptions||h.Defaults.DropOptions||jsPlumb.Defaults.DropOptions;e=jsPlumb.extend({},e),e.scope=e.scope||this.scope;var f=i.dragEvents.drop,k=i.dragEvents.over,m=i.dragEvents.out,n=function(){this.removeClass(h.endpointDropAllowedClass),this.removeClass(h.endpointDropForbiddenClass);var a=i.getDropEvent(arguments),b=j(i.getDragObject(arguments)),c=h.getAttribute(b,"dragId"),e=(h.getAttribute(b,"elId"),h.getAttribute(b,"originalScope")),f=q[c],g=f.suspendedEndpoint&&(f.suspendedEndpoint.id==this.id||this.referenceEndpoint&&f.suspendedEndpoint.id==this.referenceEndpoint.id);if(g)return f._forceReattach=!0,void 0;if(null!=f){var k=null==f.floatingAnchorIndex?1:f.floatingAnchorIndex;e&&jsPlumb.CurrentLibrary.setDragScope(b,e);var l=null!=d?d.isEnabled():!0;if(this.isFull()&&this.fire("maxConnections",{endpoint:this,connection:f,maxConnections:this._jsPlumb.maxConnections},a),!this.isFull()&&(0!==k||this.isSource)&&(1!=k||this.isTarget)&&l){var m=!0;f.suspendedEndpoint&&f.suspendedEndpoint.id!=this.id&&(0===k?(f.source=f.suspendedEndpoint.element,f.sourceId=f.suspendedEndpoint.elementId):(f.target=f.suspendedEndpoint.element,f.targetId=f.suspendedEndpoint.elementId),f.isDetachAllowed(f)&&f.endpoints[k].isDetachAllowed(f)&&f.suspendedEndpoint.isDetachAllowed(f)&&h.checkCondition("beforeDetach",f)||(m=!1)),0===k?(f.source=this.element,f.sourceId=this.elementId):(f.target=this.element,f.targetId=this.elementId);var n=function(){f.floatingAnchorIndex=null},r=function(){f.pending=!1,f.endpoints[k].detachFromConnection(f),f.suspendedEndpoint&&f.suspendedEndpoint.detachFromConnection(f),f.endpoints[k]=this,this.addConnection(f);var b=this.getParameters();for(var c in b)f.setParameter(c,b[c]);if(f.suspendedEndpoint){var d=(f.suspendedEndpoint.getElement(),f.suspendedEndpoint.elementId);p({index:k,originalSourceId:0===k?d:f.sourceId,newSourceId:0===k?this.elementId:f.sourceId,originalTargetId:1==k?d:f.targetId,newTargetId:1==k?this.elementId:f.targetId,originalSourceEndpoint:0===k?f.suspendedEndpoint:f.endpoints[0],newSourceEndpoint:0===k?this:f.endpoints[0],originalTargetEndpoint:1==k?f.suspendedEndpoint:f.endpoints[1],newTargetEndpoint:1==k?this:f.endpoints[1],connection:f},a)}else b.draggable&&jsPlumb.CurrentLibrary.initDraggable(this.element,dragOptions,!0,h);1==k?h.anchorManager.updateOtherEndpoint(f.sourceId,f.suspendedElementId,f.targetId,f):h.anchorManager.sourceChanged(f.suspendedEndpoint.elementId,f.sourceId,f),o(f,null,a),n()}.bind(this),s=function(){f.suspendedEndpoint&&(f.endpoints[k]=f.suspendedEndpoint,f.setHover(!1),f._forceDetach=!0,0===k?(f.source=f.suspendedEndpoint.element,f.sourceId=f.suspendedEndpoint.elementId):(f.target=f.suspendedEndpoint.element,f.targetId=f.suspendedEndpoint.elementId),f.suspendedEndpoint.addConnection(f),f.endpoints[0].repaint(),f.repaint(),h.repaint(f.sourceId),f._forceDetach=!1),n()};m=m&&this.isDropAllowed(f.sourceId,f.targetId,f.scope,f,this),m?r():s()}h.currentlyDragging=!1}}.bind(this);e[f]=l.wrap(e[f],n),e[k]=l.wrap(e[k],function(){var a=i.getDragObject(arguments),b=h.getAttribute(a,"dragId"),c=q[b];if(null!=c){var d=null==c.floatingAnchorIndex?1:c.floatingAnchorIndex,e=this.isTarget&&0!==c.floatingAnchorIndex||c.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==c.suspendedEndpoint.id;if(e){var f=h.checkCondition("checkDropAllowed",{sourceEndpoint:c.endpoints[d],targetEndpoint:this,connection:c});this[(f?"add":"remove")+"Class"](h.endpointDropAllowedClass),this[(f?"remove":"add")+"Class"](h.endpointDropForbiddenClass),c.endpoints[d].anchor.over(this.anchor,this)}}}.bind(this)),e[m]=l.wrap(e[m],function(){var a=i.getDragObject(arguments),b=h.getAttribute(a,"dragId"),c=q[b];if(null!=c){var d=null==c.floatingAnchorIndex?1:c.floatingAnchorIndex,e=this.isTarget&&0!==c.floatingAnchorIndex||c.suspendedEndpoint&&this.referenceEndpoint&&this.referenceEndpoint.id==c.suspendedEndpoint.id;e&&(this.removeClass(h.endpointDropAllowedClass),this.removeClass(h.endpointDropForbiddenClass),c.endpoints[d].anchor.out())}}.bind(this)),i.initDroppable(a,e,!0,c)}}.bind(this);return w(j(this.canvas),!0,!(g._transient||this.anchor.isFloating),this),g.type&&this.addType(g.type,g.data,h.isSuspendDrawing()),this},jsPlumbUtil.extend(jsPlumb.Endpoint,OverlayCapableJsPlumbUIComponent,{getTypeDescriptor:function(){return"endpoint"},isVisible:function(){return this._jsPlumb.visible},setVisible:function(a,b,c){if(this._jsPlumb.visible=a,this.canvas&&(this.canvas.style.display=a?"block":"none"),this[a?"showOverlays":"hideOverlays"](),!b)for(var d=0;d<this.connections.length;d++)if(this.connections[d].setVisible(a),!c){var e=this===this.connections[d].endpoints[0]?1:0;1==this.connections[d].endpoints[e].connections.length&&this.connections[d].endpoints[e].setVisible(a,!0,!0)}},getAttachedElements:function(){return this.connections},applyType:function(a){null!=a.maxConnections&&(this._jsPlumb.maxConnections=a.maxConnections),a.scope&&(this.scope=a.scope),jsPlumbUtil.copyValues(d,a,this),a.anchor&&(this.anchor=this._jsPlumb.instance.makeAnchor(a.anchor))},isEnabled:function(){return this._jsPlumb.enabled},setEnabled:function(a){this._jsPlumb.enabled=a},cleanup:function(){jsPlumb.CurrentLibrary.removeClass(this.element,this._jsPlumb.instance.endpointAnchorClassPrefix+"_"+this._jsPlumb.currentAnchorClass),this.anchor=null,this.endpoint.cleanup(),this.endpoint.destroy(),this.endpoint=null;var a=jsPlumb.CurrentLibrary.getElementObject(this.canvas);jsPlumb.CurrentLibrary.destroyDraggable(a),jsPlumb.CurrentLibrary.destroyDroppable(a)},setHover:function(a){this.endpoint&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&this.endpoint.setHover(a)},isFull:function(){return!(this.isFloating()||this._jsPlumb.maxConnections<1||this.connections.length<this._jsPlumb.maxConnections)},getConnectionCost:function(){return this._jsPlumb.connectionCost},setConnectionCost:function(a){this._jsPlumb.connectionCost=a},areConnectionsDirected:function(){return this._jsPlumb.connectionsDirected},setConnectionsDirected:function(a){this._jsPlumb.connectionsDirected=a},setElementId:function(a){this.elementId=a,this.anchor.elementId=a},setReferenceElement:function(a){this.element=jsPlumb.CurrentLibrary.getDOMElement(a)},setDragAllowedWhenFull:function(a){this.dragAllowedWhenFull=a},equals:function(a){return this.anchor.equals(a.anchor)},getUuid:function(){return this._jsPlumb.uuid},computeAnchor:function(a){return this.anchor.compute(a)}})}(),function(){var a=function(a,b,c,d){if(!a.Defaults.DoNotThrowErrors&&null==jsPlumb.Connectors[b][c])throw{msg:"jsPlumb: unknown connector type '"+c+"'"};return new jsPlumb.Connectors[b][c](d)},b=function(a,b,c){return a?c.makeAnchor(a,b,c):null},c=function(a,c,d,e,f,g,h,i,j,k){var l;if(e)d.endpoints[f]=e,e.addConnection(d);else{g.endpoints||(g.endpoints=[null,null]);var m=g.endpoints[f]||g.endpoint||a.Defaults.Endpoints[f]||jsPlumb.Defaults.Endpoints[f]||a.Defaults.Endpoint||jsPlumb.Defaults.Endpoint;g.endpointStyles||(g.endpointStyles=[null,null]),g.endpointHoverStyles||(g.endpointHoverStyles=[null,null]);var n=g.endpointStyles[f]||g.endpointStyle||a.Defaults.EndpointStyles[f]||jsPlumb.Defaults.EndpointStyles[f]||a.Defaults.EndpointStyle||jsPlumb.Defaults.EndpointStyle;null==n.fillStyle&&null!=j&&(n.fillStyle=j.strokeStyle),null==n.outlineColor&&null!=j&&(n.outlineColor=j.outlineColor),null==n.outlineWidth&&null!=j&&(n.outlineWidth=j.outlineWidth);var o=g.endpointHoverStyles[f]||g.endpointHoverStyle||a.Defaults.EndpointHoverStyles[f]||jsPlumb.Defaults.EndpointHoverStyles[f]||a.Defaults.EndpointHoverStyle||jsPlumb.Defaults.EndpointHoverStyle;null!=k&&(null==o&&(o={}),null==o.fillStyle&&(o.fillStyle=k.strokeStyle));var p=g.anchors?g.anchors[f]:g.anchor?g.anchor:b(a.Defaults.Anchors[f],i,a)||b(jsPlumb.Defaults.Anchors[f],i,a)||b(a.Defaults.Anchor,i,a)||b(jsPlumb.Defaults.Anchor,i,a),q=g.uuids?g.uuids[f]:null;l=c({paintStyle:n,hoverPaintStyle:o,endpoint:m,connections:[d],uuid:q,anchor:p,source:h,scope:g.scope,container:g.container,reattach:g.reattach||a.Defaults.ReattachConnections,detachable:g.detachable||a.Defaults.ConnectionsDetachable}),d.endpoints[f]=l,g.drawEndpoints===!1&&l.setVisible(!1,!0,!0)}return l};jsPlumb.Connection=function(a){var b=(a.newConnection,a.newEndpoint),d=jsPlumb.CurrentLibrary,e=(d.getAttribute,d.getElementObject,d.getDOMElement),f=jsPlumbUtil;d.getOffset,this.connector=null,this.idPrefix="_jsplumb_c_",this.defaultLabelLocation=.5,this.defaultOverlayKeys=["Overlays","ConnectionOverlays"],this.parent=a.parent,this.previousConnection=a.previousConnection,this.source=e(a.source),this.target=e(a.target),a.sourceEndpoint&&(this.source=a.sourceEndpoint.endpointWillMoveTo||a.sourceEndpoint.getElement()),a.targetEndpoint&&(this.target=a.targetEndpoint.getElement()),OverlayCapableJsPlumbUIComponent.apply(this,arguments),this.sourceId=this._jsPlumb.instance.getId(this.source),this.targetId=this._jsPlumb.instance.getId(this.target),this.scope=a.scope,this.endpoints=[],this.endpointStyles=[];var g=this._jsPlumb.instance;this._jsPlumb.visible=!0,this._jsPlumb.editable=a.editable===!0,this._jsPlumb.params={parent:a.parent,cssClass:a.cssClass,container:a.container,"pointer-events":a["pointer-events"],editorParams:a.editorParams},this._jsPlumb.lastPaintedAt=null,this.getDefaultType=function(){return{parameters:{},scope:null,detachable:this._jsPlumb.instance.Defaults.ConnectionsDetachable,rettach:this._jsPlumb.instance.Defaults.ReattachConnections,paintStyle:this._jsPlumb.instance.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,connector:this._jsPlumb.instance.Defaults.Connector||jsPlumb.Defaults.Connector,hoverPaintStyle:this._jsPlumb.instance.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,overlays:this._jsPlumb.instance.Defaults.ConnectorOverlays||jsPlumb.Defaults.ConnectorOverlays}};var h=c(g,b,this,a.sourceEndpoint,0,a,this.source,this.sourceId,a.paintStyle,a.hoverPaintStyle);h&&f.addToList(a.endpointsByElement,this.sourceId,h);var i=c(g,b,this,a.targetEndpoint,1,a,this.target,this.targetId,a.paintStyle,a.hoverPaintStyle);i&&f.addToList(a.endpointsByElement,this.targetId,i),this.scope||(this.scope=this.endpoints[0].scope),null!=a.deleteEndpointsOnDetach?(this.endpoints[0]._deleteOnDetach=a.deleteEndpointsOnDetach,this.endpoints[1]._deleteOnDetach=a.deleteEndpointsOnDetach):(this.endpoints[0]._doNotDeleteOnDetach||(this.endpoints[0]._deleteOnDetach=!0),this.endpoints[1]._doNotDeleteOnDetach||(this.endpoints[1]._deleteOnDetach=!0)),this.setConnector(this.endpoints[0].connector||this.endpoints[1].connector||a.connector||g.Defaults.Connector||jsPlumb.Defaults.Connector,!0),a.path&&this.connector.setPath(a.path),this.setPaintStyle(this.endpoints[0].connectorStyle||this.endpoints[1].connectorStyle||a.paintStyle||g.Defaults.PaintStyle||jsPlumb.Defaults.PaintStyle,!0),this.setHoverPaintStyle(this.endpoints[0].connectorHoverStyle||this.endpoints[1].connectorHoverStyle||a.hoverPaintStyle||g.Defaults.HoverPaintStyle||jsPlumb.Defaults.HoverPaintStyle,!0),this._jsPlumb.paintStyleInUse=this.getPaintStyle();var j=g.getSuspendedAt();if(g.updateOffset({elId:this.sourceId,timestamp:j}),g.updateOffset({elId:this.targetId,timestamp:j}),!g.isSuspendDrawing()){var k=g.getCachedData(this.sourceId),l=k.o,m=k.s,n=g.getCachedData(this.targetId),o=n.o,p=n.s,q=j||g.timestamp(),r=this.endpoints[0].anchor.compute({xy:[l.left,l.top],wh:m,element:this.endpoints[0],elementId:this.endpoints[0].elementId,txy:[o.left,o.top],twh:p,tElement:this.endpoints[1],timestamp:q});this.endpoints[0].paint({anchorLoc:r,timestamp:q}),r=this.endpoints[1].anchor.compute({xy:[o.left,o.top],wh:p,element:this.endpoints[1],elementId:this.endpoints[1].elementId,txy:[l.left,l.top],twh:m,tElement:this.endpoints[0],timestamp:q}),this.endpoints[1].paint({anchorLoc:r,timestamp:q})}this._jsPlumb.detachable=g.Defaults.ConnectionsDetachable,a.detachable===!1&&(this._jsPlumb.detachable=!1),this.endpoints[0].connectionsDetachable===!1&&(this._jsPlumb.detachable=!1),this.endpoints[1].connectionsDetachable===!1&&(this._jsPlumb.detachable=!1),this._jsPlumb.reattach=a.reattach||this.endpoints[0].reattachConnections||this.endpoints[1].reattachConnections||g.Defaults.ReattachConnections,this._jsPlumb.cost=a.cost||this.endpoints[0].getConnectionCost(),this._jsPlumb.directed=a.directed,null==a.directed&&(this._jsPlumb.directed=this.endpoints[0].areConnectionsDirected());var s=jsPlumb.extend({},this.endpoints[1].getParameters());jsPlumb.extend(s,this.endpoints[0].getParameters()),jsPlumb.extend(s,this.getParameters()),this.setParameters(s);var t=[a.type,this.endpoints[0].connectionType,this.endpoints[1].connectionType].join(" ");/[a-zA-Z]/.test(t)&&this.addType(t,a.data,!0)},jsPlumbUtil.extend(jsPlumb.Connection,OverlayCapableJsPlumbUIComponent,{applyType:function(a,b){null!=a.detachable&&this.setDetachable(a.detachable),null!=a.reattach&&this.setReattach(a.reattach),a.scope&&(this.scope=a.scope),this.setConnector(a.connector,b)},getTypeDescriptor:function(){return"connection"},getAttachedElements:function(){return this.endpoints},addClass:function(a,b){b&&(this.endpoints[0].addClass(a),this.endpoints[1].addClass(a),this.suspendedEndpoint&&this.suspendedEndpoint.addClass(a)),this.connector&&this.connector.addClass(a)},removeClass:function(a,b){b&&(this.endpoints[0].removeClass(a),this.endpoints[1].removeClass(a),this.suspendedEndpoint&&this.suspendedEndpoint.removeClass(a)),this.connector&&this.connector.removeClass(a)},isVisible:function(){return this._jsPlumb.visible},setVisible:function(a){this._jsPlumb.visible=a,this.connector&&this.connector.setVisible(a),this.repaint()},cleanup:function(){this.endpoints=null,this.source=null,this.target=null,null!=this.connector&&(this.connector.cleanup(),this.connector.destroy()),this.connector=null},isDetachable:function(){return this._jsPlumb.detachable===!0},setDetachable:function(a){this._jsPlumb.detachable=a===!0},isReattach:function(){return this._jsPlumb.reattach===!0},setReattach:function(a){this._jsPlumb.reattach=a===!0},setHover:function(a){this.connector&&this._jsPlumb&&!this._jsPlumb.instance.isConnectionBeingDragged()&&(this.connector.setHover(a),jsPlumb.CurrentLibrary[a?"addClass":"removeClass"](this.source,this._jsPlumb.instance.hoverSourceClass),jsPlumb.CurrentLibrary[a?"addClass":"removeClass"](this.target,this._jsPlumb.instance.hoverTargetClass))},getCost:function(){return this._jsPlumb.cost},setCost:function(a){this._jsPlumb.cost=a},isDirected:function(){return this._jsPlumb.directed===!0},moveParent:function(a){var b=jsPlumb.CurrentLibrary;b.getParent(this.connector.canvas),this.connector.bgCanvas&&(b.removeElement(this.connector.bgCanvas),b.appendElement(this.connector.bgCanvas,a)),b.removeElement(this.connector.canvas),b.appendElement(this.connector.canvas,a);for(var c=0;c<this._jsPlumb.overlays.length;c++)this._jsPlumb.overlays[c].isAppendedAtTopLevel&&(b.removeElement(this._jsPlumb.overlays[c].canvas),b.appendElement(this._jsPlumb.overlays[c].canvas,a),this._jsPlumb.overlays[c].reattachListeners&&this._jsPlumb.overlays[c].reattachListeners(this.connector));this.connector.reattachListeners&&this.connector.reattachListeners()},getConnector:function(){return this.connector},setConnector:function(b,c){var d=jsPlumbUtil;null!=this.connector&&(this.connector.cleanup(),this.connector.destroy());var e={_jsPlumb:this._jsPlumb.instance,parent:this._jsPlumb.params.parent,cssClass:this._jsPlumb.params.cssClass,container:this._jsPlumb.params.container,"pointer-events":this._jsPlumb.params["pointer-events"]},f=this._jsPlumb.instance.getRenderMode();d.isString(b)?this.connector=a(this._jsPlumb.instance,f,b,e):d.isArray(b)&&(this.connector=1==b.length?a(this._jsPlumb.instance,f,b[0],e):a(this._jsPlumb.instance,f,b[0],d.merge(b[1],e))),this.bindListeners(this.connector,this,function(a){this.setHover(a,!1)}.bind(this)),this.canvas=this.connector.canvas,this._jsPlumb.editable&&null!=jsPlumb.ConnectorEditors&&jsPlumb.ConnectorEditors[this.connector.type]&&this.connector.isEditable()?new jsPlumb.ConnectorEditors[this.connector.type]({connector:this.connector,connection:this,params:this._jsPlumb.params.editorParams||{}}):this._jsPlumb.editable=!1,c||this.repaint()},paint:function(a){if(!this._jsPlumb.instance.isSuspendDrawing()&&this._jsPlumb.visible){a=a||{};var b=(a.elId,a.ui),c=a.recalc,d=a.timestamp,e=!1,f=e?this.sourceId:this.targetId,g=e?this.targetId:this.sourceId,h=e?0:1,i=e?1:0;if(null==d||d!=this._jsPlumb.lastPaintedAt){var j=this._jsPlumb.instance.updateOffset({elId:g,offset:b,recalc:c,timestamp:d}).o,k=this._jsPlumb.instance.updateOffset({elId:f,timestamp:d}).o,l=this.endpoints[i],m=this.endpoints[h];a.clearEdits&&(this._jsPlumb.overlayPositions=null,l.anchor.clearUserDefinedLocation(),m.anchor.clearUserDefinedLocation(),this.connector.setEdited(!1));var n=l.anchor.getCurrentLocation({xy:[j.left,j.top],wh:[j.width,j.height],element:l,timestamp:d}),o=m.anchor.getCurrentLocation({xy:[k.left,k.top],wh:[k.width,k.height],element:m,timestamp:d});this.connector.resetBounds(),this.connector.compute({sourcePos:n,targetPos:o,sourceEndpoint:this.endpoints[i],targetEndpoint:this.endpoints[h],lineWidth:this._jsPlumb.paintStyleInUse.lineWidth,sourceInfo:j,targetInfo:k,clearEdits:a.clearEdits===!0});for(var p={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0},q=0;q<this._jsPlumb.overlays.length;q++){var r=this._jsPlumb.overlays[q];r.isVisible()&&(this._jsPlumb.overlayPlacements[q]=r.draw(this.connector,this._jsPlumb.paintStyleInUse,this.getAbsoluteOverlayPosition(r)),p.minX=Math.min(p.minX,this._jsPlumb.overlayPlacements[q].minX),p.maxX=Math.max(p.maxX,this._jsPlumb.overlayPlacements[q].maxX),p.minY=Math.min(p.minY,this._jsPlumb.overlayPlacements[q].minY),p.maxY=Math.max(p.maxY,this._jsPlumb.overlayPlacements[q].maxY))}var s=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||1)/2,t=parseFloat(this._jsPlumb.paintStyleInUse.lineWidth||0),u={xmin:Math.min(this.connector.bounds.minX-(s+t),p.minX),ymin:Math.min(this.connector.bounds.minY-(s+t),p.minY),xmax:Math.max(this.connector.bounds.maxX+(s+t),p.maxX),ymax:Math.max(this.connector.bounds.maxY+(s+t),p.maxY)};this.connector.paint(this._jsPlumb.paintStyleInUse,null,u);for(var v=0;v<this._jsPlumb.overlays.length;v++){var w=this._jsPlumb.overlays[v];w.isVisible()&&w.paint(this._jsPlumb.overlayPlacements[v],u)}}this._jsPlumb.lastPaintedAt=d}},repaint:function(a){a=a||{},this.paint({elId:this.sourceId,recalc:!(a.recalc===!1),timestamp:a.timestamp,clearEdits:a.clearEdits})}})}(),function(){jsPlumb.AnchorManager=function(a){var b={},c={},d={},e={},f={},g={HORIZONTAL:"horizontal",VERTICAL:"vertical",DIAGONAL:"diagonal",IDENTITY:"identity"},h={},i=this,j={},k=a.jsPlumbInstance,l=jsPlumb.CurrentLibrary,m={},n=function(a,b,c,d,e,f){if(a===b)return{orientation:g.IDENTITY,a:["top","top"]};var h=Math.atan2(d.centery-c.centery,d.centerx-c.centerx),i=Math.atan2(c.centery-d.centery,c.centerx-d.centerx),j=c.left<=d.left&&c.right>=d.left||c.left<=d.right&&c.right>=d.right||c.left<=d.left&&c.right>=d.right||d.left<=c.left&&d.right>=c.right,k=c.top<=d.top&&c.bottom>=d.top||c.top<=d.bottom&&c.bottom>=d.bottom||c.top<=d.top&&c.bottom>=d.bottom||d.top<=c.top&&d.bottom>=c.bottom,l=function(a){return[e.isContinuous?e.verifyEdge(a[0]):a[0],f.isContinuous?f.verifyEdge(a[1]):a[1]]},m={orientation:g.DIAGONAL,theta:h,theta2:i};return j||k?j?(m.orientation=g.HORIZONTAL,m.a=c.top<d.top?["bottom","top"]:["top","bottom"]):(m.orientation=g.VERTICAL,m.a=c.left<d.left?["right","left"]:["left","right"]):d.left>c.left&&d.top>c.top?m.a=["right","top"]:d.left>c.left&&c.top>d.top?m.a=["top","left"]:d.left<c.left&&d.top<c.top?m.a=["top","right"]:d.left<c.left&&d.top>c.top&&(m.a=["left","top"]),m.a=l(m.a),m},o=function(a,b,c,d,e,f,g){for(var h=[],i=b[e?0:1]/(d.length+1),j=0;j<d.length;j++){var k=(j+1)*i,l=f*b[e?1:0];g&&(k=b[e?0:1]-k);var m=e?k:l,n=c[0]+m,o=m/b[0],p=e?l:k,q=c[1]+p,r=p/b[1];h.push([n,q,o,r,d[j][1],d[j][2]])}return h},p=function(a){return function(b,c){var d=!0;return d=a?b[0][0]<c[0][0]:b[0][0]>c[0][0],d===!1?-1:1}},q=function(a,b){var c=a[0][0]<0?-Math.PI-a[0][0]:Math.PI-a[0][0],d=b[0][0]<0?-Math.PI-b[0][0]:Math.PI-b[0][0];return c>d?1:a[0][1]>b[0][1]?1:-1},r={top:function(a,b){return a[0]>b[0]?1:-1},right:p(!0),bottom:p(!0),left:q},s=function(a,b){return a.sort(b)},t=function(a,b){var c=k.getCachedData(a),e=c.s,g=c.o,h=function(b,c,e,g,h,i,j){if(g.length>0)for(var l=s(g,r[b]),m="right"===b||"top"===b,n=o(b,c,e,l,h,i,m),p=function(a,b){var c=k.adjustForParentOffsetAndScroll([b[0],b[1]],a.canvas);d[a.id]=[c[0],c[1],b[2],b[3]],f[a.id]=j},q=0;q<n.length;q++){var t=n[q][4],u=t.endpoints[0].elementId===a,v=t.endpoints[1].elementId===a;u?p(t.endpoints[0],n[q]):v&&p(t.endpoints[1],n[q])}};h("bottom",e,[g.left,g.top],b.bottom,!0,1,[0,1]),h("top",e,[g.left,g.top],b.top,!0,0,[0,-1]),h("left",e,[g.left,g.top],b.left,!1,0,[-1,0]),h("right",e,[g.left,g.top],b.right,!1,1,[1,0])};this.reset=function(){b={},h={},j={}},this.addFloatingConnection=function(a,b){m[a]=b},this.removeFloatingConnection=function(a){delete m[a]},this.newConnection=function(a){var b=a.sourceId,c=a.targetId,d=a.endpoints,e=!0,f=function(a,f,g,i,j){b==c&&g.isContinuous&&(l.removeElement(d[1].canvas),e=!1),jsPlumbUtil.addToList(h,i,[j,f,g.constructor==jsPlumb.DynamicAnchor])};f(0,d[0],d[0].anchor,c,a),e&&f(1,d[1],d[1].anchor,b,a)};var u=function(a){!function(a,b){if(a){var c=function(a){return a[4]==b};jsPlumbUtil.removeWithFunction(a.top,c),jsPlumbUtil.removeWithFunction(a.left,c),jsPlumbUtil.removeWithFunction(a.bottom,c),jsPlumbUtil.removeWithFunction(a.right,c)}}(j[a.elementId],a.id)};this.connectionDetached=function(a){var b=a.connection||a,c=a.sourceId,d=a.targetId,e=b.endpoints,f=function(a,b,c,d,e){null!=c&&c.constructor==jsPlumb.FloatingAnchor||jsPlumbUtil.removeWithFunction(h[d],function(a){return a[0].id==e.id})};f(1,e[1],e[1].anchor,c,b),f(0,e[0],e[0].anchor,d,b),u(b.endpoints[0]),u(b.endpoints[1]),i.redraw(b.sourceId),i.redraw(b.targetId)},this.add=function(a,c){jsPlumbUtil.addToList(b,c,a)},this.changeId=function(a,c){h[c]=h[a],b[c]=b[a],delete h[a],delete b[a]},this.getConnectionsFor=function(a){return h[a]||[]},this.getEndpointsFor=function(a){return b[a]||[]},this.deleteEndpoint=function(a){jsPlumbUtil.removeWithFunction(b[a.elementId],function(b){return b.id==a.id}),u(a)},this.clearFor=function(a){delete b[a],b[a]=[]};var v=function(b,c,d,e,f,g,h,i,j,k,l,m){var n=-1,o=-1,p=e.endpoints[h],q=p.id,r=[1,0][h],s=[[c,d],e,f,g,q],t=b[j],u=p._continuousAnchorEdge?b[p._continuousAnchorEdge]:null;if(u){var v=jsPlumbUtil.findWithFunction(u,function(a){return a[4]==q});if(-1!=v){u.splice(v,1);for(var w=0;w<u.length;w++)jsPlumbUtil.addWithFunction(l,u[w][1],function(a){return a.id==u[w][1].id}),jsPlumbUtil.addWithFunction(m,u[w][1].endpoints[h],function(a){return a.id==u[w][1].endpoints[h].id}),jsPlumbUtil.addWithFunction(m,u[w][1].endpoints[r],function(a){return a.id==u[w][1].endpoints[r].id})}}for(w=0;w<t.length;w++)1==a.idx&&t[w][3]===g&&-1==o&&(o=w),jsPlumbUtil.addWithFunction(l,t[w][1],function(a){return a.id==t[w][1].id}),jsPlumbUtil.addWithFunction(m,t[w][1].endpoints[h],function(a){return a.id==t[w][1].endpoints[h].id}),jsPlumbUtil.addWithFunction(m,t[w][1].endpoints[r],function(a){return a.id==t[w][1].endpoints[r].id});if(-1!=n)t[n]=s;else{var x=i?-1!=o?o:0:t.length;t.splice(x,0,s)}p._continuousAnchorEdge=j};this.updateOtherEndpoint=function(a,b,c,d){var e=jsPlumbUtil.findWithFunction(h[a],function(a){return a[0].id===d.id}),f=jsPlumbUtil.findWithFunction(h[b],function(a){return a[0].id===d.id});-1!=e&&(h[a][e][0]=d,h[a][e][1]=d.endpoints[1],h[a][e][2]=d.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor),f>-1&&(h[b].splice(f,1),jsPlumbUtil.addToList(h,c,[d,d.endpoints[0],d.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor]))},this.sourceChanged=function(a,b,c){jsPlumbUtil.removeWithFunction(h[a],function(a){return a[0].id===c.id});var d=jsPlumbUtil.findWithFunction(h[c.targetId],function(a){return a[0].id===c.id});d>-1&&(h[c.targetId][d][0]=c,h[c.targetId][d][1]=c.endpoints[0],h[c.targetId][d][2]=c.endpoints[0].anchor.constructor==jsPlumb.DynamicAnchor),jsPlumbUtil.addToList(h,b,[c,c.endpoints[1],c.endpoints[1].anchor.constructor==jsPlumb.DynamicAnchor])},this.rehomeEndpoint=function(a,c,d){var e=b[c]||[],f=k.getId(d);if(f!==c){var g=jsPlumbUtil.indexOf(e,a);if(g>-1){var h=e.splice(g,1)[0];i.add(h,f)}}for(var j=0;j<a.connections.length;j++)a.connections[j].sourceId==c?(a.connections[j].sourceId=a.elementId,a.connections[j].source=a.element,i.sourceChanged(c,a.elementId,a.connections[j])):a.connections[j].targetId==c&&(a.connections[j].targetId=a.elementId,a.connections[j].target=a.element,i.updateOtherEndpoint(a.connections[j].sourceId,c,a.elementId,a.connections[j]))},this.redraw=function(a,c,d,e,f,g){if(!k.isSuspendDrawing()){var i=b[a]||[],l=h[a]||[],o=[],p=[],q=[];d=d||k.timestamp(),e=e||{left:0,top:0},c&&(c={left:c.left+e.left,top:c.top+e.top});for(var r=k.updateOffset({elId:a,offset:c,recalc:!1,timestamp:d}),s={},u=0;u<l.length;u++){var w=l[u][0],x=w.sourceId,y=w.targetId,z=w.endpoints[0].anchor.isContinuous,A=w.endpoints[1].anchor.isContinuous;if(z||A){var B=x+"_"+y,C=s[B],D=w.sourceId==a?1:0;z&&!j[x]&&(j[x]={top:[],right:[],bottom:[],left:[]}),A&&!j[y]&&(j[y]={top:[],right:[],bottom:[],left:[]}),a!=y&&k.updateOffset({elId:y,timestamp:d}),a!=x&&k.updateOffset({elId:x,timestamp:d});var E=k.getCachedData(y),F=k.getCachedData(x);y==x&&(z||A)?v(j[x],-Math.PI/2,0,w,!1,y,0,!1,"top",x,o,p):(C||(C=n(x,y,F.o,E.o,w.endpoints[0].anchor,w.endpoints[1].anchor),s[B]=C),z&&v(j[x],C.theta,0,w,!1,y,0,!1,C.a[0],x,o,p),A&&v(j[y],C.theta2,-1,w,!0,x,1,!0,C.a[1],y,o,p)),z&&jsPlumbUtil.addWithFunction(q,x,function(a){return a===x}),A&&jsPlumbUtil.addWithFunction(q,y,function(a){return a===y}),jsPlumbUtil.addWithFunction(o,w,function(a){return a.id==w.id}),(z&&0===D||A&&1===D)&&jsPlumbUtil.addWithFunction(p,w.endpoints[D],function(a){return a.id==w.endpoints[D].id})}}for(u=0;u<i.length;u++)0===i[u].connections.length&&i[u].anchor.isContinuous&&(j[a]||(j[a]={top:[],right:[],bottom:[],left:[]}),v(j[a],-Math.PI/2,0,{endpoints:[i[u],i[u]],paint:function(){}},!1,a,0,!1,"top",a,o,p),jsPlumbUtil.addWithFunction(q,a,function(b){return b===a
}));for(u=0;u<q.length;u++)t(q[u],j[q[u]]);for(u=0;u<i.length;u++)i[u].paint({timestamp:d,offset:r,dimensions:r.s,recalc:g!==!0});for(u=0;u<p.length;u++){var G=k.getCachedData(p[u].elementId);p[u].paint({timestamp:d,offset:G,dimensions:G.s})}for(u=0;u<l.length;u++){var H=l[u][1];if(H.anchor.constructor==jsPlumb.DynamicAnchor){H.paint({elementWithPrecedence:a,timestamp:d}),jsPlumbUtil.addWithFunction(o,l[u][0],function(a){return a.id==l[u][0].id});for(var I=0;I<H.connections.length;I++)H.connections[I]!==l[u][0]&&jsPlumbUtil.addWithFunction(o,H.connections[I],function(a){return a.id==H.connections[I].id})}else H.anchor.constructor==jsPlumb.Anchor&&jsPlumbUtil.addWithFunction(o,l[u][0],function(a){return a.id==l[u][0].id})}var J=m[a];for(J&&J.paint({timestamp:d,recalc:!1,elId:a}),u=0;u<o.length;u++){var K=d;o[u].paint({elId:a,timestamp:K,recalc:!1,clearEdits:f})}}};var w=function(a){jsPlumbUtil.EventGenerator.apply(this),this.type="Continuous",this.isDynamic=!0,this.isContinuous=!0;for(var b=a.faces||["top","right","bottom","left"],c=!(a.clockwise===!1),g={},h={top:"bottom",right:"left",left:"right",bottom:"top"},i={top:"right",right:"bottom",left:"top",bottom:"left"},j={top:"left",right:"top",left:"bottom",bottom:"right"},k=c?i:j,l=c?j:i,m=a.cssClass||"",n=0;n<b.length;n++)g[b[n]]=!0;this.verifyEdge=function(a){return g[a]?a:g[h[a]]?h[a]:g[k[a]]?k[a]:g[l[a]]?l[a]:a},this.compute=function(a){return e[a.element.id]||d[a.element.id]||[0,0]},this.getCurrentLocation=function(a){return e[a.element.id]||d[a.element.id]||[0,0]},this.getOrientation=function(a){return f[a.id]||[0,0]},this.clearUserDefinedLocation=function(){delete e[a.elementId]},this.setUserDefinedLocation=function(b){e[a.elementId]=b},this.getCssClass=function(){return m},this.setCssClass=function(a){m=a}};k.continuousAnchorFactory={get:function(a){var b=c[a.elementId];return b||(b=new w(a),c[a.elementId]=b),b},clear:function(a){delete c[a]}}},jsPlumb.Anchor=function(a){this.x=a.x||0,this.y=a.y||0,this.elementId=a.elementId,this.cssClass=a.cssClass||"",this.userDefinedLocation=null,this.orientation=a.orientation||[0,0],jsPlumbUtil.EventGenerator.apply(this);var b=a.jsPlumbInstance;this.lastReturnValue=null,this.offsets=a.offsets||[0,0],this.timestamp=null,this.compute=function(a){var c=a.xy,d=a.wh,e=a.element,f=a.timestamp;return a.clearUserDefinedLocation&&(this.userDefinedLocation=null),f&&f===self.timestamp?this.lastReturnValue:(null!=this.userDefinedLocation?this.lastReturnValue=this.userDefinedLocation:(this.lastReturnValue=[c[0]+this.x*d[0]+this.offsets[0],c[1]+this.y*d[1]+this.offsets[1]],this.lastReturnValue=b.adjustForParentOffsetAndScroll(this.lastReturnValue,e.canvas)),this.timestamp=f,this.lastReturnValue)},this.getCurrentLocation=function(a){return null==this.lastReturnValue||null!=a.timestamp&&this.timestamp!=a.timestamp?this.compute(a):this.lastReturnValue}},jsPlumbUtil.extend(jsPlumb.Anchor,jsPlumbUtil.EventGenerator,{equals:function(a){if(!a)return!1;var b=a.getOrientation(),c=this.getOrientation();return this.x==a.x&&this.y==a.y&&this.offsets[0]==a.offsets[0]&&this.offsets[1]==a.offsets[1]&&c[0]==b[0]&&c[1]==b[1]},getUserDefinedLocation:function(){return this.userDefinedLocation},setUserDefinedLocation:function(a){this.userDefinedLocation=a},clearUserDefinedLocation:function(){this.userDefinedLocation=null},getOrientation:function(){return this.orientation},getCssClass:function(){return this.cssClass}}),jsPlumb.FloatingAnchor=function(a){jsPlumb.Anchor.apply(this,arguments);var b=a.reference,c=jsPlumb.CurrentLibrary,d=a.jsPlumbInstance,e=a.referenceCanvas,f=c.getSize(c.getElementObject(e)),g=0,h=0,i=null,j=null;this.orientation=null,this.x=0,this.y=0,this.isFloating=!0,this.compute=function(a){var b=a.xy,c=a.element,e=[b[0]+f[0]/2,b[1]+f[1]/2];return e=d.adjustForParentOffsetAndScroll(e,c.canvas),j=e,e},this.getOrientation=function(a){if(i)return i;var c=b.getOrientation(a);return[-1*Math.abs(c[0])*g,-1*Math.abs(c[1])*h]},this.over=function(a,b){i=a.getOrientation(b)},this.out=function(){i=null},this.getCurrentLocation=function(a){return null==j?this.compute(a):j}},jsPlumbUtil.extend(jsPlumb.FloatingAnchor,jsPlumb.Anchor);var a=function(a,b,c){return a.constructor==jsPlumb.Anchor?a:b.makeAnchor(a,c,b)};jsPlumb.DynamicAnchor=function(b){jsPlumb.Anchor.apply(this,arguments),this.isSelective=!0,this.isDynamic=!0,this.anchors=[],this.elementId=b.elementId,this.jsPlumbInstance=b.jsPlumbInstance;for(var c=0;c<b.anchors.length;c++)this.anchors[c]=a(b.anchors[c],this.jsPlumbInstance,this.elementId);this.addAnchor=function(b){this.anchors.push(a(b,this.jsPlumbInstance,this.elementId))},this.getAnchors=function(){return this.anchors},this.locked=!1;var d=this.anchors.length>0?this.anchors[0]:null,e=(this.anchors.length>0?0:-1,d),f=this,g=function(a,b,c,d,e){var f=d[0]+a.x*e[0],g=d[1]+a.y*e[1],h=d[0]+e[0]/2,i=d[1]+e[1]/2;return Math.sqrt(Math.pow(b-f,2)+Math.pow(c-g,2))+Math.sqrt(Math.pow(h-f,2)+Math.pow(i-g,2))},h=b.selector||function(a,b,c,d,e){for(var f=c[0]+d[0]/2,h=c[1]+d[1]/2,i=-1,j=1/0,k=0;k<e.length;k++){var l=g(e[k],f,h,a,b);j>l&&(i=k+0,j=l)}return e[i]};this.compute=function(a){var b=a.xy,c=a.wh,g=a.timestamp,i=a.txy,j=a.twh;a.clearUserDefinedLocation&&(userDefinedLocation=null),this.timestamp=g;var k=f.getUserDefinedLocation();return null!=k?k:this.locked||null==i||null==j?d.compute(a):(a.timestamp=null,d=h(b,c,i,j,this.anchors),this.x=d.x,this.y=d.y,d!=e&&this.fire("anchorChanged",d),e=d,d.compute(a))},this.getCurrentLocation=function(a){return this.getUserDefinedLocation()||(null!=d?d.getCurrentLocation(a):null)},this.getOrientation=function(a){return null!=d?d.getOrientation(a):[0,0]},this.over=function(a,b){null!=d&&d.over(a,b)},this.out=function(){null!=d&&d.out()},this.getCssClass=function(){return d&&d.getCssClass()||""}},jsPlumbUtil.extend(jsPlumb.DynamicAnchor,jsPlumb.Anchor);var b=function(a,b,c,d,e,f){jsPlumb.Anchors[e]=function(g){var h=g.jsPlumbInstance.makeAnchor([a,b,c,d,0,0],g.elementId,g.jsPlumbInstance);return h.type=e,f&&f(h,g),h}};b(.5,0,0,-1,"TopCenter"),b(.5,1,0,1,"BottomCenter"),b(0,.5,-1,0,"LeftMiddle"),b(1,.5,1,0,"RightMiddle"),b(.5,0,0,-1,"Top"),b(.5,1,0,1,"Bottom"),b(0,.5,-1,0,"Left"),b(1,.5,1,0,"Right"),b(.5,.5,0,0,"Center"),b(1,0,0,-1,"TopRight"),b(1,1,0,1,"BottomRight"),b(0,0,0,-1,"TopLeft"),b(0,1,0,1,"BottomLeft"),jsPlumb.Defaults.DynamicAnchors=function(a){return a.jsPlumbInstance.makeAnchors(["TopCenter","RightMiddle","BottomCenter","LeftMiddle"],a.elementId,a.jsPlumbInstance)},jsPlumb.Anchors.AutoDefault=function(a){var b=a.jsPlumbInstance.makeDynamicAnchor(jsPlumb.Defaults.DynamicAnchors(a));return b.type="AutoDefault",b};var c=function(a,b){jsPlumb.Anchors[a]=function(c){var d=c.jsPlumbInstance.makeAnchor(["Continuous",{faces:b}],c.elementId,c.jsPlumbInstance);return d.type=a,d}};jsPlumb.Anchors.Continuous=function(a){return a.jsPlumbInstance.continuousAnchorFactory.get(a)},c("ContinuousLeft",["left"]),c("ContinuousTop",["top"]),c("ContinuousBottom",["bottom"]),c("ContinuousRight",["right"]),b(0,0,0,0,"Assign",function(a,b){var c=b.position||"Fixed";a.positionFinder=c.constructor==String?b.jsPlumbInstance.AnchorPositionFinders[c]:c,a.constructorParams=b}),jsPlumbInstance.prototype.AnchorPositionFinders={Fixed:function(a,b,c){return[(a.left-b.left)/c[0],(a.top-b.top)/c[1]]},Grid:function(a,b,c,d){var e=a.left-b.left,f=a.top-b.top,g=c[0]/d.grid[0],h=c[1]/d.grid[1],i=Math.floor(e/g),j=Math.floor(f/h);return[(i*g+g/2)/c[0],(j*h+h/2)/c[1]]}},jsPlumb.Anchors.Perimeter=function(a){a=a||{};var b=a.anchorCount||60,c=a.shape;if(!c)throw new Error("no shape supplied to Perimeter Anchor type");var d=function(){for(var a=.5,c=2*Math.PI/b,d=0,e=[],f=0;b>f;f++){var g=a+a*Math.sin(d),h=a+a*Math.cos(d);e.push([g,h,0,0]),d+=c}return e},e=function(a){for(var c=b/a.length,d=[],e=function(a,e,f,g,h){c=b*h;for(var i=(f-a)/c,j=(g-e)/c,k=0;c>k;k++)d.push([a+i*k,e+j*k,0,0])},f=0;f<a.length;f++)e.apply(null,a[f]);return d},f=function(a){for(var b=[],c=0;c<a.length;c++)b.push([a[c][0],a[c][1],a[c][2],a[c][3],1/a.length]);return e(b)},g=function(){return f([[0,0,1,0],[1,0,1,1],[1,1,0,1],[0,1,0,0]])},h={Circle:d,Ellipse:d,Diamond:function(){return f([[.5,0,1,.5],[1,.5,.5,1],[.5,1,0,.5],[0,.5,.5,0]])},Rectangle:g,Square:g,Triangle:function(){return f([[.5,0,1,1],[1,1,0,1],[0,1,.5,0]])},Path:function(a){for(var b=a.points,c=[],d=0,f=0;f<b.length-1;f++){var g=Math.sqrt(Math.pow(b[f][2]-b[f][0])+Math.pow(b[f][3]-b[f][1]));d+=g,c.push([b[f][0],b[f][1],b[f+1][0],b[f+1][1],g])}for(var h=0;h<c.length;h++)c[h][4]=c[h][4]/d;return e(c)}},i=function(a,b){for(var c=[],d=b/180*Math.PI,e=0;e<a.length;e++){var f=a[e][0]-.5,g=a[e][1]-.5;c.push([.5+(f*Math.cos(d)-g*Math.sin(d)),.5+(f*Math.sin(d)+g*Math.cos(d)),a[e][2],a[e][3]])}return c};if(!h[c])throw new Error("Shape ["+c+"] is unknown by Perimeter Anchor type");var j=h[c](a);a.rotation&&(j=i(j,a.rotation));var k=a.jsPlumbInstance.makeDynamicAnchor(j);return k.type="Perimeter",k}}(),function(){jsPlumb.DOMElementComponent=jsPlumbUtil.extend(jsPlumb.jsPlumbUIComponent,function(){this.mousemove=this.dblclick=this.click=this.mousedown=this.mouseup=function(){}}),jsPlumb.Segments={AbstractSegment:function(a){this.params=a,this.findClosestPointOnPath=function(){return{d:1/0,x:null,y:null,l:null}},this.getBounds=function(){return{minX:Math.min(a.x1,a.x2),minY:Math.min(a.y1,a.y2),maxX:Math.max(a.x1,a.x2),maxY:Math.max(a.y1,a.y2)}}},Straight:function(a){var b,c,d,e,f,g,h,i=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),function(){b=Math.sqrt(Math.pow(f-e,2)+Math.pow(h-g,2)),c=jsPlumbGeom.gradient({x:e,y:g},{x:f,y:h}),d=-1/c});this.type="Straight",this.getLength=function(){return b},this.getGradient=function(){return c},this.getCoordinates=function(){return{x1:e,y1:g,x2:f,y2:h}},this.setCoordinates=function(a){e=a.x1,g=a.y1,f=a.x2,h=a.y2,i()},this.setCoordinates({x1:a.x1,y1:a.y1,x2:a.x2,y2:a.y2}),this.getBounds=function(){return{minX:Math.min(e,f),minY:Math.min(g,h),maxX:Math.max(e,f),maxY:Math.max(g,h)}},this.pointOnPath=function(a,c){if(0!==a||c){if(1!=a||c){var d=c?a>0?a:b+a:a*b;return jsPlumbGeom.pointOnLine({x:e,y:g},{x:f,y:h},d)}return{x:f,y:h}}return{x:e,y:g}},this.gradientAtPoint=function(){return c},this.pointAlongPathFrom=function(a,b,c){var d=this.pointOnPath(a,c),i=0>=b?{x:e,y:g}:{x:f,y:h};return 0>=b&&Math.abs(b)>1&&(b*=-1),jsPlumbGeom.pointOnLine(d,i,b)};var j=function(a,b,c){return c>=Math.min(a,b)&&c<=Math.max(a,b)},k=function(a,b,c){return Math.abs(c-a)<Math.abs(c-b)?a:b};this.findClosestPointOnPath=function(a,i){var l={d:1/0,x:null,y:null,l:null,x1:e,x2:f,y1:g,y2:h};if(0===c)l.y=g,l.x=j(e,f,a)?a:k(e,f,a);else if(1/0==c||c==-1/0)l.x=e,l.y=j(g,h,i)?i:k(g,h,i);else{var m=g-c*e,n=i-d*a,o=(n-m)/(c-d),p=c*o+m;l.x=j(e,f,o)?o:k(e,f,o),l.y=j(g,h,p)?p:k(g,h,p)}var q=jsPlumbGeom.lineLength([l.x,l.y],[e,g]);return l.d=jsPlumbGeom.lineLength([a,i],[l.x,l.y]),l.l=q/b,l}},Arc:function(a){var b=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),function(b,c){return jsPlumbGeom.theta([a.cx,a.cy],[b,c])}),c=function(a,b){if(a.anticlockwise){var c=a.startAngle<a.endAngle?a.startAngle+d:a.startAngle,e=Math.abs(c-a.endAngle);return c-e*b}var f=a.endAngle<a.startAngle?a.endAngle+d:a.endAngle,g=Math.abs(f-a.startAngle);return a.startAngle+g*b},d=2*Math.PI;this.radius=a.r,this.anticlockwise=a.ac,this.type="Arc",a.startAngle&&a.endAngle?(this.startAngle=a.startAngle,this.endAngle=a.endAngle,this.x1=a.cx+this.radius*Math.cos(a.startAngle),this.y1=a.cy+this.radius*Math.sin(a.startAngle),this.x2=a.cx+this.radius*Math.cos(a.endAngle),this.y2=a.cy+this.radius*Math.sin(a.endAngle)):(this.startAngle=b(a.x1,a.y1),this.endAngle=b(a.x2,a.y2),this.x1=a.x1,this.y1=a.y1,this.x2=a.x2,this.y2=a.y2),this.endAngle<0&&(this.endAngle+=d),this.startAngle<0&&(this.startAngle+=d),this.segment=jsPlumbGeom.quadrant([this.x1,this.y1],[this.x2,this.y2]);var e=this.endAngle<this.startAngle?this.endAngle+d:this.endAngle;this.sweep=Math.abs(e-this.startAngle),this.anticlockwise&&(this.sweep=d-this.sweep);var f=2*Math.PI*this.radius,g=this.sweep/d,h=f*g;this.getLength=function(){return h},this.getBounds=function(){return{minX:a.cx-a.r,maxX:a.cx+a.r,minY:a.cy-a.r,maxY:a.cy+a.r}};var i=1e-10,j=function(a){var b=Math.floor(a),c=Math.ceil(a);return i>a-b?b:i>c-a?c:a};this.pointOnPath=function(b,d){if(0===b)return{x:this.x1,y:this.y1,theta:this.startAngle};if(1==b)return{x:this.x2,y:this.y2,theta:this.endAngle};d&&(b/=h);var e=c(this,b),f=a.cx+a.r*Math.cos(e),g=a.cy+a.r*Math.sin(e);return{x:j(f),y:j(g),theta:e}},this.gradientAtPoint=function(b,c){var d=this.pointOnPath(b,c),e=jsPlumbGeom.normal([a.cx,a.cy],[d.x,d.y]);return this.anticlockwise||1/0!=e&&e!=-1/0||(e*=-1),e},this.pointAlongPathFrom=function(b,c,d){var e=this.pointOnPath(b,d),g=2*(c/f)*Math.PI,h=this.anticlockwise?-1:1,i=e.theta+h*g,j=a.cx+this.radius*Math.cos(i),k=a.cy+this.radius*Math.sin(i);return{x:j,y:k}}},Bezier:function(a){var b=(jsPlumb.Segments.AbstractSegment.apply(this,arguments),[{x:a.x1,y:a.y1},{x:a.cp1x,y:a.cp1y},{x:a.cp2x,y:a.cp2y},{x:a.x2,y:a.y2}]),c={minX:Math.min(a.x1,a.x2,a.cp1x,a.cp2x),minY:Math.min(a.y1,a.y2,a.cp1y,a.cp2y),maxX:Math.max(a.x1,a.x2,a.cp1x,a.cp2x),maxY:Math.max(a.y1,a.y2,a.cp1y,a.cp2y)};this.type="Bezier";var d=function(a,b,c){return c&&(b=jsBezier.locationAlongCurveFrom(a,b>0?0:1,b)),b};this.pointOnPath=function(a,c){return a=d(b,a,c),jsBezier.pointOnCurve(b,a)},this.gradientAtPoint=function(a,c){return a=d(b,a,c),jsBezier.gradientAtPoint(b,a)},this.pointAlongPathFrom=function(a,c,e){return a=d(b,a,e),jsBezier.pointAlongCurveFrom(b,a,c)},this.getLength=function(){return jsBezier.getLength(b)},this.getBounds=function(){return c}}};var a=function(){this.resetBounds=function(){this.bounds={minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}},this.resetBounds()};jsPlumb.Connectors.AbstractConnector=function(b){a.apply(this,arguments);var c=[],d=0,e=[],f=[],g=b.stub||0,h=jsPlumbUtil.isArray(g)?g[0]:g,i=jsPlumbUtil.isArray(g)?g[1]:g,j=b.gap||0,k=jsPlumbUtil.isArray(j)?j[0]:j,l=jsPlumbUtil.isArray(j)?j[1]:j,m=null,n=!1,o=null;this.isEditable=function(){return!1},this.setEdited=function(a){n=a},this.getPath=function(){},this.setPath=function(){},this.findSegmentForPoint=function(a,b){for(var d={d:1/0,s:null,x:null,y:null,l:null},e=0;e<c.length;e++){var f=c[e].findClosestPointOnPath(a,b);f.d<d.d&&(d.d=f.d,d.l=f.l,d.x=f.x,d.y=f.y,d.s=c[e],d.x1=f.x1,d.x2=f.x2,d.y1=f.y1,d.y2=f.y2,d.index=e)}return d};var p=function(){for(var a=0,b=0;b<c.length;b++){var g=c[b].getLength();f[b]=g/d,e[b]=[a,a+=g/d]}},q=function(a,b){b&&(a=a>0?a/d:(d+a)/d);for(var g=e.length-1,h=1,i=0;i<e.length;i++)if(e[i][1]>=a){g=i,h=1==a?1:0===a?0:(a-e[i][0])/f[i];break}return{segment:c[g],proportion:h,index:g}},r=function(a,b,e){if(e.x1!=e.x2||e.y1!=e.y2){var f=new jsPlumb.Segments[b](e);c.push(f),d+=f.getLength(),a.updateBounds(f)}},s=function(){d=0,c.splice(0,c.length),e.splice(0,e.length),f.splice(0,f.length)};this.setSegments=function(a){m=[],d=0;for(var b=0;b<a.length;b++)m.push(a[b]),d+=a[b].getLength()};var t=function(a){this.lineWidth=a.lineWidth;var b=jsPlumbGeom.quadrant(a.sourcePos,a.targetPos),c=a.targetPos[0]<a.sourcePos[0],d=a.targetPos[1]<a.sourcePos[1],e=a.lineWidth||1,f=a.sourceEndpoint.anchor.getOrientation(a.sourceEndpoint),g=a.targetEndpoint.anchor.getOrientation(a.targetEndpoint),j=c?a.targetPos[0]:a.sourcePos[0],m=d?a.targetPos[1]:a.sourcePos[1],n=Math.abs(a.targetPos[0]-a.sourcePos[0]),o=Math.abs(a.targetPos[1]-a.sourcePos[1]);if(0===f[0]&&0===f[1]||0===g[0]&&0===g[1]){var p=n>o?0:1,q=[1,0][p];f=[],g=[],f[p]=a.sourcePos[p]>a.targetPos[p]?-1:1,g[p]=a.sourcePos[p]>a.targetPos[p]?1:-1,f[q]=0,g[q]=0}var r=c?n+k*f[0]:k*f[0],s=d?o+k*f[1]:k*f[1],t=c?l*g[0]:n+l*g[0],u=d?l*g[1]:o+l*g[1],v=f[0]*g[0]+f[1]*g[1],w={sx:r,sy:s,tx:t,ty:u,lw:e,xSpan:Math.abs(t-r),ySpan:Math.abs(u-s),mx:(r+t)/2,my:(s+u)/2,so:f,to:g,x:j,y:m,w:n,h:o,segment:b,startStubX:r+f[0]*h,startStubY:s+f[1]*h,endStubX:t+g[0]*i,endStubY:u+g[1]*i,isXGreaterThanStubTimes2:Math.abs(r-t)>h+i,isYGreaterThanStubTimes2:Math.abs(s-u)>h+i,opposite:-1==v,perpendicular:0===v,orthogonal:1==v,sourceAxis:0===f[0]?"y":"x",points:[j,m,n,o,r,s,t,u]};return w.anchorOrientation=w.opposite?"opposite":w.orthogonal?"orthogonal":"perpendicular",w};return this.getSegments=function(){return c},this.updateBounds=function(a){var b=a.getBounds();this.bounds.minX=Math.min(this.bounds.minX,b.minX),this.bounds.maxX=Math.max(this.bounds.maxX,b.maxX),this.bounds.minY=Math.min(this.bounds.minY,b.minY),this.bounds.maxY=Math.max(this.bounds.maxY,b.maxY)},this.pointOnPath=function(a,b){var c=q(a,b);return c.segment&&c.segment.pointOnPath(c.proportion,b)||[0,0]},this.gradientAtPoint=function(a){var b=q(a,absolute);return b.segment&&b.segment.gradientAtPoint(b.proportion,absolute)||0},this.pointAlongPathFrom=function(a,b,c){var d=q(a,c);return d.segment&&d.segment.pointAlongPathFrom(d.proportion,b,!1)||[0,0]},this.compute=function(a){n||(o=t.call(this,a)),s(),this._compute(o,a),this.x=o.points[0],this.y=o.points[1],this.w=o.points[2],this.h=o.points[3],this.segment=o.segment,p()},{addSegment:r,prepareCompute:t,sourceStub:h,targetStub:i,maxStub:Math.max(h,i),sourceGap:k,targetGap:l,maxGap:Math.max(k,l)}},jsPlumbUtil.extend(jsPlumb.Connectors.AbstractConnector,a);var b=jsPlumb.Connectors.Straight=function(){this.type="Straight";var a=jsPlumb.Connectors.AbstractConnector.apply(this,arguments);this._compute=function(b){a.addSegment(this,"Straight",{x1:b.sx,y1:b.sy,x2:b.startStubX,y2:b.startStubY}),a.addSegment(this,"Straight",{x1:b.startStubX,y1:b.startStubY,x2:b.endStubX,y2:b.endStubY}),a.addSegment(this,"Straight",{x1:b.endStubX,y1:b.endStubY,x2:b.tx,y2:b.ty})}};jsPlumbUtil.extend(jsPlumb.Connectors.Straight,jsPlumb.Connectors.AbstractConnector),jsPlumb.registerConnectorType(b,"Straight");var c=function(a){a=a||{};var b=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),c=(a.stub||50,a.curviness||150),d=10;this.type="Bezier",this.getCurviness=function(){return c},this._findControlPoint=function(a,b,e,f,g){var h=f.anchor.getOrientation(f),i=g.anchor.getOrientation(g),j=h[0]!=i[0]||h[1]==i[1],k=[];return j?(0===i[0]?k.push(e[0]<b[0]?a[0]+d:a[0]-d):k.push(a[0]+c*i[0]),0===i[1]?k.push(e[1]<b[1]?a[1]+d:a[1]-d):k.push(a[1]+c*h[1])):(0===h[0]?k.push(b[0]<e[0]?a[0]+d:a[0]-d):k.push(a[0]-c*h[0]),0===h[1]?k.push(b[1]<e[1]?a[1]+d:a[1]-d):k.push(a[1]+c*i[1])),k},this._compute=function(a,c){var d=c.sourcePos,e=c.targetPos,f=Math.abs(d[0]-e[0]),g=Math.abs(d[1]-e[1]),h=d[0]<e[0]?f:0,i=d[1]<e[1]?g:0,j=d[0]<e[0]?0:f,k=d[1]<e[1]?0:g,l=this._findControlPoint([h,i],d,e,c.sourceEndpoint,c.targetEndpoint),m=this._findControlPoint([j,k],e,d,c.targetEndpoint,c.sourceEndpoint);b.addSegment(this,"Bezier",{x1:h,y1:i,x2:j,y2:k,cp1x:l[0],cp1y:l[1],cp2x:m[0],cp2y:m[1]})}};jsPlumbUtil.extend(c,jsPlumb.Connectors.AbstractConnector),jsPlumb.registerConnectorType(c,"Bezier"),jsPlumb.Endpoints.AbstractEndpoint=function(b){a.apply(this,arguments);var c=this.compute=function(){var a=this._compute.apply(this,arguments);return this.x=a[0],this.y=a[1],this.w=a[2],this.h=a[3],this.bounds.minX=this.x,this.bounds.minY=this.y,this.bounds.maxX=this.x+this.w,this.bounds.maxY=this.y+this.h,a};return{compute:c,cssClass:b.cssClass}},jsPlumbUtil.extend(jsPlumb.Endpoints.AbstractEndpoint,a),jsPlumb.Endpoints.Dot=function(a){this.type="Dot",jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),a=a||{},this.radius=a.radius||10,this.defaultOffset=.5*this.radius,this.defaultInnerRadius=this.radius/3,this._compute=function(a,b,c){this.radius=c.radius||this.radius;var d=a[0]-this.radius,e=a[1]-this.radius,f=2*this.radius,g=2*this.radius;if(c.strokeStyle){var h=c.lineWidth||1;d-=h,e-=h,f+=2*h,g+=2*h}return[d,e,f,g,this.radius]}},jsPlumbUtil.extend(jsPlumb.Endpoints.Dot,jsPlumb.Endpoints.AbstractEndpoint),jsPlumb.Endpoints.Rectangle=function(a){this.type="Rectangle",jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),a=a||{},this.width=a.width||20,this.height=a.height||20,this._compute=function(a,b,c){var d=c.width||this.width,e=c.height||this.height,f=a[0]-d/2,g=a[1]-e/2;return[f,g,d,e]}},jsPlumbUtil.extend(jsPlumb.Endpoints.Rectangle,jsPlumb.Endpoints.AbstractEndpoint);var d=function(){jsPlumb.DOMElementComponent.apply(this,arguments),this._jsPlumb.displayElements=[]};jsPlumbUtil.extend(d,jsPlumb.DOMElementComponent,{getDisplayElements:function(){return this._jsPlumb.displayElements},appendDisplayElement:function(a){this._jsPlumb.displayElements.push(a)}}),jsPlumb.Endpoints.Image=function(a){this.type="Image",d.apply(this,arguments),jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments);var b=a.onload,c=a.src||a.url,e=a.parent,f=a.cssClass?" "+a.cssClass:"";this._jsPlumb.img=new Image,this._jsPlumb.ready=!1,this._jsPlumb.initialized=!1,this._jsPlumb.deleted=!1,this._jsPlumb.widthToUse=a.width,this._jsPlumb.heightToUse=a.height,this._jsPlumb.endpoint=a.endpoint,this._jsPlumb.img.onload=function(){null!=this._jsPlumb&&(this._jsPlumb.ready=!0,this._jsPlumb.widthToUse=this._jsPlumb.widthToUse||this._jsPlumb.img.width,this._jsPlumb.heightToUse=this._jsPlumb.heightToUse||this._jsPlumb.img.height,b&&b(this))}.bind(this),this._jsPlumb.endpoint.setImage=function(a,c){var d=a.constructor==String?a:a.src;b=c,this._jsPlumb.img.src=d,null!=this.canvas&&this.canvas.setAttribute("src",this._jsPlumb.img.src)}.bind(this),this._jsPlumb.endpoint.setImage(c,b),this._compute=function(a){return this.anchorPoint=a,this._jsPlumb.ready?[a[0]-this._jsPlumb.widthToUse/2,a[1]-this._jsPlumb.heightToUse/2,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse]:[0,0,0,0]},this.canvas=document.createElement("img"),this.canvas.style.margin=0,this.canvas.style.padding=0,this.canvas.style.outline=0,this.canvas.style.position="absolute",this.canvas.className=this._jsPlumb.instance.endpointClass+f,this._jsPlumb.widthToUse&&this.canvas.setAttribute("width",this._jsPlumb.widthToUse),this._jsPlumb.heightToUse&&this.canvas.setAttribute("height",this._jsPlumb.heightToUse),this._jsPlumb.instance.appendElement(this.canvas,e),this.attachListeners(this.canvas,this),this.actuallyPaint=function(){if(!this._jsPlumb.deleted){this._jsPlumb.initialized||(this.canvas.setAttribute("src",this._jsPlumb.img.src),this.appendDisplayElement(this.canvas),this._jsPlumb.initialized=!0);var a=this.anchorPoint[0]-this._jsPlumb.widthToUse/2,b=this.anchorPoint[1]-this._jsPlumb.heightToUse/2;jsPlumbUtil.sizeElement(this.canvas,a,b,this._jsPlumb.widthToUse,this._jsPlumb.heightToUse)}},this.paint=function(a,b){null!=this._jsPlumb&&(this._jsPlumb.ready?this.actuallyPaint(a,b):window.setTimeout(function(){this.paint(a,b)}.bind(this),200))}},jsPlumbUtil.extend(jsPlumb.Endpoints.Image,[d,jsPlumb.Endpoints.AbstractEndpoint],{cleanup:function(){this._jsPlumb.deleted=!0,jsPlumbUtil.removeElement(this.canvas),this.canvas=null}}),jsPlumb.Endpoints.Blank=function(a){jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),this.type="Blank",d.apply(this,arguments),this._compute=function(a){return[a[0],a[1],10,0]},this.canvas=document.createElement("div"),this.canvas.style.display="block",this.canvas.style.width="1px",this.canvas.style.height="1px",this.canvas.style.background="transparent",this.canvas.style.position="absolute",this.canvas.className=this._jsPlumb.endpointClass,jsPlumb.appendElement(this.canvas,a.parent),this.paint=function(){jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h)}},jsPlumbUtil.extend(jsPlumb.Endpoints.Blank,[jsPlumb.Endpoints.AbstractEndpoint,d],{cleanup:function(){this.canvas&&this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas)}}),jsPlumb.Endpoints.Triangle=function(a){this.type="Triangle",jsPlumb.Endpoints.AbstractEndpoint.apply(this,arguments),a=a||{},a.width=a.width||55,a.height=a.height||55,this.width=a.width,this.height=a.height,this._compute=function(a,b,c){var d=c.width||self.width,e=c.height||self.height,f=a[0]-d/2,g=a[1]-e/2;return[f,g,d,e]}};var e=jsPlumb.Overlays.AbstractOverlay=function(a){this.visible=!0,this.isAppendedAtTopLevel=!0,this.component=a.component,this.loc=null==a.location?.5:a.location,this.endpointLoc=null==a.endpointLocation?[.5,.5]:a.endpointLocation};e.prototype={cleanup:function(){this.component=null,this.canvas=null,this.endpointLoc=null},setVisible:function(a){this.visible=a},isVisible:function(){return this.visible},hide:function(){this.setVisible(!1)},show:function(){this.setVisible(!0)},incrementLocation:function(a){this.loc+=a,this.component.repaint()},setLocation:function(a){this.loc=a,this.component.repaint()},getLocation:function(){return this.loc}},jsPlumb.Overlays.Arrow=function(a){this.type="Arrow",e.apply(this,arguments),this.isAppendedAtTopLevel=!1,a=a||{};var b=jsPlumbUtil,c=jsPlumbGeom;this.length=a.length||20,this.width=a.width||20,this.id=a.id;var d=(a.direction||1)<0?-1:1,f=a.paintStyle||{lineWidth:1},g=a.foldback||.623;this.computeMaxSize=function(){return 1.5*self.width},this.draw=function(a,e){var h,i,j,k,l;if(a.pointAlongPathFrom){if(b.isString(this.loc)||this.loc>1||this.loc<0){var m=parseInt(this.loc,10),n=this.loc<0?1:0;h=a.pointAlongPathFrom(n,m,!1),i=a.pointAlongPathFrom(n,m-d*this.length/2,!1),j=c.pointOnLine(h,i,this.length)}else if(1==this.loc){if(h=a.pointOnPath(this.loc),i=a.pointAlongPathFrom(this.loc,-this.length),j=c.pointOnLine(h,i,this.length),-1==d){var o=j;j=h,h=o}}else if(0===this.loc){if(j=a.pointOnPath(this.loc),i=a.pointAlongPathFrom(this.loc,this.length),h=c.pointOnLine(j,i,this.length),-1==d){var p=j;j=h,h=p}}else h=a.pointAlongPathFrom(this.loc,d*this.length/2),i=a.pointOnPath(this.loc),j=c.pointOnLine(h,i,this.length);k=c.perpendicularLineTo(h,j,this.width),l=c.pointOnLine(h,j,g*this.length);var q={hxy:h,tail:k,cxy:l},r=f.strokeStyle||e.strokeStyle,s=f.fillStyle||e.strokeStyle,t=f.lineWidth||e.lineWidth,u={component:a,d:q,lineWidth:t,strokeStyle:r,fillStyle:s,minX:Math.min(h.x,k[0].x,k[1].x),maxX:Math.max(h.x,k[0].x,k[1].x),minY:Math.min(h.y,k[0].y,k[1].y),maxY:Math.max(h.y,k[0].y,k[1].y)};return u}return{component:a,minX:0,maxX:0,minY:0,maxY:0}}},jsPlumbUtil.extend(jsPlumb.Overlays.Arrow,e),jsPlumb.Overlays.PlainArrow=function(a){a=a||{};var b=jsPlumb.extend(a,{foldback:1});jsPlumb.Overlays.Arrow.call(this,b),this.type="PlainArrow"},jsPlumbUtil.extend(jsPlumb.Overlays.PlainArrow,jsPlumb.Overlays.Arrow),jsPlumb.Overlays.Diamond=function(a){a=a||{};var b=a.length||40,c=jsPlumb.extend(a,{length:b/2,foldback:2});jsPlumb.Overlays.Arrow.call(this,c),this.type="Diamond"},jsPlumbUtil.extend(jsPlumb.Overlays.Diamond,jsPlumb.Overlays.Arrow);var f=function(a){return null==a._jsPlumb.cachedDimensions&&(a._jsPlumb.cachedDimensions=a.getDimensions()),a._jsPlumb.cachedDimensions},g=function(a){jsPlumb.DOMElementComponent.apply(this,arguments),e.apply(this,arguments);var b=jsPlumb.CurrentLibrary;this.id=a.id,this._jsPlumb.div=null,this._jsPlumb.initialised=!1,this._jsPlumb.component=a.component,this._jsPlumb.cachedDimensions=null,this._jsPlumb.create=a.create,this.getElement=function(){if(null==this._jsPlumb.div){var c=this._jsPlumb.div=b.getDOMElement(this._jsPlumb.create(this._jsPlumb.component));c.style.position="absolute";var d=a._jsPlumb.overlayClass+" "+(this.cssClass?this.cssClass:a.cssClass?a.cssClass:"");c.className=d,this._jsPlumb.instance.appendElement(c,this._jsPlumb.component.parent),this._jsPlumb.instance.getId(c),this.attachListeners(c,this),this.canvas=c}return this._jsPlumb.div},this.draw=function(a,b,c){var d=f(this);if(null!=d&&2==d.length){var e={x:0,y:0};if(c)e={x:c[0],y:c[1]};else if(a.pointOnPath){var g=this.loc,h=!1;(jsPlumbUtil.isString(this.loc)||this.loc<0||this.loc>1)&&(g=parseInt(this.loc,10),h=!0),e=a.pointOnPath(g,h)}else{var i=this.loc.constructor==Array?this.loc:this.endpointLoc;e={x:i[0]*a.w,y:i[1]*a.h}}var j=e.x-d[0]/2,k=e.y-d[1]/2;return{component:a,d:{minx:j,miny:k,td:d,cxy:e},minX:j,maxX:j+d[0],minY:k,maxY:k+d[1]}}return{minX:0,maxX:0,minY:0,maxY:0}}};jsPlumbUtil.extend(g,[jsPlumb.DOMElementComponent,e],{getDimensions:function(){return jsPlumb.CurrentLibrary.getSize(jsPlumb.CurrentLibrary.getElementObject(this.getElement()))},setVisible:function(a){this._jsPlumb.div.style.display=a?"block":"none"},clearCachedDimensions:function(){this._jsPlumb.cachedDimensions=null},cleanup:function(){null!=this._jsPlumb.div&&jsPlumb.CurrentLibrary.removeElement(this._jsPlumb.div)},computeMaxSize:function(){var a=f(this);return Math.max(a[0],a[1])},reattachListeners:function(a){this._jsPlumb.div&&this.reattachListenersForElement(this._jsPlumb.div,this,a)},paint:function(a){this._jsPlumb.initialised||(this.getElement(),a.component.appendDisplayElement(this._jsPlumb.div),this.attachListeners(this._jsPlumb.div,a.component),this._jsPlumb.initialised=!0),this._jsPlumb.div.style.left=a.component.x+a.d.minx+"px",this._jsPlumb.div.style.top=a.component.y+a.d.miny+"px"}}),jsPlumb.Overlays.Custom=function(){this.type="Custom",g.apply(this,arguments)},jsPlumbUtil.extend(jsPlumb.Overlays.Custom,g),jsPlumb.Overlays.GuideLines=function(){var a=this;a.length=50,a.lineWidth=5,this.type="GuideLines",e.apply(this,arguments),jsPlumb.jsPlumbUIComponent.apply(this,arguments),this.draw=function(b){var c=b.pointAlongPathFrom(a.loc,a.length/2),d=b.pointOnPath(a.loc),e=jsPlumbGeom.pointOnLine(c,d,a.length),f=jsPlumbGeom.perpendicularLineTo(c,e,40),g=jsPlumbGeom.perpendicularLineTo(e,c,20);return{connector:b,head:c,tail:e,headLine:g,tailLine:f,minX:Math.min(c.x,e.x,g[0].x,g[1].x),minY:Math.min(c.y,e.y,g[0].y,g[1].y),maxX:Math.max(c.x,e.x,g[0].x,g[1].x),maxY:Math.max(c.y,e.y,g[0].y,g[1].y)}}},jsPlumb.Overlays.Label=function(a){this.labelStyle=a.labelStyle,this.cssClass=null!=this.labelStyle?this.labelStyle.cssClass:null;var b=jsPlumb.extend({create:function(){return document.createElement("div")}},a);if(jsPlumb.Overlays.Custom.call(this,b),this.type="Label",this.label=a.label||"",this.labelText=null,this.labelStyle){var c=this.getElement();if(this.labelStyle.font=this.labelStyle.font||"12px sans-serif",c.style.font=this.labelStyle.font,c.style.color=this.labelStyle.color||"black",this.labelStyle.fillStyle&&(c.style.background=this.labelStyle.fillStyle),this.labelStyle.borderWidth>0){var d=this.labelStyle.borderStyle?this.labelStyle.borderStyle:"black";c.style.border=this.labelStyle.borderWidth+"px solid "+d}this.labelStyle.padding&&(c.style.padding=this.labelStyle.padding)}},jsPlumbUtil.extend(jsPlumb.Overlays.Label,jsPlumb.Overlays.Custom,{cleanup:function(){this.div=null,this.label=null,this.labelText=null,this.cssClass=null,this.labelStyle=null},getLabel:function(){return this.label},setLabel:function(a){this.label=a,this.labelText=null,this.clearCachedDimensions(),this.update(),this.component.repaint()},getDimensions:function(){return this.update(),g.prototype.getDimensions.apply(this,arguments)},update:function(){if("function"==typeof this.label){var a=this.label(this);this.getElement().innerHTML=a.replace(/\r\n/g,"<br/>")}else null==this.labelText&&(this.labelText=this.label,this.getElement().innerHTML=this.labelText.replace(/\r\n/g,"<br/>"))}})}(),function(){var a=function(a){this.type="Flowchart",a=a||{},a.stub=null==a.stub?30:a.stub;var b,c=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),d=null==a.midpoint?.5:a.midpoint,e=[],f=(a.grid,a.alwaysRespectStubs),g=null,h=null,i=null,j=null!=a.cornerRadius?a.cornerRadius:0,k=function(a){return 0>a?-1:0===a?0:1},l=function(a,b,c,d){if(h!=b||i!=c){var e=null==h?d.sx:h,f=null==i?d.sy:i,g=e==b?"v":"h",j=k(b-e),l=k(c-f);h=b,i=c,a.push([e,f,b,c,g,j,l])}},m=function(a){return Math.sqrt(Math.pow(a[0]-a[2],2)+Math.pow(a[1]-a[3],2))},n=function(a){var b=[];return b.push.apply(b,a),b},o=function(a,b,d){for(var e,f,g=0;g<b.length-1;g++){if(e=e||n(b[g]),f=n(b[g+1]),j>0&&e[4]!=f[4]){var h=Math.min(j,m(e),m(f));e[2]-=e[5]*h,e[3]-=e[6]*h,f[0]+=f[5]*h,f[1]+=f[6]*h;var i=e[6]==f[5]&&1==f[5]||e[6]==f[5]&&0===f[5]&&e[5]!=f[6]||e[6]==f[5]&&-1==f[5],k=f[1]>e[3]?1:-1,l=f[0]>e[2]?1:-1,o=k==l,p=o&&i||!o&&!i?f[0]:e[2],q=o&&i||!o&&!i?e[3]:f[1];c.addSegment(a,"Straight",{x1:e[0],y1:e[1],x2:e[2],y2:e[3]}),c.addSegment(a,"Arc",{r:h,x1:e[2],y1:e[3],x2:f[0],y2:f[1],cx:p,cy:q,ac:i})
}else{var r=e[2]==e[0]?0:e[2]>e[0]?d.lw/2:-(d.lw/2),s=e[3]==e[1]?0:e[3]>e[1]?d.lw/2:-(d.lw/2);c.addSegment(a,"Straight",{x1:e[0]-r,y1:e[1]-s,x2:e[2]+r,y2:e[3]+s})}e=f}c.addSegment(a,"Straight",{x1:f[0],y1:f[1],x2:f[2],y2:f[3]})};this.setSegments=function(a){g=a},this.isEditable=function(){return!0},this.getOriginalSegments=function(){return g||e},this._compute=function(a,j){if(j.clearEdits&&(g=null),null!=g)return o(this,g,a),void 0;e=[],h=null,i=null,b=null;var k=a.startStubX+(a.endStubX-a.startStubX)*d,m=a.startStubY+(a.endStubY-a.startStubY)*d,n={x:[0,1],y:[1,0]},p=function(){return[a.startStubX,a.startStubY,a.endStubX,a.endStubY]},q={perpendicular:p,orthogonal:p,opposite:function(b){var c=a,d="x"==b?0:1,e={x:function(){return 1==c.so[d]&&(c.startStubX>c.endStubX&&c.tx>c.startStubX||c.sx>c.endStubX&&c.tx>c.sx)||-1==c.so[d]&&(c.startStubX<c.endStubX&&c.tx<c.startStubX||c.sx<c.endStubX&&c.tx<c.sx)},y:function(){return 1==c.so[d]&&(c.startStubY>c.endStubY&&c.ty>c.startStubY||c.sy>c.endStubY&&c.ty>c.sy)||-1==c.so[d]&&(c.startStubY<c.endStubY&&c.ty<c.startStubY||c.sy<c.endStubY&&c.ty<c.sy)}};return!f&&e[b]()?{x:[(a.sx+a.tx)/2,a.startStubY,(a.sx+a.tx)/2,a.endStubY],y:[a.startStubX,(a.sy+a.ty)/2,a.endStubX,(a.sy+a.ty)/2]}[b]:[a.startStubX,a.startStubY,a.endStubX,a.endStubY]}},r={perpendicular:function(b){var c=a,d={x:[[[1,2,3,4],null,[2,1,4,3]],null,[[4,3,2,1],null,[3,4,1,2]]],y:[[[3,2,1,4],null,[2,3,4,1]],null,[[4,1,2,3],null,[1,4,3,2]]]},e={x:[[c.startStubX,c.endStubX],null,[c.endStubX,c.startStubX]],y:[[c.startStubY,c.endStubY],null,[c.endStubY,c.startStubY]]},f={x:[[k,c.startStubY],[k,c.endStubY]],y:[[c.startStubX,m],[c.endStubX,m]]},g={x:[[c.endStubX,c.startStubY]],y:[[c.startStubX,c.endStubY]]},h={x:[[c.startStubX,c.endStubY],[c.endStubX,c.endStubY]],y:[[c.endStubX,c.startStubY],[c.endStubX,c.endStubY]]},i={x:[[c.startStubX,m],[c.endStubX,m],[c.endStubX,c.endStubY]],y:[[k,c.startStubY],[k,c.endStubY],[c.endStubX,c.endStubY]]},j={x:[c.startStubY,c.endStubY],y:[c.startStubX,c.endStubX]},l=n[b][0],o=n[b][1],p=c.so[l]+1,q=c.to[o]+1,r=-1==c.to[o]&&j[b][1]<j[b][0]||1==c.to[o]&&j[b][1]>j[b][0],s=e[b][p][0],t=e[b][p][1],u=d[b][p][q];return c.segment==u[3]||c.segment==u[2]&&r?f[b]:c.segment==u[2]&&s>t?g[b]:c.segment==u[2]&&t>=s||c.segment==u[1]&&!r?i[b]:c.segment==u[0]||c.segment==u[1]&&r?h[b]:void 0},orthogonal:function(b,c,d,e,f){var g=a,h={x:-1==g.so[0]?Math.min(c,e):Math.max(c,e),y:-1==g.so[1]?Math.min(c,e):Math.max(c,e)}[b];return{x:[[h,d],[h,f],[e,f]],y:[[d,h],[f,h],[f,e]]}[b]},opposite:function(b,d,e,f){var g=a,h={x:"y",y:"x"}[b],i={x:"height",y:"width"}[b],l=g["is"+b.toUpperCase()+"GreaterThanStubTimes2"];if(j.sourceEndpoint.elementId==j.targetEndpoint.elementId){var n=e+(1-j.sourceEndpoint.anchor[h])*j.sourceInfo[i]+c.maxStub;return{x:[[d,n],[f,n]],y:[[n,d],[n,f]]}[b]}return!l||1==g.so[t]&&d>f||-1==g.so[t]&&f>d?{x:[[d,m],[f,m]],y:[[k,d],[k,f]]}[b]:1==g.so[t]&&f>d||-1==g.so[t]&&d>f?{x:[[k,g.sy],[k,g.ty]],y:[[g.sx,m],[g.tx,m]]}[b]:void 0}},s=q[a.anchorOrientation](a.sourceAxis),t="x"==a.sourceAxis?0:1,u="x"==a.sourceAxis?1:0,v=s[t],w=s[u],x=s[t+2],y=s[u+2];l(e,s[0],s[1],a);var z=r[a.anchorOrientation](a.sourceAxis,v,w,x,y);if(z)for(var A=0;A<z.length;A++)l(e,z[A][0],z[A][1],a);l(e,s[2],s[3],a),l(e,a.tx,a.ty,a),o(this,e,a)},this.getPath=function(){for(var a=null,b=null,c=[],d=g||e,f=0;f<d.length;f++){var h=d[f],i=h[4],j="v"==i?3:2;null!=a&&b===i?a[j]=h[j]:(h[0]!=h[2]||h[1]!=h[3])&&(c.push({start:[h[0],h[1]],end:[h[2],h[3]]}),a=h,b=h[4])}return c},this.setPath=function(a){g=[];for(var b=0;b<a.length;b++){var c=a[b].start[0],d=a[b].start[1],e=a[b].end[0],f=a[b].end[1],h=c==e?"v":"h",i=k(e-c),j=k(f-d);g.push([c,d,e,f,h,i,j])}}};jsPlumbUtil.extend(a,jsPlumb.Connectors.AbstractConnector),jsPlumb.registerConnectorType(a,"Flowchart")}(),function(){var a=function(a,b,c,d){return c>=a&&b>=d?1:c>=a&&d>=b?2:a>=c&&d>=b?3:4},b=function(a,b,c,d,e,f,g,h,i){return i>=h?[a,b]:1===c?d[3]<=0&&e[3]>=1?[a+(d[2]<.5?-1*f:f),b]:d[2]>=1&&e[2]<=0?[a,b+(d[3]<.5?-1*g:g)]:[a+-1*f,b+-1*g]:2===c?d[3]>=1&&e[3]<=0?[a+(d[2]<.5?-1*f:f),b]:d[2]>=1&&e[2]<=0?[a,b+(d[3]<.5?-1*g:g)]:[a+1*f,b+-1*g]:3===c?d[3]>=1&&e[3]<=0?[a+(d[2]<.5?-1*f:f),b]:d[2]<=0&&e[2]>=1?[a,b+(d[3]<.5?-1*g:g)]:[a+-1*f,b+-1*g]:4===c?d[3]<=0&&e[3]>=1?[a+(d[2]<.5?-1*f:f),b]:d[2]<=0&&e[2]>=1?[a,b+(d[3]<.5?-1*g:g)]:[a+1*f,b+-1*g]:void 0},c=function(c){c=c||{},this.type="StateMachine";var d=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),e=c.curviness||10,f=c.margin||5,g=c.proximityLimit||80,h=c.orientation&&"clockwise"===c.orientation,i=c.loopbackRadius||25,j=c.showLoopback!==!1;this._compute=function(c,k){var l=Math.abs(k.sourcePos[0]-k.targetPos[0]),m=Math.abs(k.sourcePos[1]-k.targetPos[1]);if(Math.min(k.sourcePos[0],k.targetPos[0]),Math.min(k.sourcePos[1],k.targetPos[1]),j&&k.sourceEndpoint.elementId===k.targetEndpoint.elementId){var n=k.sourcePos[0],o=(k.sourcePos[0],k.sourcePos[1]-f),p=(k.sourcePos[1]-f,n),q=o-i,r=2*i,s=2*i,t=p-i,u=q-i;c.points[0]=t,c.points[1]=u,c.points[2]=r,c.points[3]=s,d.addSegment(this,"Arc",{loopback:!0,x1:n-t+4,y1:o-u,startAngle:0,endAngle:2*Math.PI,r:i,ac:!h,x2:n-t-4,y2:o-u,cx:p-t,cy:q-u})}else{var v=k.sourcePos[0]<k.targetPos[0]?0:l,w=k.sourcePos[1]<k.targetPos[1]?0:m,x=k.sourcePos[0]<k.targetPos[0]?l:0,y=k.sourcePos[1]<k.targetPos[1]?m:0;0===k.sourcePos[2]&&(v-=f),1===k.sourcePos[2]&&(v+=f),0===k.sourcePos[3]&&(w-=f),1===k.sourcePos[3]&&(w+=f),0===k.targetPos[2]&&(x-=f),1===k.targetPos[2]&&(x+=f),0===k.targetPos[3]&&(y-=f),1===k.targetPos[3]&&(y+=f);var z=(v+x)/2,A=(w+y)/2,B=-1*z/A,C=Math.atan(B),D=(1/0==B||B==-1/0?0:Math.abs(e/2*Math.sin(C)),1/0==B||B==-1/0?0:Math.abs(e/2*Math.cos(C)),a(v,w,x,y)),E=Math.sqrt(Math.pow(x-v,2)+Math.pow(y-w,2)),F=b(z,A,D,k.sourcePos,k.targetPos,e,e,E,g);d.addSegment(this,"Bezier",{x1:x,y1:y,x2:v,y2:w,cp1x:F[0],cp1y:F[1],cp2x:F[0],cp2y:F[1]})}}};jsPlumb.registerConnectorType(c,"StateMachine")}(),function(){var a=function(a){a=a||{};var b=this,c=jsPlumb.Connectors.AbstractConnector.apply(this,arguments),d=(a.stub||50,a.curviness||150),e=10;this.type="Bezier",this.getCurviness=function(){return d},this._findControlPoint=function(a,b,c,f,g){var h=f.anchor.getOrientation(f),i=g.anchor.getOrientation(g),j=h[0]!=i[0]||h[1]==i[1],k=[];return j?(0===i[0]?k.push(c[0]<b[0]?a[0]+e:a[0]-e):k.push(a[0]+d*i[0]),0===i[1]?k.push(c[1]<b[1]?a[1]+e:a[1]-e):k.push(a[1]+d*h[1])):(0===h[0]?k.push(b[0]<c[0]?a[0]+e:a[0]-e):k.push(a[0]-d*h[0]),0===h[1]?k.push(b[1]<c[1]?a[1]+e:a[1]-e):k.push(a[1]+d*i[1])),k},this._compute=function(a,d){var e=d.sourcePos,f=d.targetPos,g=Math.abs(e[0]-f[0]),h=Math.abs(e[1]-f[1]),i=e[0]<f[0]?g:0,j=e[1]<f[1]?h:0,k=e[0]<f[0]?0:g,l=e[1]<f[1]?0:h,m=b._findControlPoint([i,j],e,f,d.sourceEndpoint,d.targetEndpoint),n=b._findControlPoint([k,l],f,e,d.targetEndpoint,d.sourceEndpoint);c.addSegment(this,"Bezier",{x1:i,y1:j,x2:k,y2:l,cp1x:m[0],cp1y:m[1],cp2x:n[0],cp2y:n[1]})}};jsPlumb.registerConnectorType(a,"Bezier")}(),function(){var a=null,b=function(a,b){return jsPlumb.CurrentLibrary.hasClass(c(a),b)},c=function(a){return jsPlumb.CurrentLibrary.getElementObject(a)},d=function(a){return jsPlumb.CurrentLibrary.getOffset(c(a))},e=function(a){return jsPlumb.CurrentLibrary.getPageXY(a)},f=function(a){return jsPlumb.CurrentLibrary.getClientXY(a)},g=window.CanvasMouseAdapter=function(){var g=this;this.overlayPlacements=[],jsPlumb.jsPlumbUIComponent.apply(this,arguments),jsPlumbUtil.EventGenerator.apply(this,arguments),this._over=function(a){var b=d(c(g.canvas)),f=e(a),h=f[0]-b.left,i=f[1]-b.top;if(h>0&&i>0&&h<g.canvas.width&&i<g.canvas.height){for(var j=0;j<g.overlayPlacements.length;j++){var k=g.overlayPlacements[j];if(k&&k[0]<=h&&k[1]>=h&&k[2]<=i&&k[3]>=i)return!0}var l=g.canvas.getContext("2d").getImageData(parseInt(h,10),parseInt(i,10),1,1);return 0!==l.data[0]||0!==l.data[1]||0!==l.data[2]||0!==l.data[3]}return!1};var h=!1,i=!1,j=null,k=!1,l=function(a,c){return null!==a&&b(a,c)};this.mousemove=function(b){var c=(e(b),f(b)),d=document.elementFromPoint(c[0],c[1]),i=l(d,"_jsPlumb_overlay"),j=null===a&&(l(d,"_jsPlumb_endpoint")||l(d,"_jsPlumb_connector"));return!h&&j&&g._over(b)?(h=!0,g.fire("mouseenter",g,b),!0):(!h||g._over(b)&&j||i||(h=!1,g.fire("mouseexit",g,b)),g.fire("mousemove",g,b),void 0)},this.click=function(a){h&&g._over(a)&&!k&&g.fire("click",g,a),k=!1},this.dblclick=function(a){h&&g._over(a)&&!k&&g.fire("dblclick",g,a),k=!1},this.mousedown=function(a){g._over(a)&&!i&&(i=!0,j=d(c(g.canvas)),g.fire("mousedown",g,a))},this.mouseup=function(a){i=!1,g.fire("mouseup",g,a)},this.contextmenu=function(a){h&&g._over(a)&&!k&&g.fire("contextmenu",g,a),k=!1}};jsPlumbUtil.extend(g,[jsPlumb.jsPlumbUIComponent,jsPlumbUtil.EventGenerator]);var h=function(a){var b=document.createElement("canvas");return a._jsPlumb.instance.appendElement(b,a.parent),b.style.position="absolute",a["class"]&&(b.className=a["class"]),a._jsPlumb.instance.getId(b,a.uuid),a.tooltip&&b.setAttribute("title",a.tooltip),b},i=window.CanvasComponent=function(){g.apply(this,arguments);var a=[];this.getDisplayElements=function(){return a},this.appendDisplayElement=function(b){a.push(b)}};jsPlumbUtil.extend(i,g,{setVisible:function(a){this.canvas.style.display=a?"block":"none"}});var j=[null,[1,-1],[1,1],[-1,1],[-1,-1]],k=function(a,b,c){if(b.gradient){for(var d=c(),e=0;e<b.gradient.stops.length;e++)d.addColorStop(b.gradient.stops[e][0],b.gradient.stops[e][1]);a.strokeStyle=d}},l=function(a,b,c,d,e){({Straight:function(a,b,c,d,e){var f=a.params;if(b.save(),k(b,c,function(){return b.createLinearGradient(f.x1,f.y1,f.x2,f.y2)}),b.beginPath(),b.translate(d,e),c.dashstyle&&2===c.dashstyle.split(" ").length){var g=c.dashstyle.split(" ");2!==g.length&&(g=[2,2]);for(var h=[g[0]*c.lineWidth,g[1]*c.lineWidth],i=(f.x2-f.x1)/(f.y2-f.y1),l=jsPlumbUtil.segment([f.x1,f.y1],[f.x2,f.y2]),m=j[l],n=Math.atan(i),o=Math.sqrt(Math.pow(f.x2-f.x1,2)+Math.pow(f.y2-f.y1,2)),p=Math.floor(o/(h[0]+h[1])),q=[f.x1,f.y1],r=0;p>r;r++){b.moveTo(q[0],q[1]);var s=q[0]+Math.abs(Math.sin(n)*h[0])*m[0],t=q[1]+Math.abs(Math.cos(n)*h[0])*m[1],u=q[0]+Math.abs(Math.sin(n)*(h[0]+h[1]))*m[0],v=q[1]+Math.abs(Math.cos(n)*(h[0]+h[1]))*m[1];b.lineTo(s,t),q=[u,v]}b.moveTo(q[0],q[1]),b.lineTo(f.x2,f.y2)}else b.moveTo(f.x1,f.y1),b.lineTo(f.x2,f.y2);b.stroke(),b.restore()},Bezier:function(a,b,c,d,e){var f=a.params;b.save(),k(b,c,function(){return b.createLinearGradient(f.x2+d,f.y2+e,f.x1+d,f.y1+e)}),b.beginPath(),b.translate(d,e),b.moveTo(f.x1,f.y1),b.bezierCurveTo(f.cp1x,f.cp1y,f.cp2x,f.cp2y,f.x2,f.y2),b.stroke(),b.restore()},Arc:function(a,b,c,d,e){var f=a.params;b.save(),b.beginPath(),b.translate(d,e),b.arc(f.cx,f.cy,f.r,a.startAngle,a.endAngle,f.ac),b.stroke(),b.restore()}})[a.type](a,b,c,d,e)},m=jsPlumb.ConnectorRenderers.canvas=function(a){i.apply(this,arguments);var b=function(a,b,c){this.ctx.save(),jsPlumb.extend(this.ctx,a);for(var d=this.getSegments(),e=0;e<d.length;e++)l(d[e],this.ctx,a,b,c);this.ctx.restore()}.bind(this),c=this._jsPlumb.instance.connectorClass+" "+(a.cssClass||"");this.canvas=h({"class":c,_jsPlumb:this._jsPlumb,parent:a.parent}),this.ctx=this.canvas.getContext("2d"),this.appendDisplayElement(this.canvas),this.paint=function(a,c,d){if(null!=a){var e=[this.x,this.y],f=[this.w,this.h],g=0,h=0;if(null!=d&&(d.xmin<0&&(e[0]+=d.xmin,g=-d.xmin),d.ymin<0&&(e[1]+=d.ymin,h=-d.ymin),f[0]=d.xmax+(d.xmin<0?-d.xmin:0),f[1]=d.ymax+(d.ymin<0?-d.ymin:0)),this.translateX=g,this.translateY=h,jsPlumbUtil.sizeElement(this.canvas,e[0],e[1],f[0],f[1]),null!=a.outlineColor){var i=a.outlineWidth||1,j=a.lineWidth+2*i,k={strokeStyle:a.outlineColor,lineWidth:j};b(k,g,h)}b(a,g,h)}}};jsPlumbUtil.extend(m,i);var n=function(a){i.apply(this,arguments);var b=this._jsPlumb.instance.endpointClass+" "+(a.cssClass||""),c={"class":b,_jsPlumb:this._jsPlumb,parent:a.parent,tooltip:self.tooltip};this.canvas=h(c),this.ctx=this.canvas.getContext("2d"),this.appendDisplayElement(this.canvas),this.paint=function(a){if(jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h),null!=a.outlineColor){var b=a.outlineWidth||1,c=a.lineWidth+2*b;({strokeStyle:a.outlineColor,lineWidth:c})}this._paint.apply(this,arguments)}};jsPlumbUtil.extend(n,i),jsPlumb.Endpoints.canvas.Dot=function(a){jsPlumb.Endpoints.Dot.apply(this,arguments),n.apply(this,arguments);var b=this,c=function(a){try{return parseInt(a,10)}catch(b){if("%"==a.substring(a.length-1))return parseInt(a.substring(0,a-1),10)}},d=function(a){var d=b.defaultOffset,e=b.defaultInnerRadius;return a.offset&&(d=c(a.offset)),a.innerRadius&&(e=c(a.innerRadius)),[d,e]};this._paint=function(c){if(null!=c){var e=b.canvas.getContext("2d"),f=a.endpoint.anchor.getOrientation(a.endpoint);if(jsPlumb.extend(e,c),c.gradient){for(var g=d(c.gradient),h=1==f[1]?-1*g[0]:g[0],i=1==f[0]?-1*g[0]:g[0],j=e.createRadialGradient(b.radius,b.radius,b.radius,b.radius+i,b.radius+h,g[1]),k=0;k<c.gradient.stops.length;k++)j.addColorStop(c.gradient.stops[k][0],c.gradient.stops[k][1]);e.fillStyle=j}e.beginPath(),e.arc(b.radius,b.radius,b.radius,0,2*Math.PI,!0),e.closePath(),(c.fillStyle||c.gradient)&&e.fill(),c.strokeStyle&&e.stroke()}}},jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Dot,[jsPlumb.Endpoints.Dot,n]),jsPlumb.Endpoints.canvas.Rectangle=function(a){var b=this;jsPlumb.Endpoints.Rectangle.apply(this,arguments),n.apply(this,arguments),this._paint=function(c){var d=b.canvas.getContext("2d"),e=a.endpoint.anchor.getOrientation(a.endpoint);if(jsPlumb.extend(d,c),c.gradient){for(var f=1==e[1]?b.h:0===e[1]?b.h/2:0,g=-1==e[1]?b.h:0===e[1]?b.h/2:0,h=1==e[0]?b.w:0===e[0]?b.w/2:0,i=-1==e[0]?b.w:0===e[0]?b.w/2:0,j=d.createLinearGradient(h,f,i,g),k=0;k<c.gradient.stops.length;k++)j.addColorStop(c.gradient.stops[k][0],c.gradient.stops[k][1]);d.fillStyle=j}d.beginPath(),d.rect(0,0,b.w,b.h),d.closePath(),(c.fillStyle||c.gradient)&&d.fill(),c.strokeStyle&&d.stroke()}},jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Rectangle,[jsPlumb.Endpoints.Rectangle,n]),jsPlumb.Endpoints.canvas.Triangle=function(a){var b=this;jsPlumb.Endpoints.Triangle.apply(this,arguments),n.apply(this,arguments),this._paint=function(c){var d=b.canvas.getContext("2d"),e=0,f=0,g=0,h=a.endpoint.anchor.getOrientation(a.endpoint);1==h[0]&&(e=b.width,f=b.height,g=180),-1==h[1]&&(e=b.width,g=90),1==h[1]&&(f=b.height,g=-90),d.fillStyle=c.fillStyle,d.translate(e,f),d.rotate(g*Math.PI/180),d.beginPath(),d.moveTo(0,0),d.lineTo(b.width/2,b.height/2),d.lineTo(0,b.height),d.closePath(),(c.fillStyle||c.gradient)&&d.fill(),c.strokeStyle&&d.stroke()}},jsPlumbUtil.extend(jsPlumb.Endpoints.canvas.Triangle,[jsPlumb.Endpoints.Triangle,n]),jsPlumb.Endpoints.canvas.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.canvas.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.canvas.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.canvas.Custom=jsPlumb.Overlays.Custom;var o=function(){jsPlumb.jsPlumbUIComponent.apply(this,arguments)};jsPlumbUtil.extend(o,jsPlumb.jsPlumbUIComponent,{setVisible:function(a){this.visible=a,this.component.repaint()}});var p=function(a,b){a.apply(this,b),o.apply(this,b),this.paint=function(a){var b=a.component.ctx,c=a.d;c&&(b.save(),b.lineWidth=a.lineWidth,b.beginPath(),b.translate(a.component.translateX,a.component.translateY),b.moveTo(c.hxy.x,c.hxy.y),b.lineTo(c.tail[0].x,c.tail[0].y),b.lineTo(c.cxy.x,c.cxy.y),b.lineTo(c.tail[1].x,c.tail[1].y),b.lineTo(c.hxy.x,c.hxy.y),b.closePath(),a.strokeStyle&&(b.strokeStyle=a.strokeStyle,b.stroke()),a.fillStyle&&(b.fillStyle=a.fillStyle,b.fill()),b.restore())}};jsPlumb.Overlays.canvas.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Arrow,[jsPlumb.Overlays.Arrow,o]),jsPlumb.Overlays.canvas.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.canvas.PlainArrow,[jsPlumb.Overlays.PlainArrow,o]),jsPlumb.Overlays.canvas.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.canvas.Diamond,[jsPlumb.Overlays.Diamond,o])}(),function(){var a={joinstyle:"stroke-linejoin","stroke-linejoin":"stroke-linejoin","stroke-dashoffset":"stroke-dashoffset","stroke-linecap":"stroke-linecap"},b="stroke-dasharray",c="dashstyle",d="linearGradient",e="radialGradient",f="fill",g="stop",h="stroke",i="stroke-width",j="style",k="none",l="jsplumb_gradient_",m="lineWidth",n={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml"},o=function(a,b){for(var c in b)a.setAttribute(c,""+b[c])},p=function(a,b){var c=document.createElementNS(n.svg,a);return b=b||{},b.version="1.1",b.xmlns=n.xhtml,o(c,b),c},q=function(a){return"position:absolute;left:"+a[0]+"px;top:"+a[1]+"px"},r=function(a){for(var b=0;b<a.childNodes.length;b++)(a.childNodes[b].tagName==d||a.childNodes[b].tagName==e)&&a.removeChild(a.childNodes[b])},s=function(a,b,c,i,k){var m=l+k._jsPlumb.instance.idstamp();r(a);var n;n=c.gradient.offset?p(e,{id:m}):p(d,{id:m,gradientUnits:"userSpaceOnUse"}),a.appendChild(n);for(var o=0;o<c.gradient.stops.length;o++){var q=1==k.segment||2==k.segment?o:c.gradient.stops.length-1-o,s=jsPlumbUtil.convertStyle(c.gradient.stops[q][1],!0),t=p(g,{offset:Math.floor(100*c.gradient.stops[o][0])+"%","stop-color":s});n.appendChild(t)}var u=c.strokeStyle?h:f;b.setAttribute(j,u+":url("+document.location.toString()+"#"+m+")")},t=function(d,e,g,l,n){if(g.gradient?s(d,e,g,l,n):(r(d),e.setAttribute(j,"")),e.setAttribute(f,g.fillStyle?jsPlumbUtil.convertStyle(g.fillStyle,!0):k),e.setAttribute(h,g.strokeStyle?jsPlumbUtil.convertStyle(g.strokeStyle,!0):k),g.lineWidth&&e.setAttribute(i,g.lineWidth),g[c]&&g[m]&&!g[b]){var o=-1==g[c].indexOf(",")?" ":",",p=g[c].split(o),q="";p.forEach(function(a){q+=Math.floor(a*g.lineWidth)+o}),e.setAttribute(b,q)}else g[b]&&e.setAttribute(b,g[b]);for(var t in a)g[t]&&e.setAttribute(a[t],g[t])},u=function(a,b,c){for(var d=c.split(" "),e=a.className,f=e.baseVal.split(" "),g=0;g<d.length;g++)if(b)-1==f.indexOf(d[g])&&f.push(d[g]);else{var h=f.indexOf(d[g]);-1!=h&&f.splice(h,1)}a.className.baseVal=f.join(" ")},v=function(a,b){u(a,!0,b)},w=function(a,b){u(a,!1,b)},x=function(a,b,c){a.childNodes.length>c?a.insertBefore(b,a.childNodes[c]):a.appendChild(b)};jsPlumbUtil.svg={addClass:v,removeClass:w,node:p,attr:o,pos:q};var y=function(a){var b=a.pointerEventsSpec||"all",c={};jsPlumb.jsPlumbUIComponent.apply(this,a.originalArgs),this.canvas=null,this.path=null,this.svg=null;var d=a.cssClass+" "+(a.originalArgs[0].cssClass||""),e={style:"",width:0,height:0,"pointer-events":b,position:"absolute"};this.svg=p("svg",e),a.useDivWrapper?(this.canvas=document.createElement("div"),this.canvas.style.position="absolute",jsPlumbUtil.sizeElement(this.canvas,0,0,1,1),this.canvas.className=d):(o(this.svg,{"class":d}),this.canvas=this.svg),a._jsPlumb.appendElement(this.canvas,a.originalArgs[0].parent),a.useDivWrapper&&this.canvas.appendChild(this.svg);var f=[this.canvas];return this.getDisplayElements=function(){return f},this.appendDisplayElement=function(a){f.push(a)},this.paint=function(b,d,e){if(null!=b){var f,g=[this.x,this.y],h=[this.w,this.h];null!=e&&(e.xmin<0&&(g[0]+=e.xmin),e.ymin<0&&(g[1]+=e.ymin),h[0]=e.xmax+(e.xmin<0?-e.xmin:0),h[1]=e.ymax+(e.ymin<0?-e.ymin:0)),a.useDivWrapper?(jsPlumbUtil.sizeElement(this.canvas,g[0],g[1],h[0],h[1]),g[0]=0,g[1]=0,f=q([0,0])):f=q([g[0],g[1]]),c.paint.apply(this,arguments),o(this.svg,{style:f,width:h[0],height:h[1]})}},{renderer:c}};jsPlumbUtil.extend(y,jsPlumb.jsPlumbUIComponent,{cleanup:function(){jsPlumbUtil.removeElement(this.canvas),this.svg=null,this.canvas=null,this.path=null},setVisible:function(a){this.canvas&&(this.canvas.style.display=a?"block":"none"),this.bgCanvas&&(this.bgCanvas.style.display=a?"block":"none")}}),jsPlumb.ConnectorRenderers.svg=function(a){var b=this,c=y.apply(this,[{cssClass:a._jsPlumb.connectorClass,originalArgs:arguments,pointerEventsSpec:"none",_jsPlumb:a._jsPlumb}]);c.renderer.paint=function(c,d,e){var f=b.getSegments(),g="",h=[0,0];e.xmin<0&&(h[0]=-e.xmin),e.ymin<0&&(h[1]=-e.ymin);for(var i=0;i<f.length;i++)g+=jsPlumb.Segments.svg.SegmentRenderer.getPath(f[i]),g+=" ";var j={d:g,transform:"translate("+h[0]+","+h[1]+")","pointer-events":a["pointer-events"]||"visibleStroke"},k=null,l=[b.x,b.y,b.w,b.h];if(c.outlineColor){var m=c.outlineWidth||1,n=c.lineWidth+2*m;k=jsPlumb.CurrentLibrary.extend({},c),k.strokeStyle=jsPlumbUtil.convertStyle(c.outlineColor),k.lineWidth=n,null==b.bgPath?(b.bgPath=p("path",j),x(b.svg,b.bgPath,0),b.attachListeners(b.bgPath,b)):o(b.bgPath,j),t(b.svg,b.bgPath,k,l,b)}null==b.path?(b.path=p("path",j),x(b.svg,b.path,c.outlineColor?1:0),b.attachListeners(b.path,b)):o(b.path,j),t(b.svg,b.path,c,l,b)},this.reattachListeners=function(){this.bgPath&&this.reattachListenersForElement(this.bgPath,this),this.path&&this.reattachListenersForElement(this.path,this)}},jsPlumbUtil.extend(jsPlumb.ConnectorRenderers.svg,y),jsPlumb.Segments.svg={SegmentRenderer:{getPath:function(a){return{Straight:function(){var b=a.getCoordinates();return"M "+b.x1+" "+b.y1+" L "+b.x2+" "+b.y2},Bezier:function(){var b=a.params;return"M "+b.x1+" "+b.y1+" C "+b.cp1x+" "+b.cp1y+" "+b.cp2x+" "+b.cp2y+" "+b.x2+" "+b.y2},Arc:function(){var b=a.params,c=a.sweep>Math.PI?1:0,d=a.anticlockwise?0:1;return"M"+a.x1+" "+a.y1+" A "+a.radius+" "+b.r+" 0 "+c+","+d+" "+a.x2+" "+a.y2}}[a.type]()}}};var z=window.SvgEndpoint=function(a){var b=y.apply(this,[{cssClass:a._jsPlumb.endpointClass,originalArgs:arguments,pointerEventsSpec:"all",useDivWrapper:!0,_jsPlumb:a._jsPlumb}]);b.renderer.paint=function(a){var b=jsPlumb.extend({},a);b.outlineColor&&(b.strokeWidth=b.outlineWidth,b.strokeStyle=jsPlumbUtil.convertStyle(b.outlineColor,!0)),null==this.node?(this.node=this.makeNode(b),this.svg.appendChild(this.node),this.attachListeners(this.node,this)):null!=this.updateNode&&this.updateNode(this.node),t(this.svg,this.node,b,[this.x,this.y,this.w,this.h],this),q(this.node,[this.x,this.y])}.bind(this)};jsPlumbUtil.extend(z,y,{reattachListeners:function(){this.node&&this.reattachListenersForElement(this.node,this)}}),jsPlumb.Endpoints.svg.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments),z.apply(this,arguments),this.makeNode=function(){return p("circle",{cx:this.w/2,cy:this.h/2,r:this.radius})},this.updateNode=function(a){o(a,{cx:this.w/2,cy:this.h/2,r:this.radius})}},jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Dot,[jsPlumb.Endpoints.Dot,z]),jsPlumb.Endpoints.svg.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments),z.apply(this,arguments),this.makeNode=function(){return p("rect",{width:this.w,height:this.h})},this.updateNode=function(a){o(a,{width:this.w,height:this.h})}},jsPlumbUtil.extend(jsPlumb.Endpoints.svg.Rectangle,[jsPlumb.Endpoints.Rectangle,z]),jsPlumb.Endpoints.svg.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.svg.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.svg.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.svg.Custom=jsPlumb.Overlays.Custom;var A=function(a,b){a.apply(this,b),jsPlumb.jsPlumbUIComponent.apply(this,b),this.isAppendedAtTopLevel=!1,this.path=null,this.paint=function(a,d){if(a.component.svg&&d){null==this.path&&(this.path=p("path",{"pointer-events":"all"}),a.component.svg.appendChild(this.path),this.attachListeners(this.path,a.component),this.attachListeners(this.path,this));var e=b&&1==b.length?b[0].cssClass||"":"",f=[0,0];d.xmin<0&&(f[0]=-d.xmin),d.ymin<0&&(f[1]=-d.ymin),o(this.path,{d:c(a.d),"class":e,stroke:a.strokeStyle?a.strokeStyle:null,fill:a.fillStyle?a.fillStyle:null,transform:"translate("+f[0]+","+f[1]+")"})}};var c=function(a){return"M"+a.hxy.x+","+a.hxy.y+" L"+a.tail[0].x+","+a.tail[0].y+" L"+a.cxy.x+","+a.cxy.y+" L"+a.tail[1].x+","+a.tail[1].y+" L"+a.hxy.x+","+a.hxy.y};this.reattachListeners=function(){this.path&&this.reattachListenersForElement(this.path,this)}};jsPlumbUtil.extend(A,[jsPlumb.jsPlumbUIComponent,jsPlumb.Overlays.AbstractOverlay],{cleanup:function(){null!=this.path&&jsPlumb.CurrentLibrary.removeElement(this.path)},setVisible:function(a){null!=this.path&&(this.path.style.display=a?"block":"none")}}),jsPlumb.Overlays.svg.Arrow=function(){A.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.svg.Arrow,[jsPlumb.Overlays.Arrow,A]),jsPlumb.Overlays.svg.PlainArrow=function(){A.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.svg.PlainArrow,[jsPlumb.Overlays.PlainArrow,A]),jsPlumb.Overlays.svg.Diamond=function(){A.apply(this,[jsPlumb.Overlays.Diamond,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.svg.Diamond,[jsPlumb.Overlays.Diamond,A]),jsPlumb.Overlays.svg.GuideLines=function(){var a,b,c=null,d=this;jsPlumb.Overlays.GuideLines.apply(this,arguments),this.paint=function(f,g){null==c&&(c=p("path"),f.connector.svg.appendChild(c),d.attachListeners(c,f.connector),d.attachListeners(c,d),a=p("path"),f.connector.svg.appendChild(a),d.attachListeners(a,f.connector),d.attachListeners(a,d),b=p("path"),f.connector.svg.appendChild(b),d.attachListeners(b,f.connector),d.attachListeners(b,d));var h=[0,0];g.xmin<0&&(h[0]=-g.xmin),g.ymin<0&&(h[1]=-g.ymin),o(c,{d:e(f.head,f.tail),stroke:"red",fill:null,transform:"translate("+h[0]+","+h[1]+")"}),o(a,{d:e(f.tailLine[0],f.tailLine[1]),stroke:"blue",fill:null,transform:"translate("+h[0]+","+h[1]+")"}),o(b,{d:e(f.headLine[0],f.headLine[1]),stroke:"green",fill:null,transform:"translate("+h[0]+","+h[1]+")"})};var e=function(a,b){return"M "+a.x+","+a.y+" L"+b.x+","+b.y}},jsPlumbUtil.extend(jsPlumb.Overlays.svg.GuideLines,jsPlumb.Overlays.GuideLines)}(),function(){var a={"stroke-linejoin":"joinstyle",joinstyle:"joinstyle",endcap:"endcap",miterlimit:"miterlimit"},b=null;if(document.createStyleSheet&&document.namespaces){var c=[".jsplumb_vml","jsplumb\\:textbox","jsplumb\\:oval","jsplumb\\:rect","jsplumb\\:stroke","jsplumb\\:shape","jsplumb\\:group"],d="behavior:url(#default#VML);position:absolute;";b=document.createStyleSheet();for(var e=0;e<c.length;e++)b.addRule(c[e],d);document.namespaces.add("jsplumb","urn:schemas-microsoft-com:vml")}jsPlumb.vml={};var f=1e3,g=function(a,b){for(var c in b)a[c]=b[c]},h=function(a,b,c,d,e,f){c=c||{};var h=document.createElement("jsplumb:"+a);return f?e.appendElement(h,d):jsPlumb.CurrentLibrary.appendElement(h,d),h.className=(c["class"]?c["class"]+" ":"")+"jsplumb_vml",i(h,b),g(h,c),h},i=function(a,b,c){a.style.left=b[0]+"px",a.style.top=b[1]+"px",a.style.width=b[2]+"px",a.style.height=b[3]+"px",a.style.position="absolute",c&&(a.style.zIndex=c)},j=jsPlumb.vml.convertValue=function(a){return Math.floor(a*f)},k=function(a,b,c,d){"transparent"===b?d.setOpacity(c,"0.0"):d.setOpacity(c,"1.0")},l=function(a,b,c,d){var e={};if(b.strokeStyle){e.stroked="true";var f=jsPlumbUtil.convertStyle(b.strokeStyle,!0);e.strokecolor=f,k(e,f,"stroke",c),e.strokeweight=b.lineWidth+"px"}else e.stroked="false";if(b.fillStyle){e.filled="true";var i=jsPlumbUtil.convertStyle(b.fillStyle,!0);e.fillcolor=i,k(e,i,"fill",c)}else e.filled="false";if(b.dashstyle)null==c.strokeNode?c.strokeNode=h("stroke",[0,0,0,0],{dashstyle:b.dashstyle},a,d):c.strokeNode.dashstyle=b.dashstyle;else if(b["stroke-dasharray"]&&b.lineWidth){for(var j=-1==b["stroke-dasharray"].indexOf(",")?" ":",",l=b["stroke-dasharray"].split(j),m="",n=0;n<l.length;n++)m+=Math.floor(l[n]/b.lineWidth)+j;null==c.strokeNode?c.strokeNode=h("stroke",[0,0,0,0],{dashstyle:m},a,d):c.strokeNode.dashstyle=m}g(a,e)},m=function(){var a=this;jsPlumb.jsPlumbUIComponent.apply(this,arguments),this.opacityNodes={stroke:null,fill:null},this.initOpacityNodes=function(b){a.opacityNodes.stroke=h("stroke",[0,0,1,1],{opacity:"0.0"},b,a._jsPlumb.instance),a.opacityNodes.fill=h("fill",[0,0,1,1],{opacity:"0.0"},b,a._jsPlumb.instance)},this.setOpacity=function(b,c){var d=a.opacityNodes[b];d&&(d.opacity=""+c)};var b=[];this.getDisplayElements=function(){return b},this.appendDisplayElement=function(c,d){d||a.canvas.parentNode.appendChild(c),b.push(c)}};jsPlumbUtil.extend(m,jsPlumb.jsPlumbUIComponent,{cleanup:function(){this.bgCanvas&&jsPlumbUtil.removeElement(this.bgCanvas),jsPlumbUtil.removeElement(this.canvas)}});var n=jsPlumb.ConnectorRenderers.vml=function(b){this.strokeNode=null,this.canvas=null,m.apply(this,arguments);var c=this._jsPlumb.instance.connectorClass+(b.cssClass?" "+b.cssClass:"");this.paint=function(d){if(null!==d){this.w=Math.max(this.w,1),this.h=Math.max(this.h,1);for(var e=this.getSegments(),j={path:""},k=[this.x,this.y,this.w,this.h],m=0;m<e.length;m++)j.path+=jsPlumb.Segments.vml.SegmentRenderer.getPath(e[m]),j.path+=" ";if(d.outlineColor){var n=d.outlineWidth||1,o=d.lineWidth+2*n,p={strokeStyle:jsPlumbUtil.convertStyle(d.outlineColor),lineWidth:o};for(var q in a)p[q]=d[q];null==this.bgCanvas?(j["class"]=c,j.coordsize=k[2]*f+","+k[3]*f,this.bgCanvas=h("shape",k,j,b.parent,this._jsPlumb.instance,!0),i(this.bgCanvas,k),this.appendDisplayElement(this.bgCanvas,!0),this.attachListeners(this.bgCanvas,this),this.initOpacityNodes(this.bgCanvas,["stroke"])):(j.coordsize=k[2]*f+","+k[3]*f,i(this.bgCanvas,k),g(this.bgCanvas,j)),l(this.bgCanvas,p,this)}null==this.canvas?(j["class"]=c,j.coordsize=k[2]*f+","+k[3]*f,this.canvas=h("shape",k,j,b.parent,this._jsPlumb.instance,!0),this.appendDisplayElement(this.canvas,!0),this.attachListeners(this.canvas,this),this.initOpacityNodes(this.canvas,["stroke"])):(j.coordsize=k[2]*f+","+k[3]*f,i(this.canvas,k),g(this.canvas,j)),l(this.canvas,d,this,this._jsPlumb.instance)}}};jsPlumbUtil.extend(n,m,{reattachListeners:function(){this.canvas&&this.reattachListenersForElement(this.canvas,this)},setVisible:function(a){this.canvas&&(this.canvas.style.display=a?"block":"none"),this.bgCanvas&&(this.bgCanvas.style.display=a?"block":"none")}});var o=window.VmlEndpoint=function(a){m.apply(this,arguments),this._jsPlumb.vml=null,this.canvas=document.createElement("div"),this.canvas.style.position="absolute",this._jsPlumb.clazz=this._jsPlumb.instance.endpointClass+(a.cssClass?" "+a.cssClass:""),a._jsPlumb.appendElement(this.canvas,a.parent),this.paint=function(a,b){var c={},d=this._jsPlumb.vml;jsPlumbUtil.sizeElement(this.canvas,this.x,this.y,this.w,this.h),null==this._jsPlumb.vml?(c["class"]=this._jsPlumb.clazz,d=this._jsPlumb.vml=this.getVml([0,0,this.w,this.h],c,b,this.canvas,this._jsPlumb.instance),this.attachListeners(d,this),this.appendDisplayElement(d,!0),this.appendDisplayElement(this.canvas,!0),this.initOpacityNodes(d,["fill"])):(i(d,[0,0,this.w,this.h]),g(d,c)),l(d,a,this)}};jsPlumbUtil.extend(o,m,{reattachListeners:function(){this._jsPlumb.vml&&this.reattachListenersForElement(this._jsPlumb.vml,this)}}),jsPlumb.Segments.vml={SegmentRenderer:{getPath:function(a){return{Straight:function(a){var b=a.params;return"m"+j(b.x1)+","+j(b.y1)+" l"+j(b.x2)+","+j(b.y2)+" e"},Bezier:function(a){var b=a.params;return"m"+j(b.x1)+","+j(b.y1)+" c"+j(b.cp1x)+","+j(b.cp1y)+","+j(b.cp2x)+","+j(b.cp2y)+","+j(b.x2)+","+j(b.y2)+" e"},Arc:function(a){var b=a.params,c=Math.min(b.x1,b.x2),d=(Math.max(b.x1,b.x2),Math.min(b.y1,b.y2)),e=(Math.max(b.y1,b.y2),a.anticlockwise?1:0),f=a.anticlockwise?"at ":"wa ",g=function(){if(b.loopback)return"0,0,"+j(2*b.r)+","+j(2*b.r);var f=[null,[function(){return[c,d]},function(){return[c-b.r,d-b.r]}],[function(){return[c-b.r,d]},function(){return[c,d-b.r]}],[function(){return[c-b.r,d-b.r]},function(){return[c,d]}],[function(){return[c,d-b.r]},function(){return[c-b.r,d]}]][a.segment][e]();return j(f[0])+","+j(f[1])+","+j(f[0]+2*b.r)+","+j(f[1]+2*b.r)};return f+" "+g()+","+j(b.x1)+","+j(b.y1)+","+j(b.x2)+","+j(b.y2)+" e"}}[a.type](a)}}},jsPlumb.Endpoints.vml.Dot=function(){jsPlumb.Endpoints.Dot.apply(this,arguments),o.apply(this,arguments),this.getVml=function(a,b,c,d,e){return h("oval",a,b,d,e)}},jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Dot,o),jsPlumb.Endpoints.vml.Rectangle=function(){jsPlumb.Endpoints.Rectangle.apply(this,arguments),o.apply(this,arguments),this.getVml=function(a,b,c,d,e){return h("rect",a,b,d,e)}},jsPlumbUtil.extend(jsPlumb.Endpoints.vml.Rectangle,o),jsPlumb.Endpoints.vml.Image=jsPlumb.Endpoints.Image,jsPlumb.Endpoints.vml.Blank=jsPlumb.Endpoints.Blank,jsPlumb.Overlays.vml.Label=jsPlumb.Overlays.Label,jsPlumb.Overlays.vml.Custom=jsPlumb.Overlays.Custom;
var p=function(a,b){a.apply(this,b),m.apply(this,b);var c=this;c.canvas=null,c.isAppendedAtTopLevel=!0;var d=function(a){return"m "+j(a.hxy.x)+","+j(a.hxy.y)+" l "+j(a.tail[0].x)+","+j(a.tail[0].y)+" "+j(a.cxy.x)+","+j(a.cxy.y)+" "+j(a.tail[1].x)+","+j(a.tail[1].y)+" x e"};this.paint=function(a,e){if(a.component.canvas&&e){var j={},k=a.d,l=a.component;a.strokeStyle&&(j.stroked="true",j.strokecolor=jsPlumbUtil.convertStyle(a.strokeStyle,!0)),a.lineWidth&&(j.strokeweight=a.lineWidth+"px"),a.fillStyle&&(j.filled="true",j.fillcolor=a.fillStyle);var m=Math.min(k.hxy.x,k.tail[0].x,k.tail[1].x,k.cxy.x),n=Math.min(k.hxy.y,k.tail[0].y,k.tail[1].y,k.cxy.y),o=Math.max(k.hxy.x,k.tail[0].x,k.tail[1].x,k.cxy.x),p=Math.max(k.hxy.y,k.tail[0].y,k.tail[1].y,k.cxy.y),q=Math.abs(o-m),r=Math.abs(p-n),s=[m,n,q,r];if(j.path=d(k),j.coordsize=l.w*f+","+l.h*f,s[0]=l.x,s[1]=l.y,s[2]=l.w,s[3]=l.h,null==c.canvas){var t=l._jsPlumb.overlayClass||"",u=b&&1==b.length?b[0].cssClass||"":"";j["class"]=u+" "+t,c.canvas=h("shape",s,j,l.canvas.parentNode,l._jsPlumb.instance,!0),l.appendDisplayElement(c.canvas,!0),c.attachListeners(c.canvas,l),c.attachListeners(c.canvas,c)}else i(c.canvas,s),g(c.canvas,j)}},this.reattachListeners=function(){c.canvas&&c.reattachListenersForElement(c.canvas,c)},this.cleanup=function(){null!=c.canvas&&jsPlumb.CurrentLibrary.removeElement(c.canvas)}};jsPlumbUtil.extend(p,[m,jsPlumb.Overlays.AbstractOverlay],{setVisible:function(a){this.canvas.style.display=a?"block":"none"}}),jsPlumb.Overlays.vml.Arrow=function(){p.apply(this,[jsPlumb.Overlays.Arrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.vml.Arrow,[jsPlumb.Overlays.Arrow,p]),jsPlumb.Overlays.vml.PlainArrow=function(){p.apply(this,[jsPlumb.Overlays.PlainArrow,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.vml.PlainArrow,[jsPlumb.Overlays.PlainArrow,p]),jsPlumb.Overlays.vml.Diamond=function(){p.apply(this,[jsPlumb.Overlays.Diamond,arguments])},jsPlumbUtil.extend(jsPlumb.Overlays.vml.Diamond,[jsPlumb.Overlays.Diamond,p])}(),function(a){var b=function(b){return"string"==typeof b?a("#"+b):a(b)};jsPlumb.CurrentLibrary={addClass:function(a,c){a=b(a);try{a[0].className.constructor==SVGAnimatedString&&jsPlumbUtil.svg.addClass(a[0],c)}catch(d){}try{a.addClass(c)}catch(d){}},animate:function(a,b,c){a.animate(b,c)},appendElement:function(a,c){b(c).append(a)},ajax:function(b){b=b||{},b.type=b.type||"get",a.ajax(b)},bind:function(a,c,d){a=b(a),a.bind(c,d)},destroyDraggable:function(b){a(b).data("draggable")&&a(b).draggable("destroy")},destroyDroppable:function(b){a(b).data("droppable")&&a(b).droppable("destroy")},dragEvents:{start:"start",stop:"stop",drag:"drag",step:"step",over:"over",out:"out",drop:"drop",complete:"complete"},extend:function(b,c){return a.extend(b,c)},getClientXY:function(a){return[a.clientX,a.clientY]},getDragObject:function(a){return a[1].draggable||a[1].helper},getDragScope:function(b){return a(b).draggable("option","scope")},getDropEvent:function(a){return a[0]},getDropScope:function(b){return a(b).droppable("option","scope")},getDOMElement:function(a){return null==a?null:"string"==typeof a?document.getElementById(a):a.context||null!=a.length?a[0]:a},getElementObject:b,getOffset:function(a){return a.offset()},getOriginalEvent:function(a){return a.originalEvent},getPageXY:function(a){return[a.pageX,a.pageY]},getParent:function(a){return b(a).parent()},getScrollLeft:function(a){return a.scrollLeft()},getScrollTop:function(a){return a.scrollTop()},getSelector:function(c,d){return 2==arguments.length?b(c).find(d):a(c)},getSize:function(b){return b=a(b),[b.outerWidth(),b.outerHeight()]},getTagName:function(a){var c=b(a);return c.length>0?c[0].tagName:null},getUIPosition:function(a,b){if(b=b||1,1==a.length)ret={left:a[0].pageX,top:a[0].pageY};else{var c=a[1],d=c.offset;ret=d||c.absolutePosition,c.position.left/=b,c.position.top/=b}return{left:ret.left/b,top:ret.top/b}},hasClass:function(a,b){return a.hasClass(b)},initDraggable:function(b,c,d,e){c=c||{},b=a(b),c.start=jsPlumbUtil.wrap(c.start,function(){a("body").addClass(e.dragSelectClass)},!1),c.stop=jsPlumbUtil.wrap(c.stop,function(){a("body").removeClass(e.dragSelectClass)}),c.doNotRemoveHelper||(c.helper=null),d&&(c.scope=c.scope||jsPlumb.Defaults.Scope),b.draggable(c)},initDroppable:function(b,c){c.scope=c.scope||jsPlumb.Defaults.Scope,a(b).droppable(c)},isAlreadyDraggable:function(b){return a(b).hasClass("ui-draggable")},isDragSupported:function(b){return a(b).draggable},isDropSupported:function(b){return a(b).droppable},removeClass:function(a,c){a=b(a);try{if(a[0].className.constructor==SVGAnimatedString)return jsPlumbUtil.svg.removeClass(a[0],c),void 0}catch(d){}a.removeClass(c)},removeElement:function(a){b(a).remove()},setDragFilter:function(a,b){jsPlumb.CurrentLibrary.isAlreadyDraggable(a)&&a.draggable("option","cancel",b)},setDraggable:function(a,b){a.draggable("option","disabled",!b)},setDragScope:function(a,b){a.draggable("option","scope",b)},setOffset:function(a,c){b(a).offset(c)},trigger:function(a,c,d){var e=jQuery._data(b(a)[0],"handle");e(d)},unbind:function(a,c,d){a=b(a),a.unbind(c,d)}},a(document).ready(jsPlumb.init)}(jQuery);
(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var compileSchema=require("./compile"),resolve=require("./compile/resolve"),Cache=require("./cache"),SchemaObject=require("./compile/schema_obj"),stableStringify=require("fast-json-stable-stringify"),formats=require("./compile/formats"),rules=require("./compile/rules"),$dataMetaSchema=require("./data"),util=require("./compile/util");module.exports=Ajv,Ajv.prototype.validate=validate,Ajv.prototype.compile=compile,Ajv.prototype.addSchema=addSchema,Ajv.prototype.addMetaSchema=addMetaSchema,Ajv.prototype.validateSchema=validateSchema,Ajv.prototype.getSchema=getSchema,Ajv.prototype.removeSchema=removeSchema,Ajv.prototype.addFormat=addFormat,Ajv.prototype.errorsText=errorsText,Ajv.prototype._addSchema=_addSchema,Ajv.prototype._compile=_compile,Ajv.prototype.compileAsync=require("./compile/async");var customKeyword=require("./keyword");Ajv.prototype.addKeyword=customKeyword.add,Ajv.prototype.getKeyword=customKeyword.get,Ajv.prototype.removeKeyword=customKeyword.remove,Ajv.prototype.validateKeyword=customKeyword.validate;var errorClasses=require("./compile/error_classes");Ajv.ValidationError=errorClasses.Validation,Ajv.MissingRefError=errorClasses.MissingRef,Ajv.$dataMetaSchema=$dataMetaSchema;var META_SCHEMA_ID="http://json-schema.org/draft-07/schema",META_IGNORE_OPTIONS=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],META_SUPPORT_DATA=["/properties"];function Ajv(e){if(!(this instanceof Ajv))return new Ajv(e);e=this._opts=util.copy(e)||{},setLogger(this),this._schemas={},this._refs={},this._fragments={},this._formats=formats(e.format),this._cache=e.cache||new Cache,this._loadingSchemas={},this._compilations=[],this.RULES=rules(),this._getId=chooseGetId(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=stableStringify),this._metaOpts=getMetaSchemaOptions(this),e.formats&&addInitialFormats(this),addDefaultMetaSchema(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),addInitialSchemas(this)}function validate(e,t){var r;if("string"==typeof e){if(!(r=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var a=this._addSchema(e);r=a.validate||this._compile(a)}var o=r(t);return!0!==r.$async&&(this.errors=r.errors),o}function compile(e,t){var r=this._addSchema(e,void 0,t);return r.validate||this._compile(r)}function addSchema(e,t,r,a){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,r,a);return this}var i=this._getId(e);if(void 0!==i&&"string"!=typeof i)throw new Error("schema id must be string");return checkUnique(this,t=resolve.normalizeId(t||i)),this._schemas[t]=this._addSchema(e,r,a,!0),this}function addMetaSchema(e,t,r){return this.addSchema(e,t,r,!0),this}function validateSchema(e,t){var r=e.$schema;if(void 0!==r&&"string"!=typeof r)throw new Error("$schema must be a string");if(!(r=r||this._opts.defaultMeta||defaultMeta(this)))return this.logger.warn("meta-schema not available"),this.errors=null,!0;var a=this.validate(r,e);if(!a&&t){var o="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(o);this.logger.error(o)}return a}function defaultMeta(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(META_SCHEMA_ID)?META_SCHEMA_ID:void 0,e._opts.defaultMeta}function getSchema(e){var t=_getSchemaObj(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return _getSchemaFragment(this,e)}}function _getSchemaFragment(e,t){var r=resolve.schema.call(e,{schema:{}},t);if(r){var a=r.schema,o=r.root,i=r.baseId,s=compileSchema.call(e,a,o,void 0,i);return e._fragments[t]=new SchemaObject({ref:t,fragment:!0,schema:a,root:o,baseId:i,validate:s}),s}}function _getSchemaObj(e,t){return t=resolve.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function removeSchema(e){if(e instanceof RegExp)return _removeAllSchemas(this,this._schemas,e),_removeAllSchemas(this,this._refs,e),this;switch(typeof e){case"undefined":return _removeAllSchemas(this,this._schemas),_removeAllSchemas(this,this._refs),this._cache.clear(),this;case"string":var t=_getSchemaObj(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var r=this._opts.serialize,a=r?r(e):e;this._cache.del(a);var o=this._getId(e);o&&(o=resolve.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this}function _removeAllSchemas(e,t,r){for(var a in t){var o=t[a];o.meta||r&&!r.test(a)||(e._cache.del(o.cacheKey),delete t[a])}}function _addSchema(e,t,r,a){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,i=o?o(e):e,s=this._cache.get(i);if(s)return s;a=a||!1!==this._opts.addUsedSchema;var c=resolve.normalizeId(this._getId(e));c&&a&&checkUnique(this,c);var h,d=!1!==this._opts.validateSchema&&!t;d&&!(h=c&&c==resolve.normalizeId(e.$schema))&&this.validateSchema(e,!0);var n=resolve.ids.call(this,e),m=new SchemaObject({id:c,schema:e,localRefs:n,cacheKey:i,meta:r});return"#"!=c[0]&&a&&(this._refs[c]=m),this._cache.put(i,m),d&&h&&this.validateSchema(e,!0),m}function _compile(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var r,a;e.compiling=!0,e.meta&&(r=this._opts,this._opts=this._metaOpts);try{a=compileSchema.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=r)}return e.validate=a,e.refs=a.refs,e.refVal=a.refVal,e.root=a.root,a;function o(){var t=e.validate,r=t.apply(this,arguments);return o.errors=t.errors,r}}function chooseGetId(e){switch(e.schemaId){case"auto":return _get$IdOrId;case"id":return _getId;default:return _get$Id}}function _getId(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function _get$Id(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function _get$IdOrId(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function errorsText(e,t){if(!(e=e||this.errors))return"No errors";for(var r=void 0===(t=t||{}).separator?", ":t.separator,a=void 0===t.dataVar?"data":t.dataVar,o="",i=0;i<e.length;i++){var s=e[i];s&&(o+=a+s.dataPath+" "+s.message+r)}return o.slice(0,-r.length)}function addFormat(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this}function addDefaultMetaSchema(e){var t;if(e._opts.$data&&(t=require("./refs/data.json"),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var r=require("./refs/json-schema-draft-07.json");e._opts.$data&&(r=$dataMetaSchema(r,META_SUPPORT_DATA)),e.addMetaSchema(r,META_SCHEMA_ID,!0),e._refs["http://json-schema.org/schema"]=META_SCHEMA_ID}}function addInitialSchemas(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var r in t)e.addSchema(t[r],r)}function addInitialFormats(e){for(var t in e._opts.formats){var r=e._opts.formats[t];e.addFormat(t,r)}}function checkUnique(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function getMetaSchemaOptions(e){for(var t=util.copy(e._opts),r=0;r<META_IGNORE_OPTIONS.length;r++)delete t[META_IGNORE_OPTIONS[r]];return t}function setLogger(e){var t=e._opts.logger;if(!1===t)e.logger={log:noop,warn:noop,error:noop};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}function noop(){}

},{"./cache":2,"./compile":6,"./compile/async":3,"./compile/error_classes":4,"./compile/formats":5,"./compile/resolve":7,"./compile/rules":8,"./compile/schema_obj":9,"./compile/util":11,"./data":12,"./keyword":40,"./refs/data.json":41,"./refs/json-schema-draft-07.json":42,"fast-json-stable-stringify":55}],2:[function(require,module,exports){
"use strict";var Cache=module.exports=function(){this._cache={}};Cache.prototype.put=function(t,e){this._cache[t]=e},Cache.prototype.get=function(t){return this._cache[t]},Cache.prototype.del=function(t){delete this._cache[t]},Cache.prototype.clear=function(){this._cache={}};

},{}],3:[function(require,module,exports){
"use strict";var MissingRefError=require("./error_classes").MissingRef;function compileAsync(n,e,t){var r=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof e&&(t=e,e=void 0);var o=i(n).then(function(){var t=r._addSchema(n,void 0,e);return t.validate||function n(t){try{return r._compile(t)}catch(n){if(n instanceof MissingRefError)return function o(n){var o=n.missingSchema;if(s(o))throw new Error("Schema "+o+" is loaded but "+n.missingRef+" cannot be resolved");var c=r._loadingSchemas[o];c||(c=r._loadingSchemas[o]=r._opts.loadSchema(o)).then(a,a);return c.then(function(n){if(!s(o))return i(n).then(function(){s(o)||r.addSchema(n,o,void 0,e)})}).then(function(){return function n(t){try{return r._compile(t)}catch(n){if(n instanceof MissingRefError)return o(n);throw n}function o(o){var c=o.missingSchema;if(h(c))throw new Error("Schema "+c+" is loaded but "+o.missingRef+" cannot be resolved");var a=r._loadingSchemas[c];return a||(a=r._loadingSchemas[c]=r._opts.loadSchema(c)).then(s,s),a.then(function(n){if(!h(c))return i(n).then(function(){h(c)||r.addSchema(n,c,void 0,e)})}).then(function(){return n(t)});function s(){delete r._loadingSchemas[c]}function h(n){return r._refs[n]||r._schemas[n]}}}(t)});function a(){delete r._loadingSchemas[o]}function s(n){return r._refs[n]||r._schemas[n]}}(n);throw n}function o(o){var c=o.missingSchema;if(h(c))throw new Error("Schema "+c+" is loaded but "+o.missingRef+" cannot be resolved");var a=r._loadingSchemas[c];return a||(a=r._loadingSchemas[c]=r._opts.loadSchema(c)).then(s,s),a.then(function(n){if(!h(c))return i(n).then(function(){h(c)||r.addSchema(n,c,void 0,e)})}).then(function(){return n(t)});function s(){delete r._loadingSchemas[c]}function h(n){return r._refs[n]||r._schemas[n]}}}(t)});return t&&o.then(function(n){t(null,n)},t),o;function i(n){var e=n.$schema;return e&&!r.getSchema(e)?compileAsync.call(r,{$ref:e},!0):Promise.resolve()}}module.exports=compileAsync;

},{"./error_classes":4}],4:[function(require,module,exports){
"use strict";var resolve=require("./resolve");function ValidationError(r){this.message="validation failed",this.errors=r,this.ajv=this.validation=!0}function MissingRefError(r,e,s){this.message=s||MissingRefError.message(r,e),this.missingRef=resolve.url(r,e),this.missingSchema=resolve.normalizeId(resolve.fullPath(this.missingRef))}function errorSubclass(r){return r.prototype=Object.create(Error.prototype),r.prototype.constructor=r,r}module.exports={Validation:errorSubclass(ValidationError),MissingRef:errorSubclass(MissingRefError)},MissingRefError.message=function(r,e){return"can't resolve reference "+e+" from id "+r};

},{"./resolve":7}],5:[function(require,module,exports){
"use strict";var util=require("./util"),DATE=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,DAYS=[0,31,28,31,30,31,30,31,31,30,31,30,31],TIME=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,HOSTNAME=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,URI=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URIREF=/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,URITEMPLATE=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,URL=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,UUID=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,JSON_POINTER=/^(?:\/(?:[^~/]|~0|~1)*)*$/,JSON_POINTER_URI_FRAGMENT=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,RELATIVE_JSON_POINTER=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function formats(a){return a="full"==a?"full":"fast",util.copy(formats[a])}function isLeapYear(a){return a%4==0&&(a%100!=0||a%400==0)}function date(a){var d=a.match(DATE);if(!d)return!1;var u=+d[1],F=+d[2],f=+d[3];return F>=1&&F<=12&&f>=1&&f<=(2==F&&isLeapYear(u)?29:DAYS[F])}function time(a,d){var u=a.match(TIME);if(!u)return!1;var F=u[1],f=u[2],D=u[3],t=u[5];return(F<=23&&f<=59&&D<=59||23==F&&59==f&&60==D)&&(!d||t)}module.exports=formats,formats.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:HOSTNAME,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER},formats.full={date:date,time:time,"date-time":date_time,uri:uri,"uri-reference":URIREF,"uri-template":URITEMPLATE,url:URL,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:hostname,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:regex,uuid:UUID,"json-pointer":JSON_POINTER,"json-pointer-uri-fragment":JSON_POINTER_URI_FRAGMENT,"relative-json-pointer":RELATIVE_JSON_POINTER};var DATE_TIME_SEPARATOR=/t|\s/i;function date_time(a){var d=a.split(DATE_TIME_SEPARATOR);return 2==d.length&&date(d[0])&&time(d[1],!0)}function hostname(a){return a.length<=255&&HOSTNAME.test(a)}var NOT_URI_FRAGMENT=/\/|:/;function uri(a){return NOT_URI_FRAGMENT.test(a)&&URI.test(a)}var Z_ANCHOR=/[^\\]\\Z/;function regex(a){if(Z_ANCHOR.test(a))return!1;try{return new RegExp(a),!0}catch(a){return!1}}

},{"./util":11}],6:[function(require,module,exports){
"use strict";var resolve=require("./resolve"),util=require("./util"),errorClasses=require("./error_classes"),stableStringify=require("fast-json-stable-stringify"),validateGenerator=require("../dotjs/validate"),ucs2length=util.ucs2length,equal=require("fast-deep-equal"),ValidationError=errorClasses.Validation;function compile(e,r,t,o){var i=this,a=this._opts,n=[void 0],l={},s=[],c={},u=[],f={},d=[];r=r||{schema:e,refVal:n,refs:l};var v=checkCompiling.call(this,e,r,o),h=this._compilations[v.index];if(v.compiling)return h.callValidate=function e(){var r=h.validate;var t=r.apply(this,arguments);e.errors=r.errors;return t};var m=this._formats,p=this.RULES;try{var g=C(e,r,t,o);h.validate=g;var y=h.callValidate;return y&&(y.schema=g.schema,y.errors=null,y.refs=g.refs,y.refVal=g.refVal,y.root=g.root,y.$async=g.$async,a.sourceCode&&(y.source=g.source)),g}finally{endCompiling.call(this,e,r,o)}function C(e,t,o,c){var f=!t||t&&t.schema==e;if(t.schema!=r.schema)return compile.call(i,e,t,o,c);var v,h=!0===e.$async,g=validateGenerator({isTop:!0,schema:e,isRoot:f,baseId:c,root:t,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:errorClasses.MissingRef,RULES:p,validate:validateGenerator,util:util,resolve:resolve,resolveRef:V,usePattern:S,useDefault:b,useCustomRule:E,opts:a,formats:m,logger:i.logger,self:i});g=vars(n,refValCode)+vars(s,patternCode)+vars(u,defaultCode)+vars(d,customRuleCode)+g,a.processCode&&(g=a.processCode(g));try{v=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",g)(i,p,m,r,n,u,d,equal,ucs2length,ValidationError),n[0]=v}catch(e){throw i.logger.error("Error compiling schema, function code:",g),e}return v.schema=e,v.errors=null,v.refs=l,v.refVal=n,v.root=f?v:t,h&&(v.$async=!0),!0===a.sourceCode&&(v.source={code:g,patterns:s,defaults:u}),v}function V(e,o,s){o=resolve.url(e,o);var c,u,f=l[o];if(void 0!==f)return w(c=n[f],u="refVal["+f+"]");if(!s&&r.refs){var d=r.refs[o];if(void 0!==d)return w(c=r.refVal[d],u=R(o,c))}u=R(o);var v=resolve.call(i,C,r,o);if(void 0===v){var h=t&&t[o];h&&(v=resolve.inlineRef(h,a.inlineRefs)?h:compile.call(i,h,r,t,e))}if(void 0!==v)return function(e,r){var t=l[e];n[t]=r}(o,v),w(v,u);!function(e){delete l[e]}(o)}function R(e,r){var t=n.length;return n[t]=r,l[e]=t,"refVal"+t}function w(e,r){return"object"==typeof e||"boolean"==typeof e?{code:r,schema:e,inline:!0}:{code:r,$async:e&&!!e.$async}}function S(e){var r=c[e];return void 0===r&&(r=c[e]=s.length,s[r]=e),"pattern"+r}function b(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return util.toQuotedString(e);case"object":if(null===e)return"null";var r=stableStringify(e),t=f[r];return void 0===t&&(t=f[r]=u.length,u[t]=e),"default"+t}}function E(e,r,t,o){if(!1!==i._opts.validateSchema){var n=e.definition.dependencies;if(n&&!n.every(function(e){return Object.prototype.hasOwnProperty.call(t,e)}))throw new Error("parent schema must have all required keywords: "+n.join(","));var l=e.definition.validateSchema;if(l)if(!l(r)){var s="keyword schema is invalid: "+i.errorsText(l.errors);if("log"!=i._opts.validateSchema)throw new Error(s);i.logger.error(s)}}var c,u=e.definition.compile,f=e.definition.inline,v=e.definition.macro;if(u)c=u.call(i,r,t,o);else if(v)c=v.call(i,r,t,o),!1!==a.validateSchema&&i.validateSchema(c,!0);else if(f)c=f.call(i,o,e.keyword,r,t);else if(!(c=e.definition.validate))return;if(void 0===c)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var h=d.length;return d[h]=c,{code:"customRule"+h,validate:c}}}function checkCompiling(e,r,t){var o=compIndex.call(this,e,r,t);return o>=0?{index:o,compiling:!0}:(o=this._compilations.length,this._compilations[o]={schema:e,root:r,baseId:t},{index:o,compiling:!1})}function endCompiling(e,r,t){var o=compIndex.call(this,e,r,t);o>=0&&this._compilations.splice(o,1)}function compIndex(e,r,t){for(var o=0;o<this._compilations.length;o++){var i=this._compilations[o];if(i.schema==e&&i.root==r&&i.baseId==t)return o}return-1}function patternCode(e,r){return"var pattern"+e+" = new RegExp("+util.toQuotedString(r[e])+");"}function defaultCode(e){return"var default"+e+" = defaults["+e+"];"}function refValCode(e,r){return void 0===r[e]?"":"var refVal"+e+" = refVal["+e+"];"}function customRuleCode(e){return"var customRule"+e+" = customRules["+e+"];"}function vars(e,r){if(!e.length)return"";for(var t="",o=0;o<e.length;o++)t+=r(o,e);return t}module.exports=compile;

},{"../dotjs/validate":39,"./error_classes":4,"./resolve":7,"./util":11,"fast-deep-equal":43,"fast-json-stable-stringify":55}],7:[function(require,module,exports){
"use strict";var URI=require("uri-js"),equal=require("fast-deep-equal"),util=require("./util"),SchemaObject=require("./schema_obj"),traverse=require("json-schema-traverse");function resolve(e,r,t){var i=this._refs[t];if("string"==typeof i){if(!this._refs[i])return resolve.call(this,e,r,i);i=this._refs[i]}if((i=i||this._schemas[t])instanceof SchemaObject)return inlineRef(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var s,a,n,o=resolveSchema.call(this,r,t);return o&&(s=o.schema,r=o.root,n=o.baseId),s instanceof SchemaObject?a=s.validate||e.call(this,s.schema,r,void 0,n):void 0!==s&&(a=inlineRef(s,this._opts.inlineRefs)?s:e.call(this,s,r,void 0,n)),a}function resolveSchema(e,r){var t=URI.parse(r),i=_getFullPath(t),s=getFullPath(this._getId(e.schema));if(0===Object.keys(e.schema).length||i!==s){var a=normalizeId(i),n=this._refs[a];if("string"==typeof n)return resolveRecursive.call(this,e,n,t);if(n instanceof SchemaObject)n.validate||this._compile(n),e=n;else{if(!((n=this._schemas[a])instanceof SchemaObject))return;if(n.validate||this._compile(n),a==normalizeId(r))return{schema:n,root:e,baseId:s};e=n}if(!e.schema)return;s=getFullPath(this._getId(e.schema))}return getJsonPointer.call(this,t,s,e.schema,e)}function resolveRecursive(e,r,t){var i=resolveSchema.call(this,e,r);if(i){var s=i.schema,a=i.baseId;e=i.root;var n=this._getId(s);return n&&(a=resolveUrl(a,n)),getJsonPointer.call(this,t,a,s,e)}}module.exports=resolve,resolve.normalizeId=normalizeId,resolve.fullPath=getFullPath,resolve.url=resolveUrl,resolve.ids=resolveIds,resolve.inlineRef=inlineRef,resolve.schema=resolveSchema;var PREVENT_SCOPE_CHANGE=util.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function getJsonPointer(e,r,t,i){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var s=e.fragment.split("/"),a=1;a<s.length;a++){var n=s[a];if(n){if(void 0===(t=t[n=util.unescapeFragment(n)]))break;var o;if(!PREVENT_SCOPE_CHANGE[n]&&((o=this._getId(t))&&(r=resolveUrl(r,o)),t.$ref)){var l=resolveUrl(r,t.$ref),c=resolveSchema.call(this,i,l);c&&(t=c.schema,i=c.root,r=c.baseId)}}}return void 0!==t&&t!==i.schema?{schema:t,root:i,baseId:r}:void 0}}var SIMPLE_INLINED=util.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function inlineRef(e,r){return!1!==r&&(void 0===r||!0===r?checkNoRef(e):r?countKeys(e)<=r:void 0)}function checkNoRef(e){var r;if(Array.isArray(e)){for(var t=0;t<e.length;t++)if("object"==typeof(r=e[t])&&!checkNoRef(r))return!1}else for(var i in e){if("$ref"==i)return!1;if("object"==typeof(r=e[i])&&!checkNoRef(r))return!1}return!0}function countKeys(e){var r,t=0;if(Array.isArray(e)){for(var i=0;i<e.length;i++)if("object"==typeof(r=e[i])&&(t+=countKeys(r)),t==1/0)return 1/0}else for(var s in e){if("$ref"==s)return 1/0;if(SIMPLE_INLINED[s])t++;else if("object"==typeof(r=e[s])&&(t+=countKeys(r)+1),t==1/0)return 1/0}return t}function getFullPath(e,r){return!1!==r&&(e=normalizeId(e)),_getFullPath(URI.parse(e))}function _getFullPath(e){return URI.serialize(e).split("#")[0]+"#"}var TRAILING_SLASH_HASH=/#\/?$/;function normalizeId(e){return e?e.replace(TRAILING_SLASH_HASH,""):""}function resolveUrl(e,r){return r=normalizeId(r),URI.resolve(e,r)}function resolveIds(e){var r=normalizeId(this._getId(e)),t={"":r},i={"":getFullPath(r,!1)},s={},a=this;return traverse(e,{allKeys:!0},function(e,r,n,o,l,c,f){if(""!==r){var h=a._getId(e),u=t[o],m=i[o]+"/"+l;if(void 0!==f&&(m+="/"+("number"==typeof f?f:util.escapeFragment(f))),"string"==typeof h){h=u=normalizeId(u?URI.resolve(u,h):h);var v=a._refs[h];if("string"==typeof v&&(v=a._refs[v]),v&&v.schema){if(!equal(e,v.schema))throw new Error('id "'+h+'" resolves to more than one schema')}else if(h!=normalizeId(m))if("#"==h[0]){if(s[h]&&!equal(e,s[h]))throw new Error('id "'+h+'" resolves to more than one schema');s[h]=e}else a._refs[h]=m}t[r]=u,i[r]=m}}),s}

},{"./schema_obj":9,"./util":11,"fast-deep-equal":43,"json-schema-traverse":117,"uri-js":160}],8:[function(require,module,exports){
"use strict";var ruleModules=require("../dotjs"),toHash=require("./util").toHash;module.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=toHash(t),e.types=toHash(["number","integer","string","array","object","boolean","null"]),e.forEach(function(r){r.rules=r.rules.map(function(r){var n;if("object"==typeof r){var o=Object.keys(r)[0];n=r[o],r=o,n.forEach(function(r){t.push(r),e.all[r]=!0})}return t.push(r),e.all[r]={keyword:r,code:ruleModules[r],implements:n}}),e.all.$comment={keyword:"$comment",code:ruleModules.$comment},r.type&&(e.types[r.type]=r)}),e.keywords=toHash(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e};

},{"../dotjs":28,"./util":11}],9:[function(require,module,exports){
"use strict";var util=require("./util");function SchemaObject(t){util.copy(t,this)}module.exports=SchemaObject;

},{"./util":11}],10:[function(require,module,exports){
"use strict";module.exports=function(r){for(var t,e=0,o=r.length,c=0;c<o;)e++,(t=r.charCodeAt(c++))>=55296&&t<=56319&&c<o&&56320==(64512&(t=r.charCodeAt(c)))&&c++;return e};

},{}],11:[function(require,module,exports){
"use strict";function copy(e,r){for(var t in r=r||{},e)r[t]=e[t];return r}function checkDataType(e,r,t){var a=t?" !== ":" === ",n=t?" || ":" && ",o=t?"!":"",c=t?"":"!";switch(e){case"null":return r+a+"null";case"array":return o+"Array.isArray("+r+")";case"object":return"("+o+r+n+"typeof "+r+a+'"object"'+n+c+"Array.isArray("+r+"))";case"integer":return"(typeof "+r+a+'"number"'+n+c+"("+r+" % 1)"+n+r+a+r+")";default:return"typeof "+r+a+'"'+e+'"'}}function checkDataTypes(e,r){switch(e.length){case 1:return checkDataType(e[0],r,!0);default:var t="",a=toHash(e);for(var n in a.array&&a.object&&(t=a.null?"(":"(!"+r+" || ",t+="typeof "+r+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)t+=(t?" && ":"")+checkDataType(n,r,!0);return t}}module.exports={copy:copy,checkDataType:checkDataType,checkDataTypes:checkDataTypes,coerceToTypes:coerceToTypes,toHash:toHash,getProperty:getProperty,escapeQuotes:escapeQuotes,equal:require("fast-deep-equal"),ucs2length:require("./ucs2length"),varOccurences:varOccurences,varReplace:varReplace,cleanUpCode:cleanUpCode,finalCleanUpCode:finalCleanUpCode,schemaHasRules:schemaHasRules,schemaHasRulesExcept:schemaHasRulesExcept,schemaUnknownRules:schemaUnknownRules,toQuotedString:toQuotedString,getPathExpr:getPathExpr,getPath:getPath,getData:getData,unescapeFragment:unescapeFragment,unescapeJsonPointer:unescapeJsonPointer,escapeFragment:escapeFragment,escapeJsonPointer:escapeJsonPointer};var COERCE_TO_TYPES=toHash(["string","number","integer","boolean","null"]);function coerceToTypes(e,r){if(Array.isArray(r)){for(var t=[],a=0;a<r.length;a++){var n=r[a];COERCE_TO_TYPES[n]?t[t.length]=n:"array"===e&&"array"===n&&(t[t.length]=n)}if(t.length)return t}else{if(COERCE_TO_TYPES[r])return[r];if("array"===e&&"array"===r)return["array"]}}function toHash(e){for(var r={},t=0;t<e.length;t++)r[e[t]]=!0;return r}var IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i,SINGLE_QUOTE=/'|\\/g;function getProperty(e){return"number"==typeof e?"["+e+"]":IDENTIFIER.test(e)?"."+e:"['"+escapeQuotes(e)+"']"}function escapeQuotes(e){return e.replace(SINGLE_QUOTE,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function varOccurences(e,r){r+="[^0-9]";var t=e.match(new RegExp(r,"g"));return t?t.length:0}function varReplace(e,r,t){return r+="([^0-9])",t=t.replace(/\$/g,"$$$$"),e.replace(new RegExp(r,"g"),t+"$1")}var EMPTY_ELSE=/else\s*{\s*}/g,EMPTY_IF_NO_ELSE=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,EMPTY_IF_WITH_ELSE=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;function cleanUpCode(e){return e.replace(EMPTY_ELSE,"").replace(EMPTY_IF_NO_ELSE,"").replace(EMPTY_IF_WITH_ELSE,"if (!($1))")}var ERRORS_REGEXP=/[^v.]errors/g,REMOVE_ERRORS=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,REMOVE_ERRORS_ASYNC=/var errors = 0;|var vErrors = null;/g,RETURN_VALID="return errors === 0;",RETURN_TRUE="validate.errors = null; return true;",RETURN_ASYNC=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,RETURN_DATA_ASYNC="return data;",ROOTDATA_REGEXP=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,REMOVE_ROOTDATA=/if \(rootData === undefined\) rootData = data;/;function finalCleanUpCode(e,r){var t=e.match(ERRORS_REGEXP);return t&&2==t.length&&(e=r?e.replace(REMOVE_ERRORS_ASYNC,"").replace(RETURN_ASYNC,RETURN_DATA_ASYNC):e.replace(REMOVE_ERRORS,"").replace(RETURN_VALID,RETURN_TRUE)),(t=e.match(ROOTDATA_REGEXP))&&3===t.length?e.replace(REMOVE_ROOTDATA,""):e}function schemaHasRules(e,r){if("boolean"==typeof e)return!e;for(var t in e)if(r[t])return!0}function schemaHasRulesExcept(e,r,t){if("boolean"==typeof e)return!e&&"not"!=t;for(var a in e)if(a!=t&&r[a])return!0}function schemaUnknownRules(e,r){if("boolean"!=typeof e)for(var t in e)if(!r[t])return t}function toQuotedString(e){return"'"+escapeQuotes(e)+"'"}function getPathExpr(e,r,t,a){return joinPaths(e,t?"'/' + "+r+(a?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):a?"'[' + "+r+" + ']'":"'[\\'' + "+r+" + '\\']'")}function getPath(e,r,t){return joinPaths(e,toQuotedString(t?"/"+escapeJsonPointer(r):getProperty(r)))}var JSON_POINTER=/^\/(?:[^~]|~0|~1)*$/,RELATIVE_JSON_POINTER=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function getData(e,r,t){var a,n,o,c;if(""===e)return"rootData";if("/"==e[0]){if(!JSON_POINTER.test(e))throw new Error("Invalid JSON-pointer: "+e);n=e,o="rootData"}else{if(!(c=e.match(RELATIVE_JSON_POINTER)))throw new Error("Invalid JSON-pointer: "+e);if(a=+c[1],"#"==(n=c[2])){if(a>=r)throw new Error("Cannot access property/index "+a+" levels up, current level is "+r);return t[r-a]}if(a>r)throw new Error("Cannot access data "+a+" levels up, current level is "+r);if(o="data"+(r-a||""),!n)return o}for(var s=o,u=n.split("/"),l=0;l<u.length;l++){var i=u[l];i&&(s+=" && "+(o+=getProperty(unescapeJsonPointer(i))))}return s}function joinPaths(e,r){return'""'==e?r:(e+" + "+r).replace(/' \+ '/g,"")}function unescapeFragment(e){return unescapeJsonPointer(decodeURIComponent(e))}function escapeFragment(e){return encodeURIComponent(escapeJsonPointer(e))}function escapeJsonPointer(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function unescapeJsonPointer(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}

},{"./ucs2length":10,"fast-deep-equal":43}],12:[function(require,module,exports){
"use strict";var KEYWORDS=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];module.exports=function(e,t){for(var i=0;i<t.length;i++){e=JSON.parse(JSON.stringify(e));var r,m=t[i].split("/"),n=e;for(r=1;r<m.length;r++)n=n[m[r]];for(r=0;r<KEYWORDS.length;r++){var a=KEYWORDS[r],s=n[a];s&&(n[a]={anyOf:[s,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]})}}return e};

},{}],13:[function(require,module,exports){
"use strict";var metaSchema=require("./refs/json-schema-draft-07.json");module.exports={$id:"https://github.com/epoberezkin/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:metaSchema.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:metaSchema.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}};

},{"./refs/json-schema-draft-07.json":42}],14:[function(require,module,exports){
"use strict";module.exports=function(e,a,r){var t,s=" ",o=e.level,i=e.dataLevel,m=e.schema[a],h=e.schemaPath+e.util.getProperty(a),l=e.errSchemaPath+"/"+a,d=!e.opts.allErrors,u="data"+(i||""),c=e.opts.$data&&m&&m.$data;c?(s+=" var schema"+o+" = "+e.util.getData(m.$data,i,e.dataPathArr)+"; ",t="schema"+o):t=m;var n="maximum"==a,v=n?"exclusiveMaximum":"exclusiveMinimum",p=e.schema[v],f=e.opts.$data&&p&&p.$data,P=n?"<":">",b=n?">":"<",x=void 0;if(f){var E=e.util.getData(p.$data,i,e.dataPathArr),y="exclusive"+o,g="exclType"+o,S="exclIsNumber"+o,w="' + "+(k="op"+o)+" + '";s+=" var schemaExcl"+o+" = "+E+"; ",s+=" var "+y+"; var "+g+" = typeof "+(E="schemaExcl"+o)+"; if ("+g+" != 'boolean' && "+g+" != 'undefined' && "+g+" != 'number') { ";var $;x=v;($=$||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(x||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(s+=" , message: '"+v+" should be boolean' "),e.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";var M=s;s=$.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+M+"]); ":s+=" validate.errors = ["+M+"]; return false; ":s+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" "+g+" == 'number' ? ( ("+y+" = "+t+" === undefined || "+E+" "+P+"= "+t+") ? "+u+" "+b+"= "+E+" : "+u+" "+b+" "+t+" ) : ( ("+y+" = "+E+" === true) ? "+u+" "+b+"= "+t+" : "+u+" "+b+" "+t+" ) || "+u+" !== "+u+") { var op"+o+" = "+y+" ? '"+P+"' : '"+P+"='; ",void 0===m&&(x=v,l=e.errSchemaPath+"/"+v,t=E,c=f)}else{w=P;if((S="number"==typeof p)&&c){var k="'"+w+"'";s+=" if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" ( "+t+" === undefined || "+p+" "+P+"= "+t+" ? "+u+" "+b+"= "+p+" : "+u+" "+b+" "+t+" ) || "+u+" !== "+u+") { "}else{S&&void 0===m?(y=!0,x=v,l=e.errSchemaPath+"/"+v,t=p,b+="="):(S&&(t=Math[n?"min":"max"](p,m)),p===(!S||t)?(y=!0,x=v,l=e.errSchemaPath+"/"+v,b+="="):(y=!1,w+="="));k="'"+w+"'";s+=" if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" "+u+" "+b+" "+t+" || "+u+" !== "+u+") { "}}x=x||a,($=$||[]).push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(x||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { comparison: "+k+", limit: "+t+", exclusive: "+y+" } ",!1!==e.opts.messages&&(s+=" , message: 'should be "+w+" ",s+=c?"' + "+t:t+"'"),e.opts.verbose&&(s+=" , schema:  ",s+=c?"validate.schema"+h:""+m,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),s+=" } "):s+=" {} ";M=s;return s=$.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+M+"]); ":s+=" validate.errors = ["+M+"]; return false; ":s+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",d&&(s+=" else { "),s};

},{}],15:[function(require,module,exports){
"use strict";module.exports=function(a,e,r){var t,s=" ",o=a.level,h=a.dataLevel,m=a.schema[e],l=a.schemaPath+a.util.getProperty(e),i=a.errSchemaPath+"/"+e,d=!a.opts.allErrors,c="data"+(h||""),u=a.opts.$data&&m&&m.$data;u?(s+=" var schema"+o+" = "+a.util.getData(m.$data,h,a.dataPathArr)+"; ",t="schema"+o):t=m,s+="if ( ",u&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" "+c+".length "+("maxItems"==e?">":"<")+" "+t+") { ";var n=e,v=v||[];v.push(s),s="",!1!==a.createErrors?(s+=" { keyword: '"+(n||"_limitItems")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(i)+" , params: { limit: "+t+" } ",!1!==a.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxItems"==e?"more":"fewer",s+=" than ",s+=u?"' + "+t+" + '":""+m,s+=" items' "),a.opts.verbose&&(s+=" , schema:  ",s+=u?"validate.schema"+l:""+m,s+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+c+" "),s+=" } "):s+=" {} ";var p=s;return s=v.pop(),!a.compositeRule&&d?a.async?s+=" throw new ValidationError(["+p+"]); ":s+=" validate.errors = ["+p+"]; return false; ":s+=" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",d&&(s+=" else { "),s};

},{}],16:[function(require,module,exports){
"use strict";module.exports=function(a,e,r){var t,s=" ",o=a.level,h=a.dataLevel,l=a.schema[e],m=a.schemaPath+a.util.getProperty(e),n=a.errSchemaPath+"/"+e,c=!a.opts.allErrors,d="data"+(h||""),i=a.opts.$data&&l&&l.$data;i?(s+=" var schema"+o+" = "+a.util.getData(l.$data,h,a.dataPathArr)+"; ",t="schema"+o):t=l;var u="maxLength"==e?">":"<";s+="if ( ",i&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),!1===a.opts.unicode?s+=" "+d+".length ":s+=" ucs2length("+d+") ",s+=" "+u+" "+t+") { ";var p=e,v=v||[];v.push(s),s="",!1!==a.createErrors?(s+=" { keyword: '"+(p||"_limitLength")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(n)+" , params: { limit: "+t+" } ",!1!==a.opts.messages&&(s+=" , message: 'should NOT be ",s+="maxLength"==e?"longer":"shorter",s+=" than ",s+=i?"' + "+t+" + '":""+l,s+=" characters' "),a.opts.verbose&&(s+=" , schema:  ",s+=i?"validate.schema"+m:""+l,s+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+d+" "),s+=" } "):s+=" {} ";var g=s;return s=v.pop(),!a.compositeRule&&c?a.async?s+=" throw new ValidationError(["+g+"]); ":s+=" validate.errors = ["+g+"]; return false; ":s+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",c&&(s+=" else { "),s};

},{}],17:[function(require,module,exports){
"use strict";module.exports=function(e,r,a){var t,s=" ",o=e.level,h=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),m=e.errSchemaPath+"/"+r,d=!e.opts.allErrors,p="data"+(h||""),c=e.opts.$data&&i&&i.$data;c?(s+=" var schema"+o+" = "+e.util.getData(i.$data,h,e.dataPathArr)+"; ",t="schema"+o):t=i,s+="if ( ",c&&(s+=" ("+t+" !== undefined && typeof "+t+" != 'number') || "),s+=" Object.keys("+p+").length "+("maxProperties"==r?">":"<")+" "+t+") { ";var u=r,n=n||[];n.push(s),s="",!1!==e.createErrors?(s+=" { keyword: '"+(u||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(m)+" , params: { limit: "+t+" } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have ",s+="maxProperties"==r?"more":"fewer",s+=" than ",s+=c?"' + "+t+" + '":""+i,s+=" properties' "),e.opts.verbose&&(s+=" , schema:  ",s+=c?"validate.schema"+l:""+i,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),s+=" } "):s+=" {} ";var v=s;return s=n.pop(),!e.compositeRule&&d?e.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",d&&(s+=" else { "),s};

},{}],18:[function(require,module,exports){
"use strict";module.exports=function(e,t,a){var l=" ",r=e.schema[t],s=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,h=!e.opts.allErrors,i=e.util.copy(e),o="";i.level++;var u="valid"+i.level,m=i.baseId,d=!0,p=r;if(p)for(var v,f=-1,n=p.length-1;f<n;)v=p[f+=1],(e.opts.strictKeywords?"object"==typeof v&&Object.keys(v).length>0:e.util.schemaHasRules(v,e.RULES.all))&&(d=!1,i.schema=v,i.schemaPath=s+"["+f+"]",i.errSchemaPath=c+"/"+f,l+="  "+e.validate(i)+" ",i.baseId=m,h&&(l+=" if ("+u+") { ",o+="}"));return h&&(l+=d?" if (true) { ":" "+o.slice(0,-1)+" "),l=e.util.cleanUpCode(l)};

},{}],19:[function(require,module,exports){
"use strict";module.exports=function(e,r,a){var s=" ",t=e.level,o=e.dataLevel,l=e.schema[r],i=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,v="data"+(o||""),m="valid"+t,u="errs__"+t,n=e.util.copy(e),d="";n.level++;var p="valid"+n.level;if(l.every(function(r){return e.opts.strictKeywords?"object"==typeof r&&Object.keys(r).length>0:e.util.schemaHasRules(r,e.RULES.all)})){var f=n.baseId;s+=" var "+u+" = errors; var "+m+" = false;  ";var E=e.compositeRule;e.compositeRule=n.compositeRule=!0;var y=l;if(y)for(var P,R=-1,g=y.length-1;R<g;)P=y[R+=1],n.schema=P,n.schemaPath=i+"["+R+"]",n.errSchemaPath=c+"/"+R,s+="  "+e.validate(n)+" ",n.baseId=f,s+=" "+m+" = "+m+" || "+p+"; if (!"+m+") { ",d+="}";e.compositeRule=n.compositeRule=E,s+=" "+d+" if (!"+m+") {   var err =   ",!1!==e.createErrors?(s+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(s+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" } else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; } ",e.opts.allErrors&&(s+=" } "),s=e.util.cleanUpCode(s)}else h&&(s+=" if (true) { ");return s};

},{}],20:[function(require,module,exports){
"use strict";module.exports=function(t,o,e){var r=" ",s=t.schema[o],n=t.errSchemaPath+"/"+o,c=(t.opts.allErrors,t.util.toQuotedString(s));return!0===t.opts.$comment?r+=" console.log("+c+");":"function"==typeof t.opts.$comment&&(r+=" self._opts.$comment("+c+", "+t.util.toQuotedString(n)+", validate.root.schema);"),r};

},{}],21:[function(require,module,exports){
"use strict";module.exports=function(a,e,r){var t=" ",s=a.level,o=a.dataLevel,l=a.schema[e],h=a.schemaPath+a.util.getProperty(e),c=a.errSchemaPath+"/"+e,d=!a.opts.allErrors,m="data"+(o||""),v="valid"+s,u=a.opts.$data&&l&&l.$data;u&&(t+=" var schema"+s+" = "+a.util.getData(l.$data,o,a.dataPathArr)+"; "),u||(t+=" var schema"+s+" = validate.schema"+h+";"),t+="var "+v+" = equal("+m+", schema"+s+"); if (!"+v+") {   ";var i=i||[];i.push(t),t="",!1!==a.createErrors?(t+=" { keyword: 'const' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(c)+" , params: { allowedValue: schema"+s+" } ",!1!==a.opts.messages&&(t+=" , message: 'should be equal to constant' "),a.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";var n=t;return t=i.pop(),!a.compositeRule&&d?a.async?t+=" throw new ValidationError(["+n+"]); ":t+=" validate.errors = ["+n+"]; return false; ":t+=" var err = "+n+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",d&&(t+=" else { "),t};

},{}],22:[function(require,module,exports){
"use strict";module.exports=function(e,r,a){var t=" ",s=e.level,l=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),v=e.errSchemaPath+"/"+r,c=!e.opts.allErrors,h="data"+(l||""),u="valid"+s,d="errs__"+s,p=e.util.copy(e);p.level++;var m="valid"+p.level,n="i"+s,P=p.dataLevel=e.dataLevel+1,f="data"+P,E=e.baseId,g=e.opts.strictKeywords?"object"==typeof o&&Object.keys(o).length>0:e.util.schemaHasRules(o,e.RULES.all);if(t+="var "+d+" = errors;var "+u+";",g){var R=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=o,p.schemaPath=i,p.errSchemaPath=v,t+=" var "+m+" = false; for (var "+n+" = 0; "+n+" < "+h+".length; "+n+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,n,e.opts.jsonPointers,!0);var y=h+"["+n+"]";p.dataPathArr[P]=n;var b=e.validate(p);p.baseId=E,e.util.varOccurences(b,f)<2?t+=" "+e.util.varReplace(b,f,y)+" ":t+=" var "+f+" = "+y+"; "+b+" ",t+=" if ("+m+") break; }  ",e.compositeRule=p.compositeRule=R,t+="  if (!"+m+") {"}else t+=" if ("+h+".length == 0) {";var S=S||[];S.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(v)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'should contain a valid item' "),e.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),t+=" } "):t+=" {} ";var w=t;return t=S.pop(),!e.compositeRule&&c?e.async?t+=" throw new ValidationError(["+w+"]); ":t+=" validate.errors = ["+w+"]; return false; ":t+=" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { ",g&&(t+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(t+=" } "),t=e.util.cleanUpCode(t)};

},{}],23:[function(require,module,exports){
"use strict";module.exports=function(a,r,e){var t,s,o=" ",i=a.level,h=a.dataLevel,d=a.schema[r],l=a.schemaPath+a.util.getProperty(r),v=a.errSchemaPath+"/"+r,c=!a.opts.allErrors,n="data"+(h||""),m="valid"+i,u="errs__"+i,p=a.opts.$data&&d&&d.$data;p?(o+=" var schema"+i+" = "+a.util.getData(d.$data,h,a.dataPathArr)+"; ",s="schema"+i):s=d;var f,P,y,E,w,k="definition"+i,g=this.definition,R="";if(p&&g.$data){w="keywordValidate"+i;var S=g.validateSchema;o+=" var "+k+" = RULES.custom['"+r+"'].definition; var "+w+" = "+k+".validate;"}else{if(!(E=a.useCustomRule(this,d,a.schema,a)))return;s="validate.schema"+l,w=E.code,f=g.compile,P=g.inline,y=g.macro}var b=w+".errors",$="i"+i,A="ruleErr"+i,D=g.async;if(D&&!a.async)throw new Error("async keyword in sync schema");if(P||y||(o+=b+" = null;"),o+="var "+u+" = errors;var "+m+";",p&&g.$data&&(R+="}",o+=" if ("+s+" === undefined) { "+m+" = true; } else { ",S&&(R+="}",o+=" "+m+" = "+k+".validateSchema("+s+"); if ("+m+") { ")),P)g.statements?o+=" "+E.validate+" ":o+=" "+m+" = "+E.validate+"; ";else if(y){var V=a.util.copy(a);R="";V.level++;var x="valid"+V.level;V.schema=E.validate,V.schemaPath="";var C=a.compositeRule;a.compositeRule=V.compositeRule=!0;var L=a.validate(V).replace(/validate\.schema/g,w);a.compositeRule=V.compositeRule=C,o+=" "+L}else{(j=j||[]).push(o),o="",o+="  "+w+".call( ",a.opts.passContext?o+="this":o+="self",f||!1===g.schema?o+=" , "+n+" ":o+=" , "+s+" , "+n+" , validate.schema"+a.schemaPath+" ",o+=" , (dataPath || '')",'""'!=a.errorPath&&(o+=" + "+a.errorPath);var Q=h?"data"+(h-1||""):"parentData",_=h?a.dataPathArr[h]:"parentDataProperty",U=o+=" , "+Q+" , "+_+" , rootData )  ";o=j.pop(),!1===g.errors?(o+=" "+m+" = ",D&&(o+="await "),o+=U+"; "):o+=D?" var "+(b="customErrors"+i)+" = null; try { "+m+" = await "+U+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+b+" = e.errors; else throw e; } ":" "+b+" = null; "+m+" = "+U+"; "}if(g.modifying&&(o+=" if ("+Q+") "+n+" = "+Q+"["+_+"];"),o+=""+R,g.valid)c&&(o+=" if (true) { ");else{var j;o+=" if ( ",void 0===g.valid?(o+=" !",o+=y?""+x:""+m):o+=" "+!g.valid+" ",o+=") { ",t=this.keyword,(j=j||[]).push(o),o="",(j=j||[]).push(o),o="",!1!==a.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { keyword: '"+this.keyword+"' } ",!1!==a.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),a.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ";var q=o;o=j.pop(),!a.compositeRule&&c?a.async?o+=" throw new ValidationError(["+q+"]); ":o+=" validate.errors = ["+q+"]; return false; ":o+=" var err = "+q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var z=o;o=j.pop(),P?g.errors?"full"!=g.errors&&(o+="  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+A+" = vErrors["+$+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+v+'"; } ',a.opts.verbose&&(o+=" "+A+".schema = "+s+"; "+A+".data = "+n+"; "),o+=" } "):!1===g.errors?o+=" "+z+" ":(o+=" if ("+u+" == errors) { "+z+" } else {  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+A+" = vErrors["+$+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+a.errorPath+"; if ("+A+".schemaPath === undefined) { "+A+'.schemaPath = "'+v+'"; } ',a.opts.verbose&&(o+=" "+A+".schema = "+s+"; "+A+".data = "+n+"; "),o+=" } } "):y?(o+="   var err =   ",!1!==a.createErrors?(o+=" { keyword: '"+(t||"custom")+"' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(v)+" , params: { keyword: '"+this.keyword+"' } ",!1!==a.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),a.opts.verbose&&(o+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+n+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!a.compositeRule&&c&&(a.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===g.errors?o+=" "+z+" ":(o+=" if (Array.isArray("+b+")) { if (vErrors === null) vErrors = "+b+"; else vErrors = vErrors.concat("+b+"); errors = vErrors.length;  for (var "+$+"="+u+"; "+$+"<errors; "+$+"++) { var "+A+" = vErrors["+$+"]; if ("+A+".dataPath === undefined) "+A+".dataPath = (dataPath || '') + "+a.errorPath+";  "+A+'.schemaPath = "'+v+'";  ',a.opts.verbose&&(o+=" "+A+".schema = "+s+"; "+A+".data = "+n+"; "),o+=" } } else { "+z+" } "),o+=" } ",c&&(o+=" else { ")}return o};

},{}],24:[function(require,module,exports){
"use strict";module.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,p=e.schema[r],i=e.schemaPath+e.util.getProperty(r),l=e.errSchemaPath+"/"+r,u=!e.opts.allErrors,n="data"+(o||""),h="errs__"+s,c=e.util.copy(e),d="";c.level++;var v="valid"+c.level,P={},m={},y=e.opts.ownProperties;for(j in p){var g=p[j],f=Array.isArray(g)?m:P;f[j]=g}a+="var "+h+" = errors;";var Q=e.errorPath;for(var j in a+="var missing"+s+";",m)if((f=m[j]).length){if(a+=" if ( "+n+e.util.getProperty(j)+" !== undefined ",y&&(a+=" && Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(j)+"') "),u){a+=" && ( ";var w=f;if(w)for(var E=-1,b=w.length-1;E<b;){R=w[E+=1],E&&(a+=" || "),a+=" ( ( "+(I=n+(D=e.util.getProperty(R)))+" === undefined ",y&&(a+=" || ! Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(R)+"') "),a+=") && (missing"+s+" = "+e.util.toQuotedString(e.opts.jsonPointers?R:D)+") ) "}a+=")) {  ";var O="missing"+s,S="' + "+O+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(Q,O,!0):Q+" + "+O);var _=_||[];_.push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(j)+"', missingProperty: '"+S+"', depsCount: "+f.length+", deps: '"+e.util.escapeQuotes(1==f.length?f[0]:f.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==f.length?a+="property "+e.util.escapeQuotes(f[0]):a+="properties "+e.util.escapeQuotes(f.join(", ")),a+=" when property "+e.util.escapeQuotes(j)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ";var k=a;a=_.pop(),!e.compositeRule&&u?e.async?a+=" throw new ValidationError(["+k+"]); ":a+=" validate.errors = ["+k+"]; return false; ":a+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{a+=" ) { ";var C=f;if(C)for(var R,x=-1,A=C.length-1;x<A;){R=C[x+=1];var D=e.util.getProperty(R),I=(S=e.util.escapeQuotes(R),n+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Q,R,e.opts.jsonPointers)),a+=" if ( "+I+" === undefined ",y&&(a+=" || ! Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(R)+"') "),a+=") {  var err =   ",!1!==e.createErrors?(a+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(j)+"', missingProperty: '"+S+"', depsCount: "+f.length+", deps: '"+e.util.escapeQuotes(1==f.length?f[0]:f.join(", "))+"' } ",!1!==e.opts.messages&&(a+=" , message: 'should have ",1==f.length?a+="property "+e.util.escapeQuotes(f[0]):a+="properties "+e.util.escapeQuotes(f.join(", ")),a+=" when property "+e.util.escapeQuotes(j)+" is present' "),e.opts.verbose&&(a+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),a+=" } "):a+=" {} ",a+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}a+=" }   ",u&&(d+="}",a+=" else { ")}e.errorPath=Q;var L=c.baseId;for(var j in P){g=P[j];(e.opts.strictKeywords?"object"==typeof g&&Object.keys(g).length>0:e.util.schemaHasRules(g,e.RULES.all))&&(a+=" "+v+" = true; if ( "+n+e.util.getProperty(j)+" !== undefined ",y&&(a+=" && Object.prototype.hasOwnProperty.call("+n+", '"+e.util.escapeQuotes(j)+"') "),a+=") { ",c.schema=g,c.schemaPath=i+e.util.getProperty(j),c.errSchemaPath=l+"/"+e.util.escapeFragment(j),a+="  "+e.validate(c)+" ",c.baseId=L,a+=" }  ",u&&(a+=" if ("+v+") { ",d+="}"))}return u&&(a+="   "+d+" if ("+h+" == errors) {"),a=e.util.cleanUpCode(a)};

},{}],25:[function(require,module,exports){
"use strict";module.exports=function(a,e,r){var t=" ",s=a.level,l=a.dataLevel,o=a.schema[e],h=a.schemaPath+a.util.getProperty(e),d=a.errSchemaPath+"/"+e,i=!a.opts.allErrors,u="data"+(l||""),m="valid"+s,v=a.opts.$data&&o&&o.$data;v&&(t+=" var schema"+s+" = "+a.util.getData(o.$data,l,a.dataPathArr)+"; ");var c="i"+s,n="schema"+s;v||(t+=" var "+n+" = validate.schema"+h+";"),t+="var "+m+";",v&&(t+=" if (schema"+s+" === undefined) "+m+" = true; else if (!Array.isArray(schema"+s+")) "+m+" = false; else {"),t+=m+" = false;for (var "+c+"=0; "+c+"<"+n+".length; "+c+"++) if (equal("+u+", "+n+"["+c+"])) { "+m+" = true; break; }",v&&(t+="  }  "),t+=" if (!"+m+") {   ";var p=p||[];p.push(t),t="",!1!==a.createErrors?(t+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(d)+" , params: { allowedValues: schema"+s+" } ",!1!==a.opts.messages&&(t+=" , message: 'should be equal to one of the allowed values' "),a.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+a.schemaPath+" , data: "+u+" "),t+=" } "):t+=" {} ";var f=t;return t=p.pop(),!a.compositeRule&&i?a.async?t+=" throw new ValidationError(["+f+"]); ":t+=" validate.errors = ["+f+"]; return false; ":t+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" }",i&&(t+=" else { "),t};

},{}],26:[function(require,module,exports){
"use strict";module.exports=function(a,t,r){var e=" ",o=a.level,s=a.dataLevel,i=a.schema[t],n=a.schemaPath+a.util.getProperty(t),f=a.errSchemaPath+"/"+t,c=!a.opts.allErrors,u="data"+(s||"");if(!1===a.opts.format)return c&&(e+=" if (true) { "),e;var m,h=a.opts.$data&&i&&i.$data;h?(e+=" var schema"+o+" = "+a.util.getData(i.$data,s,a.dataPathArr)+"; ",m="schema"+o):m=i;var l=a.opts.unknownFormats,d=Array.isArray(l);if(h){e+=" var "+(p="format"+o)+" = formats["+m+"]; var "+(v="isObject"+o)+" = typeof "+p+" == 'object' && !("+p+" instanceof RegExp) && "+p+".validate; var "+(y="formatType"+o)+" = "+v+" && "+p+".type || 'string'; if ("+v+") { ",a.async&&(e+=" var async"+o+" = "+p+".async; "),e+=" "+p+" = "+p+".validate; } if (  ",h&&(e+=" ("+m+" !== undefined && typeof "+m+" != 'string') || "),e+=" (","ignore"!=l&&(e+=" ("+m+" && !"+p+" ",d&&(e+=" && self._opts.unknownFormats.indexOf("+m+") == -1 "),e+=") || "),e+=" ("+p+" && "+y+" == '"+r+"' && !(typeof "+p+" == 'function' ? ",a.async?e+=" (async"+o+" ? await "+p+"("+u+") : "+p+"("+u+")) ":e+=" "+p+"("+u+") ",e+=" : "+p+".test("+u+"))))) {"}else{var p;if(!(p=a.formats[i])){if("ignore"==l)return a.logger.warn('unknown format "'+i+'" ignored in schema at path "'+a.errSchemaPath+'"'),c&&(e+=" if (true) { "),e;if(d&&l.indexOf(i)>=0)return c&&(e+=" if (true) { "),e;throw new Error('unknown format "'+i+'" is used in schema at path "'+a.errSchemaPath+'"')}var v,y=(v="object"==typeof p&&!(p instanceof RegExp)&&p.validate)&&p.type||"string";if(v){var g=!0===p.async;p=p.validate}if(y!=r)return c&&(e+=" if (true) { "),e;if(g){if(!a.async)throw new Error("async format in sync schema");e+=" if (!(await "+(w="formats"+a.util.getProperty(i)+".validate")+"("+u+"))) { "}else{e+=" if (! ";var w="formats"+a.util.getProperty(i);v&&(w+=".validate"),e+="function"==typeof p?" "+w+"("+u+") ":" "+w+".test("+u+") ",e+=") { "}}var P=P||[];P.push(e),e="",!1!==a.createErrors?(e+=" { keyword: 'format' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(f)+" , params: { format:  ",e+=h?""+m:""+a.util.toQuotedString(i),e+="  } ",!1!==a.opts.messages&&(e+=" , message: 'should match format \"",e+=h?"' + "+m+" + '":""+a.util.escapeQuotes(i),e+="\"' "),a.opts.verbose&&(e+=" , schema:  ",e+=h?"validate.schema"+n:""+a.util.toQuotedString(i),e+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+u+" "),e+=" } "):e+=" {} ";var E=e;return e=P.pop(),!a.compositeRule&&c?a.async?e+=" throw new ValidationError(["+E+"]); ":e+=" validate.errors = ["+E+"]; return false; ":e+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",e+=" } ",c&&(e+=" else { "),e};

},{}],27:[function(require,module,exports){
"use strict";module.exports=function(e,r,a){var s=" ",t=e.level,l=e.dataLevel,h=e.schema[r],o=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,i=!e.opts.allErrors,m="data"+(l||""),v="valid"+t,u="errs__"+t,d=e.util.copy(e);d.level++;var n="valid"+d.level,p=e.schema.then,P=e.schema.else,f=void 0!==p&&(e.opts.strictKeywords?"object"==typeof p&&Object.keys(p).length>0:e.util.schemaHasRules(p,e.RULES.all)),E=void 0!==P&&(e.opts.strictKeywords?"object"==typeof P&&Object.keys(P).length>0:e.util.schemaHasRules(P,e.RULES.all)),y=d.baseId;if(f||E){var R;d.createErrors=!1,d.schema=h,d.schemaPath=o,d.errSchemaPath=c,s+=" var "+u+" = errors; var "+v+" = true;  ";var S=e.compositeRule;e.compositeRule=d.compositeRule=!0,s+="  "+e.validate(d)+" ",d.baseId=y,d.createErrors=!0,s+="  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; }  ",e.compositeRule=d.compositeRule=S,f?(s+=" if ("+n+") {  ",d.schema=e.schema.then,d.schemaPath=e.schemaPath+".then",d.errSchemaPath=e.errSchemaPath+"/then",s+="  "+e.validate(d)+" ",d.baseId=y,s+=" "+v+" = "+n+"; ",f&&E?s+=" var "+(R="ifClause"+t)+" = 'then'; ":R="'then'",s+=" } ",E&&(s+=" else { ")):s+=" if (!"+n+") { ",E&&(d.schema=e.schema.else,d.schemaPath=e.schemaPath+".else",d.errSchemaPath=e.errSchemaPath+"/else",s+="  "+e.validate(d)+" ",d.baseId=y,s+=" "+v+" = "+n+"; ",f&&E?s+=" var "+(R="ifClause"+t)+" = 'else'; ":R="'else'",s+=" } "),s+=" if (!"+v+") {   var err =   ",!1!==e.createErrors?(s+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { failingKeyword: "+R+" } ",!1!==e.opts.messages&&(s+=" , message: 'should match \"' + "+R+" + '\" schema' "),e.opts.verbose&&(s+=" , schema: validate.schema"+o+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&i&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+=" }   ",i&&(s+=" else { "),s=e.util.cleanUpCode(s)}else i&&(s+=" if (true) { ");return s};

},{}],28:[function(require,module,exports){
"use strict";module.exports={$ref:require("./ref"),allOf:require("./allOf"),anyOf:require("./anyOf"),$comment:require("./comment"),const:require("./const"),contains:require("./contains"),dependencies:require("./dependencies"),enum:require("./enum"),format:require("./format"),if:require("./if"),items:require("./items"),maximum:require("./_limit"),minimum:require("./_limit"),maxItems:require("./_limitItems"),minItems:require("./_limitItems"),maxLength:require("./_limitLength"),minLength:require("./_limitLength"),maxProperties:require("./_limitProperties"),minProperties:require("./_limitProperties"),multipleOf:require("./multipleOf"),not:require("./not"),oneOf:require("./oneOf"),pattern:require("./pattern"),properties:require("./properties"),propertyNames:require("./propertyNames"),required:require("./required"),uniqueItems:require("./uniqueItems"),validate:require("./validate")};

},{"./_limit":14,"./_limitItems":15,"./_limitLength":16,"./_limitProperties":17,"./allOf":18,"./anyOf":19,"./comment":20,"./const":21,"./contains":22,"./dependencies":24,"./enum":25,"./format":26,"./if":27,"./items":29,"./multipleOf":30,"./not":31,"./oneOf":32,"./pattern":33,"./properties":34,"./propertyNames":35,"./ref":36,"./required":37,"./uniqueItems":38,"./validate":39}],29:[function(require,module,exports){
"use strict";module.exports=function(e,a,r){var t=" ",s=e.level,l=e.dataLevel,h=e.schema[a],o=e.schemaPath+e.util.getProperty(a),i=e.errSchemaPath+"/"+a,c=!e.opts.allErrors,v="data"+(l||""),d="valid"+s,n="errs__"+s,m=e.util.copy(e),u="";m.level++;var P="valid"+m.level,p="i"+s,f=m.dataLevel=e.dataLevel+1,g="data"+f,y=e.baseId;if(t+="var "+n+" = errors;var "+d+";",Array.isArray(h)){var b=e.schema.additionalItems;if(!1===b){t+=" "+d+" = "+v+".length <= "+h.length+"; ";var E=i;i=e.errSchemaPath+"/additionalItems",t+="  if (!"+d+") {   ";var S=S||[];S.push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(i)+" , params: { limit: "+h.length+" } ",!1!==e.opts.messages&&(t+=" , message: 'should NOT have more than "+h.length+" items' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),t+=" } "):t+=" {} ";var j=t;t=S.pop(),!e.compositeRule&&c?e.async?t+=" throw new ValidationError(["+j+"]); ":t+=" validate.errors = ["+j+"]; return false; ":t+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } ",i=E,c&&(u+="}",t+=" else { ")}var R=h;if(R)for(var I,O=-1,k=R.length-1;O<k;)if(I=R[O+=1],e.opts.strictKeywords?"object"==typeof I&&Object.keys(I).length>0:e.util.schemaHasRules(I,e.RULES.all)){t+=" "+P+" = true; if ("+v+".length > "+O+") { ";var w=v+"["+O+"]";m.schema=I,m.schemaPath=o+"["+O+"]",m.errSchemaPath=i+"/"+O,m.errorPath=e.util.getPathExpr(e.errorPath,O,e.opts.jsonPointers,!0),m.dataPathArr[f]=O;var L=e.validate(m);m.baseId=y,e.util.varOccurences(L,g)<2?t+=" "+e.util.varReplace(L,g,w)+" ":t+=" var "+g+" = "+w+"; "+L+" ",t+=" }  ",c&&(t+=" if ("+P+") { ",u+="}")}if("object"==typeof b&&(e.opts.strictKeywords?"object"==typeof b&&Object.keys(b).length>0:e.util.schemaHasRules(b,e.RULES.all))){m.schema=b,m.schemaPath=e.schemaPath+".additionalItems",m.errSchemaPath=e.errSchemaPath+"/additionalItems",t+=" "+P+" = true; if ("+v+".length > "+h.length+") {  for (var "+p+" = "+h.length+"; "+p+" < "+v+".length; "+p+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);w=v+"["+p+"]";m.dataPathArr[f]=p;L=e.validate(m);m.baseId=y,e.util.varOccurences(L,g)<2?t+=" "+e.util.varReplace(L,g,w)+" ":t+=" var "+g+" = "+w+"; "+L+" ",c&&(t+=" if (!"+P+") break; "),t+=" } }  ",c&&(t+=" if ("+P+") { ",u+="}")}}else if(e.opts.strictKeywords?"object"==typeof h&&Object.keys(h).length>0:e.util.schemaHasRules(h,e.RULES.all)){m.schema=h,m.schemaPath=o,m.errSchemaPath=i,t+="  for (var "+p+" = 0; "+p+" < "+v+".length; "+p+"++) { ",m.errorPath=e.util.getPathExpr(e.errorPath,p,e.opts.jsonPointers,!0);w=v+"["+p+"]";m.dataPathArr[f]=p;L=e.validate(m);m.baseId=y,e.util.varOccurences(L,g)<2?t+=" "+e.util.varReplace(L,g,w)+" ":t+=" var "+g+" = "+w+"; "+L+" ",c&&(t+=" if (!"+P+") break; "),t+=" }"}return c&&(t+=" "+u+" if ("+n+" == errors) {"),t=e.util.cleanUpCode(t)};

},{}],30:[function(require,module,exports){
"use strict";module.exports=function(a,e,r){var t,s=" ",i=a.level,o=a.dataLevel,l=a.schema[e],d=a.schemaPath+a.util.getProperty(e),h=a.errSchemaPath+"/"+e,n=!a.opts.allErrors,m="data"+(o||""),p=a.opts.$data&&l&&l.$data;p?(s+=" var schema"+i+" = "+a.util.getData(l.$data,o,a.dataPathArr)+"; ",t="schema"+i):t=l,s+="var division"+i+";if (",p&&(s+=" "+t+" !== undefined && ( typeof "+t+" != 'number' || "),s+=" (division"+i+" = "+m+" / "+t+", ",a.opts.multipleOfPrecision?s+=" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+a.opts.multipleOfPrecision+" ":s+=" division"+i+" !== parseInt(division"+i+") ",s+=" ) ",p&&(s+="  )  "),s+=" ) {   ";var u=u||[];u.push(s),s="",!1!==a.createErrors?(s+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+a.errorPath+" , schemaPath: "+a.util.toQuotedString(h)+" , params: { multipleOf: "+t+" } ",!1!==a.opts.messages&&(s+=" , message: 'should be multiple of ",s+=p?"' + "+t:t+"'"),a.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+d:""+l,s+="         , parentSchema: validate.schema"+a.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var v=s;return s=u.pop(),!a.compositeRule&&n?a.async?s+=" throw new ValidationError(["+v+"]); ":s+=" validate.errors = ["+v+"]; return false; ":s+=" var err = "+v+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",n&&(s+=" else { "),s};

},{}],31:[function(require,module,exports){
"use strict";module.exports=function(r,e,a){var s=" ",t=r.level,o=r.dataLevel,l=r.schema[e],h=r.schemaPath+r.util.getProperty(e),c=r.errSchemaPath+"/"+e,i=!r.opts.allErrors,m="data"+(o||""),v="errs__"+t,p=r.util.copy(r);p.level++;var u="valid"+p.level;if(r.opts.strictKeywords?"object"==typeof l&&Object.keys(l).length>0:r.util.schemaHasRules(l,r.RULES.all)){p.schema=l,p.schemaPath=h,p.errSchemaPath=c,s+=" var "+v+" = errors;  ";var d,E=r.compositeRule;r.compositeRule=p.compositeRule=!0,p.createErrors=!1,p.opts.allErrors&&(d=p.opts.allErrors,p.opts.allErrors=!1),s+=" "+r.validate(p)+" ",p.createErrors=!0,d&&(p.opts.allErrors=d),r.compositeRule=p.compositeRule=E,s+=" if ("+u+") {   ";var n=n||[];n.push(s),s="",!1!==r.createErrors?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: {} ",!1!==r.opts.messages&&(s+=" , message: 'should NOT be valid' "),r.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ";var P=s;s=n.pop(),!r.compositeRule&&i?r.async?s+=" throw new ValidationError(["+P+"]); ":s+=" validate.errors = ["+P+"]; return false; ":s+=" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } else {  errors = "+v+"; if (vErrors !== null) { if ("+v+") vErrors.length = "+v+"; else vErrors = null; } ",r.opts.allErrors&&(s+=" } ")}else s+="  var err =   ",!1!==r.createErrors?(s+=" { keyword: 'not' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(c)+" , params: {} ",!1!==r.opts.messages&&(s+=" , message: 'should NOT be valid' "),r.opts.verbose&&(s+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+m+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i&&(s+=" if (false) { ");return s};

},{}],32:[function(require,module,exports){
"use strict";module.exports=function(e,r,a){var s=" ",t=e.level,l=e.dataLevel,o=e.schema[r],i=e.schemaPath+e.util.getProperty(r),c=e.errSchemaPath+"/"+r,h=!e.opts.allErrors,v="data"+(l||""),m="valid"+t,u="errs__"+t,n=e.util.copy(e),p="";n.level++;var d="valid"+n.level,f=n.baseId,E="prevValid"+t,P="passingSchemas"+t;s+="var "+u+" = errors , "+E+" = false , "+m+" = false , "+P+" = null; ";var g=e.compositeRule;e.compositeRule=n.compositeRule=!0;var y=o;if(y)for(var R,S=-1,b=y.length-1;S<b;)R=y[S+=1],(e.opts.strictKeywords?"object"==typeof R&&Object.keys(R).length>0:e.util.schemaHasRules(R,e.RULES.all))?(n.schema=R,n.schemaPath=i+"["+S+"]",n.errSchemaPath=c+"/"+S,s+="  "+e.validate(n)+" ",n.baseId=f):s+=" var "+d+" = true; ",S&&(s+=" if ("+d+" && "+E+") { "+m+" = false; "+P+" = ["+P+", "+S+"]; } else { ",p+="}"),s+=" if ("+d+") { "+m+" = "+E+" = true; "+P+" = "+S+"; }";return e.compositeRule=n.compositeRule=g,s+=p+"if (!"+m+") {   var err =   ",!1!==e.createErrors?(s+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { passingSchemas: "+P+" } ",!1!==e.opts.messages&&(s+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(s+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+v+" "),s+=" } "):s+=" {} ",s+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&h&&(e.async?s+=" throw new ValidationError(vErrors); ":s+=" validate.errors = vErrors; return false; "),s+="} else {  errors = "+u+"; if (vErrors !== null) { if ("+u+") vErrors.length = "+u+"; else vErrors = null; }",e.opts.allErrors&&(s+=" } "),s};

},{}],33:[function(require,module,exports){
"use strict";module.exports=function(e,t,a){var r,s=" ",o=e.level,h=e.dataLevel,l=e.schema[t],u=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,i=!e.opts.allErrors,n="data"+(h||""),p=e.opts.$data&&l&&l.$data;p?(s+=" var schema"+o+" = "+e.util.getData(l.$data,h,e.dataPathArr)+"; ",r="schema"+o):r=l,s+="if ( ",p&&(s+=" ("+r+" !== undefined && typeof "+r+" != 'string') || "),s+=" !"+(p?"(new RegExp("+r+"))":e.usePattern(l))+".test("+n+") ) {   ";var c=c||[];c.push(s),s="",!1!==e.createErrors?(s+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { pattern:  ",s+=p?""+r:""+e.util.toQuotedString(l),s+="  } ",!1!==e.opts.messages&&(s+=" , message: 'should match pattern \"",s+=p?"' + "+r+" + '":""+e.util.escapeQuotes(l),s+="\"' "),e.opts.verbose&&(s+=" , schema:  ",s+=p?"validate.schema"+u:""+e.util.toQuotedString(l),s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+n+" "),s+=" } "):s+=" {} ";var m=s;return s=c.pop(),!e.compositeRule&&i?e.async?s+=" throw new ValidationError(["+m+"]); ":s+=" validate.errors = ["+m+"]; return false; ":s+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+="} ",i&&(s+=" else { "),s};

},{}],34:[function(require,module,exports){
"use strict";module.exports=function(e,r,t){var a=" ",s=e.level,o=e.dataLevel,i=e.schema[r],l=e.schemaPath+e.util.getProperty(r),h=e.errSchemaPath+"/"+r,p=!e.opts.allErrors,d="data"+(o||""),c="errs__"+s,P=e.util.copy(e),n="";P.level++;var u="valid"+P.level,v="key"+s,f="idx"+s,m=P.dataLevel=e.dataLevel+1,g="data"+m,y="dataProperties"+s,b=Object.keys(i||{}),j=e.schema.patternProperties||{},O=Object.keys(j),S=e.schema.additionalProperties,E=b.length||O.length,R=!1===S,k="object"==typeof S&&Object.keys(S).length,w=e.opts.removeAdditional,Q=R||k||w,_=e.opts.ownProperties,A=e.baseId,D=e.schema.required;if(D&&(!e.opts.$data||!D.$data)&&D.length<e.opts.loopRequired)var q=e.util.toHash(D);if(a+="var "+c+" = errors;var "+u+" = true;",_&&(a+=" var "+y+" = undefined;"),Q){if(a+=_?" "+y+" = "+y+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+y+".length; "+f+"++) { var "+v+" = "+y+"["+f+"]; ":" for (var "+v+" in "+d+") { ",E){if(a+=" var isAdditional"+s+" = !(false ",b.length)if(b.length>8)a+=" || validate.schema"+l+".hasOwnProperty("+v+") ";else{var x=b;if(x)for(var I=-1,L=x.length-1;I<L;)J=x[I+=1],a+=" || "+v+" == "+e.util.toQuotedString(J)+" "}if(O.length){var H=O;if(H)for(var U=-1,F=H.length-1;U<F;)se=H[U+=1],a+=" || "+e.usePattern(se)+".test("+v+") "}a+=" ); if (isAdditional"+s+") { "}if("all"==w)a+=" delete "+d+"["+v+"]; ";else{var K=e.errorPath,V="' + "+v+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),R)if(w)a+=" delete "+d+"["+v+"]; ";else{a+=" "+u+" = false; ";var $=h;h=e.errSchemaPath+"/additionalProperties",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { additionalProperty: '"+V+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is an invalid additional property":a+="should NOT have additional properties",a+="' "),e.opts.verbose&&(a+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";var C=a;a=re.pop(),!e.compositeRule&&p?e.async?a+=" throw new ValidationError(["+C+"]); ":a+=" validate.errors = ["+C+"]; return false; ":a+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h=$,p&&(a+=" break; ")}else if(k)if("failing"==w){a+=" var "+c+" = errors;  ";var N=e.compositeRule;e.compositeRule=P.compositeRule=!0,P.schema=S,P.schemaPath=e.schemaPath+".additionalProperties",P.errSchemaPath=e.errSchemaPath+"/additionalProperties",P.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);var T=d+"["+v+"]";P.dataPathArr[m]=v;var z=e.validate(P);P.baseId=A,e.util.varOccurences(z,g)<2?a+=" "+e.util.varReplace(z,g,T)+" ":a+=" var "+g+" = "+T+"; "+z+" ",a+=" if (!"+u+") { errors = "+c+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+d+"["+v+"]; }  ",e.compositeRule=P.compositeRule=N}else{P.schema=S,P.schemaPath=e.schemaPath+".additionalProperties",P.errSchemaPath=e.errSchemaPath+"/additionalProperties",P.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);T=d+"["+v+"]";P.dataPathArr[m]=v;z=e.validate(P);P.baseId=A,e.util.varOccurences(z,g)<2?a+=" "+e.util.varReplace(z,g,T)+" ":a+=" var "+g+" = "+T+"; "+z+" ",p&&(a+=" if (!"+u+") break; ")}e.errorPath=K}E&&(a+=" } "),a+=" }  ",p&&(a+=" if ("+u+") { ",n+="}")}var B=e.opts.useDefaults&&!e.compositeRule;if(b.length){var G=b;if(G)for(var J,M=-1,W=G.length-1;M<W;){var X=i[J=G[M+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0:e.util.schemaHasRules(X,e.RULES.all)){var Y=e.util.getProperty(J),Z=(T=d+Y,B&&void 0!==X.default);P.schema=X,P.schemaPath=l+Y,P.errSchemaPath=h+"/"+e.util.escapeFragment(J),P.errorPath=e.util.getPath(e.errorPath,J,e.opts.jsonPointers),P.dataPathArr[m]=e.util.toQuotedString(J);z=e.validate(P);if(P.baseId=A,e.util.varOccurences(z,g)<2){z=e.util.varReplace(z,g,T);var ee=T}else{ee=g;a+=" var "+g+" = "+T+"; "}if(Z)a+=" "+z+" ";else{if(q&&q[J]){a+=" if ( "+ee+" === undefined ",_&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+u+" = false; ";K=e.errorPath,$=h;var re,te=e.util.escapeQuotes(J);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(K,J,e.opts.jsonPointers)),h=e.errSchemaPath+"/required",(re=re||[]).push(a),a="",!1!==e.createErrors?(a+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { missingProperty: '"+te+"' } ",!1!==e.opts.messages&&(a+=" , message: '",e.opts._errorDataPathProperty?a+="is a required property":a+="should have required property \\'"+te+"\\'",a+="' "),e.opts.verbose&&(a+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),a+=" } "):a+=" {} ";C=a;a=re.pop(),!e.compositeRule&&p?e.async?a+=" throw new ValidationError(["+C+"]); ":a+=" validate.errors = ["+C+"]; return false; ":a+=" var err = "+C+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h=$,e.errorPath=K,a+=" } else { "}else p?(a+=" if ( "+ee+" === undefined ",_&&(a+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=") { "+u+" = true; } else { "):(a+=" if ("+ee+" !== undefined ",_&&(a+=" &&   Object.prototype.hasOwnProperty.call("+d+", '"+e.util.escapeQuotes(J)+"') "),a+=" ) { ");a+=" "+z+" } "}}p&&(a+=" if ("+u+") { ",n+="}")}}if(O.length){var ae=O;if(ae)for(var se,oe=-1,ie=ae.length-1;oe<ie;){X=j[se=ae[oe+=1]];if(e.opts.strictKeywords?"object"==typeof X&&Object.keys(X).length>0:e.util.schemaHasRules(X,e.RULES.all)){P.schema=X,P.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(se),P.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(se),a+=_?" "+y+" = "+y+" || Object.keys("+d+"); for (var "+f+"=0; "+f+"<"+y+".length; "+f+"++) { var "+v+" = "+y+"["+f+"]; ":" for (var "+v+" in "+d+") { ",a+=" if ("+e.usePattern(se)+".test("+v+")) { ",P.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers);T=d+"["+v+"]";P.dataPathArr[m]=v;z=e.validate(P);P.baseId=A,e.util.varOccurences(z,g)<2?a+=" "+e.util.varReplace(z,g,T)+" ":a+=" var "+g+" = "+T+"; "+z+" ",p&&(a+=" if (!"+u+") break; "),a+=" } ",p&&(a+=" else "+u+" = true; "),a+=" }  ",p&&(a+=" if ("+u+") { ",n+="}")}}}return p&&(a+=" "+n+" if ("+c+" == errors) {"),a=e.util.cleanUpCode(a)};

},{}],35:[function(require,module,exports){
"use strict";module.exports=function(r,e,a){var t=" ",s=r.level,o=r.dataLevel,l=r.schema[e],i=r.schemaPath+r.util.getProperty(e),v=r.errSchemaPath+"/"+e,c=!r.opts.allErrors,p="data"+(o||""),m="errs__"+s,d=r.util.copy(r);d.level++;var h="valid"+d.level;if(t+="var "+m+" = errors;",r.opts.strictKeywords?"object"==typeof l&&Object.keys(l).length>0:r.util.schemaHasRules(l,r.RULES.all)){d.schema=l,d.schemaPath=i,d.errSchemaPath=v;var u="key"+s,n="idx"+s,y="i"+s,E="' + "+u+" + '",P="data"+(d.dataLevel=r.dataLevel+1),f="dataProperties"+s,R=r.opts.ownProperties,b=r.baseId;R&&(t+=" var "+f+" = undefined; "),t+=R?" "+f+" = "+f+" || Object.keys("+p+"); for (var "+n+"=0; "+n+"<"+f+".length; "+n+"++) { var "+u+" = "+f+"["+n+"]; ":" for (var "+u+" in "+p+") { ",t+=" var startErrs"+s+" = errors; ";var g=u,k=r.compositeRule;r.compositeRule=d.compositeRule=!0;var w=r.validate(d);d.baseId=b,r.util.varOccurences(w,P)<2?t+=" "+r.util.varReplace(w,P,g)+" ":t+=" var "+P+" = "+g+"; "+w+" ",r.compositeRule=d.compositeRule=k,t+=" if (!"+h+") { for (var "+y+"=startErrs"+s+"; "+y+"<errors; "+y+"++) { vErrors["+y+"].propertyName = "+u+"; }   var err =   ",!1!==r.createErrors?(t+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(v)+" , params: { propertyName: '"+E+"' } ",!1!==r.opts.messages&&(t+=" , message: 'property name \\'"+E+"\\' is invalid' "),r.opts.verbose&&(t+=" , schema: validate.schema"+i+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+p+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!r.compositeRule&&c&&(r.async?t+=" throw new ValidationError(vErrors); ":t+=" validate.errors = vErrors; return false; "),c&&(t+=" break; "),t+=" } }"}return c&&(t+="  if ("+m+" == errors) {"),t=r.util.cleanUpCode(t)};

},{}],36:[function(require,module,exports){
"use strict";module.exports=function(r,e,a){var s,t,o=" ",i=r.level,l=r.dataLevel,c=r.schema[e],n=r.errSchemaPath+"/"+e,h=!r.opts.allErrors,v="data"+(l||""),f="valid"+i;if("#"==c||"#/"==c)r.isRoot?(s=r.async,t="validate"):(s=!0===r.root.schema.$async,t="root.refVal[0]");else{var d=r.resolveRef(r.baseId,c,r.isRoot);if(void 0===d){var p=r.MissingRefError.message(r.baseId,c);if("fail"==r.opts.missingRefs){r.logger.error(p),(g=g||[]).push(o),o="",!1!==r.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(n)+" , params: { ref: '"+r.util.escapeQuotes(c)+"' } ",!1!==r.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+r.util.escapeQuotes(c)+"' "),r.opts.verbose&&(o+=" , schema: "+r.util.toQuotedString(c)+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+v+" "),o+=" } "):o+=" {} ";var m=o;o=g.pop(),!r.compositeRule&&h?r.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",h&&(o+=" if (false) { ")}else{if("ignore"!=r.opts.missingRefs)throw new r.MissingRefError(r.baseId,c,p);r.logger.warn(p),h&&(o+=" if (true) { ")}}else if(d.inline){var u=r.util.copy(r);u.level++;var E="valid"+u.level;u.schema=d.schema,u.schemaPath="",u.errSchemaPath=c,o+=" "+r.validate(u).replace(/validate\.schema/g,d.code)+" ",h&&(o+=" if ("+E+") { ")}else s=!0===d.$async||r.async&&!1!==d.$async,t=d.code}if(t){var g;(g=g||[]).push(o),o="",r.opts.passContext?o+=" "+t+".call(this, ":o+=" "+t+"( ",o+=" "+v+", (dataPath || '')",'""'!=r.errorPath&&(o+=" + "+r.errorPath);var y=o+=" , "+(l?"data"+(l-1||""):"parentData")+" , "+(l?r.dataPathArr[l]:"parentDataProperty")+", rootData)  ";if(o=g.pop(),s){if(!r.async)throw new Error("async schema referenced by sync schema");h&&(o+=" var "+f+"; "),o+=" try { await "+y+"; ",h&&(o+=" "+f+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",h&&(o+=" "+f+" = false; "),o+=" } ",h&&(o+=" if ("+f+") { ")}else o+=" if (!"+y+") { if (vErrors === null) vErrors = "+t+".errors; else vErrors = vErrors.concat("+t+".errors); errors = vErrors.length; } ",h&&(o+=" else { ")}return o};

},{}],37:[function(require,module,exports){
"use strict";module.exports=function(r,e,a){var t=" ",s=r.level,o=r.dataLevel,i=r.schema[e],h=r.schemaPath+r.util.getProperty(e),p=r.errSchemaPath+"/"+e,l=!r.opts.allErrors,d="data"+(o||""),u="valid"+s,P=r.opts.$data&&i&&i.$data;P&&(t+=" var schema"+s+" = "+r.util.getData(i.$data,o,r.dataPathArr)+"; ");var n="schema"+s;if(!P)if(i.length<r.opts.loopRequired&&r.schema.properties&&Object.keys(r.schema.properties).length){var c=[],m=i;if(m)for(var v,y=-1,g=m.length-1;y<g;){v=m[y+=1];var f=r.schema.properties[v];f&&(r.opts.strictKeywords?"object"==typeof f&&Object.keys(f).length>0:r.util.schemaHasRules(f,r.RULES.all))||(c[c.length]=v)}}else c=i;if(P||c.length){var E=r.errorPath,q=P||c.length>=r.opts.loopRequired,w=r.opts.ownProperties;if(l)if(t+=" var missing"+s+"; ",q){P||(t+=" var "+n+" = validate.schema"+h+"; ");var b="' + "+(_="schema"+s+"["+(D="i"+s)+"]")+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),t+=" var "+u+" = true; ",P&&(t+=" if (schema"+s+" === undefined) "+u+" = true; else if (!Array.isArray(schema"+s+")) "+u+" = false; else {"),t+=" for (var "+D+" = 0; "+D+" < "+n+".length; "+D+"++) { "+u+" = "+d+"["+n+"["+D+"]] !== undefined ",w&&(t+=" &&   Object.prototype.hasOwnProperty.call("+d+", "+n+"["+D+"]) "),t+="; if (!"+u+") break; } ",P&&(t+="  }  "),t+="  if (!"+u+") {   ",(Q=Q||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";var S=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+S+"]); ":t+=" validate.errors = ["+S+"]; return false; ":t+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else{t+=" if ( ";var j=c;if(j)for(var D=-1,O=j.length-1;D<O;){R=j[D+=1],D&&(t+=" || "),t+=" ( ( "+(L=d+($=r.util.getProperty(R)))+" === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+r.util.escapeQuotes(R)+"') "),t+=") && (missing"+s+" = "+r.util.toQuotedString(r.opts.jsonPointers?R:$)+") ) "}t+=") {  ";var Q;b="' + "+(_="missing"+s)+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.opts.jsonPointers?r.util.getPathExpr(E,_,!0):E+" + "+_),(Q=Q||[]).push(t),t="",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ";S=t;t=Q.pop(),!r.compositeRule&&l?r.async?t+=" throw new ValidationError(["+S+"]); ":t+=" validate.errors = ["+S+"]; return false; ":t+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else { "}else if(q){P||(t+=" var "+n+" = validate.schema"+h+"; ");var _;b="' + "+(_="schema"+s+"["+(D="i"+s)+"]")+" + '";r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPathExpr(E,_,r.opts.jsonPointers)),P&&(t+=" if ("+n+" && !Array.isArray("+n+")) {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+n+" !== undefined) { "),t+=" for (var "+D+" = 0; "+D+" < "+n+".length; "+D+"++) { if ("+d+"["+n+"["+D+"]] === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", "+n+"["+D+"]) "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",P&&(t+="  }  ")}else{var k=c;if(k)for(var R,A=-1,x=k.length-1;A<x;){R=k[A+=1];var $=r.util.getProperty(R),L=(b=r.util.escapeQuotes(R),d+$);r.opts._errorDataPathProperty&&(r.errorPath=r.util.getPath(E,R,r.opts.jsonPointers)),t+=" if ( "+L+" === undefined ",w&&(t+=" || ! Object.prototype.hasOwnProperty.call("+d+", '"+r.util.escapeQuotes(R)+"') "),t+=") {  var err =   ",!1!==r.createErrors?(t+=" { keyword: 'required' , dataPath: (dataPath || '') + "+r.errorPath+" , schemaPath: "+r.util.toQuotedString(p)+" , params: { missingProperty: '"+b+"' } ",!1!==r.opts.messages&&(t+=" , message: '",r.opts._errorDataPathProperty?t+="is a required property":t+="should have required property \\'"+b+"\\'",t+="' "),r.opts.verbose&&(t+=" , schema: validate.schema"+h+" , parentSchema: validate.schema"+r.schemaPath+" , data: "+d+" "),t+=" } "):t+=" {} ",t+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}r.errorPath=E}else l&&(t+=" if (true) {");return t};

},{}],38:[function(require,module,exports){
"use strict";module.exports=function(e,a,r){var t,i=" ",s=e.level,o=e.dataLevel,m=e.schema[a],l=e.schemaPath+e.util.getProperty(a),c=e.errSchemaPath+"/"+a,d=!e.opts.allErrors,u="data"+(o||""),h="valid"+s,n=e.opts.$data&&m&&m.$data;if(n?(i+=" var schema"+s+" = "+e.util.getData(m.$data,o,e.dataPathArr)+"; ",t="schema"+s):t=m,(m||n)&&!1!==e.opts.uniqueItems){n&&(i+=" var "+h+"; if ("+t+" === false || "+t+" === undefined) "+h+" = true; else if (typeof "+t+" != 'boolean') "+h+" = false; else { "),i+=" var i = "+u+".length , "+h+" = true , j; if (i > 1) { ";var f=e.schema.items&&e.schema.items.type,v=Array.isArray(f);if(!f||"object"==f||"array"==f||v&&(f.indexOf("object")>=0||f.indexOf("array")>=0))i+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+u+"[i], "+u+"[j])) { "+h+" = false; break outer; } } } ";else{i+=" var itemIndices = {}, item; for (;i--;) { var item = "+u+"[i]; ";var p="checkDataType"+(v?"s":"");i+=" if ("+e.util[p](f,"item",!0)+") continue; ",v&&(i+=" if (typeof item == 'string') item = '\"' + item; "),i+=" if (typeof itemIndices[item] == 'number') { "+h+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "}i+=" } ",n&&(i+="  }  "),i+=" if (!"+h+") {   ";var y=y||[];y.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(i+=" , schema:  ",i+=n?"validate.schema"+l:""+m,i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var j=i;i=y.pop(),!e.compositeRule&&d?e.async?i+=" throw new ValidationError(["+j+"]); ":i+=" validate.errors = ["+j+"]; return false; ":i+=" var err = "+j+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",d&&(i+=" else { ")}else d&&(i+=" if (true) { ");return i};

},{}],39:[function(require,module,exports){
"use strict";module.exports=function(e,r,a){var t="",s=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),l=e.self._getId(e.schema);if(e.opts.strictKeywords){var i=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(i){var n="unknown keyword: "+i;if("log"!==e.opts.strictKeywords)throw new Error(n);e.logger.warn(n)}}if(e.isTop&&(t+=" var validate = ",s&&(e.async=!0,t+="async "),t+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",l&&(e.opts.sourceCode||e.opts.processCode)&&(t+=" /*# sourceURL="+l+" */ ")),"boolean"==typeof e.schema||!o&&!e.schema.$ref){var f=e.level,h=e.dataLevel,c=e.schema["false schema"],u=e.schemaPath+e.util.getProperty("false schema"),p=e.errSchemaPath+"/false schema",d=!e.opts.allErrors,m="data"+(h||""),v="valid"+f;if(!1===e.schema){e.isTop?d=!0:t+=" var "+v+" = false; ",(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: {} ",!1!==e.opts.messages&&(t+=" , message: 'boolean schema is false' "),e.opts.verbose&&(t+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";var y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?t+=s?" return data; ":" validate.errors = null; return true; ":t+=" var "+v+" = true; ";return e.isTop&&(t+=" }; return validate; "),t}if(e.isTop){var g=e.isTop;f=e.level=0,h=e.dataLevel=0,m="data";if(e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var w="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(w);e.logger.warn(w)}t+=" var vErrors = null; ",t+=" var errors = 0;     ",t+=" if (rootData === undefined) rootData = data; "}else{f=e.level,m="data"+((h=e.dataLevel)||"");if(l&&(e.baseId=e.resolve.url(e.baseId,l)),s&&!e.async)throw new Error("async schema in sync schema");t+=" var errs_"+f+" = errors;"}v="valid"+f,d=!e.opts.allErrors;var E="",P="",b=e.schema.type,D=Array.isArray(b);if(b&&e.opts.nullable&&!0===e.schema.nullable&&(D?-1==b.indexOf("null")&&(b=b.concat("null")):"null"!=b&&(b=[b,"null"],D=!0)),D&&1==b.length&&(b=b[0],D=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(t+=" "+e.RULES.all.$comment.code(e,"$comment")),b){if(e.opts.coerceTypes)var S=e.util.coerceToTypes(e.opts.coerceTypes,b);var R=e.RULES.types[b];if(S||D||!0===R||R&&!Y(R)){u=e.schemaPath+".type",p=e.errSchemaPath+"/type",u=e.schemaPath+".type",p=e.errSchemaPath+"/type";var T=D?"checkDataTypes":"checkDataType";if(t+=" if ("+e.util[T](b,m,!0)+") { ",S){var k="dataType"+f,$="coerced"+f;t+=" var "+k+" = typeof "+m+"; ","array"==e.opts.coerceTypes&&(t+=" if ("+k+" == 'object' && Array.isArray("+m+")) "+k+" = 'array'; "),t+=" var "+$+" = undefined; ";var L="",U=S;if(U)for(var j,A=-1,I=U.length-1;A<I;)j=U[A+=1],A&&(t+=" if ("+$+" === undefined) { ",L+="}"),"array"==e.opts.coerceTypes&&"array"!=j&&(t+=" if ("+k+" == 'array' && "+m+".length == 1) { "+$+" = "+m+" = "+m+"[0]; "+k+" = typeof "+m+";  } "),"string"==j?t+=" if ("+k+" == 'number' || "+k+" == 'boolean') "+$+" = '' + "+m+"; else if ("+m+" === null) "+$+" = ''; ":"number"==j||"integer"==j?(t+=" if ("+k+" == 'boolean' || "+m+" === null || ("+k+" == 'string' && "+m+" && "+m+" == +"+m+" ","integer"==j&&(t+=" && !("+m+" % 1)"),t+=")) "+$+" = +"+m+"; "):"boolean"==j?t+=" if ("+m+" === 'false' || "+m+" === 0 || "+m+" === null) "+$+" = false; else if ("+m+" === 'true' || "+m+" === 1) "+$+" = true; ":"null"==j?t+=" if ("+m+" === '' || "+m+" === 0 || "+m+" === false) "+$+" = null; ":"array"==e.opts.coerceTypes&&"array"==j&&(t+=" if ("+k+" == 'string' || "+k+" == 'number' || "+k+" == 'boolean' || "+m+" == null) "+$+" = ["+m+"]; ");t+=" "+L+" if ("+$+" === undefined) {   ",(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",t+=D?""+b.join(","):""+b,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=D?""+b.join(","):""+b,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } else {  ";var x=h?"data"+(h-1||""):"parentData";t+=" "+m+" = "+$+"; ",h||(t+="if ("+x+" !== undefined)"),t+=" "+x+"["+(h?e.dataPathArr[h]:"parentDataProperty")+"] = "+$+"; } "}else{(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",t+=D?""+b.join(","):""+b,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=D?""+b.join(","):""+b,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}t+=" } "}}if(e.schema.$ref&&!o)t+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",d&&(t+=" } if (errors === ",t+=g?"0":"errs_"+f,t+=") { ",P+="}");else{var _=e.RULES;if(_)for(var C=-1,V=_.length-1;C<V;)if(Y(R=_[C+=1])){if(R.type&&(t+=" if ("+e.util.checkDataType(R.type,m)+") { "),e.opts.useDefaults)if("object"==R.type&&e.schema.properties){c=e.schema.properties;var O=Object.keys(c);if(O)for(var Q,J=-1,K=O.length-1;J<K;){if(void 0!==(q=c[Q=O[J+=1]]).default){var N=m+e.util.getProperty(Q);if(e.compositeRule){if(e.opts.strictDefaults){w="default is ignored for: "+N;if("log"!==e.opts.strictDefaults)throw new Error(w);e.logger.warn(w)}}else t+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(t+=" || "+N+" === null || "+N+" === '' "),t+=" ) "+N+" = ","shared"==e.opts.useDefaults?t+=" "+e.useDefault(q.default)+" ":t+=" "+JSON.stringify(q.default)+" ",t+="; "}}}else if("array"==R.type&&Array.isArray(e.schema.items)){var H=e.schema.items;if(H){A=-1;for(var q,z=H.length-1;A<z;)if(void 0!==(q=H[A+=1]).default){N=m+"["+A+"]";if(e.compositeRule){if(e.opts.strictDefaults){w="default is ignored for: "+N;if("log"!==e.opts.strictDefaults)throw new Error(w);e.logger.warn(w)}}else t+=" if ("+N+" === undefined ","empty"==e.opts.useDefaults&&(t+=" || "+N+" === null || "+N+" === '' "),t+=" ) "+N+" = ","shared"==e.opts.useDefaults?t+=" "+e.useDefault(q.default)+" ":t+=" "+JSON.stringify(q.default)+" ",t+="; "}}}var B=R.rules;if(B)for(var F,G=-1,M=B.length-1;G<M;)if(Z(F=B[G+=1])){var W=F.code(e,F.keyword,R.type);W&&(t+=" "+W+" ",d&&(E+="}"))}if(d&&(t+=" "+E+" ",E=""),R.type&&(t+=" } ",b&&b===R.type&&!S)){t+=" else { ";var X;u=e.schemaPath+".type",p=e.errSchemaPath+"/type";(X=X||[]).push(t),t="",!1!==e.createErrors?(t+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { type: '",t+=D?""+b.join(","):""+b,t+="' } ",!1!==e.opts.messages&&(t+=" , message: 'should be ",t+=D?""+b.join(","):""+b,t+="' "),e.opts.verbose&&(t+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),t+=" } "):t+=" {} ";y=t;t=X.pop(),!e.compositeRule&&d?e.async?t+=" throw new ValidationError(["+y+"]); ":t+=" validate.errors = ["+y+"]; return false; ":t+=" var err = "+y+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",t+=" } "}d&&(t+=" if (errors === ",t+=g?"0":"errs_"+f,t+=") { ",P+="}")}}function Y(e){for(var r=e.rules,a=0;a<r.length;a++)if(Z(r[a]))return!0}function Z(r){return void 0!==e.schema[r.keyword]||r.implements&&function(r){for(var a=r.implements,t=0;t<a.length;t++)if(void 0!==e.schema[a[t]])return!0}(r)}return d&&(t+=" "+P+" "),g?(s?(t+=" if (errors === 0) return data;           ",t+=" else throw new ValidationError(vErrors); "):(t+=" validate.errors = vErrors; ",t+=" return errors === 0;       "),t+=" }; return validate;"):t+=" var "+v+" = errors === errs_"+f+";",t=e.util.cleanUpCode(t),g&&(t=e.util.finalCleanUpCode(t,s)),t};

},{}],40:[function(require,module,exports){
"use strict";var IDENTIFIER=/^[a-z_$][a-z0-9_$-]*$/i,customRuleCode=require("./dotjs/custom"),definitionSchema=require("./definition_schema");function addKeyword(e,r){var t=this.RULES;if(t.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!IDENTIFIER.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(r){this.validateKeyword(r,!0);var i=r.type;if(Array.isArray(i))for(var o=0;o<i.length;o++)d(e,i[o],r);else d(e,i,r);var a=r.metaSchema;a&&(r.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#"}]}),r.validateSchema=this.compile(a,!0))}function d(e,r,i){for(var o,a=0;a<t.length;a++){var d=t[a];if(d.type==r){o=d;break}}o||(o={type:r,rules:[]},t.push(o));var s={keyword:e,definition:i,custom:!0,code:customRuleCode,implements:i.implements};o.rules.push(s),t.custom[e]=s}return t.keywords[e]=t.all[e]=!0,this}function getKeyword(e){var r=this.RULES.custom[e];return r?r.definition:this.RULES.keywords[e]||!1}function removeKeyword(e){var r=this.RULES;delete r.keywords[e],delete r.all[e],delete r.custom[e];for(var t=0;t<r.length;t++)for(var i=r[t].rules,o=0;o<i.length;o++)if(i[o].keyword==e){i.splice(o,1);break}return this}function validateKeyword(e,r){validateKeyword.errors=null;var t=this._validateKeyword=this._validateKeyword||this.compile(definitionSchema,!0);if(t(e))return!0;if(validateKeyword.errors=t.errors,r)throw new Error("custom keyword definition is invalid: "+this.errorsText(t.errors));return!1}module.exports={add:addKeyword,get:getKeyword,remove:removeKeyword,validate:validateKeyword};

},{"./definition_schema":13,"./dotjs/custom":23}],41:[function(require,module,exports){
module.exports={
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/data.json#",
    "description": "Meta-schema for $data reference (JSON Schema extension proposal)",
    "type": "object",
    "required": [ "$data" ],
    "properties": {
        "$data": {
            "type": "string",
            "anyOf": [
                { "format": "relative-json-pointer" }, 
                { "format": "json-pointer" }
            ]
        }
    },
    "additionalProperties": false
}

},{}],42:[function(require,module,exports){
module.exports={
    "$schema": "http://json-schema.org/draft-07/schema#",
    "$id": "http://json-schema.org/draft-07/schema#",
    "title": "Core schema meta-schema",
    "definitions": {
        "schemaArray": {
            "type": "array",
            "minItems": 1,
            "items": { "$ref": "#" }
        },
        "nonNegativeInteger": {
            "type": "integer",
            "minimum": 0
        },
        "nonNegativeIntegerDefault0": {
            "allOf": [
                { "$ref": "#/definitions/nonNegativeInteger" },
                { "default": 0 }
            ]
        },
        "simpleTypes": {
            "enum": [
                "array",
                "boolean",
                "integer",
                "null",
                "number",
                "object",
                "string"
            ]
        },
        "stringArray": {
            "type": "array",
            "items": { "type": "string" },
            "uniqueItems": true,
            "default": []
        }
    },
    "type": ["object", "boolean"],
    "properties": {
        "$id": {
            "type": "string",
            "format": "uri-reference"
        },
        "$schema": {
            "type": "string",
            "format": "uri"
        },
        "$ref": {
            "type": "string",
            "format": "uri-reference"
        },
        "$comment": {
            "type": "string"
        },
        "title": {
            "type": "string"
        },
        "description": {
            "type": "string"
        },
        "default": true,
        "readOnly": {
            "type": "boolean",
            "default": false
        },
        "examples": {
            "type": "array",
            "items": true
        },
        "multipleOf": {
            "type": "number",
            "exclusiveMinimum": 0
        },
        "maximum": {
            "type": "number"
        },
        "exclusiveMaximum": {
            "type": "number"
        },
        "minimum": {
            "type": "number"
        },
        "exclusiveMinimum": {
            "type": "number"
        },
        "maxLength": { "$ref": "#/definitions/nonNegativeInteger" },
        "minLength": { "$ref": "#/definitions/nonNegativeIntegerDefault0" },
        "pattern": {
            "type": "string",
            "format": "regex"
        },
        "additionalItems": { "$ref": "#" },
        "items": {
            "anyOf": [
                { "$ref": "#" },
                { "$ref": "#/definitions/schemaArray" }
            ],
            "default": true
        },
        "maxItems": { "$ref": "#/definitions/nonNegativeInteger" },
        "minItems": { "$ref": "#/definitions/nonNegativeIntegerDefault0" },
        "uniqueItems": {
            "type": "boolean",
            "default": false
        },
        "contains": { "$ref": "#" },
        "maxProperties": { "$ref": "#/definitions/nonNegativeInteger" },
        "minProperties": { "$ref": "#/definitions/nonNegativeIntegerDefault0" },
        "required": { "$ref": "#/definitions/stringArray" },
        "additionalProperties": { "$ref": "#" },
        "definitions": {
            "type": "object",
            "additionalProperties": { "$ref": "#" },
            "default": {}
        },
        "properties": {
            "type": "object",
            "additionalProperties": { "$ref": "#" },
            "default": {}
        },
        "patternProperties": {
            "type": "object",
            "additionalProperties": { "$ref": "#" },
            "propertyNames": { "format": "regex" },
            "default": {}
        },
        "dependencies": {
            "type": "object",
            "additionalProperties": {
                "anyOf": [
                    { "$ref": "#" },
                    { "$ref": "#/definitions/stringArray" }
                ]
            }
        },
        "propertyNames": { "$ref": "#" },
        "const": true,
        "enum": {
            "type": "array",
            "items": true,
            "minItems": 1,
            "uniqueItems": true
        },
        "type": {
            "anyOf": [
                { "$ref": "#/definitions/simpleTypes" },
                {
                    "type": "array",
                    "items": { "$ref": "#/definitions/simpleTypes" },
                    "minItems": 1,
                    "uniqueItems": true
                }
            ]
        },
        "format": { "type": "string" },
        "contentMediaType": { "type": "string" },
        "contentEncoding": { "type": "string" },
        "if": {"$ref": "#"},
        "then": {"$ref": "#"},
        "else": {"$ref": "#"},
        "allOf": { "$ref": "#/definitions/schemaArray" },
        "anyOf": { "$ref": "#/definitions/schemaArray" },
        "oneOf": { "$ref": "#/definitions/schemaArray" },
        "not": { "$ref": "#" }
    },
    "default": true
}

},{}],43:[function(require,module,exports){
"use strict";module.exports=function r(t,e){if(t===e)return!0;if(t&&e&&"object"==typeof t&&"object"==typeof e){if(t.constructor!==e.constructor)return!1;var o,n,u;if(Array.isArray(t)){if((o=t.length)!=e.length)return!1;for(n=o;0!=n--;)if(!r(t[n],e[n]))return!1;return!0}if(t.constructor===RegExp)return t.source===e.source&&t.flags===e.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===e.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===e.toString();if((o=(u=Object.keys(t)).length)!==Object.keys(e).length)return!1;for(n=o;0!=n--;)if(!Object.prototype.hasOwnProperty.call(e,u[n]))return!1;for(n=o;0!=n--;){var f=u[n];if(!r(t[f],e[f]))return!1}return!0}return t!=t&&e!=e};

},{}],44:[function(require,module,exports){
!function(e){"use strict";var t={ENTER:13,ESC:27,F1:112,F12:123,LEFT:37,RIGHT:39,TAB:9},n={autoReset:!0,basic:!1,closable:!0,closableByDimmer:!0,invokeOnCloseOff:!1,frameless:!1,defaultFocusOff:!1,maintainFocus:!0,maximizable:!0,modal:!0,movable:!0,moveBounded:!1,overflow:!0,padding:!0,pinnable:!0,pinned:!0,preventBodyShift:!1,resizable:!0,startMaximized:!1,transition:"pulse",transitionOff:!1,tabbable:["button","[href]","input","select","textarea",'[tabindex]:not([tabindex^="-"]):not(:disabled):not(.ajs-reset)'].join(":not(:disabled):not(.ajs-reset),"),notifier:{delay:5,position:"bottom-right",closeButton:!1,classes:{base:"alertify-notifier",prefix:"ajs-",message:"ajs-message",top:"ajs-top",right:"ajs-right",bottom:"ajs-bottom",left:"ajs-left",center:"ajs-center",visible:"ajs-visible",hidden:"ajs-hidden",close:"ajs-close"}},glossary:{title:"AlertifyJS",ok:"OK",cancel:"Cancel",acccpt:"Accept",deny:"Deny",confirm:"Confirm",decline:"Decline",close:"Close",maximize:"Maximize",restore:"Restore"},theme:{input:"ajs-input",ok:"ajs-ok",cancel:"ajs-cancel"},hooks:{preinit:function(){},postinit:function(){}}},i=[];function s(e,t){e.className+=" "+t}function o(e,t){for(var n=e.className.split(" "),i=t.split(" "),s=0;s<i.length;s+=1){var o=n.indexOf(i[s]);o>-1&&n.splice(o,1)}e.className=n.join(" ")}function a(){return"rtl"===e.getComputedStyle(document.body).direction}function l(){return document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop}function r(){return document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft}function c(e){for(;e.lastChild;)e.removeChild(e.lastChild)}function d(e){if(null===e)return e;var t;if(Array.isArray(e)){t=[];for(var n=0;n<e.length;n+=1)t.push(d(e[n]));return t}if(e instanceof Date)return new Date(e.getTime());if(e instanceof RegExp)return(t=new RegExp(e.source)).global=e.global,t.ignoreCase=e.ignoreCase,t.multiline=e.multiline,t.lastIndex=e.lastIndex,t;if("object"==typeof e){for(var i in t={},e)e.hasOwnProperty(i)&&(t[i]=d(e[i]));return t}return e}function u(e,t){if(e.elements){var n=e.elements.root;n.parentNode.removeChild(n),delete e.elements,e.settings=d(e.__settings),e.__init=t,delete e.__internal}}var m=!1;try{var f=Object.defineProperty({},"passive",{get:function(){m=!0}});e.addEventListener("test",f,f),e.removeEventListener("test",f,f)}catch(e){}var h=function(e,t,n,i,s){e.addEventListener(t,n,m?{capture:i,passive:s}:!0===i)},p=function(e,t,n,i,s){e.removeEventListener(t,n,m?{capture:i,passive:s}:!0===i)},b=function(){var e,t,n=!1,i={animation:"animationend",OAnimation:"oAnimationEnd oanimationend",msAnimation:"MSAnimationEnd",MozAnimation:"animationend",WebkitAnimation:"webkitAnimationEnd"};for(e in i)if(void 0!==document.documentElement.style[e]){t=i[e],n=!0;break}return{type:t,supported:n}}();function v(e,t){return function(){if(arguments.length>0){for(var n=[],i=0;i<arguments.length;i+=1)n.push(arguments[i]);return n.push(e),t.apply(e,n)}return t.apply(e,[null,e])}}function g(e,t){return{index:e,button:t,cancel:!1}}function y(e,t){if("function"==typeof t.get(e))return t.get(e).call(t)}var _=function(){var m,f,_=[],x=!1,H=e.navigator.userAgent.indexOf("Safari")>-1&&e.navigator.userAgent.indexOf("Chrome")<0,O={dimmer:'<div class="ajs-dimmer"></div>',modal:'<div class="ajs-modal" tabindex="0"></div>',dialog:'<div class="ajs-dialog" tabindex="0"></div>',reset:'<button class="ajs-reset"></button>',commands:'<div class="ajs-commands"><button class="ajs-pin"></button><button class="ajs-maximize"></button><button class="ajs-close"></button></div>',header:'<div class="ajs-header"></div>',body:'<div class="ajs-body"></div>',content:'<div class="ajs-content"></div>',footer:'<div class="ajs-footer"></div>',buttons:{primary:'<div class="ajs-primary ajs-buttons"></div>',auxiliary:'<div class="ajs-auxiliary ajs-buttons"></div>'},button:'<button class="ajs-button"></button>',resizeHandle:'<div class="ajs-handle"></div>'},T={animationIn:"ajs-in",animationOut:"ajs-out",base:"alertify",basic:"ajs-basic",capture:"ajs-capture",closable:"ajs-closable",fixed:"ajs-fixed",frameless:"ajs-frameless",hidden:"ajs-hidden",maximize:"ajs-maximize",maximized:"ajs-maximized",maximizable:"ajs-maximizable",modeless:"ajs-modeless",movable:"ajs-movable",noSelection:"ajs-no-selection",noOverflow:"ajs-no-overflow",noPadding:"ajs-no-padding",pin:"ajs-pin",pinnable:"ajs-pinnable",prefix:"ajs-",resizable:"ajs-resizable",restore:"ajs-restore",shake:"ajs-shake",unpinned:"ajs-unpinned",noTransition:"ajs-no-transition"};function w(e){if(!e.__internal){var t;k.defaults.hooks.preinit(e),delete e.__init,e.__settings||(e.__settings=d(e.settings)),"function"==typeof e.setup?((t=e.setup()).options=t.options||{},t.focus=t.focus||{}):t={buttons:[],focus:{element:null,select:!1},options:{}},"object"!=typeof e.hooks&&(e.hooks={});var n=[];if(Array.isArray(t.buttons))for(var i=0;i<t.buttons.length;i+=1){var o=t.buttons[i],a={};for(var l in o)o.hasOwnProperty(l)&&(a[l]=o[l]);n.push(a)}var r=e.__internal={isOpen:!1,activeElement:document.body,timerIn:void 0,timerOut:void 0,buttons:n,focus:t.focus,options:{title:void 0,modal:void 0,basic:void 0,frameless:void 0,defaultFocusOff:void 0,pinned:void 0,movable:void 0,moveBounded:void 0,resizable:void 0,autoReset:void 0,closable:void 0,closableByDimmer:void 0,invokeOnCloseOff:void 0,maximizable:void 0,startMaximized:void 0,pinnable:void 0,transition:void 0,transitionOff:void 0,padding:void 0,overflow:void 0,onshow:void 0,onclosing:void 0,onclose:void 0,onfocus:void 0,onmove:void 0,onmoved:void 0,onresize:void 0,onresized:void 0,onmaximize:void 0,onmaximized:void 0,onrestore:void 0,onrestored:void 0},resetHandler:void 0,beginMoveHandler:void 0,beginResizeHandler:void 0,bringToFrontHandler:void 0,modalClickHandler:void 0,buttonsClickHandler:void 0,commandsClickHandler:void 0,transitionInHandler:void 0,transitionOutHandler:void 0,destroy:void 0},c={};c.root=document.createElement("div"),c.root.style.display="none",c.root.className=T.base+" "+T.hidden+" ",c.root.innerHTML=O.dimmer+O.modal,c.dimmer=c.root.firstChild,c.modal=c.root.lastChild,c.modal.innerHTML=O.dialog,c.dialog=c.modal.firstChild,c.dialog.innerHTML=O.reset+O.commands+O.header+O.body+O.footer+O.resizeHandle+O.reset,c.reset=[],c.reset.push(c.dialog.firstChild),c.reset.push(c.dialog.lastChild),c.commands={},c.commands.container=c.reset[0].nextSibling,c.commands.pin=c.commands.container.firstChild,c.commands.maximize=c.commands.pin.nextSibling,c.commands.close=c.commands.maximize.nextSibling,c.header=c.commands.container.nextSibling,c.body=c.header.nextSibling,c.body.innerHTML=O.content,c.content=c.body.firstChild,c.footer=c.body.nextSibling,c.footer.innerHTML=O.buttons.auxiliary+O.buttons.primary,c.resizeHandle=c.footer.nextSibling,c.buttons={},c.buttons.auxiliary=c.footer.firstChild,c.buttons.primary=c.buttons.auxiliary.nextSibling,c.buttons.primary.innerHTML=O.button,c.buttonTemplate=c.buttons.primary.firstChild,c.buttons.primary.removeChild(c.buttonTemplate);for(var u=0;u<e.__internal.buttons.length;u+=1){var m=e.__internal.buttons[u];for(var f in _.indexOf(m.key)<0&&_.push(m.key),m.element=c.buttonTemplate.cloneNode(),m.element.innerHTML=m.text,"string"==typeof m.className&&""!==m.className&&s(m.element,m.className),m.attrs)"className"!==f&&m.attrs.hasOwnProperty(f)&&m.element.setAttribute(f,m.attrs[f]);"auxiliary"===m.scope?c.buttons.auxiliary.appendChild(m.element):c.buttons.primary.appendChild(m.element)}for(var h in e.elements=c,r.resetHandler=v(e,ee),r.beginMoveHandler=v(e,pe),r.beginResizeHandler=v(e,Oe),r.bringToFrontHandler=v(e,N),r.modalClickHandler=v(e,G),r.buttonsClickHandler=v(e,V),r.commandsClickHandler=v(e,S),r.transitionInHandler=v(e,ie),r.transitionOutHandler=v(e,se),r.options)void 0!==t.options[h]?e.set(h,t.options[h]):k.defaults.hasOwnProperty(h)?e.set(h,k.defaults[h]):"title"===h&&e.set(h,k.defaults.glossary[h]);"function"==typeof e.build&&e.build(),k.defaults.hooks.postinit(e)}document.body.appendChild(e.elements.root)}function z(){e.scrollTo(m,f)}function C(){for(var e=0,t=0;t<i.length;t+=1){var n=i[t];(n.isModal()||n.isMaximized())&&(e+=1)}0===e&&document.body.className.indexOf(T.noOverflow)>=0?(o(document.body,T.noOverflow),M(!1)):e>0&&document.body.className.indexOf(T.noOverflow)<0&&(M(!0),s(document.body,T.noOverflow))}var E="",j=0;function M(t){k.defaults.preventBodyShift&&(t&&document.documentElement.scrollHeight>document.documentElement.clientHeight?(j=f,E=e.getComputedStyle(document.body).top,s(document.body,T.fixed),document.body.style.top=-f+"px"):t||(f=j,document.body.style.top=E,o(document.body,T.fixed),z()))}function N(e,t){for(var n=i.indexOf(t)+1;n<i.length;n+=1)if(i[n].isModal())return;return document.body.lastChild!==t.elements.root&&(document.body.appendChild(t.elements.root),i.splice(i.indexOf(t),1),i.push(t),$(t)),!1}function L(e,t,n,i){switch(t){case"title":e.setHeader(i);break;case"modal":!function(e){e.get("modal")?(o(e.elements.root,T.modeless),e.isOpen()&&(je(e),U(e),C())):(s(e.elements.root,T.modeless),e.isOpen()&&(Ee(e),U(e),C()))}(e);break;case"basic":!function(e){e.get("basic")?s(e.elements.root,T.basic):o(e.elements.root,T.basic)}(e);break;case"frameless":!function(e){e.get("frameless")?s(e.elements.root,T.frameless):o(e.elements.root,T.frameless)}(e);break;case"pinned":!function(e){e.get("pinned")?(o(e.elements.root,T.unpinned),e.isOpen()&&D(e)):(s(e.elements.root,T.unpinned),e.isOpen()&&!e.isModal()&&B(e))}(e);break;case"closable":!function(e){e.get("closable")?(s(e.elements.root,T.closable),function(e){h(e.elements.modal,"click",e.__internal.modalClickHandler)}(e)):(o(e.elements.root,T.closable),function(e){p(e.elements.modal,"click",e.__internal.modalClickHandler)}(e))}(e);break;case"maximizable":!function(e){e.get("maximizable")?s(e.elements.root,T.maximizable):o(e.elements.root,T.maximizable)}(e);break;case"pinnable":!function(e){e.get("pinnable")?s(e.elements.root,T.pinnable):o(e.elements.root,T.pinnable)}(e);break;case"movable":!function(e){e.get("movable")?(s(e.elements.root,T.movable),e.isOpen()&&Me(e)):(ge(e),o(e.elements.root,T.movable),e.isOpen()&&Ne(e))}(e);break;case"resizable":!function(e){e.get("resizable")?(s(e.elements.root,T.resizable),e.isOpen()&&Le(e)):(ze(e),o(e.elements.root,T.resizable),e.isOpen()&&Ae(e))}(e);break;case"padding":i?o(e.elements.root,T.noPadding):e.elements.root.className.indexOf(T.noPadding)<0&&s(e.elements.root,T.noPadding);break;case"overflow":i?o(e.elements.root,T.noOverflow):e.elements.root.className.indexOf(T.noOverflow)<0&&s(e.elements.root,T.noOverflow);break;case"transition":!function(e,t,n){"string"==typeof n&&o(e.elements.root,T.prefix+n),s(e.elements.root,T.prefix+t),e.elements.root.offsetWidth}(e,i,n);break;case"transitionOff":!function(e){e.get("transitionOff")?s(e.elements.root,T.noTransition):o(e.elements.root,T.noTransition)}(e)}"function"==typeof e.hooks.onupdate&&e.hooks.onupdate.call(e,t,n,i)}function A(e,t,n,i,s){var o,a={op:void 0,items:[]};if(void 0===s&&"string"==typeof i)a.op="get",t.hasOwnProperty(i)?(a.found=!0,a.value=t[i]):(a.found=!1,a.value=void 0);else if(a.op="set","object"==typeof i){var l=i;for(var r in l)t.hasOwnProperty(r)?(t[r]!==l[r]&&(o=t[r],t[r]=l[r],n.call(e,r,o,l[r])),a.items.push({key:r,value:l[r],found:!0})):a.items.push({key:r,value:l[r],found:!1})}else{if("string"!=typeof i)throw new Error("args must be a string or object");t.hasOwnProperty(i)?(t[i]!==s&&(o=t[i],t[i]=s,n.call(e,i,o,s)),a.items.push({key:i,value:s,found:!0})):a.items.push({key:i,value:s,found:!1})}return a}function I(e){var t;J(e,function(n){return t=!0!==e.get("invokeOnCloseOff")&&!0===n.invokeOnClose}),!t&&e.isOpen()&&e.close()}function S(e,t){switch(e.srcElement||e.target){case t.elements.commands.pin:t.isPinned()?W(t):P(t);break;case t.elements.commands.maximize:t.isMaximized()?R(t):F(t);break;case t.elements.commands.close:I(t)}return!1}function P(e){e.set("pinned",!0)}function W(e){e.set("pinned",!1)}function F(e){y("onmaximize",e),s(e.elements.root,T.maximized),e.isOpen()&&C(),y("onmaximized",e)}function R(e){y("onrestore",e),o(e.elements.root,T.maximized),e.isOpen()&&C(),y("onrestored",e)}function B(e){var t=r();e.elements.modal.style.marginTop=l()+"px",e.elements.modal.style.marginLeft=t+"px",e.elements.modal.style.marginRight=-t+"px"}function D(e){var t=parseInt(e.elements.modal.style.marginTop,10),n=parseInt(e.elements.modal.style.marginLeft,10);if(e.elements.modal.style.marginTop="",e.elements.modal.style.marginLeft="",e.elements.modal.style.marginRight="",e.isOpen()){var i=0,s=0;""!==e.elements.dialog.style.top&&(i=parseInt(e.elements.dialog.style.top,10)),e.elements.dialog.style.top=i+(t-l())+"px",""!==e.elements.dialog.style.left&&(s=parseInt(e.elements.dialog.style.left,10)),e.elements.dialog.style.left=s+(n-r())+"px"}}function U(e){e.get("modal")||e.get("pinned")?D(e):B(e)}var X=!1,Y=0;function G(e,t){if(e.timeStamp-Y>200&&(Y=e.timeStamp)&&!X){var n=e.srcElement||e.target;!0===t.get("closableByDimmer")&&n===t.elements.modal&&I(t)}X=!1}var q=0,K=!1;function J(e,t){if(Date.now()-q>200&&(q=Date.now()))for(var n=0;n<e.__internal.buttons.length;n+=1){var i=e.__internal.buttons[n];if(!i.element.disabled&&t(i)){var s=g(n,i);"function"==typeof e.callback&&e.callback.apply(e,[s]),!1===s.cancel&&e.close();break}}}function V(e,t){var n=e.srcElement||e.target;J(t,function(e){return e.element===n&&(K=!0)})}function Q(e){if(!K){var n=i[i.length-1],s=e.keyCode;return 0===n.__internal.buttons.length&&s===t.ESC&&!0===n.get("closable")?(I(n),!1):_.indexOf(s)>-1?(J(n,function(e){return e.key===s}),!1):void 0}K=!1}function Z(e){var n=i[i.length-1],s=e.keyCode;if(s===t.LEFT||s===t.RIGHT){for(var o=n.__internal.buttons,a=0;a<o.length;a+=1)if(document.activeElement===o[a].element)switch(s){case t.LEFT:return void o[(a||o.length)-1].element.focus();case t.RIGHT:return void o[(a+1)%o.length].element.focus()}}else if(s<t.F12+1&&s>t.F1-1&&_.indexOf(s)>-1)return e.preventDefault(),e.stopPropagation(),J(n,function(e){return e.key===s}),!1}function $(e,t){if(t)t.focus();else{var n=e.__internal.focus,i=n.element;switch(typeof n.element){case"number":e.__internal.buttons.length>n.element&&(i=!0===e.get("basic")?e.elements.reset[0]:e.__internal.buttons[n.element].element);break;case"string":i=e.elements.body.querySelector(n.element);break;case"function":i=n.element.call(e)}(!0===e.get("defaultFocusOff")||null==i&&0===e.__internal.buttons.length)&&(i=e.elements.reset[0]),i&&i.focus&&(i.focus(),n.select&&i.select&&i.select())}}function ee(e,t){if(!t)for(var n=i.length-1;n>-1;n-=1)if(i[n].isModal()){t=i[n];break}if(t&&t.isModal()){var s,o=t.elements.reset[0],a=t.elements.reset[1],l=e.relatedTarget,r=t.elements.root.contains(l),c=e.srcElement||e.target;if(c===o&&!r||c===a&&l===o)return;c===a||c===document.body?s=o:c===o&&l===a?s=te(t):c===o&&r&&(s=te(t,!0)),$(t,s)}}function te(e,t){var i=[].slice.call(e.elements.dialog.querySelectorAll(n.tabbable));t&&i.reverse();for(var s=0;s<i.length;s+=1){var o=i[s];if(o.offsetParent||o.offsetWidth||o.offsetHeight||o.getClientRects().length)return o}}function ne(e){var n=i[i.length-1];n&&e.shiftKey&&e.keyCode===t.TAB&&n.elements.reset[1].focus()}function ie(e,t){clearTimeout(t.__internal.timerIn),$(t),K=!1,y("onfocus",t),p(t.elements.dialog,b.type,t.__internal.transitionInHandler),o(t.elements.root,T.animationIn)}function se(e,t){clearTimeout(t.__internal.timerOut),p(t.elements.dialog,b.type,t.__internal.transitionOutHandler),ge(t),ze(t),t.isMaximized()&&!t.get("startMaximized")&&R(t),"function"==typeof t.__internal.destroy&&t.__internal.destroy.apply(t)}var oe=null,ae=0,le=0,re="pageX",ce="pageY",de=null,ue=!1,me=null;function fe(e,t){var n=e[re]-ae,i=e[ce]-le;ue&&(i-=document.body.scrollTop),t.style.left=n+"px",t.style.top=i+"px"}function he(e,t){var n=e[re]-ae,i=e[ce]-le;ue&&(i-=document.body.scrollTop),t.style.left=Math.min(de.maxLeft,Math.max(de.minLeft,n))+"px",t.style.top=ue?Math.min(de.maxTop,Math.max(de.minTop,i))+"px":Math.max(de.minTop,i)+"px"}function pe(e,t){if(null===ye&&!t.isMaximized()&&t.get("movable")){var n,i=0,o=0;if("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0],re="clientX",ce="clientY"):0===e.button&&(n=e),n){var a=t.elements.dialog;if(s(a,T.capture),a.style.left&&(i=parseInt(a.style.left,10)),a.style.top&&(o=parseInt(a.style.top,10)),ae=n[re]-i,le=n[ce]-o,t.isModal()?le+=t.elements.modal.scrollTop:t.isPinned()&&(le-=document.body.scrollTop),t.get("moveBounded")){var l=a,r=-i,c=-o;do{r+=l.offsetLeft,c+=l.offsetTop}while(l=l.offsetParent);de={maxLeft:r,minLeft:-r,maxTop:document.documentElement.clientHeight-a.clientHeight-c,minTop:-c},me=he}else de=null,me=fe;return y("onmove",t),ue=!t.isModal()&&t.isPinned(),oe=t,me(n,a),s(document.body,T.noSelection),!1}}}function be(e){var t;oe&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&me(t,oe.elements.dialog))}function ve(){if(oe){var e=oe;oe=de=null,o(document.body,T.noSelection),o(e.elements.dialog,T.capture),y("onmoved",e)}}function ge(e){oe=null;var t=e.elements.dialog;t.style.left=t.style.top=""}var ye=null,_e=Number.Nan,xe=0,ke=0,He=0;function Oe(e,t){var n;if(!t.isMaximized()&&("touchstart"===e.type?(e.preventDefault(),n=e.targetTouches[0]):0===e.button&&(n=e),n)){y("onresize",t),ye=t,He=t.elements.resizeHandle.offsetHeight/2;var i=t.elements.dialog;return s(i,T.capture),_e=parseInt(i.style.left,10),i.style.height=i.offsetHeight+"px",i.style.minHeight=t.elements.header.offsetHeight+t.elements.footer.offsetHeight+"px",i.style.width=(xe=i.offsetWidth)+"px","none"!==i.style.maxWidth&&(i.style.minWidth=(ke=i.offsetWidth)+"px"),i.style.maxWidth="none",s(document.body,T.noSelection),!1}}function Te(e){var t;ye&&("touchmove"===e.type?(e.preventDefault(),t=e.targetTouches[0]):0===e.button&&(t=e),t&&function(e,t,n){var i,s,o=t,l=0,r=0;do{l+=o.offsetLeft,r+=o.offsetTop}while(o=o.offsetParent);!0===n?(i=e.pageX,s=e.pageY):(i=e.clientX,s=e.clientY);var c=a();if(c&&(i=document.body.offsetWidth-i,isNaN(_e)||(l=document.body.offsetWidth-l-t.offsetWidth)),t.style.height=s-r+He+"px",t.style.width=i-l+He+"px",!isNaN(_e)){var d=.5*Math.abs(t.offsetWidth-xe);c&&(d*=-1),t.offsetWidth>xe?t.style.left=_e+d+"px":t.offsetWidth>=ke&&(t.style.left=_e-d+"px")}}(t,ye.elements.dialog,!ye.get("modal")&&!ye.get("pinned")))}function we(){if(ye){var e=ye;ye=null,o(document.body,T.noSelection),o(e.elements.dialog,T.capture),X=!0,y("onresized",e)}}function ze(e){ye=null;var t=e.elements.dialog;"none"===t.style.maxWidth&&(t.style.maxWidth=t.style.minWidth=t.style.width=t.style.height=t.style.minHeight=t.style.left="",_e=Number.Nan,xe=ke=He=0)}function Ce(){for(var e=0;e<i.length;e+=1){var t=i[e];t.get("autoReset")&&(ge(t),ze(t))}}function Ee(e){h(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function je(e){p(e.elements.dialog,"focus",e.__internal.bringToFrontHandler,!0)}function Me(e){h(e.elements.header,"mousedown",e.__internal.beginMoveHandler),h(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function Ne(e){p(e.elements.header,"mousedown",e.__internal.beginMoveHandler),p(e.elements.header,"touchstart",e.__internal.beginMoveHandler,!1,!1)}function Le(e){h(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),h(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}function Ae(e){p(e.elements.resizeHandle,"mousedown",e.__internal.beginResizeHandler),p(e.elements.resizeHandle,"touchstart",e.__internal.beginResizeHandler,!1,!1)}return{__init:w,isOpen:function(){return this.__internal.isOpen},isModal:function(){return this.elements.root.className.indexOf(T.modeless)<0},isMaximized:function(){return this.elements.root.className.indexOf(T.maximized)>-1},isPinned:function(){return this.elements.root.className.indexOf(T.unpinned)<0},maximize:function(){return this.isMaximized()||F(this),this},restore:function(){return this.isMaximized()&&R(this),this},pin:function(){return this.isPinned()||P(this),this},unpin:function(){return this.isPinned()&&W(this),this},bringToFront:function(){return N(0,this),this},moveTo:function(e,t){if(!isNaN(e)&&!isNaN(t)){y("onmove",this);var n=this.elements.dialog,i=n,s=0,o=0;n.style.left&&(s-=parseInt(n.style.left,10)),n.style.top&&(o-=parseInt(n.style.top,10));do{s+=i.offsetLeft,o+=i.offsetTop}while(i=i.offsetParent);var l=e-s,r=t-o;a()&&(l*=-1),n.style.left=l+"px",n.style.top=r+"px",y("onmoved",this)}return this},resizeTo:function(e,t){var n=parseFloat(e),i=parseFloat(t),s=/(\d*\.\d+|\d+)%/;if(!isNaN(n)&&!isNaN(i)&&!0===this.get("resizable")){y("onresize",this),(""+e).match(s)&&(n=n/100*document.documentElement.clientWidth),(""+t).match(s)&&(i=i/100*document.documentElement.clientHeight);var o=this.elements.dialog;"none"!==o.style.maxWidth&&(o.style.minWidth=(ke=o.offsetWidth)+"px"),o.style.maxWidth="none",o.style.minHeight=this.elements.header.offsetHeight+this.elements.footer.offsetHeight+"px",o.style.width=n+"px",o.style.height=i+"px",y("onresized",this)}return this},setting:function(e,t){var n=this,i=A(this,this.__internal.options,function(e,t,i){L(n,e,t,i)},e,t);if("get"===i.op)return i.found?i.value:void 0!==this.settings?A(this,this.settings,this.settingUpdated||function(){},e,t).value:void 0;if("set"===i.op){if(i.items.length>0)for(var s=this.settingUpdated||function(){},o=0;o<i.items.length;o+=1){var a=i.items[o];a.found||void 0===this.settings||A(this,this.settings,s,a.key,a.value)}return this}},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},setHeader:function(t){return"string"==typeof t?(c(this.elements.header),this.elements.header.innerHTML=t):t instanceof e.HTMLElement&&this.elements.header.firstChild!==t&&(c(this.elements.header),this.elements.header.appendChild(t)),this},setContent:function(t){return"string"==typeof t?(c(this.elements.content),this.elements.content.innerHTML=t):t instanceof e.HTMLElement&&this.elements.content.firstChild!==t&&(c(this.elements.content),this.elements.content.appendChild(t)),this},showModal:function(e){return this.show(!0,e)},show:function(t,n){if(w(this),this.__internal.isOpen){ge(this),ze(this),s(this.elements.dialog,T.shake);var a=this;setTimeout(function(){o(a.elements.dialog,T.shake)},200)}else{if(this.__internal.isOpen=!0,i.push(this),k.defaults.maintainFocus&&(this.__internal.activeElement=document.activeElement),document.body.hasAttribute("tabindex")||document.body.setAttribute("tabindex",x="0"),"function"==typeof this.prepare&&this.prepare(),d=this,1===i.length&&(h(e,"resize",Ce),h(document.body,"keyup",Q),h(document.body,"keydown",Z),h(document.body,"focus",ee),h(document.documentElement,"mousemove",be),h(document.documentElement,"touchmove",be,!1,!1),h(document.documentElement,"mouseup",ve),h(document.documentElement,"touchend",ve),h(document.documentElement,"mousemove",Te),h(document.documentElement,"touchmove",Te,!1,!1),h(document.documentElement,"mouseup",we),h(document.documentElement,"touchend",we)),h(d.elements.commands.container,"click",d.__internal.commandsClickHandler),h(d.elements.footer,"click",d.__internal.buttonsClickHandler),h(d.elements.reset[0],"focusin",d.__internal.resetHandler),h(d.elements.reset[0],"keydown",ne),h(d.elements.reset[1],"focusin",d.__internal.resetHandler),K=!0,h(d.elements.dialog,b.type,d.__internal.transitionInHandler),d.get("modal")||Ee(d),d.get("resizable")&&Le(d),d.get("movable")&&Me(d),void 0!==t&&this.set("modal",t),m=r(),f=l(),C(),"string"==typeof n&&""!==n&&(this.__internal.className=n,s(this.elements.root,n)),this.get("startMaximized")?this.maximize():this.isMaximized()&&R(this),U(this),this.elements.root.removeAttribute("style"),o(this.elements.root,T.animationOut),s(this.elements.root,T.animationIn),clearTimeout(this.__internal.timerIn),this.__internal.timerIn=setTimeout(this.__internal.transitionInHandler,b.supported?1e3:100),H){var c=this.elements.root;c.style.display="none",setTimeout(function(){c.style.display="block"},0)}this.elements.root.offsetWidth,o(this.elements.root,T.hidden),z(),"function"==typeof this.hooks.onshow&&this.hooks.onshow.call(this),y("onshow",this)}var d;return this},close:function(){var t;return this.__internal.isOpen&&!1!==y("onclosing",this)&&(t=this,1===i.length&&(p(e,"resize",Ce),p(document.body,"keyup",Q),p(document.body,"keydown",Z),p(document.body,"focus",ee),p(document.documentElement,"mousemove",be),p(document.documentElement,"mouseup",ve),p(document.documentElement,"mousemove",Te),p(document.documentElement,"mouseup",we)),p(t.elements.commands.container,"click",t.__internal.commandsClickHandler),p(t.elements.footer,"click",t.__internal.buttonsClickHandler),p(t.elements.reset[0],"focusin",t.__internal.resetHandler),p(t.elements.reset[0],"keydown",ne),p(t.elements.reset[1],"focusin",t.__internal.resetHandler),h(t.elements.dialog,b.type,t.__internal.transitionOutHandler),t.get("modal")||je(t),t.get("movable")&&Ne(t),t.get("resizable")&&Ae(t),o(this.elements.root,T.animationIn),s(this.elements.root,T.animationOut),clearTimeout(this.__internal.timerOut),this.__internal.timerOut=setTimeout(this.__internal.transitionOutHandler,b.supported?1e3:100),s(this.elements.root,T.hidden),this.elements.modal.offsetWidth,k.defaults.maintainFocus&&this.__internal.activeElement&&(this.__internal.activeElement.focus(),this.__internal.activeElement=null),void 0!==this.__internal.className&&""!==this.__internal.className&&o(this.elements.root,this.__internal.className),"function"==typeof this.hooks.onclose&&this.hooks.onclose.call(this),y("onclose",this),i.splice(i.indexOf(this),1),this.__internal.isOpen=!1,C()),i.length||"0"!==x||document.body.removeAttribute("tabindex"),this},closeOthers:function(){return k.closeAll(this),this},destroy:function(){return this.__internal&&(this.__internal.isOpen?(this.__internal.destroy=function(){u(this,w)},this.close()):this.__internal.destroy||u(this,w)),this}}}(),x=function(){var t,i=[],a=n.notifier.classes,l=a.base;function r(e){e.__internal||(e.__internal={position:k.defaults.notifier.position,delay:k.defaults.notifier.delay},t=document.createElement("DIV"),("transitionOff"in n.notifier?n.notifier.transitionOff:n.transitionOff)&&(l=a.base+" ajs-no-transition"),d(e));t.parentNode!==document.body&&document.body.appendChild(t)}function d(e){switch(t.className=l,e.__internal.position){case"top-right":s(t,a.top+" "+a.right);break;case"top-left":s(t,a.top+" "+a.left);break;case"top-center":s(t,a.top+" "+a.center);break;case"bottom-left":s(t,a.bottom+" "+a.left);break;case"bottom-center":s(t,a.bottom+" "+a.center);break;default:case"bottom-right":s(t,a.bottom+" "+a.right)}}function u(n,l){function r(e,t){t.__internal.closeButton&&"true"!==e.target.getAttribute("data-close")||t.dismiss(!0)}function d(e,n){p(n.element,b.type,d),t.removeChild(n.element)}function u(e){clearTimeout(e.__internal.timer),clearTimeout(e.__internal.transitionTimeout)}return(m={element:n,push:function(e,n){if(!this.__internal.pushed){var o,l;switch((r=this).__internal.pushed=!0,i.push(r),u(this),arguments.length){case 0:l=this.__internal.delay;break;case 1:"number"==typeof e?l=e:(o=e,l=this.__internal.delay);break;case 2:o=e,l=n}return this.__internal.closeButton=k.defaults.notifier.closeButton,void 0!==o&&this.setContent(o),x.__internal.position.indexOf("top")<0?t.appendChild(this.element):t.insertBefore(this.element,t.firstChild),this.element.offsetWidth,s(this.element,a.visible),h(this.element,"click",this.__internal.clickHandler),this.delay(l)}var r;return this},ondismiss:function(){},callback:l,dismiss:function(e){var n;return this.__internal.pushed&&(u(this),"function"==typeof this.ondismiss&&!1===this.ondismiss.call(this)||(p(this.element,"click",this.__internal.clickHandler),void 0!==this.element&&this.element.parentNode===t&&(this.__internal.transitionTimeout=setTimeout(this.__internal.transitionEndHandler,b.supported?1e3:100),o(this.element,a.visible),"function"==typeof this.callback&&this.callback.call(this,e)),n=this,i.splice(i.indexOf(n),1),n.__internal.pushed=!1)),this},delay:function(e){if(u(this),this.__internal.delay=void 0===e||isNaN(+e)?x.__internal.delay:+e,this.__internal.delay>0){var t=this;this.__internal.timer=setTimeout(function(){t.dismiss()},1e3*this.__internal.delay)}return this},setContent:function(t){if("string"==typeof t?(c(this.element),this.element.innerHTML=t):t instanceof e.HTMLElement&&this.element.firstChild!==t&&(c(this.element),this.element.appendChild(t)),this.__internal.closeButton){var n=document.createElement("span");s(n,a.close),n.setAttribute("data-close",!0),this.element.appendChild(n)}return this},dismissOthers:function(){return x.dismissAll(this),this}}).__internal||(m.__internal={pushed:!1,delay:void 0,timer:void 0,clickHandler:void 0,transitionEndHandler:void 0,transitionTimeout:void 0},m.__internal.clickHandler=v(m,r),m.__internal.transitionEndHandler=v(m,d)),m;var m}return{setting:function(e,t){if(r(this),void 0===t)return this.__internal[e];switch(e){case"position":this.__internal.position=t,d(this);break;case"delay":this.__internal.delay=t}return this},set:function(e,t){return this.setting(e,t),this},get:function(e){return this.setting(e)},create:function(e,t){r(this);var n=document.createElement("div");return n.className=a.message+("string"==typeof e&&""!==e?" "+a.prefix+e:""),u(n,t)},dismissAll:function(e){for(var t=i.slice(0),n=0;n<t.length;n+=1){var s=t[n];void 0!==e&&e===s||s.dismiss()}}}}();var k=new function(){var e={};function t(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function s(t){var n=e[t].dialog;return n&&"function"==typeof n.__init&&n.__init(n),n}return{defaults:n,dialog:function(n,i,o,a){if("function"!=typeof i)return s(n);if(this.hasOwnProperty(n))throw new Error("alertify.dialog: name already exists");var l=function(n,i,s,o){var a={dialog:null,factory:i};return void 0!==o&&(a.factory=function(){return t(new e[o].factory,new i)}),s||(a.dialog=t(new a.factory,_)),e[n]=a}(n,i,o,a);this[n]=o?function(){if(0===arguments.length)return l.dialog;var e=t(new l.factory,_);return e&&"function"==typeof e.__init&&e.__init(e),e.main.apply(e,arguments),e.show.apply(e)}:function(){if(l.dialog&&"function"==typeof l.dialog.__init&&l.dialog.__init(l.dialog),0===arguments.length)return l.dialog;var e=l.dialog;return e.main.apply(l.dialog,arguments),e.show.apply(l.dialog)}},closeAll:function(e){for(var t=i.slice(0),n=0;n<t.length;n+=1){var s=t[n];void 0!==e&&e===s||s.close()}},setting:function(e,t,n){if("notifier"===e)return x.setting(t,n);var i=s(e);return i?i.setting(t,n):void 0},set:function(e,t,n){return this.setting(e,t,n)},get:function(e,t){return this.setting(e,t)},notify:function(e,t,n,i){return x.create(t,i).push(e,n)},message:function(e,t,n){return x.create(null,n).push(e,t)},success:function(e,t,n){return x.create("success",n).push(e,t)},error:function(e,t,n){return x.create("error",n).push(e,t)},warning:function(e,t,n){return x.create("warning",n).push(e,t)},dismissAll:function(){x.dismissAll()}}};k.dialog("alert",function(){return{main:function(e,t,n){var i,s,o;switch(arguments.length){case 1:s=e;break;case 2:"function"==typeof t?(s=e,o=t):(i=e,s=t);break;case 3:i=e,s=t,o=n}return this.set("title",i),this.set("message",s),this.set("onok",o),this},setup:function(){return{buttons:[{text:k.defaults.glossary.ok,key:t.ESC,invokeOnClose:!0,className:k.defaults.theme.ok}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:void 0,onok:void 0,label:void 0},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"label":this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=n)}},callback:function(e){if("function"==typeof this.get("onok")){var t=this.get("onok").call(this,e);void 0!==t&&(e.cancel=!t)}}}}),k.dialog("confirm",function(){var e={timer:null,index:null,text:null,duration:null,task:function(t,i){if(i.isOpen()){if(i.__internal.buttons[e.index].element.innerHTML=e.text+" (&#8207;"+e.duration+"&#8207;) ",e.duration-=1,-1===e.duration){n(i);var s=i.__internal.buttons[e.index],o=g(e.index,s);"function"==typeof i.callback&&i.callback.apply(i,[o]),!1!==o.close&&i.close()}}else n(i)}};function n(t){null!==e.timer&&(clearInterval(e.timer),e.timer=null,t.__internal.buttons[e.index].element.innerHTML=e.text)}function i(t,i,s){n(t),e.duration=s,e.index=i,e.text=t.__internal.buttons[i].element.innerHTML,e.timer=setInterval(v(t,e.task),1e3),e.task(null,t)}return{main:function(e,t,n,i){var s,o,a,l;switch(arguments.length){case 1:o=e;break;case 2:o=e,a=t;break;case 3:o=e,a=t,l=n;break;case 4:s=e,o=t,a=n,l=i}return this.set("title",s),this.set("message",o),this.set("onok",a),this.set("oncancel",l),this},setup:function(){return{buttons:[{text:k.defaults.glossary.ok,key:t.ENTER,className:k.defaults.theme.ok},{text:k.defaults.glossary.cancel,key:t.ESC,invokeOnClose:!0,className:k.defaults.theme.cancel}],focus:{element:0,select:!1},options:{maximizable:!1,resizable:!1}}},build:function(){},prepare:function(){},setMessage:function(e){this.setContent(e)},settings:{message:null,labels:null,onok:null,oncancel:null,defaultFocus:null,reverseButtons:null},settingUpdated:function(e,t,n){switch(e){case"message":this.setMessage(n);break;case"labels":"ok"in n&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].text=n.ok,this.__internal.buttons[0].element.innerHTML=n.ok),"cancel"in n&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].text=n.cancel,this.__internal.buttons[1].element.innerHTML=n.cancel);break;case"reverseButtons":!0===n?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element);break;case"defaultFocus":this.__internal.focus.element="ok"===n?0:1}},callback:function(e){var t;switch(n(this),e.index){case 0:"function"==typeof this.get("onok")&&void 0!==(t=this.get("onok").call(this,e))&&(e.cancel=!t);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(t=this.get("oncancel").call(this,e))&&(e.cancel=!t)}},autoOk:function(e){return i(this,0,e),this},autoCancel:function(e){return i(this,1,e),this}}}),k.dialog("prompt",function(){var n=document.createElement("INPUT"),i=document.createElement("P");return{main:function(e,t,n,i,s){var o,a,l,r,c;switch(arguments.length){case 1:a=e;break;case 2:a=e,l=t;break;case 3:a=e,l=t,r=n;break;case 4:a=e,l=t,r=n,c=i;break;case 5:o=e,a=t,l=n,r=i,c=s}return this.set("title",o),this.set("message",a),this.set("value",l),this.set("onok",r),this.set("oncancel",c),this},setup:function(){return{buttons:[{text:k.defaults.glossary.ok,key:t.ENTER,className:k.defaults.theme.ok},{text:k.defaults.glossary.cancel,key:t.ESC,invokeOnClose:!0,className:k.defaults.theme.cancel}],focus:{element:n,select:!0},options:{maximizable:!1,resizable:!1}}},build:function(){n.className=k.defaults.theme.input,n.setAttribute("type","text"),n.value=this.get("value"),this.elements.content.appendChild(i),this.elements.content.appendChild(n)},prepare:function(){},setMessage:function(t){"string"==typeof t?(c(i),i.innerHTML=t):t instanceof e.HTMLElement&&i.firstChild!==t&&(c(i),i.appendChild(t))},settings:{message:void 0,labels:void 0,onok:void 0,oncancel:void 0,value:"",type:"text",reverseButtons:void 0},settingUpdated:function(e,t,i){switch(e){case"message":this.setMessage(i);break;case"value":n.value=i;break;case"type":switch(i){case"text":case"color":case"date":case"datetime-local":case"email":case"month":case"number":case"password":case"search":case"tel":case"time":case"week":n.type=i;break;default:n.type="text"}break;case"labels":i.ok&&this.__internal.buttons[0].element&&(this.__internal.buttons[0].element.innerHTML=i.ok),i.cancel&&this.__internal.buttons[1].element&&(this.__internal.buttons[1].element.innerHTML=i.cancel);break;case"reverseButtons":!0===i?this.elements.buttons.primary.appendChild(this.__internal.buttons[0].element):this.elements.buttons.primary.appendChild(this.__internal.buttons[1].element)}},callback:function(e){var t;switch(e.index){case 0:this.settings.value=n.value,"function"==typeof this.get("onok")&&void 0!==(t=this.get("onok").call(this,e,this.settings.value))&&(e.cancel=!t);break;case 1:"function"==typeof this.get("oncancel")&&void 0!==(t=this.get("oncancel").call(this,e))&&(e.cancel=!t),e.cancel||(n.value=this.settings.value)}}}}),"object"==typeof module&&module.exports,module.exports=k}("undefined"!=typeof window?window:this);

},{}],45:[function(require,module,exports){

},{}],46:[function(require,module,exports){
(function (global){
!function(e){var o="object"==typeof exports&&exports&&!exports.nodeType&&exports,n="object"==typeof module&&module&&!module.nodeType&&module,t="object"==typeof global&&global;t.global!==t&&t.window!==t&&t.self!==t||(e=t);var r,u,i=2147483647,f=36,c=1,l=26,s=38,d=700,p=72,a=128,h="-",v=/^xn--/,g=/[^\x20-\x7E]/,w=/[\x2E\u3002\uFF0E\uFF61]/g,x={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},b=f-c,y=Math.floor,C=String.fromCharCode;function m(e){throw new RangeError(x[e])}function j(e,o){for(var n=e.length,t=[];n--;)t[n]=o(e[n]);return t}function A(e,o){var n=e.split("@"),t="";return n.length>1&&(t=n[0]+"@",e=n[1]),t+j((e=e.replace(w,".")).split("."),o).join(".")}function I(e){for(var o,n,t=[],r=0,u=e.length;r<u;)(o=e.charCodeAt(r++))>=55296&&o<=56319&&r<u?56320==(64512&(n=e.charCodeAt(r++)))?t.push(((1023&o)<<10)+(1023&n)+65536):(t.push(o),r--):t.push(o);return t}function E(e){return j(e,function(e){var o="";return e>65535&&(o+=C((e-=65536)>>>10&1023|55296),e=56320|1023&e),o+=C(e)}).join("")}function F(e,o){return e+22+75*(e<26)-((0!=o)<<5)}function O(e,o,n){var t=0;for(e=n?y(e/d):e>>1,e+=y(e/o);e>b*l>>1;t+=f)e=y(e/b);return y(t+(b+1)*e/(e+s))}function S(e){var o,n,t,r,u,s,d,v,g,w,x,b=[],C=e.length,j=0,A=a,I=p;for((n=e.lastIndexOf(h))<0&&(n=0),t=0;t<n;++t)e.charCodeAt(t)>=128&&m("not-basic"),b.push(e.charCodeAt(t));for(r=n>0?n+1:0;r<C;){for(u=j,s=1,d=f;r>=C&&m("invalid-input"),((v=(x=e.charCodeAt(r++))-48<10?x-22:x-65<26?x-65:x-97<26?x-97:f)>=f||v>y((i-j)/s))&&m("overflow"),j+=v*s,!(v<(g=d<=I?c:d>=I+l?l:d-I));d+=f)s>y(i/(w=f-g))&&m("overflow"),s*=w;I=O(j-u,o=b.length+1,0==u),y(j/o)>i-A&&m("overflow"),A+=y(j/o),j%=o,b.splice(j++,0,A)}return E(b)}function T(e){var o,n,t,r,u,s,d,v,g,w,x,b,j,A,E,S=[];for(b=(e=I(e)).length,o=a,n=0,u=p,s=0;s<b;++s)(x=e[s])<128&&S.push(C(x));for(t=r=S.length,r&&S.push(h);t<b;){for(d=i,s=0;s<b;++s)(x=e[s])>=o&&x<d&&(d=x);for(d-o>y((i-n)/(j=t+1))&&m("overflow"),n+=(d-o)*j,o=d,s=0;s<b;++s)if((x=e[s])<o&&++n>i&&m("overflow"),x==o){for(v=n,g=f;!(v<(w=g<=u?c:g>=u+l?l:g-u));g+=f)E=v-w,A=f-w,S.push(C(F(w+E%A,0))),v=y(E/A);S.push(C(F(v,0))),u=O(n,j,t==r),n=0,++t}++n,++o}return S.join("")}if(r={version:"1.4.1",ucs2:{decode:I,encode:E},decode:S,encode:T,toASCII:function(e){return A(e,function(e){return g.test(e)?"xn--"+T(e):e})},toUnicode:function(e){return A(e,function(e){return v.test(e)?S(e.slice(4).toLowerCase()):e})}},"function"==typeof define&&"object"==typeof define.amd&&define.amd)define("punycode",function(){return r});else if(o&&n)if(module.exports==o)n.exports=r;else for(u in r)r.hasOwnProperty(u)&&(o[u]=r[u]);else e.punycode=r}(this);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],47:[function(require,module,exports){
module.exports=function(e,r){return r||(e=e.toLowerCase()),e.charAt(0).toUpperCase()+e.substring(1)},module.exports.words=function(e,r){return r||(e=e.toLowerCase()),e.replace(/(^|[^a-zA-Z\u00C0-\u017F'])([a-zA-Z\u00C0-\u017F])/g,function(e){return e.toUpperCase()})};

},{}],48:[function(require,module,exports){
function debounce(n,e,u){var l,o,t,c,a;function r(){var i=Date.now()-c;i<e&&i>=0?l=setTimeout(r,e-i):(l=null,u||(a=n.apply(t,o),t=o=null))}null==e&&(e=100);var i=function(){t=this,o=arguments,c=Date.now();var i=u&&!l;return l||(l=setTimeout(r,e)),i&&(a=n.apply(t,o),t=o=null),a};return i.clear=function(){l&&(clearTimeout(l),l=null)},i.flush=function(){l&&(a=n.apply(t,o),t=o=null,clearTimeout(l),l=null)},i}debounce.debounce=debounce,module.exports=debounce;

},{}],49:[function(require,module,exports){
var DOCUMENT_NODE_TYPE=9;if("undefined"!=typeof Element&&!Element.prototype.matches){var proto=Element.prototype;proto.matches=proto.matchesSelector||proto.mozMatchesSelector||proto.msMatchesSelector||proto.oMatchesSelector||proto.webkitMatchesSelector}function closest(e,t){for(;e&&e.nodeType!==DOCUMENT_NODE_TYPE;){if("function"==typeof e.matches&&e.matches(t))return e;e=e.parentNode}}module.exports=closest;

},{}],50:[function(require,module,exports){
var closest=require("./closest");function _delegate(e,t,n,l,r){var o=listener.apply(this,arguments);return e.addEventListener(n,o,r),{destroy:function(){e.removeEventListener(n,o,r)}}}function delegate(e,t,n,l,r){return"function"==typeof e.addEventListener?_delegate.apply(null,arguments):"function"==typeof n?_delegate.bind(null,document).apply(null,arguments):("string"==typeof e&&(e=document.querySelectorAll(e)),Array.prototype.map.call(e,function(e){return _delegate(e,t,n,l,r)}))}function listener(e,t,n,l){return function(n){n.delegateTarget=closest(n.target,t),n.delegateTarget&&l.call(e,n)}}module.exports=delegate;

},{"./closest":49}],51:[function(require,module,exports){
module.exports=require("./src/dohtml");

},{"./src/dohtml":52}],52:[function(require,module,exports){
function toArray(e){return null==e?[]:Array.isArray(e)?e:[e]}var dom={create:function(e){var r;if(e=e.trim(),/<.*>/g.test(e)){var n=document.createElement("div");n.innerHTML=e,r=n.firstChild}else r=document.createElement(e);if(!this.isValidNode(r))throw new Error("Element not valid");return r},isValidNode:function(e){return e&&"nodeType"in e},render:function(e,r){if(r=toArray(r),!this.isValidNode(e))throw new Error("Require a valid HTML Element");return r.forEach(function(r){e.appendChild(r)}),e}};module.exports=dom;

},{}],53:[function(require,module,exports){
var Emitter=require("events").EventEmitter;function StateMachine(t){Emitter.call(this),t=t||{},this.states=t.states||["default"],this.currentState=t.defaultState||this.states[0],this.history=[],this.configs={},this.events=[];var e=this;this.on("transition",function(t){e.events.forEach(function(i){i.from===t.from&&i.to===t.to&&e.emit(i.event)})})}StateMachine.prototype=Object.create(Emitter.prototype),StateMachine.prototype.setState=function(t){var e=this.currentState;if(!this._validate(e,t))return!1;this.history.push({state:e,args:this.currentArgs});var i=arguments.length>1?[].slice.call(arguments,1):null;return this.currentArgs=i,this.currentState=t,this._emit(e,t,i),!0},StateMachine.prototype.back=function(){if(!this.history.length)return!1;var t=this.history[this.history.length-1],e=this.currentState,i=t.state,r=t.args;return!!this._validate(e,i)&&(this.history.pop(),this.currentState=i,this.currentArgs=r,this._emit(e,i,r,!0),!0)},StateMachine.prototype.lock=function(){this.locked=!0},StateMachine.prototype.unlock=function(){this.locked=!1},StateMachine.prototype.config=function(t,e){e.to=e.to||{},e.from=e.from||{},this.configs[t]=e},StateMachine.prototype.register=function(t,e){this.events.push({event:t,from:e.from,to:e.to})},StateMachine.prototype._emit=function(t,e,i,r){var n={from:t,to:e,args:i,back:r};this.emit("transition",n),this.emit("leave:"+t,n),this.emit("enter:"+e,n)},StateMachine.prototype._validate=function(t,e){if(!(this.locked||t===e||this.states.indexOf(e)<0)){var i=this.configs[t];if(i)if(i.to.only){if(i.to.only.indexOf(e)<0)return}else if(i.to.exclude&&i.to.exclude.indexOf(e)>-1)return;var r=this.configs[e];if(r)if(r.from.only){if(r.from.only.indexOf(t)<0)return}else if(r.from.exclude&&r.from.exclude.indexOf(t)>-1)return;return!0}},module.exports=StateMachine;

},{"events":54}],54:[function(require,module,exports){
var objectCreate=Object.create||objectCreatePolyfill,objectKeys=Object.keys||objectKeysPolyfill,bind=Function.prototype.bind||functionBindPolyfill;function EventEmitter(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=objectCreate(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}module.exports=EventEmitter,EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._maxListeners=void 0;var hasDefineProperty,defaultMaxListeners=10;try{var o={};Object.defineProperty&&Object.defineProperty(o,"x",{value:0}),hasDefineProperty=0===o.x}catch(e){hasDefineProperty=!1}function $getMaxListeners(e){return void 0===e._maxListeners?EventEmitter.defaultMaxListeners:e._maxListeners}function emitNone(e,t,n){if(t)e.call(n);else for(var r=e.length,i=arrayClone(e,r),s=0;s<r;++s)i[s].call(n)}function emitOne(e,t,n,r){if(t)e.call(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].call(n,r)}function emitTwo(e,t,n,r,i){if(t)e.call(n,r,i);else for(var s=e.length,o=arrayClone(e,s),a=0;a<s;++a)o[a].call(n,r,i)}function emitThree(e,t,n,r,i,s){if(t)e.call(n,r,i,s);else for(var o=e.length,a=arrayClone(e,o),l=0;l<o;++l)a[l].call(n,r,i,s)}function emitMany(e,t,n,r){if(t)e.apply(n,r);else for(var i=e.length,s=arrayClone(e,i),o=0;o<i;++o)s[o].apply(n,r)}function _addListener(e,t,n,r){var i,s,o;if("function"!=typeof n)throw new TypeError('"listener" argument must be a function');if((s=e._events)?(s.newListener&&(e.emit("newListener",t,n.listener?n.listener:n),s=e._events),o=s[t]):(s=e._events=objectCreate(null),e._eventsCount=0),o){if("function"==typeof o?o=s[t]=r?[n,o]:[o,n]:r?o.unshift(n):o.push(n),!o.warned&&(i=$getMaxListeners(e))&&i>0&&o.length>i){o.warned=!0;var a=new Error("Possible EventEmitter memory leak detected. "+o.length+' "'+String(t)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');a.name="MaxListenersExceededWarning",a.emitter=e,a.type=t,a.count=o.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",a.name,a.message)}}else o=s[t]=n,++e._eventsCount;return e}function onceWrapper(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),t=0;t<e.length;++t)e[t]=arguments[t];this.listener.apply(this.target,e)}}function _onceWrap(e,t,n){var r={fired:!1,wrapFn:void 0,target:e,type:t,listener:n},i=bind.call(onceWrapper,r);return i.listener=n,r.wrapFn=i,i}function _listeners(e,t,n){var r=e._events;if(!r)return[];var i=r[t];return i?"function"==typeof i?n?[i.listener||i]:[i]:n?unwrapListeners(i):arrayClone(i,i.length):[]}function listenerCount(e){var t=this._events;if(t){var n=t[e];if("function"==typeof n)return 1;if(n)return n.length}return 0}function spliceOne(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}function arrayClone(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e[r];return n}function unwrapListeners(e){for(var t=new Array(e.length),n=0;n<t.length;++n)t[n]=e[n].listener||e[n];return t}function objectCreatePolyfill(e){var t=function(){};return t.prototype=e,new t}function objectKeysPolyfill(e){var t=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return n}function functionBindPolyfill(e){var t=this;return function(){return t.apply(e,arguments)}}hasDefineProperty?Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');defaultMaxListeners=e}}):EventEmitter.defaultMaxListeners=defaultMaxListeners,EventEmitter.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},EventEmitter.prototype.getMaxListeners=function(){return $getMaxListeners(this)},EventEmitter.prototype.emit=function(e){var t,n,r,i,s,o,a="error"===e;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(a){if(arguments.length>1&&(t=arguments[1]),t instanceof Error)throw t;var l=new Error('Unhandled "error" event. ('+t+")");throw l.context=t,l}if(!(n=o[e]))return!1;var u="function"==typeof n;switch(r=arguments.length){case 1:emitNone(n,u,this);break;case 2:emitOne(n,u,this,arguments[1]);break;case 3:emitTwo(n,u,this,arguments[1],arguments[2]);break;case 4:emitThree(n,u,this,arguments[1],arguments[2],arguments[3]);break;default:for(i=new Array(r-1),s=1;s<r;s++)i[s-1]=arguments[s];emitMany(n,u,this,i)}return!0},EventEmitter.prototype.addListener=function(e,t){return _addListener(this,e,t,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(e,t){return _addListener(this,e,t,!0)},EventEmitter.prototype.once=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.on(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.prependOnceListener=function(e,t){if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,_onceWrap(this,e,t)),this},EventEmitter.prototype.removeListener=function(e,t){var n,r,i,s,o;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if(!(r=this._events))return this;if(!(n=r[e]))return this;if(n===t||n.listener===t)0==--this._eventsCount?this._events=objectCreate(null):(delete r[e],r.removeListener&&this.emit("removeListener",e,n.listener||t));else if("function"!=typeof n){for(i=-1,s=n.length-1;s>=0;s--)if(n[s]===t||n[s].listener===t){o=n[s].listener,i=s;break}if(i<0)return this;0===i?n.shift():spliceOne(n,i),1===n.length&&(r[e]=n[0]),r.removeListener&&this.emit("removeListener",e,o||t)}return this},EventEmitter.prototype.removeAllListeners=function(e){var t,n,r;if(!(n=this._events))return this;if(!n.removeListener)return 0===arguments.length?(this._events=objectCreate(null),this._eventsCount=0):n[e]&&(0==--this._eventsCount?this._events=objectCreate(null):delete n[e]),this;if(0===arguments.length){var i,s=objectKeys(n);for(r=0;r<s.length;++r)"removeListener"!==(i=s[r])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=objectCreate(null),this._eventsCount=0,this}if("function"==typeof(t=n[e]))this.removeListener(e,t);else if(t)for(r=t.length-1;r>=0;r--)this.removeListener(e,t[r]);return this},EventEmitter.prototype.listeners=function(e){return _listeners(this,e,!0)},EventEmitter.prototype.rawListeners=function(e){return _listeners(this,e,!1)},EventEmitter.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):listenerCount.call(e,t)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]};

},{}],55:[function(require,module,exports){
"use strict";module.exports=function(r,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var e,n="boolean"==typeof t.cycles&&t.cycles,i=t.cmp&&(e=t.cmp,function(r){return function(t,n){var i={key:t,value:r[t]},u={key:n,value:r[n]};return e(i,u)}}),u=[];return function r(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);var e,o;if(Array.isArray(t)){for(o="[",e=0;e<t.length;e++)e&&(o+=","),o+=r(t[e])||"null";return o+"]"}if(null===t)return"null";if(-1!==u.indexOf(t)){if(n)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}var f=u.push(t)-1,c=Object.keys(t).sort(i&&i(t));for(o="",e=0;e<c.length;e++){var l=c[e],y=r(t[l]);y&&(o&&(o+=","),o+=JSON.stringify(l)+":"+y)}return u.splice(f,1),"{"+o+"}"}}(r)};

},{}],56:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _handlebarsRuntime=require("./handlebars.runtime"),_handlebarsRuntime2=_interopRequireDefault(_handlebarsRuntime),_handlebarsCompilerAst=require("./handlebars/compiler/ast"),_handlebarsCompilerAst2=_interopRequireDefault(_handlebarsCompilerAst),_handlebarsCompilerBase=require("./handlebars/compiler/base"),_handlebarsCompilerCompiler=require("./handlebars/compiler/compiler"),_handlebarsCompilerJavascriptCompiler=require("./handlebars/compiler/javascript-compiler"),_handlebarsCompilerJavascriptCompiler2=_interopRequireDefault(_handlebarsCompilerJavascriptCompiler),_handlebarsCompilerVisitor=require("./handlebars/compiler/visitor"),_handlebarsCompilerVisitor2=_interopRequireDefault(_handlebarsCompilerVisitor),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict),_create=_handlebarsRuntime2.default.create;function create(){var e=_create();return e.compile=function(r,a){return _handlebarsCompilerCompiler.compile(r,a,e)},e.precompile=function(r,a){return _handlebarsCompilerCompiler.precompile(r,a,e)},e.AST=_handlebarsCompilerAst2.default,e.Compiler=_handlebarsCompilerCompiler.Compiler,e.JavaScriptCompiler=_handlebarsCompilerJavascriptCompiler2.default,e.Parser=_handlebarsCompilerBase.parser,e.parse=_handlebarsCompilerBase.parse,e.parseWithoutProcessing=_handlebarsCompilerBase.parseWithoutProcessing,e}var inst=create();inst.create=create,_handlebarsNoConflict2.default(inst),inst.Visitor=_handlebarsCompilerVisitor2.default,inst.default=inst,exports.default=inst,module.exports=exports.default;

},{"./handlebars.runtime":57,"./handlebars/compiler/ast":59,"./handlebars/compiler/base":60,"./handlebars/compiler/compiler":62,"./handlebars/compiler/javascript-compiler":64,"./handlebars/compiler/visitor":67,"./handlebars/no-conflict":84}],57:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&(r[a]=e[a]);return r.default=e,r}exports.__esModule=!0;var _handlebarsBase=require("./handlebars/base"),base=_interopRequireWildcard(_handlebarsBase),_handlebarsSafeString=require("./handlebars/safe-string"),_handlebarsSafeString2=_interopRequireDefault(_handlebarsSafeString),_handlebarsException=require("./handlebars/exception"),_handlebarsException2=_interopRequireDefault(_handlebarsException),_handlebarsUtils=require("./handlebars/utils"),Utils=_interopRequireWildcard(_handlebarsUtils),_handlebarsRuntime=require("./handlebars/runtime"),runtime=_interopRequireWildcard(_handlebarsRuntime),_handlebarsNoConflict=require("./handlebars/no-conflict"),_handlebarsNoConflict2=_interopRequireDefault(_handlebarsNoConflict);function create(){var e=new base.HandlebarsEnvironment;return Utils.extend(e,base),e.SafeString=_handlebarsSafeString2.default,e.Exception=_handlebarsException2.default,e.Utils=Utils,e.escapeExpression=Utils.escapeExpression,e.VM=runtime,e.template=function(r){return runtime.template(r,e)},e}var inst=create();inst.create=create,_handlebarsNoConflict2.default(inst),inst.default=inst,exports.default=inst,module.exports=exports.default;

},{"./handlebars/base":58,"./handlebars/exception":71,"./handlebars/no-conflict":84,"./handlebars/runtime":85,"./handlebars/safe-string":86,"./handlebars/utils":87}],58:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.HandlebarsEnvironment=HandlebarsEnvironment;var _utils=require("./utils"),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_helpers=require("./helpers"),_decorators=require("./decorators"),_logger=require("./logger"),_logger2=_interopRequireDefault(_logger),_internalProtoAccess=require("./internal/proto-access"),VERSION="4.7.2";exports.VERSION=VERSION;var COMPILER_REVISION=8;exports.COMPILER_REVISION=COMPILER_REVISION;var LAST_COMPATIBLE_COMPILER_REVISION=7;exports.LAST_COMPATIBLE_COMPILER_REVISION=LAST_COMPATIBLE_COMPILER_REVISION;var REVISION_CHANGES={1:"<= 1.0.rc.2",2:"== 1.0.0-rc.3",3:"== 1.0.0-rc.4",4:"== 1.x.x",5:"== 2.0.0-alpha.x",6:">= 2.0.0-beta.1",7:">= 4.0.0 <4.3.0",8:">= 4.3.0"};exports.REVISION_CHANGES=REVISION_CHANGES;var objectType="[object Object]";function HandlebarsEnvironment(e,t,r){this.helpers=e||{},this.partials=t||{},this.decorators=r||{},_helpers.registerDefaultHelpers(this),_decorators.registerDefaultDecorators(this)}HandlebarsEnvironment.prototype={constructor:HandlebarsEnvironment,logger:_logger2.default,log:_logger2.default.log,registerHelper:function(e,t){if(_utils.toString.call(e)===objectType){if(t)throw new _exception2.default("Arg not supported with multiple helpers");_utils.extend(this.helpers,e)}else this.helpers[e]=t},unregisterHelper:function(e){delete this.helpers[e]},registerPartial:function(e,t){if(_utils.toString.call(e)===objectType)_utils.extend(this.partials,e);else{if(void 0===t)throw new _exception2.default('Attempting to register a partial called "'+e+'" as undefined');this.partials[e]=t}},unregisterPartial:function(e){delete this.partials[e]},registerDecorator:function(e,t){if(_utils.toString.call(e)===objectType){if(t)throw new _exception2.default("Arg not supported with multiple decorators");_utils.extend(this.decorators,e)}else this.decorators[e]=t},unregisterDecorator:function(e){delete this.decorators[e]},resetLoggedPropertyAccesses:function(){_internalProtoAccess.resetLoggedProperties()}};var log=_logger2.default.log;exports.log=log,exports.createFrame=_utils.createFrame,exports.logger=_logger2.default;

},{"./decorators":69,"./exception":71,"./helpers":72,"./internal/proto-access":81,"./logger":83,"./utils":87}],59:[function(require,module,exports){
"use strict";exports.__esModule=!0;var AST={helpers:{helperExpression:function(e){return"SubExpression"===e.type||("MustacheStatement"===e.type||"BlockStatement"===e.type)&&!!(e.params&&e.params.length||e.hash)},scopedId:function(e){return/^\.|this\b/.test(e.original)},simpleId:function(e){return 1===e.parts.length&&!AST.helpers.scopedId(e)&&!e.depth}}};exports.default=AST,module.exports=exports.default;

},{}],60:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.parseWithoutProcessing=parseWithoutProcessing,exports.parse=parse;var _parser=require("./parser"),_parser2=_interopRequireDefault(_parser),_whitespaceControl=require("./whitespace-control"),_whitespaceControl2=_interopRequireDefault(_whitespaceControl),_helpers=require("./helpers"),Helpers=_interopRequireWildcard(_helpers),_utils=require("../utils");exports.parser=_parser2.default;var yy={};function parseWithoutProcessing(e,r){return"Program"===e.type?e:(_parser2.default.yy=yy,yy.locInfo=function(e){return new yy.SourceLocation(r&&r.srcName,e)},_parser2.default.parse(e))}function parse(e,r){var t=parseWithoutProcessing(e,r);return new _whitespaceControl2.default(r).accept(t)}_utils.extend(yy,Helpers);

},{"../utils":87,"./helpers":63,"./parser":65,"./whitespace-control":68}],61:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("../utils"),SourceNode=void 0;try{if("function"!=typeof define||!define.amd){var SourceMap=require("source-map");SourceNode=SourceMap.SourceNode}}catch(t){}function castChunk(t,e,r){if(_utils.isArray(t)){for(var n=[],i=0,o=t.length;i<o;i++)n.push(e.wrap(t[i],r));return n}return"boolean"==typeof t||"number"==typeof t?t+"":t}function CodeGen(t){this.srcFile=t,this.source=[]}SourceNode||((SourceNode=function(t,e,r,n){this.src="",n&&this.add(n)}).prototype={add:function(t){_utils.isArray(t)&&(t=t.join("")),this.src+=t},prepend:function(t){_utils.isArray(t)&&(t=t.join("")),this.src=t+this.src},toStringWithSourceMap:function(){return{code:this.toString()}},toString:function(){return this.src}}),CodeGen.prototype={isEmpty:function(){return!this.source.length},prepend:function(t,e){this.source.unshift(this.wrap(t,e))},push:function(t,e){this.source.push(this.wrap(t,e))},merge:function(){var t=this.empty();return this.each(function(e){t.add(["  ",e,"\n"])}),t},each:function(t){for(var e=0,r=this.source.length;e<r;e++)t(this.source[e])},empty:function(){var t=this.currentLocation||{start:{}};return new SourceNode(t.start.line,t.start.column,this.srcFile)},wrap:function(t){var e=arguments.length<=1||void 0===arguments[1]?this.currentLocation||{start:{}}:arguments[1];return t instanceof SourceNode?t:(t=castChunk(t,this,e),new SourceNode(e.start.line,e.start.column,this.srcFile,t))},functionCall:function(t,e,r){return r=this.generateList(r),this.wrap([t,e?"."+e+"(":"(",r,")"])},quotedString:function(t){return'"'+(t+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},objectLiteral:function(t){var e=this,r=[];Object.keys(t).forEach(function(n){var i=castChunk(t[n],e);"undefined"!==i&&r.push([e.quotedString(n),":",i])});var n=this.generateList(r);return n.prepend("{"),n.add("}"),n},generateList:function(t){for(var e=this.empty(),r=0,n=t.length;r<n;r++)r&&e.add(","),e.add(castChunk(t[r],this));return e},generateArray:function(t){var e=this.generateList(t);return e.prepend("["),e.add("]"),e}},exports.default=CodeGen,module.exports=exports.default;

},{"../utils":87,"source-map":157}],62:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.Compiler=Compiler,exports.precompile=precompile,exports.compile=compile;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception),_utils=require("../utils"),_ast=require("./ast"),_ast2=_interopRequireDefault(_ast),slice=[].slice;function Compiler(){}function precompile(e,t,s){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new _exception2.default("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);"data"in(t=t||{})||(t.data=!0),t.compat&&(t.useDepths=!0);var o=s.parse(e,t),i=(new s.Compiler).compile(o,t);return(new s.JavaScriptCompiler).compile(i,t)}function compile(e,t,s){if(void 0===t&&(t={}),null==e||"string"!=typeof e&&"Program"!==e.type)throw new _exception2.default("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in(t=_utils.extend({},t))||(t.data=!0),t.compat&&(t.useDepths=!0);var o=void 0;function i(){var o=s.parse(e,t),i=(new s.Compiler).compile(o,t),r=(new s.JavaScriptCompiler).compile(i,t,void 0,!0);return s.template(r)}function r(e,t){return o||(o=i()),o.call(this,e,t)}return r._setup=function(e){return o||(o=i()),o._setup(e)},r._child=function(e,t,s,r){return o||(o=i()),o._child(e,t,s,r)},r}function argEquals(e,t){if(e===t)return!0;if(_utils.isArray(e)&&_utils.isArray(t)&&e.length===t.length){for(var s=0;s<e.length;s++)if(!argEquals(e[s],t[s]))return!1;return!0}}function transformLiteralToPath(e){if(!e.path.parts){var t=e.path;e.path={type:"PathExpression",data:!1,depth:0,parts:[t.original+""],original:t.original+"",loc:t.loc}}}Compiler.prototype={compiler:Compiler,equals:function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var s=0;s<t;s++){var o=this.opcodes[s],i=e.opcodes[s];if(o.opcode!==i.opcode||!argEquals(o.args,i.args))return!1}t=this.children.length;for(s=0;s<t;s++)if(!this.children[s].equals(e.children[s]))return!1;return!0},guid:0,compile:function(e,t){return this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[],t.knownHelpers=_utils.extend(Object.create(null),{helperMissing:!0,blockHelperMissing:!0,each:!0,if:!0,unless:!0,with:!0,log:!0,lookup:!0},t.knownHelpers),this.accept(e)},compileProgram:function(e){var t=(new this.compiler).compile(e,this.options),s=this.guid++;return this.usePartial=this.usePartial||t.usePartial,this.children[s]=t,this.useDepths=this.useDepths||t.useDepths,s},accept:function(e){if(!this[e.type])throw new _exception2.default("Unknown type: "+e.type,e);this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},Program:function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,s=t.length,o=0;o<s;o++)this.accept(t[o]);return this.options.blockParams.shift(),this.isSimple=1===s,this.blockParams=e.blockParams?e.blockParams.length:0,this},BlockStatement:function(e){transformLiteralToPath(e);var t=e.program,s=e.inverse;t=t&&this.compileProgram(t),s=s&&this.compileProgram(s);var o=this.classifySexpr(e);"helper"===o?this.helperSexpr(e,t,s):"simple"===o?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,s),this.opcode("pushProgram",t),this.opcode("pushProgram",s),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},DecoratorBlock:function(e){var t=e.program&&this.compileProgram(e.program),s=this.setupFullMustacheParams(e,t,void 0),o=e.path;this.useDecorators=!0,this.opcode("registerDecorator",s.length,o.original)},PartialStatement:function(e){this.usePartial=!0;var t=e.program;t&&(t=this.compileProgram(e.program));var s=e.params;if(s.length>1)throw new _exception2.default("Unsupported number of partial arguments: "+s.length,e);s.length||(this.options.explicitPartialContext?this.opcode("pushLiteral","undefined"):s.push({type:"PathExpression",parts:[],depth:0}));var o=e.name.original,i="SubExpression"===e.name.type;i&&this.accept(e.name),this.setupFullMustacheParams(e,t,void 0,!0);var r=e.indent||"";this.options.preventIndent&&r&&(this.opcode("appendContent",r),r=""),this.opcode("invokePartial",i,o,r),this.opcode("append")},PartialBlockStatement:function(e){this.PartialStatement(e)},MustacheStatement:function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},Decorator:function(e){this.DecoratorBlock(e)},ContentStatement:function(e){e.value&&this.opcode("appendContent",e.value)},CommentStatement:function(){},SubExpression:function(e){transformLiteralToPath(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},ambiguousSexpr:function(e,t,s){var o=e.path,i=o.parts[0],r=null!=t||null!=s;this.opcode("getContext",o.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",s),o.strict=!0,this.accept(o),this.opcode("invokeAmbiguous",i,r)},simpleSexpr:function(e){var t=e.path;t.strict=!0,this.accept(t),this.opcode("resolvePossibleLambda")},helperSexpr:function(e,t,s){var o=this.setupFullMustacheParams(e,t,s),i=e.path,r=i.parts[0];if(this.options.knownHelpers[r])this.opcode("invokeKnownHelper",o.length,r);else{if(this.options.knownHelpersOnly)throw new _exception2.default("You specified knownHelpersOnly, but used the unknown helper "+r,e);i.strict=!0,i.falsy=!0,this.accept(i),this.opcode("invokeHelper",o.length,i.original,_ast2.default.helpers.simpleId(i))}},PathExpression:function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],s=_ast2.default.helpers.scopedId(e),o=!e.depth&&!s&&this.blockParamIndex(t);o?this.opcode("lookupBlockParam",o,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts,e.strict)):this.opcode("lookupOnContext",e.parts,e.falsy,e.strict,s):this.opcode("pushContext")},StringLiteral:function(e){this.opcode("pushString",e.value)},NumberLiteral:function(e){this.opcode("pushLiteral",e.value)},BooleanLiteral:function(e){this.opcode("pushLiteral",e.value)},UndefinedLiteral:function(){this.opcode("pushLiteral","undefined")},NullLiteral:function(){this.opcode("pushLiteral","null")},Hash:function(e){var t=e.pairs,s=0,o=t.length;for(this.opcode("pushHash");s<o;s++)this.pushParam(t[s].value);for(;s--;)this.opcode("assignToHash",t[s].key);this.opcode("popHash")},opcode:function(e){this.opcodes.push({opcode:e,args:slice.call(arguments,1),loc:this.sourceNode[0].loc})},addDepth:function(e){e&&(this.useDepths=!0)},classifySexpr:function(e){var t=_ast2.default.helpers.simpleId(e.path),s=t&&!!this.blockParamIndex(e.path.parts[0]),o=!s&&_ast2.default.helpers.helperExpression(e),i=!s&&(o||t);if(i&&!o){var r=e.path.parts[0],a=this.options;a.knownHelpers[r]?o=!0:a.knownHelpersOnly&&(i=!1)}return o?"helper":i?"ambiguous":"simple"},pushParams:function(e){for(var t=0,s=e.length;t<s;t++)this.pushParam(e[t])},pushParam:function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var s=void 0;if(!e.parts||_ast2.default.helpers.scopedId(e)||e.depth||(s=this.blockParamIndex(e.parts[0])),s){var o=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",s,o)}else(t=e.original||t).replace&&(t=t.replace(/^this(?:\.|$)/,"").replace(/^\.\//,"").replace(/^\.$/,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},setupFullMustacheParams:function(e,t,s,o){var i=e.params;return this.pushParams(i),this.opcode("pushProgram",t),this.opcode("pushProgram",s),e.hash?this.accept(e.hash):this.opcode("emptyHash",o),i},blockParamIndex:function(e){for(var t=0,s=this.options.blockParams.length;t<s;t++){var o=this.options.blockParams[t],i=o&&_utils.indexOf(o,e);if(o&&i>=0)return[t,i]}}};

},{"../exception":71,"../utils":87,"./ast":59}],63:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.SourceLocation=SourceLocation,exports.id=id,exports.stripFlags=stripFlags,exports.stripComment=stripComment,exports.preparePath=preparePath,exports.prepareMustache=prepareMustache,exports.prepareRawBlock=prepareRawBlock,exports.prepareBlock=prepareBlock,exports.prepareProgram=prepareProgram,exports.preparePartialBlock=preparePartialBlock;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);function validateClose(e,r){if(r=r.path?r.path.original:r,e.path.original!==r){var t={loc:e.path.loc};throw new _exception2.default(e.path.original+" doesn't match "+r,t)}}function SourceLocation(e,r){this.source=e,this.start={line:r.first_line,column:r.first_column},this.end={line:r.last_line,column:r.last_column}}function id(e){return/^\[.*\]$/.test(e)?e.substring(1,e.length-1):e}function stripFlags(e,r){return{open:"~"===e.charAt(2),close:"~"===r.charAt(r.length-3)}}function stripComment(e){return e.replace(/^\{\{~?!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function preparePath(e,r,t){t=this.locInfo(t);for(var a=e?"@":"",o=[],p=0,n=0,i=r.length;n<i;n++){var s=r[n].part,l=r[n].original!==s;if(a+=(r[n].separator||"")+s,l||".."!==s&&"."!==s&&"this"!==s)o.push(s);else{if(o.length>0)throw new _exception2.default("Invalid path: "+a,{loc:t});".."===s&&p++}}return{type:"PathExpression",data:e,depth:p,parts:o,original:a,loc:t}}function prepareMustache(e,r,t,a,o,p){var n=a.charAt(3)||a.charAt(2),i="{"!==n&&"&"!==n;return{type:/\*/.test(a)?"Decorator":"MustacheStatement",path:e,params:r,hash:t,escaped:i,strip:o,loc:this.locInfo(p)}}function prepareRawBlock(e,r,t,a){validateClose(e,t);var o={type:"Program",body:r,strip:{},loc:a=this.locInfo(a)};return{type:"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:o,openStrip:{},inverseStrip:{},closeStrip:{},loc:a}}function prepareBlock(e,r,t,a,o,p){a&&a.path&&validateClose(e,a);var n=/\*/.test(e.open);r.blockParams=e.blockParams;var i=void 0,s=void 0;if(t){if(n)throw new _exception2.default("Unexpected inverse block on decorator",t);t.chain&&(t.program.body[0].closeStrip=a.strip),s=t.strip,i=t.program}return o&&(o=i,i=r,r=o),{type:n?"DecoratorBlock":"BlockStatement",path:e.path,params:e.params,hash:e.hash,program:r,inverse:i,openStrip:e.strip,inverseStrip:s,closeStrip:a&&a.strip,loc:this.locInfo(p)}}function prepareProgram(e,r){if(!r&&e.length){var t=e[0].loc,a=e[e.length-1].loc;t&&a&&(r={source:t.source,start:{line:t.start.line,column:t.start.column},end:{line:a.end.line,column:a.end.column}})}return{type:"Program",body:e,strip:{},loc:r}}function preparePartialBlock(e,r,t,a){return validateClose(e,t),{type:"PartialBlockStatement",name:e.path,params:e.params,hash:e.hash,program:r,openStrip:e.strip,closeStrip:t&&t.strip,loc:this.locInfo(a)}}

},{"../exception":71}],64:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var _base=require("../base"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception),_utils=require("../utils"),_codeGen=require("./code-gen"),_codeGen2=_interopRequireDefault(_codeGen);function Literal(t){this.value=t}function JavaScriptCompiler(){}function strictLookup(t,s,e,i){var r=s.popStack(),a=0,o=e.length;for(t&&o--;a<o;a++)r=s.nameLookup(r,e[a],i);return t?[s.aliasable("container.strict"),"(",r,", ",s.quotedString(e[a]),", ",JSON.stringify(s.source.currentLocation)," )"]:r}JavaScriptCompiler.prototype={nameLookup:function(t,s){return this.internalNameLookup(t,s)},depthedLookup:function(t){return[this.aliasable("container.lookup"),'(depths, "',t,'")']},compilerInfo:function(){var t=_base.COMPILER_REVISION;return[t,_base.REVISION_CHANGES[t]]},appendToBuffer:function(t,s,e){return _utils.isArray(t)||(t=[t]),t=this.source.wrap(t,s),this.environment.isSimple?["return ",t,";"]:e?["buffer += ",t,";"]:(t.appendToBuffer=!0,t)},initializeBuffer:function(){return this.quotedString("")},internalNameLookup:function(t,s){return this.lookupPropertyFunctionIsUsed=!0,["lookupProperty(",t,",",JSON.stringify(s),")"]},lookupPropertyFunctionIsUsed:!1,compile:function(t,s,e,i){this.environment=t,this.options=s,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!i,this.name=this.environment.name,this.isChild=!!e,this.context=e||{decorators:[],programs:[],environments:[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={list:[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(t,s),this.useDepths=this.useDepths||t.useDepths||t.useDecorators||this.options.compat,this.useBlockParams=this.useBlockParams||t.useBlockParams;var r=t.opcodes,a=void 0,o=void 0,n=void 0,h=void 0;for(n=0,h=r.length;n<h;n++)a=r[n],this.source.currentLocation=a.loc,o=o||a.loc,this[a.opcode].apply(this,a.args);if(this.source.currentLocation=o,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new _exception2.default("Compile completed with content left on stack");this.decorators.isEmpty()?this.decorators=void 0:(this.useDecorators=!0,this.decorators.prepend(["var decorators = container.decorators, ",this.lookupPropertyFunctionVarDeclaration(),";\n"]),this.decorators.push("return fn;"),i?this.decorators=Function.apply(this,["fn","props","container","depth0","data","blockParams","depths",this.decorators.merge()]):(this.decorators.prepend("function(fn, props, container, depth0, data, blockParams, depths) {\n"),this.decorators.push("}\n"),this.decorators=this.decorators.merge()));var c=this.createFunctionContext(i);if(this.isChild)return c;var p={compiler:this.compilerInfo(),main:c};this.decorators&&(p.main_d=this.decorators,p.useDecorators=!0);var u=this.context,l=u.programs,f=u.decorators;for(n=0,h=l.length;n<h;n++)l[n]&&(p[n]=l[n],f[n]&&(p[n+"_d"]=f[n],p.useDecorators=!0));return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),i?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={start:{line:1,column:0}},p=this.objectLiteral(p),s.srcName?(p=p.toStringWithSourceMap({file:s.destName})).map=p.map&&p.map.toString():p=p.toString()),p},preamble:function(){this.lastContext=0,this.source=new _codeGen2.default(this.options.srcName),this.decorators=new _codeGen2.default(this.options.srcName)},createFunctionContext:function(t){var s=this,e="",i=this.stackVars.concat(this.registers.list);i.length>0&&(e+=", "+i.join(", "));var r=0;Object.keys(this.aliases).forEach(function(t){var i=s.aliases[t];i.children&&i.referenceCount>1&&(e+=", alias"+ ++r+"="+t,i.children[0]="alias"+r)}),this.lookupPropertyFunctionIsUsed&&(e+=", "+this.lookupPropertyFunctionVarDeclaration());var a=["container","depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var o=this.mergeSource(e);return t?(a.push(o),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",o,"}"])},mergeSource:function(t){var s=this.environment.isSimple,e=!this.forceBuffer,i=void 0,r=void 0,a=void 0,o=void 0;return this.source.each(function(t){t.appendToBuffer?(a?t.prepend("  + "):a=t,o=t):(a&&(r?a.prepend("buffer += "):i=!0,o.add(";"),a=o=void 0),r=!0,s||(e=!1))}),e?a?(a.prepend("return "),o.add(";")):r||this.source.push('return "";'):(t+=", buffer = "+(i?"":this.initializeBuffer()),a?(a.prepend("return buffer + "),o.add(";")):this.source.push("return buffer;")),t&&this.source.prepend("var "+t.substring(2)+(i?"":";\n")),this.source.merge()},lookupPropertyFunctionVarDeclaration:function(){return"\n      lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    }\n    ".trim()},blockValue:function(t){var s=this.aliasable("container.hooks.blockHelperMissing"),e=[this.contextName(0)];this.setupHelperArgs(t,0,e);var i=this.popStack();e.splice(1,0,i),this.push(this.source.functionCall(s,"call",e))},ambiguousBlockValue:function(){var t=this.aliasable("container.hooks.blockHelperMissing"),s=[this.contextName(0)];this.setupHelperArgs("",0,s,!0),this.flushInline();var e=this.topStack();s.splice(1,0,e),this.pushSource(["if (!",this.lastHelper,") { ",e," = ",this.source.functionCall(t,"call",s),"}"])},appendContent:function(t){this.pendingContent?t=this.pendingContent+t:this.pendingLocation=this.source.currentLocation,this.pendingContent=t},append:function(){if(this.isInline())this.replaceStack(function(t){return[" != null ? ",t,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var t=this.popStack();this.pushSource(["if (",t," != null) { ",this.appendToBuffer(t,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},appendEscaped:function(){this.pushSource(this.appendToBuffer([this.aliasable("container.escapeExpression"),"(",this.popStack(),")"]))},getContext:function(t){this.lastContext=t},pushContext:function(){this.pushStackLiteral(this.contextName(this.lastContext))},lookupOnContext:function(t,s,e,i){var r=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(t[r++])),this.resolvePath("context",t,r,s,e)},lookupBlockParam:function(t,s){this.useBlockParams=!0,this.push(["blockParams[",t[0],"][",t[1],"]"]),this.resolvePath("context",s,1)},lookupData:function(t,s,e){t?this.pushStackLiteral("container.data(data, "+t+")"):this.pushStackLiteral("data"),this.resolvePath("data",s,0,!0,e)},resolvePath:function(t,s,e,i,r){var a=this;if(this.options.strict||this.options.assumeObjects)this.push(strictLookup(this.options.strict&&r,this,s,t));else for(var o=s.length;e<o;e++)this.replaceStack(function(r){var o=a.nameLookup(r,s[e],t);return i?[" && ",o]:[" != null ? ",o," : ",r]})},resolvePossibleLambda:function(){this.push([this.aliasable("container.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},pushStringParam:function(t,s){this.pushContext(),this.pushString(s),"SubExpression"!==s&&("string"==typeof t?this.pushString(t):this.pushStackLiteral(t))},emptyHash:function(t){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(t?"undefined":"{}")},pushHash:function(){this.hash&&this.hashes.push(this.hash),this.hash={values:{},types:[],contexts:[],ids:[]}},popHash:function(){var t=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(t.ids)),this.stringParams&&(this.push(this.objectLiteral(t.contexts)),this.push(this.objectLiteral(t.types))),this.push(this.objectLiteral(t.values))},pushString:function(t){this.pushStackLiteral(this.quotedString(t))},pushLiteral:function(t){this.pushStackLiteral(t)},pushProgram:function(t){null!=t?this.pushStackLiteral(this.programExpression(t)):this.pushStackLiteral(null)},registerDecorator:function(t,s){var e=this.nameLookup("decorators",s,"decorator"),i=this.setupHelperArgs(s,t);this.decorators.push(["fn = ",this.decorators.functionCall(e,"",["fn","props","container",i])," || fn;"])},invokeHelper:function(t,s,e){var i=this.popStack(),r=this.setupHelper(t,s),a=[];e&&a.push(r.name),a.push(i),this.options.strict||a.push(this.aliasable("container.hooks.helperMissing"));var o=["(",this.itemsSeparatedBy(a,"||"),")"],n=this.source.functionCall(o,"call",r.callParams);this.push(n)},itemsSeparatedBy:function(t,s){var e=[];e.push(t[0]);for(var i=1;i<t.length;i++)e.push(s,t[i]);return e},invokeKnownHelper:function(t,s){var e=this.setupHelper(t,s);this.push(this.source.functionCall(e.name,"call",e.callParams))},invokeAmbiguous:function(t,s){this.useRegister("helper");var e=this.popStack();this.emptyHash();var i=this.setupHelper(0,t,s),r=["(","(helper = ",this.lastHelper=this.nameLookup("helpers",t,"helper")," || ",e,")"];this.options.strict||(r[0]="(helper = ",r.push(" != null ? helper : ",this.aliasable("container.hooks.helperMissing"))),this.push(["(",r,i.paramsInit?["),(",i.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",i.callParams)," : helper))"])},invokePartial:function(t,s,e){var i=[],r=this.setupParams(s,1,i);t&&(s=this.popStack(),delete r.name),e&&(r.indent=JSON.stringify(e)),r.helpers="helpers",r.partials="partials",r.decorators="container.decorators",t?i.unshift(s):i.unshift(this.nameLookup("partials",s,"partial")),this.options.compat&&(r.depths="depths"),r=this.objectLiteral(r),i.push(r),this.push(this.source.functionCall("container.invokePartial","",i))},assignToHash:function(t){var s=this.popStack(),e=void 0,i=void 0,r=void 0;this.trackIds&&(r=this.popStack()),this.stringParams&&(i=this.popStack(),e=this.popStack());var a=this.hash;e&&(a.contexts[t]=e),i&&(a.types[t]=i),r&&(a.ids[t]=r),a.values[t]=s},pushId:function(t,s,e){"BlockParam"===t?this.pushStackLiteral("blockParams["+s[0]+"].path["+s[1]+"]"+(e?" + "+JSON.stringify("."+e):"")):"PathExpression"===t?this.pushString(s):"SubExpression"===t?this.pushStackLiteral("true"):this.pushStackLiteral("null")},compiler:JavaScriptCompiler,compileChildren:function(t,s){for(var e=t.children,i=void 0,r=void 0,a=0,o=e.length;a<o;a++){i=e[a],r=new this.compiler;var n=this.matchExistingProgram(i);if(null==n){this.context.programs.push("");var h=this.context.programs.length;i.index=h,i.name="program"+h,this.context.programs[h]=r.compile(i,s,this.context,!this.precompile),this.context.decorators[h]=r.decorators,this.context.environments[h]=i,this.useDepths=this.useDepths||r.useDepths,this.useBlockParams=this.useBlockParams||r.useBlockParams,i.useDepths=this.useDepths,i.useBlockParams=this.useBlockParams}else i.index=n.index,i.name="program"+n.index,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams}},matchExistingProgram:function(t){for(var s=0,e=this.context.environments.length;s<e;s++){var i=this.context.environments[s];if(i&&i.equals(t))return i}},programExpression:function(t){var s=this.environment.children[t],e=[s.index,"data",s.blockParams];return(this.useBlockParams||this.useDepths)&&e.push("blockParams"),this.useDepths&&e.push("depths"),"container.program("+e.join(", ")+")"},useRegister:function(t){this.registers[t]||(this.registers[t]=!0,this.registers.list.push(t))},push:function(t){return t instanceof Literal||(t=this.source.wrap(t)),this.inlineStack.push(t),t},pushStackLiteral:function(t){this.push(new Literal(t))},pushSource:function(t){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),t&&this.source.push(t)},replaceStack:function(t){var s=["("],e=void 0,i=void 0,r=void 0;if(!this.isInline())throw new _exception2.default("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof Literal)s=["(",e=[a.value]],r=!0;else{i=!0;var o=this.incrStack();s=["((",this.push(o)," = ",a,")"],e=this.topStack()}var n=t.call(this,e);r||this.popStack(),i&&this.stackSlot--,this.push(s.concat(n,")"))},incrStack:function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},topStackName:function(){return"stack"+this.stackSlot},flushInline:function(){var t=this.inlineStack;this.inlineStack=[];for(var s=0,e=t.length;s<e;s++){var i=t[s];if(i instanceof Literal)this.compileStack.push(i);else{var r=this.incrStack();this.pushSource([r," = ",i,";"]),this.compileStack.push(r)}}},isInline:function(){return this.inlineStack.length},popStack:function(t){var s=this.isInline(),e=(s?this.inlineStack:this.compileStack).pop();if(!t&&e instanceof Literal)return e.value;if(!s){if(!this.stackSlot)throw new _exception2.default("Invalid stack pop");this.stackSlot--}return e},topStack:function(){var t=this.isInline()?this.inlineStack:this.compileStack,s=t[t.length-1];return s instanceof Literal?s.value:s},contextName:function(t){return this.useDepths&&t?"depths["+t+"]":"depth"+t},quotedString:function(t){return this.source.quotedString(t)},objectLiteral:function(t){return this.source.objectLiteral(t)},aliasable:function(t){var s=this.aliases[t];return s?(s.referenceCount++,s):((s=this.aliases[t]=this.source.wrap(t)).aliasable=!0,s.referenceCount=1,s)},setupHelper:function(t,s,e){var i=[];return{params:i,paramsInit:this.setupHelperArgs(s,t,i,e),name:this.nameLookup("helpers",s,"helper"),callParams:[this.aliasable(this.contextName(0)+" != null ? "+this.contextName(0)+" : (container.nullContext || {})")].concat(i)}},setupParams:function(t,s,e){var i={},r=[],a=[],o=[],n=!e,h=void 0;n&&(e=[]),i.name=this.quotedString(t),i.hash=this.popStack(),this.trackIds&&(i.hashIds=this.popStack()),this.stringParams&&(i.hashTypes=this.popStack(),i.hashContexts=this.popStack());var c=this.popStack(),p=this.popStack();(p||c)&&(i.fn=p||"container.noop",i.inverse=c||"container.noop");for(var u=s;u--;)h=this.popStack(),e[u]=h,this.trackIds&&(o[u]=this.popStack()),this.stringParams&&(a[u]=this.popStack(),r[u]=this.popStack());return n&&(i.args=this.source.generateArray(e)),this.trackIds&&(i.ids=this.source.generateArray(o)),this.stringParams&&(i.types=this.source.generateArray(a),i.contexts=this.source.generateArray(r)),this.options.data&&(i.data="data"),this.useBlockParams&&(i.blockParams="blockParams"),i},setupHelperArgs:function(t,s,e,i){var r=this.setupParams(t,s,e);return r.loc=JSON.stringify(this.source.currentLocation),r=this.objectLiteral(r),i?(this.useRegister("options"),e.push("options"),["options=",r]):e?(e.push(r),""):r}},function(){for(var t="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),s=JavaScriptCompiler.RESERVED_WORDS={},e=0,i=t.length;e<i;e++)s[t[e]]=!0}(),JavaScriptCompiler.isValidJavaScriptVariableName=function(t){return!JavaScriptCompiler.RESERVED_WORDS[t]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(t)},exports.default=JavaScriptCompiler,module.exports=exports.default;

},{"../base":58,"../exception":71,"../utils":87,"./code-gen":61}],65:[function(require,module,exports){
"use strict";exports.__esModule=!0;var handlebars=function(){var t={trace:function(){},yy:{},symbols_:{error:2,root:3,program:4,EOF:5,program_repetition0:6,statement:7,mustache:8,block:9,rawBlock:10,partial:11,partialBlock:12,content:13,COMMENT:14,CONTENT:15,openRawBlock:16,rawBlock_repetition0:17,END_RAW_BLOCK:18,OPEN_RAW_BLOCK:19,helperName:20,openRawBlock_repetition0:21,openRawBlock_option0:22,CLOSE_RAW_BLOCK:23,openBlock:24,block_option0:25,closeBlock:26,openInverse:27,block_option1:28,OPEN_BLOCK:29,openBlock_repetition0:30,openBlock_option0:31,openBlock_option1:32,CLOSE:33,OPEN_INVERSE:34,openInverse_repetition0:35,openInverse_option0:36,openInverse_option1:37,openInverseChain:38,OPEN_INVERSE_CHAIN:39,openInverseChain_repetition0:40,openInverseChain_option0:41,openInverseChain_option1:42,inverseAndProgram:43,INVERSE:44,inverseChain:45,inverseChain_option0:46,OPEN_ENDBLOCK:47,OPEN:48,mustache_repetition0:49,mustache_option0:50,OPEN_UNESCAPED:51,mustache_repetition1:52,mustache_option1:53,CLOSE_UNESCAPED:54,OPEN_PARTIAL:55,partialName:56,partial_repetition0:57,partial_option0:58,openPartialBlock:59,OPEN_PARTIAL_BLOCK:60,openPartialBlock_repetition0:61,openPartialBlock_option0:62,param:63,sexpr:64,OPEN_SEXPR:65,sexpr_repetition0:66,sexpr_option0:67,CLOSE_SEXPR:68,hash:69,hash_repetition_plus0:70,hashSegment:71,ID:72,EQUALS:73,blockParams:74,OPEN_BLOCK_PARAMS:75,blockParams_repetition_plus0:76,CLOSE_BLOCK_PARAMS:77,path:78,dataName:79,STRING:80,NUMBER:81,BOOLEAN:82,UNDEFINED:83,NULL:84,DATA:85,pathSegments:86,SEP:87,$accept:0,$end:1},terminals_:{2:"error",5:"EOF",14:"COMMENT",15:"CONTENT",18:"END_RAW_BLOCK",19:"OPEN_RAW_BLOCK",23:"CLOSE_RAW_BLOCK",29:"OPEN_BLOCK",33:"CLOSE",34:"OPEN_INVERSE",39:"OPEN_INVERSE_CHAIN",44:"INVERSE",47:"OPEN_ENDBLOCK",48:"OPEN",51:"OPEN_UNESCAPED",54:"CLOSE_UNESCAPED",55:"OPEN_PARTIAL",60:"OPEN_PARTIAL_BLOCK",65:"OPEN_SEXPR",68:"CLOSE_SEXPR",72:"ID",73:"EQUALS",75:"OPEN_BLOCK_PARAMS",77:"CLOSE_BLOCK_PARAMS",80:"STRING",81:"NUMBER",82:"BOOLEAN",83:"UNDEFINED",84:"NULL",85:"DATA",87:"SEP"},productions_:[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[13,1],[10,3],[16,5],[9,4],[9,4],[24,6],[27,6],[38,6],[43,2],[45,3],[45,1],[26,3],[8,5],[8,5],[11,5],[12,3],[59,5],[63,1],[63,1],[64,5],[69,1],[71,3],[74,3],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[20,1],[56,1],[56,1],[79,2],[78,1],[86,3],[86,1],[6,0],[6,2],[17,0],[17,2],[21,0],[21,2],[22,0],[22,1],[25,0],[25,1],[28,0],[28,1],[30,0],[30,2],[31,0],[31,1],[32,0],[32,1],[35,0],[35,2],[36,0],[36,1],[37,0],[37,1],[40,0],[40,2],[41,0],[41,1],[42,0],[42,1],[46,0],[46,1],[49,0],[49,2],[50,0],[50,1],[52,0],[52,2],[53,0],[53,1],[57,0],[57,2],[58,0],[58,1],[61,0],[61,2],[62,0],[62,1],[66,0],[66,2],[67,0],[67,1],[70,1],[70,2],[76,1],[76,2]],performAction:function(t,e,s,i,r,n,a){var h=n.length-1;switch(r){case 1:return n[h-1];case 2:this.$=i.prepareProgram(n[h]);break;case 3:case 4:case 5:case 6:case 7:case 8:this.$=n[h];break;case 9:this.$={type:"CommentStatement",value:i.stripComment(n[h]),strip:i.stripFlags(n[h],n[h]),loc:i.locInfo(this._$)};break;case 10:this.$={type:"ContentStatement",original:n[h],value:n[h],loc:i.locInfo(this._$)};break;case 11:this.$=i.prepareRawBlock(n[h-2],n[h-1],n[h],this._$);break;case 12:this.$={path:n[h-3],params:n[h-2],hash:n[h-1]};break;case 13:this.$=i.prepareBlock(n[h-3],n[h-2],n[h-1],n[h],!1,this._$);break;case 14:this.$=i.prepareBlock(n[h-3],n[h-2],n[h-1],n[h],!0,this._$);break;case 15:this.$={open:n[h-5],path:n[h-4],params:n[h-3],hash:n[h-2],blockParams:n[h-1],strip:i.stripFlags(n[h-5],n[h])};break;case 16:case 17:this.$={path:n[h-4],params:n[h-3],hash:n[h-2],blockParams:n[h-1],strip:i.stripFlags(n[h-5],n[h])};break;case 18:this.$={strip:i.stripFlags(n[h-1],n[h-1]),program:n[h]};break;case 19:var o=i.prepareBlock(n[h-2],n[h-1],n[h],n[h],!1,this._$),l=i.prepareProgram([o],n[h-1].loc);l.chained=!0,this.$={strip:n[h-2].strip,program:l,chain:!0};break;case 20:this.$=n[h];break;case 21:this.$={path:n[h-1],strip:i.stripFlags(n[h-2],n[h])};break;case 22:case 23:this.$=i.prepareMustache(n[h-3],n[h-2],n[h-1],n[h-4],i.stripFlags(n[h-4],n[h]),this._$);break;case 24:this.$={type:"PartialStatement",name:n[h-3],params:n[h-2],hash:n[h-1],indent:"",strip:i.stripFlags(n[h-4],n[h]),loc:i.locInfo(this._$)};break;case 25:this.$=i.preparePartialBlock(n[h-2],n[h-1],n[h],this._$);break;case 26:this.$={path:n[h-3],params:n[h-2],hash:n[h-1],strip:i.stripFlags(n[h-4],n[h])};break;case 27:case 28:this.$=n[h];break;case 29:this.$={type:"SubExpression",path:n[h-3],params:n[h-2],hash:n[h-1],loc:i.locInfo(this._$)};break;case 30:this.$={type:"Hash",pairs:n[h],loc:i.locInfo(this._$)};break;case 31:this.$={type:"HashPair",key:i.id(n[h-2]),value:n[h],loc:i.locInfo(this._$)};break;case 32:this.$=i.id(n[h-1]);break;case 33:case 34:this.$=n[h];break;case 35:this.$={type:"StringLiteral",value:n[h],original:n[h],loc:i.locInfo(this._$)};break;case 36:this.$={type:"NumberLiteral",value:Number(n[h]),original:Number(n[h]),loc:i.locInfo(this._$)};break;case 37:this.$={type:"BooleanLiteral",value:"true"===n[h],original:"true"===n[h],loc:i.locInfo(this._$)};break;case 38:this.$={type:"UndefinedLiteral",original:void 0,value:void 0,loc:i.locInfo(this._$)};break;case 39:this.$={type:"NullLiteral",original:null,value:null,loc:i.locInfo(this._$)};break;case 40:case 41:this.$=n[h];break;case 42:this.$=i.preparePath(!0,n[h],this._$);break;case 43:this.$=i.preparePath(!1,n[h],this._$);break;case 44:n[h-2].push({part:i.id(n[h]),original:n[h],separator:n[h-1]}),this.$=n[h-2];break;case 45:this.$=[{part:i.id(n[h]),original:n[h]}];break;case 46:this.$=[];break;case 47:n[h-1].push(n[h]);break;case 48:this.$=[];break;case 49:n[h-1].push(n[h]);break;case 50:this.$=[];break;case 51:n[h-1].push(n[h]);break;case 58:this.$=[];break;case 59:n[h-1].push(n[h]);break;case 64:this.$=[];break;case 65:n[h-1].push(n[h]);break;case 70:this.$=[];break;case 71:n[h-1].push(n[h]);break;case 78:this.$=[];break;case 79:n[h-1].push(n[h]);break;case 82:this.$=[];break;case 83:n[h-1].push(n[h]);break;case 86:this.$=[];break;case 87:n[h-1].push(n[h]);break;case 90:this.$=[];break;case 91:n[h-1].push(n[h]);break;case 94:this.$=[];break;case 95:n[h-1].push(n[h]);break;case 98:this.$=[n[h]];break;case 99:n[h-1].push(n[h]);break;case 100:this.$=[n[h]];break;case 101:n[h-1].push(n[h])}},table:[{3:1,4:2,5:[2,46],6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{1:[3]},{5:[1,4]},{5:[2,2],7:5,8:6,9:7,10:8,11:9,12:10,13:11,14:[1,12],15:[1,20],16:17,19:[1,23],24:15,27:16,29:[1,21],34:[1,22],39:[2,2],44:[2,2],47:[2,2],48:[1,13],51:[1,14],55:[1,18],59:19,60:[1,24]},{1:[2,1]},{5:[2,47],14:[2,47],15:[2,47],19:[2,47],29:[2,47],34:[2,47],39:[2,47],44:[2,47],47:[2,47],48:[2,47],51:[2,47],55:[2,47],60:[2,47]},{5:[2,3],14:[2,3],15:[2,3],19:[2,3],29:[2,3],34:[2,3],39:[2,3],44:[2,3],47:[2,3],48:[2,3],51:[2,3],55:[2,3],60:[2,3]},{5:[2,4],14:[2,4],15:[2,4],19:[2,4],29:[2,4],34:[2,4],39:[2,4],44:[2,4],47:[2,4],48:[2,4],51:[2,4],55:[2,4],60:[2,4]},{5:[2,5],14:[2,5],15:[2,5],19:[2,5],29:[2,5],34:[2,5],39:[2,5],44:[2,5],47:[2,5],48:[2,5],51:[2,5],55:[2,5],60:[2,5]},{5:[2,6],14:[2,6],15:[2,6],19:[2,6],29:[2,6],34:[2,6],39:[2,6],44:[2,6],47:[2,6],48:[2,6],51:[2,6],55:[2,6],60:[2,6]},{5:[2,7],14:[2,7],15:[2,7],19:[2,7],29:[2,7],34:[2,7],39:[2,7],44:[2,7],47:[2,7],48:[2,7],51:[2,7],55:[2,7],60:[2,7]},{5:[2,8],14:[2,8],15:[2,8],19:[2,8],29:[2,8],34:[2,8],39:[2,8],44:[2,8],47:[2,8],48:[2,8],51:[2,8],55:[2,8],60:[2,8]},{5:[2,9],14:[2,9],15:[2,9],19:[2,9],29:[2,9],34:[2,9],39:[2,9],44:[2,9],47:[2,9],48:[2,9],51:[2,9],55:[2,9],60:[2,9]},{20:25,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:36,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:37,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{4:38,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{15:[2,48],17:39,18:[2,48]},{20:41,56:40,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:44,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{5:[2,10],14:[2,10],15:[2,10],18:[2,10],19:[2,10],29:[2,10],34:[2,10],39:[2,10],44:[2,10],47:[2,10],48:[2,10],51:[2,10],55:[2,10],60:[2,10]},{20:45,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:46,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:47,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:41,56:48,64:42,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[2,78],49:49,65:[2,78],72:[2,78],80:[2,78],81:[2,78],82:[2,78],83:[2,78],84:[2,78],85:[2,78]},{23:[2,33],33:[2,33],54:[2,33],65:[2,33],68:[2,33],72:[2,33],75:[2,33],80:[2,33],81:[2,33],82:[2,33],83:[2,33],84:[2,33],85:[2,33]},{23:[2,34],33:[2,34],54:[2,34],65:[2,34],68:[2,34],72:[2,34],75:[2,34],80:[2,34],81:[2,34],82:[2,34],83:[2,34],84:[2,34],85:[2,34]},{23:[2,35],33:[2,35],54:[2,35],65:[2,35],68:[2,35],72:[2,35],75:[2,35],80:[2,35],81:[2,35],82:[2,35],83:[2,35],84:[2,35],85:[2,35]},{23:[2,36],33:[2,36],54:[2,36],65:[2,36],68:[2,36],72:[2,36],75:[2,36],80:[2,36],81:[2,36],82:[2,36],83:[2,36],84:[2,36],85:[2,36]},{23:[2,37],33:[2,37],54:[2,37],65:[2,37],68:[2,37],72:[2,37],75:[2,37],80:[2,37],81:[2,37],82:[2,37],83:[2,37],84:[2,37],85:[2,37]},{23:[2,38],33:[2,38],54:[2,38],65:[2,38],68:[2,38],72:[2,38],75:[2,38],80:[2,38],81:[2,38],82:[2,38],83:[2,38],84:[2,38],85:[2,38]},{23:[2,39],33:[2,39],54:[2,39],65:[2,39],68:[2,39],72:[2,39],75:[2,39],80:[2,39],81:[2,39],82:[2,39],83:[2,39],84:[2,39],85:[2,39]},{23:[2,43],33:[2,43],54:[2,43],65:[2,43],68:[2,43],72:[2,43],75:[2,43],80:[2,43],81:[2,43],82:[2,43],83:[2,43],84:[2,43],85:[2,43],87:[1,50]},{72:[1,35],86:51},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{52:52,54:[2,82],65:[2,82],72:[2,82],80:[2,82],81:[2,82],82:[2,82],83:[2,82],84:[2,82],85:[2,82]},{25:53,38:55,39:[1,57],43:56,44:[1,58],45:54,47:[2,54]},{28:59,43:60,44:[1,58],47:[2,56]},{13:62,15:[1,20],18:[1,61]},{33:[2,86],57:63,65:[2,86],72:[2,86],80:[2,86],81:[2,86],82:[2,86],83:[2,86],84:[2,86],85:[2,86]},{33:[2,40],65:[2,40],72:[2,40],80:[2,40],81:[2,40],82:[2,40],83:[2,40],84:[2,40],85:[2,40]},{33:[2,41],65:[2,41],72:[2,41],80:[2,41],81:[2,41],82:[2,41],83:[2,41],84:[2,41],85:[2,41]},{20:64,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:65,47:[1,66]},{30:67,33:[2,58],65:[2,58],72:[2,58],75:[2,58],80:[2,58],81:[2,58],82:[2,58],83:[2,58],84:[2,58],85:[2,58]},{33:[2,64],35:68,65:[2,64],72:[2,64],75:[2,64],80:[2,64],81:[2,64],82:[2,64],83:[2,64],84:[2,64],85:[2,64]},{21:69,23:[2,50],65:[2,50],72:[2,50],80:[2,50],81:[2,50],82:[2,50],83:[2,50],84:[2,50],85:[2,50]},{33:[2,90],61:70,65:[2,90],72:[2,90],80:[2,90],81:[2,90],82:[2,90],83:[2,90],84:[2,90],85:[2,90]},{20:74,33:[2,80],50:71,63:72,64:75,65:[1,43],69:73,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{72:[1,79]},{23:[2,42],33:[2,42],54:[2,42],65:[2,42],68:[2,42],72:[2,42],75:[2,42],80:[2,42],81:[2,42],82:[2,42],83:[2,42],84:[2,42],85:[2,42],87:[1,50]},{20:74,53:80,54:[2,84],63:81,64:75,65:[1,43],69:82,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{26:83,47:[1,66]},{47:[2,55]},{4:84,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],39:[2,46],44:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{47:[2,20]},{20:85,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{4:86,6:3,14:[2,46],15:[2,46],19:[2,46],29:[2,46],34:[2,46],47:[2,46],48:[2,46],51:[2,46],55:[2,46],60:[2,46]},{26:87,47:[1,66]},{47:[2,57]},{5:[2,11],14:[2,11],15:[2,11],19:[2,11],29:[2,11],34:[2,11],39:[2,11],44:[2,11],47:[2,11],48:[2,11],51:[2,11],55:[2,11],60:[2,11]},{15:[2,49],18:[2,49]},{20:74,33:[2,88],58:88,63:89,64:75,65:[1,43],69:90,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{65:[2,94],66:91,68:[2,94],72:[2,94],80:[2,94],81:[2,94],82:[2,94],83:[2,94],84:[2,94],85:[2,94]},{5:[2,25],14:[2,25],15:[2,25],19:[2,25],29:[2,25],34:[2,25],39:[2,25],44:[2,25],47:[2,25],48:[2,25],51:[2,25],55:[2,25],60:[2,25]},{20:92,72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,31:93,33:[2,60],63:94,64:75,65:[1,43],69:95,70:76,71:77,72:[1,78],75:[2,60],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,66],36:96,63:97,64:75,65:[1,43],69:98,70:76,71:77,72:[1,78],75:[2,66],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,22:99,23:[2,52],63:100,64:75,65:[1,43],69:101,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{20:74,33:[2,92],62:102,63:103,64:75,65:[1,43],69:104,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,105]},{33:[2,79],65:[2,79],72:[2,79],80:[2,79],81:[2,79],82:[2,79],83:[2,79],84:[2,79],85:[2,79]},{33:[2,81]},{23:[2,27],33:[2,27],54:[2,27],65:[2,27],68:[2,27],72:[2,27],75:[2,27],80:[2,27],81:[2,27],82:[2,27],83:[2,27],84:[2,27],85:[2,27]},{23:[2,28],33:[2,28],54:[2,28],65:[2,28],68:[2,28],72:[2,28],75:[2,28],80:[2,28],81:[2,28],82:[2,28],83:[2,28],84:[2,28],85:[2,28]},{23:[2,30],33:[2,30],54:[2,30],68:[2,30],71:106,72:[1,107],75:[2,30]},{23:[2,98],33:[2,98],54:[2,98],68:[2,98],72:[2,98],75:[2,98]},{23:[2,45],33:[2,45],54:[2,45],65:[2,45],68:[2,45],72:[2,45],73:[1,108],75:[2,45],80:[2,45],81:[2,45],82:[2,45],83:[2,45],84:[2,45],85:[2,45],87:[2,45]},{23:[2,44],33:[2,44],54:[2,44],65:[2,44],68:[2,44],72:[2,44],75:[2,44],80:[2,44],81:[2,44],82:[2,44],83:[2,44],84:[2,44],85:[2,44],87:[2,44]},{54:[1,109]},{54:[2,83],65:[2,83],72:[2,83],80:[2,83],81:[2,83],82:[2,83],83:[2,83],84:[2,83],85:[2,83]},{54:[2,85]},{5:[2,13],14:[2,13],15:[2,13],19:[2,13],29:[2,13],34:[2,13],39:[2,13],44:[2,13],47:[2,13],48:[2,13],51:[2,13],55:[2,13],60:[2,13]},{38:55,39:[1,57],43:56,44:[1,58],45:111,46:110,47:[2,76]},{33:[2,70],40:112,65:[2,70],72:[2,70],75:[2,70],80:[2,70],81:[2,70],82:[2,70],83:[2,70],84:[2,70],85:[2,70]},{47:[2,18]},{5:[2,14],14:[2,14],15:[2,14],19:[2,14],29:[2,14],34:[2,14],39:[2,14],44:[2,14],47:[2,14],48:[2,14],51:[2,14],55:[2,14],60:[2,14]},{33:[1,113]},{33:[2,87],65:[2,87],72:[2,87],80:[2,87],81:[2,87],82:[2,87],83:[2,87],84:[2,87],85:[2,87]},{33:[2,89]},{20:74,63:115,64:75,65:[1,43],67:114,68:[2,96],69:116,70:76,71:77,72:[1,78],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{33:[1,117]},{32:118,33:[2,62],74:119,75:[1,120]},{33:[2,59],65:[2,59],72:[2,59],75:[2,59],80:[2,59],81:[2,59],82:[2,59],83:[2,59],84:[2,59],85:[2,59]},{33:[2,61],75:[2,61]},{33:[2,68],37:121,74:122,75:[1,120]},{33:[2,65],65:[2,65],72:[2,65],75:[2,65],80:[2,65],81:[2,65],82:[2,65],83:[2,65],84:[2,65],85:[2,65]},{33:[2,67],75:[2,67]},{23:[1,123]},{23:[2,51],65:[2,51],72:[2,51],80:[2,51],81:[2,51],82:[2,51],83:[2,51],84:[2,51],85:[2,51]},{23:[2,53]},{33:[1,124]},{33:[2,91],65:[2,91],72:[2,91],80:[2,91],81:[2,91],82:[2,91],83:[2,91],84:[2,91],85:[2,91]},{33:[2,93]},{5:[2,22],14:[2,22],15:[2,22],19:[2,22],29:[2,22],34:[2,22],39:[2,22],44:[2,22],47:[2,22],48:[2,22],51:[2,22],55:[2,22],60:[2,22]},{23:[2,99],33:[2,99],54:[2,99],68:[2,99],72:[2,99],75:[2,99]},{73:[1,108]},{20:74,63:125,64:75,65:[1,43],72:[1,35],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,23],14:[2,23],15:[2,23],19:[2,23],29:[2,23],34:[2,23],39:[2,23],44:[2,23],47:[2,23],48:[2,23],51:[2,23],55:[2,23],60:[2,23]},{47:[2,19]},{47:[2,77]},{20:74,33:[2,72],41:126,63:127,64:75,65:[1,43],69:128,70:76,71:77,72:[1,78],75:[2,72],78:26,79:27,80:[1,28],81:[1,29],82:[1,30],83:[1,31],84:[1,32],85:[1,34],86:33},{5:[2,24],14:[2,24],15:[2,24],19:[2,24],29:[2,24],34:[2,24],39:[2,24],44:[2,24],47:[2,24],48:[2,24],51:[2,24],55:[2,24],60:[2,24]},{68:[1,129]},{65:[2,95],68:[2,95],72:[2,95],80:[2,95],81:[2,95],82:[2,95],83:[2,95],84:[2,95],85:[2,95]},{68:[2,97]},{5:[2,21],14:[2,21],15:[2,21],19:[2,21],29:[2,21],34:[2,21],39:[2,21],44:[2,21],47:[2,21],48:[2,21],51:[2,21],55:[2,21],60:[2,21]},{33:[1,130]},{33:[2,63]},{72:[1,132],76:131},{33:[1,133]},{33:[2,69]},{15:[2,12],18:[2,12]},{14:[2,26],15:[2,26],19:[2,26],29:[2,26],34:[2,26],47:[2,26],48:[2,26],51:[2,26],55:[2,26],60:[2,26]},{23:[2,31],33:[2,31],54:[2,31],68:[2,31],72:[2,31],75:[2,31]},{33:[2,74],42:134,74:135,75:[1,120]},{33:[2,71],65:[2,71],72:[2,71],75:[2,71],80:[2,71],81:[2,71],82:[2,71],83:[2,71],84:[2,71],85:[2,71]},{33:[2,73],75:[2,73]},{23:[2,29],33:[2,29],54:[2,29],65:[2,29],68:[2,29],72:[2,29],75:[2,29],80:[2,29],81:[2,29],82:[2,29],83:[2,29],84:[2,29],85:[2,29]},{14:[2,15],15:[2,15],19:[2,15],29:[2,15],34:[2,15],39:[2,15],44:[2,15],47:[2,15],48:[2,15],51:[2,15],55:[2,15],60:[2,15]},{72:[1,137],77:[1,136]},{72:[2,100],77:[2,100]},{14:[2,16],15:[2,16],19:[2,16],29:[2,16],34:[2,16],44:[2,16],47:[2,16],48:[2,16],51:[2,16],55:[2,16],60:[2,16]},{33:[1,138]},{33:[2,75]},{33:[2,32]},{72:[2,101],77:[2,101]},{14:[2,17],15:[2,17],19:[2,17],29:[2,17],34:[2,17],39:[2,17],44:[2,17],47:[2,17],48:[2,17],51:[2,17],55:[2,17],60:[2,17]}],defaultActions:{4:[2,1],54:[2,55],56:[2,20],60:[2,57],73:[2,81],82:[2,85],86:[2,18],90:[2,89],101:[2,53],104:[2,93],110:[2,19],111:[2,77],116:[2,97],119:[2,63],122:[2,69],135:[2,75],136:[2,32]},parseError:function(t,e){throw new Error(t)},parse:function(t){var e=this,s=[0],i=[null],r=[],n=this.table,a="",h=0,o=0,l=0;this.lexer.setInput(t),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var c=this.lexer.yylloc;r.push(c);var p=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,y,_,g,m,k,b,E,f,$,N={};;){if(_=s[s.length-1],this.defaultActions[_]?g=this.defaultActions[_]:(null==u&&($=void 0,"number"!=typeof($=e.lexer.lex()||1)&&($=e.symbols_[$]||$),u=$),g=n[_]&&n[_][u]),void 0===g||!g.length||!g[0]){var x="";if(!l){for(k in f=[],n[_])this.terminals_[k]&&k>2&&f.push("'"+this.terminals_[k]+"'");x=this.lexer.showPosition?"Parse error on line "+(h+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+f.join(", ")+", got '"+(this.terminals_[u]||u)+"'":"Parse error on line "+(h+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(x,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:c,expected:f})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+_+", token: "+u);switch(g[0]){case 1:s.push(u),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),s.push(g[1]),u=null,y?(u=y,y=null):(o=this.lexer.yyleng,a=this.lexer.yytext,h=this.lexer.yylineno,c=this.lexer.yylloc,l>0&&l--);break;case 2:if(b=this.productions_[g[1]][1],N.$=i[i.length-b],N._$={first_line:r[r.length-(b||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(b||1)].first_column,last_column:r[r.length-1].last_column},p&&(N._$.range=[r[r.length-(b||1)].range[0],r[r.length-1].range[1]]),void 0!==(m=this.performAction.call(N,a,o,h,this.yy,g[1],i,r)))return m;b&&(s=s.slice(0,-1*b*2),i=i.slice(0,-1*b),r=r.slice(0,-1*b)),s.push(this.productions_[g[1]][0]),i.push(N.$),r.push(N._$),E=n[s[s.length-2]][s[s.length-1]],s.push(E);break;case 3:return!0}}return!0}},e=function(){var t={EOF:1,parseError:function(t,e){if(!this.yy.parser)throw new Error(t);this.yy.parser.parseError(t,e)},setInput:function(t){return this._input=t,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var t=this._input[0];return this.yytext+=t,this.yyleng++,this.offset++,this.match+=t,this.matched+=t,t.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),t},unput:function(t){var e=t.length,s=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-e-1),this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),s.length-1&&(this.yylineno-=s.length-1);var r=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:s?(s.length===i.length?this.yylloc.first_column:0)+i[i.length-s.length].length-s[0].length:this.yylloc.first_column-e},this.options.ranges&&(this.yylloc.range=[r[0],r[0]+this.yyleng-e]),this},more:function(){return this._more=!0,this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;return t.length<20&&(t+=this._input.substr(0,20-t.length)),(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput(),e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},next:function(){if(this.done)return this.EOF;var t,e,s,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var n=this._currentRules(),a=0;a<n.length&&(!(s=this._input.match(this.rules[n[a]]))||e&&!(s[0].length>e[0].length)||(e=s,i=a,this.options.flex));a++);return e?((r=e[0].match(/(?:\r\n?|\n).*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],t=this.performAction.call(this,this.yy,this,n[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),t||void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var t=this.next();return void 0!==t?t:this.lex()},begin:function(t){this.conditionStack.push(t)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(t){this.begin(t)},options:{},performAction:function(t,e,s,i){function r(t,s){return e.yytext=e.yytext.substring(t,e.yyleng-s+t)}switch(s){case 0:if("\\\\"===e.yytext.slice(-2)?(r(0,1),this.begin("mu")):"\\"===e.yytext.slice(-1)?(r(0,1),this.begin("emu")):this.begin("mu"),e.yytext)return 15;break;case 1:return 15;case 2:return this.popState(),15;case 3:return this.begin("raw"),15;case 4:return this.popState(),"raw"===this.conditionStack[this.conditionStack.length-1]?15:(r(5,9),"END_RAW_BLOCK");case 5:return 15;case 6:return this.popState(),14;case 7:return 65;case 8:return 68;case 9:return 19;case 10:return this.popState(),this.begin("raw"),23;case 11:return 55;case 12:return 60;case 13:return 29;case 14:return 47;case 15:case 16:return this.popState(),44;case 17:return 34;case 18:return 39;case 19:return 51;case 20:return 48;case 21:this.unput(e.yytext),this.popState(),this.begin("com");break;case 22:return this.popState(),14;case 23:return 48;case 24:return 73;case 25:case 26:return 72;case 27:return 87;case 28:break;case 29:return this.popState(),54;case 30:return this.popState(),33;case 31:return e.yytext=r(1,2).replace(/\\"/g,'"'),80;case 32:return e.yytext=r(1,2).replace(/\\'/g,"'"),80;case 33:return 85;case 34:case 35:return 82;case 36:return 83;case 37:return 84;case 38:return 81;case 39:return 75;case 40:return 77;case 41:return 72;case 42:return e.yytext=e.yytext.replace(/\\([\\\]])/g,"$1"),72;case 43:return"INVALID";case 44:return 5}},rules:[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{(?=[^\/]))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]+?(?=(\{\{\{\{)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#>)/,/^(?:\{\{(~)?#\*?)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?\*?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[(\\\]|[^\]])*\])/,/^(?:.)/,/^(?:$)/],conditions:{mu:{rules:[7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44],inclusive:!1},emu:{rules:[2],inclusive:!1},com:{rules:[6],inclusive:!1},raw:{rules:[3,4,5],inclusive:!1},INITIAL:{rules:[0,1,44],inclusive:!0}}};return t}();function s(){this.yy={}}return t.lexer=e,s.prototype=t,t.Parser=s,new s}();exports.default=handlebars,module.exports=exports.default;

},{}],66:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0,exports.print=print,exports.PrintVisitor=PrintVisitor;var _visitor=require("./visitor"),_visitor2=_interopRequireDefault(_visitor);function print(t){return(new PrintVisitor).accept(t)}function PrintVisitor(){this.padding=0}PrintVisitor.prototype=new _visitor2.default,PrintVisitor.prototype.pad=function(t){for(var i="",r=0,n=this.padding;r<n;r++)i+="  ";return i+=t+"\n"},PrintVisitor.prototype.Program=function(t){var i="",r=t.body,n=void 0,o=void 0;if(t.blockParams){var e="BLOCK PARAMS: [";for(n=0,o=t.blockParams.length;n<o;n++)e+=" "+t.blockParams[n];e+=" ]",i+=this.pad(e)}for(n=0,o=r.length;n<o;n++)i+=this.accept(r[n]);return this.padding--,i},PrintVisitor.prototype.MustacheStatement=function(t){return this.pad("{{ "+this.SubExpression(t)+" }}")},PrintVisitor.prototype.Decorator=function(t){return this.pad("{{ DIRECTIVE "+this.SubExpression(t)+" }}")},PrintVisitor.prototype.BlockStatement=PrintVisitor.prototype.DecoratorBlock=function(t){var i="";return i+=this.pad(("DecoratorBlock"===t.type?"DIRECTIVE ":"")+"BLOCK:"),this.padding++,i+=this.pad(this.SubExpression(t)),t.program&&(i+=this.pad("PROGRAM:"),this.padding++,i+=this.accept(t.program),this.padding--),t.inverse&&(t.program&&this.padding++,i+=this.pad("{{^}}"),this.padding++,i+=this.accept(t.inverse),this.padding--,t.program&&this.padding--),this.padding--,i},PrintVisitor.prototype.PartialStatement=function(t){var i="PARTIAL:"+t.name.original;return t.params[0]&&(i+=" "+this.accept(t.params[0])),t.hash&&(i+=" "+this.accept(t.hash)),this.pad("{{> "+i+" }}")},PrintVisitor.prototype.PartialBlockStatement=function(t){var i="PARTIAL BLOCK:"+t.name.original;return t.params[0]&&(i+=" "+this.accept(t.params[0])),t.hash&&(i+=" "+this.accept(t.hash)),i+=" "+this.pad("PROGRAM:"),this.padding++,i+=this.accept(t.program),this.padding--,this.pad("{{> "+i+" }}")},PrintVisitor.prototype.ContentStatement=function(t){return this.pad("CONTENT[ '"+t.value+"' ]")},PrintVisitor.prototype.CommentStatement=function(t){return this.pad("{{! '"+t.value+"' }}")},PrintVisitor.prototype.SubExpression=function(t){for(var i,r=t.params,n=[],o=0,e=r.length;o<e;o++)n.push(this.accept(r[o]));return r="["+n.join(", ")+"]",i=t.hash?" "+this.accept(t.hash):"",this.accept(t.path)+" "+r+i},PrintVisitor.prototype.PathExpression=function(t){var i=t.parts.join("/");return(t.data?"@":"")+"PATH:"+i},PrintVisitor.prototype.StringLiteral=function(t){return'"'+t.value+'"'},PrintVisitor.prototype.NumberLiteral=function(t){return"NUMBER{"+t.value+"}"},PrintVisitor.prototype.BooleanLiteral=function(t){return"BOOLEAN{"+t.value+"}"},PrintVisitor.prototype.UndefinedLiteral=function(){return"UNDEFINED"},PrintVisitor.prototype.NullLiteral=function(){return"NULL"},PrintVisitor.prototype.Hash=function(t){for(var i=t.pairs,r=[],n=0,o=i.length;n<o;n++)r.push(this.accept(i[n]));return"HASH{"+r.join(", ")+"}"},PrintVisitor.prototype.HashPair=function(t){return t.key+"="+this.accept(t.value)};

},{"./visitor":67}],67:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);function Visitor(){this.parents=[]}function visitSubExpression(t){this.acceptRequired(t,"path"),this.acceptArray(t.params),this.acceptKey(t,"hash")}function visitBlock(t){visitSubExpression.call(this,t),this.acceptKey(t,"program"),this.acceptKey(t,"inverse")}function visitPartial(t){this.acceptRequired(t,"name"),this.acceptArray(t.params),this.acceptKey(t,"hash")}Visitor.prototype={constructor:Visitor,mutating:!1,acceptKey:function(t,e){var i=this.accept(t[e]);if(this.mutating){if(i&&!Visitor.prototype[i.type])throw new _exception2.default('Unexpected node type "'+i.type+'" found when accepting '+e+" on "+t.type);t[e]=i}},acceptRequired:function(t,e){if(this.acceptKey(t,e),!t[e])throw new _exception2.default(t.type+" requires "+e)},acceptArray:function(t){for(var e=0,i=t.length;e<i;e++)this.acceptKey(t,e),t[e]||(t.splice(e,1),e--,i--)},accept:function(t){if(t){if(!this[t.type])throw new _exception2.default("Unknown type: "+t.type,t);this.current&&this.parents.unshift(this.current),this.current=t;var e=this[t.type](t);return this.current=this.parents.shift(),!this.mutating||e?e:!1!==e?t:void 0}},Program:function(t){this.acceptArray(t.body)},MustacheStatement:visitSubExpression,Decorator:visitSubExpression,BlockStatement:visitBlock,DecoratorBlock:visitBlock,PartialStatement:visitPartial,PartialBlockStatement:function(t){visitPartial.call(this,t),this.acceptKey(t,"program")},ContentStatement:function(){},CommentStatement:function(){},SubExpression:visitSubExpression,PathExpression:function(){},StringLiteral:function(){},NumberLiteral:function(){},BooleanLiteral:function(){},UndefinedLiteral:function(){},NullLiteral:function(){},Hash:function(t){this.acceptArray(t.pairs)},HashPair:function(t){this.acceptRequired(t,"value")}},exports.default=Visitor,module.exports=exports.default;

},{"../exception":71}],68:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var _visitor=require("./visitor"),_visitor2=_interopRequireDefault(_visitor);function WhitespaceControl(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];this.options=t}function isPrevWhitespace(t,e,o){void 0===e&&(e=t.length);var i=t[e-1],n=t[e-2];return i?"ContentStatement"===i.type?(n||!o?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(i.original):void 0:o}function isNextWhitespace(t,e,o){void 0===e&&(e=-1);var i=t[e+1],n=t[e+2];return i?"ContentStatement"===i.type?(n||!o?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(i.original):void 0:o}function omitRight(t,e,o){var i=t[null==e?0:e+1];if(i&&"ContentStatement"===i.type&&(o||!i.rightStripped)){var n=i.value;i.value=i.value.replace(o?/^\s+/:/^[ \t]*\r?\n?/,""),i.rightStripped=i.value!==n}}function omitLeft(t,e,o){var i=t[null==e?t.length-1:e-1];if(i&&"ContentStatement"===i.type&&(o||!i.leftStripped)){var n=i.value;return i.value=i.value.replace(o?/\s+$/:/[ \t]+$/,""),i.leftStripped=i.value!==n,i.leftStripped}}WhitespaceControl.prototype=new _visitor2.default,WhitespaceControl.prototype.Program=function(t){var e=!this.options.ignoreStandalone,o=!this.isRootSeen;this.isRootSeen=!0;for(var i=t.body,n=0,r=i.length;n<r;n++){var a=i[n],p=this.accept(a);if(p){var l=isPrevWhitespace(i,n,o),s=isNextWhitespace(i,n,o),c=p.openStandalone&&l,u=p.closeStandalone&&s,d=p.inlineStandalone&&l&&s;p.close&&omitRight(i,n,!0),p.open&&omitLeft(i,n,!0),e&&d&&(omitRight(i,n),omitLeft(i,n)&&"PartialStatement"===a.type&&(a.indent=/([ \t]+$)/.exec(i[n-1].original)[1])),e&&c&&(omitRight((a.program||a.inverse).body),omitLeft(i,n)),e&&u&&(omitRight(i,n),omitLeft((a.inverse||a.program).body))}}return t},WhitespaceControl.prototype.BlockStatement=WhitespaceControl.prototype.DecoratorBlock=WhitespaceControl.prototype.PartialBlockStatement=function(t){this.accept(t.program),this.accept(t.inverse);var e=t.program||t.inverse,o=t.program&&t.inverse,i=o,n=o;if(o&&o.chained)for(i=o.body[0].program;n.chained;)n=n.body[n.body.length-1].program;var r={open:t.openStrip.open,close:t.closeStrip.close,openStandalone:isNextWhitespace(e.body),closeStandalone:isPrevWhitespace((i||e).body)};if(t.openStrip.close&&omitRight(e.body,null,!0),o){var a=t.inverseStrip;a.open&&omitLeft(e.body,null,!0),a.close&&omitRight(i.body,null,!0),t.closeStrip.open&&omitLeft(n.body,null,!0),!this.options.ignoreStandalone&&isPrevWhitespace(e.body)&&isNextWhitespace(i.body)&&(omitLeft(e.body),omitRight(i.body))}else t.closeStrip.open&&omitLeft(e.body,null,!0);return r},WhitespaceControl.prototype.Decorator=WhitespaceControl.prototype.MustacheStatement=function(t){return t.strip},WhitespaceControl.prototype.PartialStatement=WhitespaceControl.prototype.CommentStatement=function(t){var e=t.strip||{};return{inlineStandalone:!0,open:e.open,close:e.close}},exports.default=WhitespaceControl,module.exports=exports.default;

},{"./visitor":67}],69:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.registerDefaultDecorators=registerDefaultDecorators;var _decoratorsInline=require("./decorators/inline"),_decoratorsInline2=_interopRequireDefault(_decoratorsInline);function registerDefaultDecorators(e){_decoratorsInline2.default(e)}

},{"./decorators/inline":70}],70:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("../utils");exports.default=function(r){r.registerDecorator("inline",function(r,t,a,e){var s=r;return t.partials||(t.partials={},s=function(e,s){var i=a.partials;a.partials=_utils.extend({},i,t.partials);var l=r(e,s);return a.partials=i,l}),t.partials[e.args[0]]=e.fn,s})},module.exports=exports.default;

},{"../utils":87}],71:[function(require,module,exports){
"use strict";exports.__esModule=!0;var errorProps=["description","fileName","lineNumber","endLineNumber","message","name","number","stack"];function Exception(e,r){var t=r&&r.loc,o=void 0,n=void 0,i=void 0,c=void 0;t&&(o=t.start.line,n=t.end.line,i=t.start.column,c=t.end.column,e+=" - "+o+":"+i);for(var s=Error.prototype.constructor.call(this,e),u=0;u<errorProps.length;u++)this[errorProps[u]]=s[errorProps[u]];Error.captureStackTrace&&Error.captureStackTrace(this,Exception);try{t&&(this.lineNumber=o,this.endLineNumber=n,Object.defineProperty?(Object.defineProperty(this,"column",{value:i,enumerable:!0}),Object.defineProperty(this,"endColumn",{value:c,enumerable:!0})):(this.column=i,this.endColumn=c))}catch(e){}}Exception.prototype=new Error,exports.default=Exception,module.exports=exports.default;

},{}],72:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0,exports.registerDefaultHelpers=registerDefaultHelpers,exports.moveHelperToHooks=moveHelperToHooks;var _helpersBlockHelperMissing=require("./helpers/block-helper-missing"),_helpersBlockHelperMissing2=_interopRequireDefault(_helpersBlockHelperMissing),_helpersEach=require("./helpers/each"),_helpersEach2=_interopRequireDefault(_helpersEach),_helpersHelperMissing=require("./helpers/helper-missing"),_helpersHelperMissing2=_interopRequireDefault(_helpersHelperMissing),_helpersIf=require("./helpers/if"),_helpersIf2=_interopRequireDefault(_helpersIf),_helpersLog=require("./helpers/log"),_helpersLog2=_interopRequireDefault(_helpersLog),_helpersLookup=require("./helpers/lookup"),_helpersLookup2=_interopRequireDefault(_helpersLookup),_helpersWith=require("./helpers/with"),_helpersWith2=_interopRequireDefault(_helpersWith);function registerDefaultHelpers(e){_helpersBlockHelperMissing2.default(e),_helpersEach2.default(e),_helpersHelperMissing2.default(e),_helpersIf2.default(e),_helpersLog2.default(e),_helpersLookup2.default(e),_helpersWith2.default(e)}function moveHelperToHooks(e,r,l){e.helpers[r]&&(e.hooks[r]=e.helpers[r],l||delete e.helpers[r])}

},{"./helpers/block-helper-missing":73,"./helpers/each":74,"./helpers/helper-missing":75,"./helpers/if":76,"./helpers/log":77,"./helpers/lookup":78,"./helpers/with":79}],73:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("../utils");exports.default=function(t){t.registerHelper("blockHelperMissing",function(e,r){var i=r.inverse,s=r.fn;if(!0===e)return s(this);if(!1===e||null==e)return i(this);if(_utils.isArray(e))return e.length>0?(r.ids&&(r.ids=[r.name]),t.helpers.each(e,r)):i(this);if(r.data&&r.ids){var a=_utils.createFrame(r.data);a.contextPath=_utils.appendContextPath(r.data.contextPath,r.name),r={data:a}}return s(e,r)})},module.exports=exports.default;

},{"../utils":87}],74:[function(require,module,exports){
(function (global){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _utils=require("../utils"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports.default=function(e){e.registerHelper("each",function(e,t){if(!t)throw new _exception2.default("Must pass iterator to #each");var i,o=t.fn,a=t.inverse,r=0,l="",n=void 0,s=void 0;function u(t,i,a){n&&(n.key=t,n.index=i,n.first=0===i,n.last=!!a,s&&(n.contextPath=s+t)),l+=o(e[t],{data:n,blockParams:_utils.blockParams([e[t],t],[s+t,null])})}if(t.data&&t.ids&&(s=_utils.appendContextPath(t.data.contextPath,t.ids[0])+"."),_utils.isFunction(e)&&(e=e.call(this)),t.data&&(n=_utils.createFrame(t.data)),e&&"object"==typeof e)if(_utils.isArray(e))for(var c=e.length;r<c;r++)r in e&&u(r,r,r===e.length-1);else if(global.Symbol&&e[global.Symbol.iterator]){for(var d=[],f=e[global.Symbol.iterator](),p=f.next();!p.done;p=f.next())d.push(p.value);for(c=(e=d).length;r<c;r++)u(r,r,r===e.length-1)}else i=void 0,Object.keys(e).forEach(function(e){void 0!==i&&u(i,r-1),i=e,r++}),void 0!==i&&u(i,r-1,!0);return 0===r&&(l=a(this)),l})},module.exports=exports.default;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../exception":71,"../utils":87}],75:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports.default=function(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new _exception2.default('Missing helper: "'+arguments[arguments.length-1].name+'"')})},module.exports=exports.default;

},{"../exception":71}],76:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.__esModule=!0;var _utils=require("../utils"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports.default=function(e){e.registerHelper("if",function(e,t){if(2!=arguments.length)throw new _exception2.default("#if requires exactly one argument");return _utils.isFunction(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||_utils.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){if(2!=arguments.length)throw new _exception2.default("#unless requires exactly one argument");return e.helpers.if.call(this,t,{fn:i.inverse,inverse:i.fn,hash:i.hash})})},module.exports=exports.default;

},{"../exception":71,"../utils":87}],77:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=function(e){e.registerHelper("log",function(){for(var l=[void 0],t=arguments[arguments.length-1],a=0;a<arguments.length-1;a++)l.push(arguments[a]);var o=1;null!=t.hash.level?o=t.hash.level:t.data&&null!=t.data.level&&(o=t.data.level),l[0]=o,e.log.apply(e,l)})},module.exports=exports.default;

},{}],78:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.default=function(e){e.registerHelper("lookup",function(e,o,t){return e?t.lookupProperty(e,o):e})},module.exports=exports.default;

},{}],79:[function(require,module,exports){
"use strict";function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.__esModule=!0;var _utils=require("../utils"),_exception=require("../exception"),_exception2=_interopRequireDefault(_exception);exports.default=function(t){t.registerHelper("with",function(t,e){if(2!=arguments.length)throw new _exception2.default("#with requires exactly one argument");_utils.isFunction(t)&&(t=t.call(this));var i=e.fn;if(_utils.isEmpty(t))return e.inverse(this);var r=e.data;return e.data&&e.ids&&((r=_utils.createFrame(e.data)).contextPath=_utils.appendContextPath(e.data.contextPath,e.ids[0])),i(t,{data:r,blockParams:_utils.blockParams([t],[r&&r.contextPath])})})},module.exports=exports.default;

},{"../exception":71,"../utils":87}],80:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.createNewLookupObject=createNewLookupObject;var _utils=require("../utils");function createNewLookupObject(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return _utils.extend.apply(void 0,[Object.create(null)].concat(t))}

},{"../utils":87}],81:[function(require,module,exports){
"use strict";function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t.default=e,t}exports.__esModule=!0,exports.createProtoAccessControl=createProtoAccessControl,exports.resultIsAllowed=resultIsAllowed,exports.resetLoggedProperties=resetLoggedProperties;var _createNewLookupObject=require("./create-new-lookup-object"),_logger=require("../logger"),logger=_interopRequireWildcard(_logger),loggedProperties=Object.create(null);function createProtoAccessControl(e){var t=Object.create(null);t.constructor=!1,t.__defineGetter__=!1,t.__defineSetter__=!1,t.__lookupGetter__=!1;var o=Object.create(null);return o.__proto__=!1,{properties:{whitelist:_createNewLookupObject.createNewLookupObject(o,e.allowedProtoProperties),defaultValue:e.allowProtoPropertiesByDefault},methods:{whitelist:_createNewLookupObject.createNewLookupObject(t,e.allowedProtoMethods),defaultValue:e.allowProtoMethodsByDefault}}}function resultIsAllowed(e,t,o){return checkWhiteList("function"==typeof e?t.methods:t.properties,o)}function checkWhiteList(e,t){return void 0!==e.whitelist[t]?!0===e.whitelist[t]:void 0!==e.defaultValue?e.defaultValue:(logUnexpecedPropertyAccessOnce(t),!1)}function logUnexpecedPropertyAccessOnce(e){!0!==loggedProperties[e]&&(loggedProperties[e]=!0,logger.log("error",'Handlebars: Access has been denied to resolve the property "'+e+'" because it is not an "own property" of its parent.\nYou can add a runtime option to disable the check or this warning:\nSee https://handlebarsjs.com/api-reference/runtime-options.html#options-to-control-prototype-access for details'))}function resetLoggedProperties(){Object.keys(loggedProperties).forEach(function(e){delete loggedProperties[e]})}

},{"../logger":83,"./create-new-lookup-object":80}],82:[function(require,module,exports){
"use strict";function wrapHelper(e,r){if("function"!=typeof e)return e;return function(){var t=arguments[arguments.length-1];return arguments[arguments.length-1]=r(t),e.apply(this,arguments)}}exports.__esModule=!0,exports.wrapHelper=wrapHelper;

},{}],83:[function(require,module,exports){
"use strict";exports.__esModule=!0;var _utils=require("./utils"),logger={methodMap:["debug","info","warn","error"],level:"info",lookupLevel:function(e){if("string"==typeof e){var o=_utils.indexOf(logger.methodMap,e.toLowerCase());e=o>=0?o:parseInt(e,10)}return e},log:function(e){if(e=logger.lookupLevel(e),"undefined"!=typeof console&&logger.lookupLevel(logger.level)<=e){var o=logger.methodMap[e];console[o]||(o="log");for(var l=arguments.length,r=Array(l>1?l-1:0),t=1;t<l;t++)r[t-1]=arguments[t];console[o].apply(console,r)}}};exports.default=logger,module.exports=exports.default;

},{"./utils":87}],84:[function(require,module,exports){
(function (global){
"use strict";exports.__esModule=!0,exports.default=function(e){var o="undefined"!=typeof global?global:window,n=o.Handlebars;e.noConflict=function(){return o.Handlebars===e&&(o.Handlebars=n),e}},module.exports=exports.default;

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{}],85:[function(require,module,exports){
"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _interopRequireWildcard(e){if(e&&e.__esModule)return e;var r={};if(null!=e)for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&(r[t]=e[t]);return r.default=e,r}exports.__esModule=!0,exports.checkRevision=checkRevision,exports.template=template,exports.wrapProgram=wrapProgram,exports.resolvePartial=resolvePartial,exports.invokePartial=invokePartial,exports.noop=noop;var _utils=require("./utils"),Utils=_interopRequireWildcard(_utils),_exception=require("./exception"),_exception2=_interopRequireDefault(_exception),_base=require("./base"),_helpers=require("./helpers"),_internalWrapHelper=require("./internal/wrapHelper"),_internalProtoAccess=require("./internal/proto-access");function checkRevision(e){var r=e&&e[0]||1,t=_base.COMPILER_REVISION;if(!(r>=_base.LAST_COMPATIBLE_COMPILER_REVISION&&r<=_base.COMPILER_REVISION)){if(r<_base.LAST_COMPATIBLE_COMPILER_REVISION){var o=_base.REVISION_CHANGES[t],a=_base.REVISION_CHANGES[r];throw new _exception2.default("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+o+") or downgrade your runtime to an older version ("+a+").")}throw new _exception2.default("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function template(e,r){if(!r)throw new _exception2.default("No environment passed to template");if(!e||!e.main)throw new _exception2.default("Unknown template object: "+typeof e);e.main.decorator=e.main_d,r.VM.checkRevision(e.compiler);var t=e.compiler&&7===e.compiler[0];var o={strict:function(e,r,t){if(!(e&&r in e))throw new _exception2.default('"'+r+'" not defined in '+e,{loc:t});return e[r]},lookupProperty:function(e,r){var t=e[r];return null==t?t:Object.prototype.hasOwnProperty.call(e,r)?t:_internalProtoAccess.resultIsAllowed(t,o.protoAccessControl,r)?t:void 0},lookup:function(e,r){for(var t=e.length,a=0;a<t;a++){if(null!=(e[a]&&o.lookupProperty(e[a],r)))return e[a][r]}},lambda:function(e,r){return"function"==typeof e?e.call(r):e},escapeExpression:Utils.escapeExpression,invokePartial:function(t,o,a){a.hash&&(o=Utils.extend({},o,a.hash),a.ids&&(a.ids[0]=!0)),t=r.VM.resolvePartial.call(this,t,o,a);var n=Utils.extend({},a,{hooks:this.hooks,protoAccessControl:this.protoAccessControl}),i=r.VM.invokePartial.call(this,t,o,n);if(null==i&&r.compile&&(a.partials[a.name]=r.compile(t,e.compilerOptions,r),i=a.partials[a.name](o,n)),null!=i){if(a.indent){for(var s=i.split("\n"),l=0,p=s.length;l<p&&(s[l]||l+1!==p);l++)s[l]=a.indent+s[l];i=s.join("\n")}return i}throw new _exception2.default("The partial "+a.name+" could not be compiled when running in runtime-only mode")},fn:function(r){var t=e[r];return t.decorator=e[r+"_d"],t},programs:[],program:function(e,r,t,o,a){var n=this.programs[e],i=this.fn(e);return r||a||o||t?n=wrapProgram(this,e,i,r,t,o,a):n||(n=this.programs[e]=wrapProgram(this,e,i)),n},data:function(e,r){for(;e&&r--;)e=e._parent;return e},mergeIfNeeded:function(e,r){var t=e||r;return e&&r&&e!==r&&(t=Utils.extend({},r,e)),t},nullContext:Object.seal({}),noop:r.VM.noop,compilerInfo:e.compiler};function a(r){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=t.data;a._setup(t),!t.partial&&e.useData&&(n=initData(r,n));var i=void 0,s=e.useBlockParams?[]:void 0;function l(r){return""+e.main(o,r,o.helpers,o.partials,n,s,i)}return e.useDepths&&(i=t.depths?r!=t.depths[0]?[r].concat(t.depths):t.depths:[r]),(l=executeDecorators(e.main,l,o,t.depths||[],n,s))(r,t)}return a.isTop=!0,a._setup=function(a){if(a.partial)o.protoAccessControl=a.protoAccessControl,o.helpers=a.helpers,o.partials=a.partials,o.decorators=a.decorators,o.hooks=a.hooks;else{var n=Utils.extend({},r.helpers,a.helpers);wrapHelpersToPassLookupProperty(n,o),o.helpers=n,e.usePartial&&(o.partials=o.mergeIfNeeded(a.partials,r.partials)),(e.usePartial||e.useDecorators)&&(o.decorators=Utils.extend({},r.decorators,a.decorators)),o.hooks={},o.protoAccessControl=_internalProtoAccess.createProtoAccessControl(a);var i=a.allowCallsToHelperMissing||t;_helpers.moveHelperToHooks(o,"helperMissing",i),_helpers.moveHelperToHooks(o,"blockHelperMissing",i)}},a._child=function(r,t,a,n){if(e.useBlockParams&&!a)throw new _exception2.default("must pass block params");if(e.useDepths&&!n)throw new _exception2.default("must pass parent depths");return wrapProgram(o,r,e[r],t,0,a,n)},a}function wrapProgram(e,r,t,o,a,n,i){function s(r){var a=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],s=i;return!i||r==i[0]||r===e.nullContext&&null===i[0]||(s=[r].concat(i)),t(e,r,e.helpers,e.partials,a.data||o,n&&[a.blockParams].concat(n),s)}return(s=executeDecorators(t,s,e,i,o,n)).program=r,s.depth=i?i.length:0,s.blockParams=a||0,s}function resolvePartial(e,r,t){return e?e.call||t.name||(t.name=e,e=t.partials[e]):e="@partial-block"===t.name?t.data["partial-block"]:t.partials[t.name],e}function invokePartial(e,r,t){var o=t.data&&t.data["partial-block"];t.partial=!0,t.ids&&(t.data.contextPath=t.ids[0]||t.data.contextPath);var a=void 0;if(t.fn&&t.fn!==noop&&function(){t.data=_base.createFrame(t.data);var e=t.fn;a=t.data["partial-block"]=function(r){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return t.data=_base.createFrame(t.data),t.data["partial-block"]=o,e(r,t)},e.partials&&(t.partials=Utils.extend({},t.partials,e.partials))}(),void 0===e&&a&&(e=a),void 0===e)throw new _exception2.default("The partial "+t.name+" could not be found");if(e instanceof Function)return e(r,t)}function noop(){return""}function initData(e,r){return r&&"root"in r||((r=r?_base.createFrame(r):{}).root=e),r}function executeDecorators(e,r,t,o,a,n){if(e.decorator){var i={};r=e.decorator(r,i,t,o&&o[0],a,n,o),Utils.extend(r,i)}return r}function wrapHelpersToPassLookupProperty(e,r){Object.keys(e).forEach(function(t){var o=e[t];e[t]=passLookupPropertyOption(o,r)})}function passLookupPropertyOption(e,r){var t=r.lookupProperty;return _internalWrapHelper.wrapHelper(e,function(e){return Utils.extend({lookupProperty:t},e)})}

},{"./base":58,"./exception":71,"./helpers":72,"./internal/proto-access":81,"./internal/wrapHelper":82,"./utils":87}],86:[function(require,module,exports){
"use strict";function SafeString(t){this.string=t}exports.__esModule=!0,SafeString.prototype.toString=SafeString.prototype.toHTML=function(){return""+this.string},exports.default=SafeString,module.exports=exports.default;

},{}],87:[function(require,module,exports){
"use strict";exports.__esModule=!0,exports.extend=extend,exports.indexOf=indexOf,exports.escapeExpression=escapeExpression,exports.isEmpty=isEmpty,exports.createFrame=createFrame,exports.blockParams=blockParams,exports.appendContextPath=appendContextPath;var escape={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;","=":"&#x3D;"},badChars=/[&<>"'`=]/g,possible=/[&<>"'`=]/;function escapeChar(t){return escape[t]}function extend(t){for(var r=1;r<arguments.length;r++)for(var e in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],e)&&(t[e]=arguments[r][e]);return t}var toString=Object.prototype.toString;exports.toString=toString;var isFunction=function(t){return"function"==typeof t};isFunction(/x/)&&(exports.isFunction=isFunction=function(t){return"function"==typeof t&&"[object Function]"===toString.call(t)}),exports.isFunction=isFunction;var isArray=Array.isArray||function(t){return!(!t||"object"!=typeof t)&&"[object Array]"===toString.call(t)};function indexOf(t,r){for(var e=0,n=t.length;e<n;e++)if(t[e]===r)return e;return-1}function escapeExpression(t){if("string"!=typeof t){if(t&&t.toHTML)return t.toHTML();if(null==t)return"";if(!t)return t+"";t=""+t}return possible.test(t)?t.replace(badChars,escapeChar):t}function isEmpty(t){return!t&&0!==t||!(!isArray(t)||0!==t.length)}function createFrame(t){var r=extend({},t);return r._parent=t,r}function blockParams(t,r){return t.path=r,t}function appendContextPath(t,r){return(t?t+".":"")+r}exports.isArray=isArray;

},{}],88:[function(require,module,exports){
var handlebars=require("../dist/cjs/handlebars").default,printer=require("../dist/cjs/handlebars/compiler/printer");function extension(e,r){var n=require("fs").readFileSync(r,"utf8");e.exports=handlebars.compile(n)}handlebars.PrintVisitor=printer.PrintVisitor,handlebars.print=printer.print,module.exports=handlebars,"undefined"!=typeof require&&require.extensions&&(require.extensions[".handlebars"]=extension,require.extensions[".hbs"]=extension);

},{"../dist/cjs/handlebars":56,"../dist/cjs/handlebars/compiler/printer":66,"fs":45}],89:[function(require,module,exports){
!function(e){var r;module.exports=(r=require("jquery"),require("./version"),r.extend(r.expr[":"],{data:r.expr.createPseudo?r.expr.createPseudo(function(e){return function(t){return!!r.data(t,e)}}):function(e,t,n){return!!r.data(e,n[3])}}))}();

},{"./version":105,"jquery":116}],90:[function(require,module,exports){
!function(e){var n,t;module.exports=(n=require("jquery"),require("./version"),n.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(e){e.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}))}();

},{"./version":105,"jquery":116}],91:[function(require,module,exports){
!function(e){var r,u;module.exports=(r=require("jquery"),require("./version"),r.ui.escapeSelector=(u=/([!"#$%&'()*+,./:;<=>?@[\]^`{|}~])/g,function(e){return e.replace(u,"\\$1")}))}();

},{"./version":105,"jquery":116}],92:[function(require,module,exports){
module.exports=function(e){return e.ui.focusable=function(i,t){var r,n,s,a,u,o=i.nodeName.toLowerCase();return"area"===o?(n=(r=i.parentNode).name,!(!i.href||!n||"map"!==r.nodeName.toLowerCase())&&(s=e("img[usemap='#"+n+"']")).length>0&&s.is(":visible")):(/^(input|select|textarea|button|object)$/.test(o)?(a=!i.disabled)&&(u=e(i).closest("fieldset")[0])&&(a=!u.disabled):a="a"===o&&i.href||t,a&&e(i).is(":visible")&&function(e){for(var i=e.css("visibility");"inherit"===i;)e=e.parent(),i=e.css("visibility");return"hidden"!==i}(e(i)))},e.extend(e.expr[":"],{focusable:function(i){return e.ui.focusable(i,null!=e.attr(i,"tabindex"))}}),e.ui.focusable}(require("jquery"),require("./version"));

},{"./version":105,"jquery":116}],93:[function(require,module,exports){
!function(e){var r;module.exports=(r=require("jquery"),require("./form"),require("./version"),r.ui.formResetMixin={_formResetHandler:function(){var e=r(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");r.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){if(this.form=this.element.form(),this.form.length){var e=this.form.data("ui-form-reset-instances")||[];e.length||this.form.on("reset.ui-form-reset",this._formResetHandler),e.push(this),this.form.data("ui-form-reset-instances",e)}},_unbindFormResetHandler:function(){if(this.form.length){var e=this.form.data("ui-form-reset-instances");e.splice(r.inArray(this,e),1),e.length?this.form.data("ui-form-reset-instances",e):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset")}}})}();

},{"./form":94,"./version":105,"jquery":116}],94:[function(require,module,exports){
!function(r){var e;module.exports=(e=require("jquery"),require("./version"),e.fn.form=function(){return"string"==typeof this[0].form?this.closest("form"):e(this[0].form)})}();

},{"./version":105,"jquery":116}],95:[function(require,module,exports){
!function(e){var r;module.exports=(r=require("jquery"),require("./version"),r.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()))}();

},{"./version":105,"jquery":116}],96:[function(require,module,exports){
!function(E){var e;module.exports=(e=require("jquery"),require("./version"),e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38})}();

},{"./version":105,"jquery":116}],97:[function(require,module,exports){
!function(e){var s;module.exports=(s=require("jquery"),require("./version"),require("./escape-selector"),s.fn.labels=function(){var e,t,i,a,l;return this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(a=this.eq(0).parents("label"),(i=this.attr("id"))&&(e=this.eq(0).parents().last(),l=e.add(e.length?e.siblings():this.siblings()),t="label[for='"+s.ui.escapeSelector(i)+"']",a=a.add(l.find(t).addBack(t))),this.pushStack(a))})}();

},{"./escape-selector":91,"./version":105,"jquery":116}],98:[function(require,module,exports){
!function(e){var n;module.exports=(n=require("jquery"),require("./version"),n.ui.plugin={add:function(e,i,o){var p,r=n.ui[e].prototype;for(p in o)r.plugins[p]=r.plugins[p]||[],r.plugins[p].push([i,o[p]])},call:function(e,n,i,o){var p,r=e.plugins[n];if(r&&(o||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(p=0;p<r.length;p++)e.options[r[p][0]]&&r[p][1].apply(e.element,i)}})}();

},{"./version":105,"jquery":116}],99:[function(require,module,exports){
!function(t){var i;module.exports=(i=require("jquery"),require("./version"),function(){var t,o=Math.max,e=Math.abs,l=/left|center|right/,n=/top|center|bottom/,s=/[\+\-]\d+(\.[\d]+)?%?/,f=/^\w+/,h=/%$/,r=i.fn.position;function p(t,i,o){return[parseFloat(t[0])*(h.test(t[0])?i/100:1),parseFloat(t[1])*(h.test(t[1])?o/100:1)]}function c(t,o){return parseInt(i.css(t,o),10)||0}i.position={scrollbarWidth:function(){if(void 0!==t)return t;var o,e,l=i("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),n=l.children()[0];return i("body").append(l),o=n.offsetWidth,l.css("overflow","scroll"),o===(e=n.offsetWidth)&&(e=l[0].clientWidth),l.remove(),t=o-e},getScrollInfo:function(t){var o=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),e=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),l="scroll"===o||"auto"===o&&t.width<t.element[0].scrollWidth;return{width:"scroll"===e||"auto"===e&&t.height<t.element[0].scrollHeight?i.position.scrollbarWidth():0,height:l?i.position.scrollbarWidth():0}},getWithinInfo:function(t){var o=i(t||window),e=i.isWindow(o[0]),l=!!o[0]&&9===o[0].nodeType;return{element:o,isWindow:e,isDocument:l,offset:e||l?{left:0,top:0}:i(t).offset(),scrollLeft:o.scrollLeft(),scrollTop:o.scrollTop(),width:o.outerWidth(),height:o.outerHeight()}}},i.fn.position=function(t){if(!t||!t.of)return r.apply(this,arguments);t=i.extend({},t);var h,a,d,g,u,m,w,W,v=i(t.of),y=i.position.getWithinInfo(t.within),H=i.position.getScrollInfo(y),x=(t.collision||"flip").split(" "),b={};return m=9===(W=(w=v)[0]).nodeType?{width:w.width(),height:w.height(),offset:{top:0,left:0}}:i.isWindow(W)?{width:w.width(),height:w.height(),offset:{top:w.scrollTop(),left:w.scrollLeft()}}:W.preventDefault?{width:0,height:0,offset:{top:W.pageY,left:W.pageX}}:{width:w.outerWidth(),height:w.outerHeight(),offset:w.offset()},v[0].preventDefault&&(t.at="left top"),a=m.width,d=m.height,g=m.offset,u=i.extend({},g),i.each(["my","at"],function(){var i,o,e=(t[this]||"").split(" ");1===e.length&&(e=l.test(e[0])?e.concat(["center"]):n.test(e[0])?["center"].concat(e):["center","center"]),e[0]=l.test(e[0])?e[0]:"center",e[1]=n.test(e[1])?e[1]:"center",i=s.exec(e[0]),o=s.exec(e[1]),b[this]=[i?i[0]:0,o?o[0]:0],t[this]=[f.exec(e[0])[0],f.exec(e[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===t.at[0]?u.left+=a:"center"===t.at[0]&&(u.left+=a/2),"bottom"===t.at[1]?u.top+=d:"center"===t.at[1]&&(u.top+=d/2),h=p(b.at,a,d),u.left+=h[0],u.top+=h[1],this.each(function(){var l,n,s=i(this),f=s.outerWidth(),r=s.outerHeight(),m=c(this,"marginLeft"),w=c(this,"marginTop"),W=f+m+c(this,"marginRight")+H.width,T=r+w+c(this,"marginBottom")+H.height,L=i.extend({},u),P=p(b.my,s.outerWidth(),s.outerHeight());"right"===t.my[0]?L.left-=f:"center"===t.my[0]&&(L.left-=f/2),"bottom"===t.my[1]?L.top-=r:"center"===t.my[1]&&(L.top-=r/2),L.left+=P[0],L.top+=P[1],l={marginLeft:m,marginTop:w},i.each(["left","top"],function(o,e){i.ui.position[x[o]]&&i.ui.position[x[o]][e](L,{targetWidth:a,targetHeight:d,elemWidth:f,elemHeight:r,collisionPosition:l,collisionWidth:W,collisionHeight:T,offset:[h[0]+P[0],h[1]+P[1]],my:t.my,at:t.at,within:y,elem:s})}),t.using&&(n=function(i){var l=g.left-L.left,n=l+a-f,h=g.top-L.top,p=h+d-r,c={target:{element:v,left:g.left,top:g.top,width:a,height:d},element:{element:s,left:L.left,top:L.top,width:f,height:r},horizontal:n<0?"left":l>0?"right":"center",vertical:p<0?"top":h>0?"bottom":"middle"};a<f&&e(l+n)<a&&(c.horizontal="center"),d<r&&e(h+p)<d&&(c.vertical="middle"),o(e(l),e(n))>o(e(h),e(p))?c.important="horizontal":c.important="vertical",t.using.call(this,i,c)}),s.offset(i.extend(L,{using:n}))})},i.ui.position={fit:{left:function(t,i){var e,l=i.within,n=l.isWindow?l.scrollLeft:l.offset.left,s=l.width,f=t.left-i.collisionPosition.marginLeft,h=n-f,r=f+i.collisionWidth-s-n;i.collisionWidth>s?h>0&&r<=0?(e=t.left+h+i.collisionWidth-s-n,t.left+=h-e):t.left=r>0&&h<=0?n:h>r?n+s-i.collisionWidth:n:h>0?t.left+=h:r>0?t.left-=r:t.left=o(t.left-f,t.left)},top:function(t,i){var e,l=i.within,n=l.isWindow?l.scrollTop:l.offset.top,s=i.within.height,f=t.top-i.collisionPosition.marginTop,h=n-f,r=f+i.collisionHeight-s-n;i.collisionHeight>s?h>0&&r<=0?(e=t.top+h+i.collisionHeight-s-n,t.top+=h-e):t.top=r>0&&h<=0?n:h>r?n+s-i.collisionHeight:n:h>0?t.top+=h:r>0?t.top-=r:t.top=o(t.top-f,t.top)}},flip:{left:function(t,i){var o,l,n=i.within,s=n.offset.left+n.scrollLeft,f=n.width,h=n.isWindow?n.scrollLeft:n.offset.left,r=t.left-i.collisionPosition.marginLeft,p=r-h,c=r+i.collisionWidth-f-h,a="left"===i.my[0]?-i.elemWidth:"right"===i.my[0]?i.elemWidth:0,d="left"===i.at[0]?i.targetWidth:"right"===i.at[0]?-i.targetWidth:0,g=-2*i.offset[0];p<0?((o=t.left+a+d+g+i.collisionWidth-f-s)<0||o<e(p))&&(t.left+=a+d+g):c>0&&((l=t.left-i.collisionPosition.marginLeft+a+d+g-h)>0||e(l)<c)&&(t.left+=a+d+g)},top:function(t,i){var o,l,n=i.within,s=n.offset.top+n.scrollTop,f=n.height,h=n.isWindow?n.scrollTop:n.offset.top,r=t.top-i.collisionPosition.marginTop,p=r-h,c=r+i.collisionHeight-f-h,a="top"===i.my[1]?-i.elemHeight:"bottom"===i.my[1]?i.elemHeight:0,d="top"===i.at[1]?i.targetHeight:"bottom"===i.at[1]?-i.targetHeight:0,g=-2*i.offset[1];p<0?((l=t.top+a+d+g+i.collisionHeight-f-s)<0||l<e(p))&&(t.top+=a+d+g):c>0&&((o=t.top-i.collisionPosition.marginTop+a+d+g-h)>0||e(o)<c)&&(t.top+=a+d+g)}},flipfit:{left:function(){i.ui.position.flip.left.apply(this,arguments),i.ui.position.fit.left.apply(this,arguments)},top:function(){i.ui.position.flip.top.apply(this,arguments),i.ui.position.fit.top.apply(this,arguments)}}}}(),i.ui.position)}();

},{"./version":105,"jquery":116}],100:[function(require,module,exports){
!function(e){var r;module.exports=(r=require("jquery"),require("./version"),r.ui.safeActiveElement=function(e){var r;try{r=e.activeElement}catch(t){r=e.body}return r||(r=e.body),r.nodeName||(r=e.body),r})}();

},{"./version":105,"jquery":116}],101:[function(require,module,exports){
!function(e){var r;module.exports=(r=require("jquery"),require("./version"),r.ui.safeBlur=function(e){e&&"body"!==e.nodeName.toLowerCase()&&r(e).trigger("blur")})}();

},{"./version":105,"jquery":116}],102:[function(require,module,exports){
!function(e){var o;module.exports=(o=require("jquery"),require("./version"),o.fn.scrollParent=function(e){var s=this.css("position"),t="absolute"===s,r=e?/(auto|scroll|hidden)/:/(auto|scroll)/,n=this.parents().filter(function(){var e=o(this);return(!t||"static"!==e.css("position"))&&r.test(e.css("overflow")+e.css("overflow-y")+e.css("overflow-x"))}).eq(0);return"fixed"!==s&&n.length?n:o(this[0].ownerDocument||document)})}();

},{"./version":105,"jquery":116}],103:[function(require,module,exports){
!function(e){var r;module.exports=(r=require("jquery"),require("./version"),require("./focusable"),r.extend(r.expr[":"],{tabbable:function(e){var u=r.attr(e,"tabindex"),n=null!=u;return(!n||u>=0)&&r.ui.focusable(e,n)}}))}();

},{"./focusable":92,"./version":105,"jquery":116}],104:[function(require,module,exports){
!function(i){var e,t;module.exports=(e=require("jquery"),require("./version"),e.fn.extend({uniqueId:(t=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++t)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}))}();

},{"./version":105,"jquery":116}],105:[function(require,module,exports){
!function(u){var e;module.exports=((e=require("jquery")).ui=e.ui||{},e.ui.version="1.12.1")}();

},{"jquery":116}],106:[function(require,module,exports){
!function(t){var e,i,s,n;module.exports=(e=require("jquery"),require("./version"),i=0,s=Array.prototype.slice,e.cleanData=(n=e.cleanData,function(t){var i,s,o;for(o=0;null!=(s=t[o]);o++)try{(i=e._data(s,"events"))&&i.remove&&e(s).triggerHandler("remove")}catch(t){}n(t)}),e.widget=function(t,i,s){var n,o,a,r={},l=t.split(".")[0],u=l+"-"+(t=t.split(".")[1]);return s||(s=i,i=e.Widget),e.isArray(s)&&(s=e.extend.apply(null,[{}].concat(s))),e.expr[":"][u.toLowerCase()]=function(t){return!!e.data(t,u)},e[l]=e[l]||{},n=e[l][t],o=e[l][t]=function(t,e){if(!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},e.extend(o,n,{version:s.version,_proto:e.extend({},s),_childConstructors:[]}),(a=new i).options=e.widget.extend({},a.options),e.each(s,function(t,s){e.isFunction(s)?r[t]=function(){function e(){return i.prototype[t].apply(this,arguments)}function n(e){return i.prototype[t].apply(this,e)}return function(){var t,i=this._super,o=this._superApply;return this._super=e,this._superApply=n,t=s.apply(this,arguments),this._super=i,this._superApply=o,t}}():r[t]=s}),o.prototype=e.widget.extend(a,{widgetEventPrefix:n&&a.widgetEventPrefix||t},r,{constructor:o,namespace:l,widgetName:t,widgetFullName:u}),n?(e.each(n._childConstructors,function(t,i){var s=i.prototype;e.widget(s.namespace+"."+s.widgetName,o,i._proto)}),delete n._childConstructors):i._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var i,n,o=s.call(arguments,1),a=0,r=o.length;a<r;a++)for(i in o[a])n=o[a][i],o[a].hasOwnProperty(i)&&void 0!==n&&(e.isPlainObject(n)?t[i]=e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):t[i]=n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(o){var a="string"==typeof o,r=s.call(arguments,1),l=this;return a?this.length||"instance"!==o?this.each(function(){var i,s=e.data(this,n);return"instance"===o?(l=s,!1):s?e.isFunction(s[o])&&"_"!==o.charAt(0)?(i=s[o].apply(s,r))!==s&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(r.length&&(o=e.widget.extend.apply(null,[o].concat(r))),this.each(function(){var t=e.data(this,n);t?(t.option(o||{}),t._init&&t._init()):e.data(this,n,new i(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,s){s=e(s||this.defaultElement||this)[0],this.element=e(s),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},s!==this&&(e.data(s,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===s&&this.destroy()}}),this.document=e(s.style?s.ownerDocument:s.document||s),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,i){t._removeClass(i,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var s,n,o,a=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(a={},s=t.split("."),t=s.shift(),s.length){for(n=a[t]=e.widget.extend({},this.options[t]),o=0;o<s.length-1;o++)n[s[o]]=n[s[o]]||{},n=n[s[o]];if(t=s.pop(),1===arguments.length)return void 0===n[t]?null:n[t];n[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];a[t]=i}return this._setOptions(a),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var i,s,n;for(i in t)n=this.classesElementLookup[i],t[i]!==this.options.classes[i]&&n&&n.length&&(s=e(n.get()),this._removeClass(n,i),s.addClass(this._classes({element:s,keys:i,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var i=[],s=this;function n(n,o){var a,r;for(r=0;r<n.length;r++)a=s.classesElementLookup[n[r]]||e(),a=t.add?e(e.unique(a.get().concat(t.element.get()))):e(a.not(t.element).get()),s.classesElementLookup[n[r]]=a,i.push(n[r]),o&&t.classes[n[r]]&&i.push(t.classes[n[r]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&n(t.keys.match(/\S+/g)||[],!0),t.extra&&n(t.extra.match(/\S+/g)||[]),i.join(" ")},_untrackClassesElement:function(t){var i=this;e.each(i.classesElementLookup,function(s,n){-1!==e.inArray(t.target,n)&&(i.classesElementLookup[s]=e(n.not(t.target).get()))})},_removeClass:function(t,e,i){return this._toggleClass(t,e,i,!1)},_addClass:function(t,e,i){return this._toggleClass(t,e,i,!0)},_toggleClass:function(t,e,i,s){s="boolean"==typeof s?s:i;var n="string"==typeof t||null===t,o={extra:n?e:i,keys:n?t:e,element:n?this.element:t,add:s};return o.element.toggleClass(this._classes(o),s),this},_on:function(t,i,s){var n,o=this;"boolean"!=typeof t&&(s=i,i=t,t=!1),s?(i=n=e(i),this.bindings=this.bindings.add(i)):(s=i,i=this.element,n=this.widget()),e.each(s,function(s,a){function r(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof a?o[a]:a).apply(o,arguments)}"string"!=typeof a&&(r.guid=a.guid=a.guid||r.guid||e.guid++);var l=s.match(/^([\w:-]*)\s*(.*)$/),u=l[1]+o.eventNamespace,h=l[2];h?n.on(u,h,r):i.on(u,r)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(i).off(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(t,e){var i=this;return setTimeout(function(){return("string"==typeof t?i[t]:t).apply(i,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,i,s){var n,o,a=this.options[t];if(s=s||{},(i=e.Event(i)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(n in o)n in i||(i[n]=o[n]);return this.element.trigger(i,s),!(e.isFunction(a)&&!1===a.apply(this.element[0],[i].concat(s))||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(s,n,o){var a;"string"==typeof n&&(n={effect:n});var r=n?!0===n||"number"==typeof n?i:n.effect||i:t;"number"==typeof(n=n||{})&&(n={duration:n}),a=!e.isEmptyObject(n),n.complete=o,n.delay&&s.delay(n.delay),a&&e.effects&&e.effects.effect[r]?s[t](n):r!==t&&s[r]?s[r](n.duration,n.easing,o):s.queue(function(i){e(this)[t](),o&&o.call(s[0]),i()})}}),e.widget)}();

},{"./version":105,"jquery":116}],107:[function(require,module,exports){
!function(e){var t;module.exports=(t=require("jquery"),require("./menu"),require("../keycode"),require("../position"),require("../safe-active-element"),require("../version"),require("../widget"),t.widget("ui.autocomplete",{version:"1.12.1",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},requestIndex:0,pending:0,_create:function(){var e,i,s,n=this.element[0].nodeName.toLowerCase(),o="textarea"===n,u="input"===n;this.isMultiLine=o||!u&&this._isContentEditable(this.element),this.valueMethod=this.element[o||u?"val":"text"],this.isNewMenu=!0,this._addClass("ui-autocomplete-input"),this.element.attr("autocomplete","off"),this._on(this.element,{keydown:function(n){if(this.element.prop("readOnly"))return e=!0,s=!0,void(i=!0);e=!1,s=!1,i=!1;var o=t.ui.keyCode;switch(n.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",n);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",n);break;case o.UP:e=!0,this._keyEvent("previous",n);break;case o.DOWN:e=!0,this._keyEvent("next",n);break;case o.ENTER:this.menu.active&&(e=!0,n.preventDefault(),this.menu.select(n));break;case o.TAB:this.menu.active&&this.menu.select(n);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this.isMultiLine||this._value(this.term),this.close(n),n.preventDefault());break;default:i=!0,this._searchTimeout(n)}},keypress:function(s){if(e)return e=!1,void(this.isMultiLine&&!this.menu.element.is(":visible")||s.preventDefault());if(!i){var n=t.ui.keyCode;switch(s.keyCode){case n.PAGE_UP:this._move("previousPage",s);break;case n.PAGE_DOWN:this._move("nextPage",s);break;case n.UP:this._keyEvent("previous",s);break;case n.DOWN:this._keyEvent("next",s)}}},input:function(e){if(s)return s=!1,void e.preventDefault();this._searchTimeout(e)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(e){this.cancelBlur?delete this.cancelBlur:(clearTimeout(this.searching),this.close(e),this._change(e))}}),this._initSource(),this.menu=t("<ul>").appendTo(this._appendTo()).menu({role:null}).hide().menu("instance"),this._addClass(this.menu.element,"ui-autocomplete","ui-front"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,this.element[0]!==t.ui.safeActiveElement(this.document[0])&&this.element.trigger("focus")})},menufocus:function(e,i){var s,n;if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});n=i.item.data("ui-autocomplete-item"),!1!==this._trigger("focus",e,{item:n})&&e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value),(s=i.item.attr("aria-label")||n.value)&&t.trim(s).length&&(this.liveRegion.children().hide(),t("<div>").text(s).appendTo(this.liveRegion))},menuselect:function(e,i){var s=i.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==t.ui.safeActiveElement(this.document[0])&&(this.element.trigger("focus"),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=s})),!1!==this._trigger("select",e,{item:s})&&this._value(s.value),this.term=this._value(),this.close(e),this.selectedItem=s}}),this.liveRegion=t("<div>",{role:"status","aria-live":"assertive","aria-relevant":"additions"}).appendTo(this.document[0].body),this._addClass(this.liveRegion,null,"ui-helper-hidden-accessible"),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(e,t){this._super(e,t),"source"===e&&this._initSource(),"appendTo"===e&&this.menu.element.appendTo(this._appendTo()),"disabled"===e&&t&&this.xhr&&this.xhr.abort()},_isEventTargetInWidget:function(e){var i=this.menu.element[0];return e.target===this.element[0]||e.target===i||t.contains(i,e.target)},_closeOnClickOutside:function(e){this._isEventTargetInWidget(e)||this.close()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e&&e[0]||(e=this.element.closest(".ui-front, dialog")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,s=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,s){s(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,n){s.xhr&&s.xhr.abort(),s.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(e){n(e)},error:function(){n([])}})}):this.source=this.options.source},_searchTimeout:function(e){clearTimeout(this.searching),this.searching=this._delay(function(){var t=this.term===this._value(),i=this.menu.element.is(":visible"),s=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;t&&(!t||i||s)||(this.selectedItem=null,this.search(null,e))},this.options.delay)},search:function(e,t){return e=null!=e?e:this._value(),this.term=this._value(),e.length<this.options.minLength?this.close(t):!1!==this._trigger("search",t)?this._search(e):void 0},_search:function(e){this.pending++,this._addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:e},this._response())},_response:function(){var e=++this.requestIndex;return t.proxy(function(t){e===this.requestIndex&&this.__response(t),this.pending--,this.pending||this._removeClass("ui-autocomplete-loading")},this)},__response:function(e){e&&(e=this._normalize(e)),this._trigger("response",null,{content:e}),!this.options.disabled&&e&&e.length&&!this.cancelSearch?(this._suggest(e),this._trigger("open")):this._close()},close:function(e){this.cancelSearch=!0,this._close(e)},_close:function(e){this._off(this.document,"mousedown"),this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",e))},_change:function(e){this.previous!==this._value()&&this._trigger("change",e,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({},e,{label:e.label||e.value,value:e.value||e.label})})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next(),this._on(this.document,{mousedown:"_closeOnClickOutside"})},_resizeMenu:function(){var e=this.menu.element;e.outerWidth(Math.max(e.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var s=this;t.each(i,function(t,i){s._renderItemData(e,i)})},_renderItemData:function(e,t){return this._renderItem(e,t).data("ui-autocomplete-item",t)},_renderItem:function(e,i){return t("<li>").append(t("<div>").text(i.label)).appendTo(e)},_move:function(e,t){if(this.menu.element.is(":visible"))return this.menu.isFirstItem()&&/^previous/.test(e)||this.menu.isLastItem()&&/^next/.test(e)?(this.isMultiLine||this._value(this.term),void this.menu.blur()):void this.menu[e](t);this.search(null,t)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(e,t){this.isMultiLine&&!this.menu.element.is(":visible")||(this._move(e,t),t.preventDefault())},_isContentEditable:function(e){if(!e.length)return!1;var t=e.prop("contentEditable");return"inherit"===t?this._isContentEditable(e.parent()):"true"===t}}),t.extend(t.ui.autocomplete,{escapeRegex:function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var s=new RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(e){return s.test(e.label||e.value||e)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(e){return e+(e>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(e){var i;this._superApply(arguments),this.options.disabled||this.cancelSearch||(i=e&&e.length?this.options.messages.results(e.length):this.options.messages.noResults,this.liveRegion.children().hide(),t("<div>").text(i).appendTo(this.liveRegion))}}),t.ui.autocomplete)}();

},{"../keycode":96,"../position":99,"../safe-active-element":100,"../version":105,"../widget":106,"./menu":113,"jquery":116}],108:[function(require,module,exports){
module.exports=function(t){var i;return t.widget("ui.button",{version:"1.12.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,i=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(i.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(i.label=this.originalLabel),i},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(i){i.keyCode===t.ui.keyCode.SPACE&&(i.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(i,o){var s="iconPosition"!==i,e=s?this.options.iconPosition:o,n="top"===e||"bottom"===e;this.icon?s&&this._removeClass(this.icon,null,this.options.icon):(this.icon=t("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),s&&this._addClass(this.icon,null,o),this._attachIcon(e),n?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=t("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(e))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var i=void 0===t.showLabel?this.options.showLabel:t.showLabel,o=void 0===t.icon?this.options.icon:t.icon;i||o||(t.showLabel=!0),this._super(t)},_setOption:function(t,i){"icon"===t&&(i?this._updateIcon(t,i):this.icon&&(this.icon.remove(),this.iconSpace&&this.iconSpace.remove())),"iconPosition"===t&&this._updateIcon(t,i),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!i),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(i):(this.element.html(i),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,i),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",i),this.element[0].disabled=i,i&&this.element.blur())},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==t.uiBackCompat&&(t.widget("ui.button",t.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,i){"text"!==t?("showLabel"===t&&(this.options.text=i),"icon"===t&&(this.options.icons.primary=i),"icons"===t&&(i.primary?(this._super("icon",i.primary),this._super("iconPosition","beginning")):i.secondary&&(this._super("icon",i.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",i)}}),t.fn.button=(i=t.fn.button,function(){return!this.length||this.length&&"INPUT"!==this[0].tagName||this.length&&"INPUT"===this[0].tagName&&"checkbox"!==this.attr("type")&&"radio"!==this.attr("type")?i.apply(this,arguments):(t.ui.checkboxradio||t.error("Checkboxradio widget missing"),0===arguments.length?this.checkboxradio({icon:!1}):this.checkboxradio.apply(this,arguments))}),t.fn.buttonset=function(){return t.ui.controlgroup||t.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),t.ui.button}(require("jquery"),require("./controlgroup"),require("./checkboxradio"),require("../keycode"),require("../widget"));

},{"../keycode":96,"../widget":106,"./checkboxradio":109,"./controlgroup":110,"jquery":116}],109:[function(require,module,exports){
!function(e){var i;module.exports=(i=require("jquery"),require("../escape-selector"),require("../form-reset-mixin"),require("../labels"),require("../widget"),i.widget("ui.checkboxradio",[i.ui.formResetMixin,{version:"1.12.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var e,t,s=this,o=this._super()||{};return this._readType(),t=this.element.labels(),this.label=i(t[t.length-1]),this.label.length||i.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){s.originalLabel+=3===this.nodeType?i(this).text():this.outerHTML}),this.originalLabel&&(o.label=this.originalLabel),null!=(e=this.element[0].disabled)&&(o.disabled=e),o},_create:function(){var e=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),e&&(this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this.icon&&this._addClass(this.icon,null,"ui-state-hover")),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var e=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===e&&/radio|checkbox/.test(this.type)||i.error("Can't create checkboxradio on element.nodeName="+e+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var e=this.element[0].name,t="input[name='"+i.ui.escapeSelector(e)+"']";return e?(this.form.length?i(this.form[0].elements).filter(t):i(t).filter(function(){return 0===i(this).form().length})).not(this.element):i([])},_toggleClasses:function(){var e=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",e)._toggleClass(this.icon,null,"ui-icon-blank",!e),"radio"===this.type&&this._getRadioGroup().each(function(){var e=i(this).checkboxradio("instance");e&&e._removeClass(e.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(e,i){if("label"!==e||i){if(this._super(e,i),"disabled"===e)return this._toggleClass(this.label,null,"ui-state-disabled",i),void(this.element[0].disabled=i);this.refresh()}},_updateIcon:function(e){var t="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=i("<span>"),this.iconSpace=i("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(t+=e?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,e?"ui-icon-blank":"ui-icon-check")):t+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",t),e||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var e=this.label.contents().not(this.element[0]);this.icon&&(e=e.not(this.icon[0])),this.iconSpace&&(e=e.not(this.iconSpace[0])),e.remove(),this.label.append(this.options.label)},refresh:function(){var e=this.element[0].checked,i=this.element[0].disabled;this._updateIcon(e),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",e),null!==this.options.label&&this._updateLabel(),i!==this.options.disabled&&this._setOptions({disabled:i})}}]),i.ui.checkboxradio)}();

},{"../escape-selector":91,"../form-reset-mixin":93,"../labels":97,"../widget":106,"jquery":116}],110:[function(require,module,exports){
!function(t){var e,i;module.exports=(e=require("jquery"),require("../widget"),i=/ui-corner-([a-z]){2,6}/g,e.widget("ui.controlgroup",{version:"1.12.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var t=this,i=[];e.each(this.options.items,function(n,o){var s,l={};if(o)return"controlgroupLabel"===n?((s=t.element.find(o)).each(function(){var t=e(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),t._addClass(s,null,"ui-widget ui-widget-content ui-state-default"),void(i=i.concat(s.get()))):void(e.fn[n]&&(l=t["_"+n+"Options"]?t["_"+n+"Options"]("middle"):{classes:{}},t.element.find(o).each(function(){var o=e(this),s=o[n]("instance"),r=e.widget.extend({},l);if("button"!==n||!o.parent(".ui-spinner").length){s||(s=o[n]()[n]("instance")),s&&(r.classes=t._resolveClassesValues(r.classes,s)),o[n](r);var u=o[n]("widget");e.data(u[0],"ui-controlgroup-data",s||o[n]("instance")),i.push(u[0])}})))}),this.childWidgets=e(e.unique(i)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(t){this.childWidgets.each(function(){var i=e(this),n=i.data("ui-controlgroup-data");n&&n[t]&&n[t]()})},_updateCornerClass:function(t,e){var i=this._buildSimpleOptions(e,"label").classes.label;this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,i)},_buildSimpleOptions:function(t,e){var i="vertical"===this.options.direction,n={classes:{}};return n.classes[e]={middle:"",first:"ui-corner-"+(i?"top":"left"),last:"ui-corner-"+(i?"bottom":"right"),only:"ui-corner-all"}[t],n},_spinnerOptions:function(t){var e=this._buildSimpleOptions(t,"ui-spinner");return e.classes["ui-spinner-up"]="",e.classes["ui-spinner-down"]="",e},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:!!e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(t,n){var o={};return e.each(t,function(s){var l=n.options.classes[s]||"";l=e.trim(l.replace(i,"")),o[s]=(l+" "+t[s]).replace(/\s+/g," ")}),o},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var t,i=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),t=this.childWidgets,this.options.onlyVisible&&(t=t.filter(":visible")),t.length&&(e.each(["first","last"],function(e,n){var o=t[n]().data("ui-controlgroup-data");if(o&&i["_"+o.widgetName+"Options"]){var s=i["_"+o.widgetName+"Options"](1===t.length?"only":n);s.classes=i._resolveClassesValues(s.classes,o),o.element[o.widgetName](s)}else i._updateCornerClass(t[n](),n)}),this._callChildMethod("refresh"))}}))}();

},{"../widget":106,"jquery":116}],111:[function(require,module,exports){
module.exports=function(i){return i.widget("ui.dialog",{version:"1.12.1",options:{appendTo:"body",autoOpen:!0,buttons:[],classes:{"ui-dialog":"ui-corner-all","ui-dialog-titlebar":"ui-corner-all"},closeOnEscape:!0,closeText:"Close",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(t){var e=i(this).css(t).offset().top;e<0&&i(this).css("top",t.top-e)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},sizeRelatedOptions:{buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},resizableRelatedOptions:{maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),null==this.options.title&&null!=this.originalTitle&&(this.options.title=this.originalTitle),this.options.disabled&&(this.options.disabled=!1),this._createWrapper(),this.element.show().removeAttr("title").appendTo(this.uiDialog),this._addClass("ui-dialog-content","ui-widget-content"),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&i.fn.draggable&&this._makeDraggable(),this.options.resizable&&i.fn.resizable&&this._makeResizable(),this._isOpen=!1,this._trackFocus()},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var t=this.options.appendTo;return t&&(t.jquery||t.nodeType)?i(t):this.document.find(t||"body").eq(0)},_destroy:function(){var i,t=this.originalPosition;this._untrackInstance(),this._destroyOverlay(),this.element.removeUniqueId().css(this.originalCss).detach(),this.uiDialog.remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),(i=t.parent.children().eq(t.index)).length&&i[0]!==this.element[0]?i.before(this.element):t.parent.append(this.element)},widget:function(){return this.uiDialog},disable:i.noop,enable:i.noop,close:function(t){var e=this;this._isOpen&&!1!==this._trigger("beforeClose",t)&&(this._isOpen=!1,this._focusedElement=null,this._destroyOverlay(),this._untrackInstance(),this.opener.filter(":focusable").trigger("focus").length||i.ui.safeBlur(i.ui.safeActiveElement(this.document[0])),this._hide(this.uiDialog,this.options.hide,function(){e._trigger("close",t)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var o=!1,s=this.uiDialog.siblings(".ui-front:visible").map(function(){return+i(this).css("z-index")}).get(),n=Math.max.apply(null,s);return n>=+this.uiDialog.css("z-index")&&(this.uiDialog.css("z-index",n+1),o=!0),o&&!e&&this._trigger("focus",t),o},open:function(){var t=this;this._isOpen?this._moveToTop()&&this._focusTabbable():(this._isOpen=!0,this.opener=i(i.ui.safeActiveElement(this.document[0])),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this.overlay&&this.overlay.css("z-index",this.uiDialog.css("z-index")-1),this._show(this.uiDialog,this.options.show,function(){t._focusTabbable(),t._trigger("focus")}),this._makeFocusTarget(),this._trigger("open"))},_focusTabbable:function(){var i=this._focusedElement;i||(i=this.element.find("[autofocus]")),i.length||(i=this.element.find(":tabbable")),i.length||(i=this.uiDialogButtonPane.find(":tabbable")),i.length||(i=this.uiDialogTitlebarClose.filter(":tabbable")),i.length||(i=this.uiDialog),i.eq(0).trigger("focus")},_keepFocus:function(t){function e(){var t=i.ui.safeActiveElement(this.document[0]);this.uiDialog[0]===t||i.contains(this.uiDialog[0],t)||this._focusTabbable()}t.preventDefault(),e.call(this),this._delay(e)},_createWrapper:function(){this.uiDialog=i("<div>").hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._addClass(this.uiDialog,"ui-dialog","ui-widget ui-widget-content ui-front"),this._on(this.uiDialog,{keydown:function(t){if(this.options.closeOnEscape&&!t.isDefaultPrevented()&&t.keyCode&&t.keyCode===i.ui.keyCode.ESCAPE)return t.preventDefault(),void this.close(t);if(t.keyCode===i.ui.keyCode.TAB&&!t.isDefaultPrevented()){var e=this.uiDialog.find(":tabbable"),o=e.filter(":first"),s=e.filter(":last");t.target!==s[0]&&t.target!==this.uiDialog[0]||t.shiftKey?t.target!==o[0]&&t.target!==this.uiDialog[0]||!t.shiftKey||(this._delay(function(){s.trigger("focus")}),t.preventDefault()):(this._delay(function(){o.trigger("focus")}),t.preventDefault())}},mousedown:function(i){this._moveToTop(i)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var t;this.uiDialogTitlebar=i("<div>"),this._addClass(this.uiDialogTitlebar,"ui-dialog-titlebar","ui-widget-header ui-helper-clearfix"),this._on(this.uiDialogTitlebar,{mousedown:function(t){i(t.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.trigger("focus")}}),this.uiDialogTitlebarClose=i("<button type='button'></button>").button({label:i("<a>").text(this.options.closeText).html(),icon:"ui-icon-closethick",showLabel:!1}).appendTo(this.uiDialogTitlebar),this._addClass(this.uiDialogTitlebarClose,"ui-dialog-titlebar-close"),this._on(this.uiDialogTitlebarClose,{click:function(i){i.preventDefault(),this.close(i)}}),t=i("<span>").uniqueId().prependTo(this.uiDialogTitlebar),this._addClass(t,"ui-dialog-title"),this._title(t),this.uiDialogTitlebar.prependTo(this.uiDialog),this.uiDialog.attr({"aria-labelledby":t.attr("id")})},_title:function(i){this.options.title?i.text(this.options.title):i.html("&#160;")},_createButtonPane:function(){this.uiDialogButtonPane=i("<div>"),this._addClass(this.uiDialogButtonPane,"ui-dialog-buttonpane","ui-widget-content ui-helper-clearfix"),this.uiButtonSet=i("<div>").appendTo(this.uiDialogButtonPane),this._addClass(this.uiButtonSet,"ui-dialog-buttonset"),this._createButtons()},_createButtons:function(){var t=this,e=this.options.buttons;this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),i.isEmptyObject(e)||i.isArray(e)&&!e.length?this._removeClass(this.uiDialog,"ui-dialog-buttons"):(i.each(e,function(e,o){var s,n;o=i.isFunction(o)?{click:o,text:e}:o,o=i.extend({type:"button"},o),s=o.click,n={icon:o.icon,iconPosition:o.iconPosition,showLabel:o.showLabel,icons:o.icons,text:o.text},delete o.click,delete o.icon,delete o.iconPosition,delete o.showLabel,delete o.icons,"boolean"==typeof o.text&&delete o.text,i("<button></button>",o).button(n).appendTo(t.uiButtonSet).on("click",function(){s.apply(t.element[0],arguments)})}),this._addClass(this.uiDialog,"ui-dialog-buttons"),this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){var t=this,e=this.options;function o(i){return{position:i.position,offset:i.offset}}this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(e,s){t._addClass(i(this),"ui-dialog-dragging"),t._blockFrames(),t._trigger("dragStart",e,o(s))},drag:function(i,e){t._trigger("drag",i,o(e))},stop:function(s,n){var a=n.offset.left-t.document.scrollLeft(),l=n.offset.top-t.document.scrollTop();e.position={my:"left top",at:"left"+(a>=0?"+":"")+a+" top"+(l>=0?"+":"")+l,of:t.window},t._removeClass(i(this),"ui-dialog-dragging"),t._unblockFrames(),t._trigger("dragStop",s,o(n))}})},_makeResizable:function(){var t=this,e=this.options,o=e.resizable,s=this.uiDialog.css("position"),n="string"==typeof o?o:"n,e,s,w,se,sw,ne,nw";function a(i){return{originalPosition:i.originalPosition,originalSize:i.originalSize,position:i.position,size:i.size}}this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:e.maxWidth,maxHeight:e.maxHeight,minWidth:e.minWidth,minHeight:this._minHeight(),handles:n,start:function(e,o){t._addClass(i(this),"ui-dialog-resizing"),t._blockFrames(),t._trigger("resizeStart",e,a(o))},resize:function(i,e){t._trigger("resize",i,a(e))},stop:function(o,s){var n=t.uiDialog.offset(),l=n.left-t.document.scrollLeft(),h=n.top-t.document.scrollTop();e.height=t.uiDialog.height(),e.width=t.uiDialog.width(),e.position={my:"left top",at:"left"+(l>=0?"+":"")+l+" top"+(h>=0?"+":"")+h,of:t.window},t._removeClass(i(this),"ui-dialog-resizing"),t._unblockFrames(),t._trigger("resizeStop",o,a(s))}}).css("position",s)},_trackFocus:function(){this._on(this.widget(),{focusin:function(t){this._makeFocusTarget(),this._focusedElement=i(t.target)}})},_makeFocusTarget:function(){this._untrackInstance(),this._trackingInstances().unshift(this)},_untrackInstance:function(){var t=this._trackingInstances(),e=i.inArray(this,t);-1!==e&&t.splice(e,1)},_trackingInstances:function(){var i=this.document.data("ui-dialog-instances");return i||(i=[],this.document.data("ui-dialog-instances",i)),i},_minHeight:function(){var i=this.options;return"auto"===i.height?i.minHeight:Math.min(i.minHeight,i.height)},_position:function(){var i=this.uiDialog.is(":visible");i||this.uiDialog.show(),this.uiDialog.position(this.options.position),i||this.uiDialog.hide()},_setOptions:function(t){var e=this,o=!1,s={};i.each(t,function(i,t){e._setOption(i,t),i in e.sizeRelatedOptions&&(o=!0),i in e.resizableRelatedOptions&&(s[i]=t)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",s)},_setOption:function(t,e){var o,s,n=this.uiDialog;"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:i("<a>").text(""+this.options.closeText).html()}),"draggable"===t&&((o=n.is(":data(ui-draggable)"))&&!e&&n.draggable("destroy"),!o&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&((s=n.is(":data(ui-resizable)"))&&!e&&n.resizable("destroy"),s&&"string"==typeof e&&n.resizable("option","handles",e),s||!1===e||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var i,t,e,o=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),o.minWidth>o.width&&(o.width=o.minWidth),i=this.uiDialog.css({height:"auto",width:o.width}).outerHeight(),t=Math.max(0,o.minHeight-i),e="number"==typeof o.maxHeight?Math.max(0,o.maxHeight-i):"none","auto"===o.height?this.element.css({minHeight:t,maxHeight:e,height:"auto"}):this.element.height(Math.max(0,o.height-i)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var t=i(this);return i("<div>").css({position:"absolute",width:t.outerWidth(),height:t.outerHeight()}).appendTo(t.parent()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(t){return!!i(t.target).closest(".ui-dialog").length||!!i(t.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var t=!0;this._delay(function(){t=!1}),this.document.data("ui-dialog-overlays")||this._on(this.document,{focusin:function(i){t||this._allowInteraction(i)||(i.preventDefault(),this._trackingInstances()[0]._focusTabbable())}}),this.overlay=i("<div>").appendTo(this._appendTo()),this._addClass(this.overlay,null,"ui-widget-overlay ui-front"),this._on(this.overlay,{mousedown:"_keepFocus"}),this.document.data("ui-dialog-overlays",(this.document.data("ui-dialog-overlays")||0)+1)}},_destroyOverlay:function(){if(this.options.modal&&this.overlay){var i=this.document.data("ui-dialog-overlays")-1;i?this.document.data("ui-dialog-overlays",i):(this._off(this.document,"focusin"),this.document.removeData("ui-dialog-overlays")),this.overlay.remove(),this.overlay=null}}}),!1!==i.uiBackCompat&&i.widget("ui.dialog",i.ui.dialog,{options:{dialogClass:""},_createWrapper:function(){this._super(),this.uiDialog.addClass(this.options.dialogClass)},_setOption:function(i,t){"dialogClass"===i&&this.uiDialog.removeClass(this.options.dialogClass).addClass(t),this._superApply(arguments)}}),i.ui.dialog}(require("jquery"),require("./button"),require("./draggable"),require("./mouse"),require("./resizable"),require("../focusable"),require("../keycode"),require("../position"),require("../safe-active-element"),require("../safe-blur"),require("../tabbable"),require("../unique-id"),require("../version"),require("../widget"));

},{"../focusable":92,"../keycode":96,"../position":99,"../safe-active-element":100,"../safe-blur":101,"../tabbable":103,"../unique-id":104,"../version":105,"../widget":106,"./button":108,"./draggable":112,"./mouse":114,"./resizable":115,"jquery":116}],112:[function(require,module,exports){
!function(t){var e;module.exports=(e=require("jquery"),require("./mouse"),require("../data"),require("../plugin"),require("../safe-active-element"),require("../safe-blur"),require("../scroll-parent"),require("../version"),require("../widget"),e.widget("ui.draggable",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this._addClass("ui-draggable"),this._setHandleClassName(),this._mouseInit()},_setOption:function(t,e){this._super(t,e),"handle"===t&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){(this.helper||this.element).is(".ui-draggable-dragging")?this.destroyOnClear=!0:(this._removeHandleClassName(),this._mouseDestroy())},_mouseCapture:function(t){var s=this.options;return!(this.helper||s.disabled||e(t.target).closest(".ui-resizable-handle").length>0||(this.handle=this._getHandle(t),!this.handle||(this._blurActiveElement(t),this._blockFrames(!0===s.iframeFix?"iframe":s.iframeFix),0)))},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var s=e.ui.safeActiveElement(this.document[0]);e(t.target).closest(s).length||e.ui.safeBlur(s)},_mouseStart:function(t){var s=this.options;return this.helper=this._createHelper(t),this._addClass(this.helper,"ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,s.cursorAt&&this._adjustOffsetFromHelper(s.cursorAt),this._setContainment(),!1===this._trigger("start",t)?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!s.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(t){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:t.pageX-this.offset.left,top:t.pageY-this.offset.top}},_mouseDrag:function(t,s){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!s){var i=this._uiHash();if(!1===this._trigger("drag",t,i))return this._mouseUp(new e.Event("mouseup",t)),!1;this.position=i.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var s=this,i=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(i=e.ui.ddmanager.drop(this,t)),this.dropped&&(i=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!i||"valid"===this.options.revert&&i||!0===this.options.revert||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,i)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){!1!==s._trigger("stop",t)&&s._clear()}):!1!==this._trigger("stop",t)&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.trigger("focus"),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp(new e.Event("mouseup",{target:this.element[0]})):this._clear(),this},_getHandle:function(t){return!this.options.handle||!!e(t.target).closest(this.element.find(this.options.handle)).length},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this._addClass(this.handleElement,"ui-draggable-handle")},_removeHandleClassName:function(){this._removeClass(this.handleElement,"ui-draggable-handle")},_createHelper:function(t){var s=this.options,i=e.isFunction(s.helper),o=i?e(s.helper.apply(this.element[0],[t])):"clone"===s.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===s.appendTo?this.element[0].parentNode:s.appendTo),i&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(t){return/(html|body)/i.test(t.tagName)||t===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),s=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==s&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var t=this.element.position(),e=this._isRootNode(this.scrollParent[0]);return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+(e?0:this.scrollParent.scrollTop()),left:t.left-(parseInt(this.helper.css("left"),10)||0)+(e?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,s,i,o=this.options,r=this.document[0];this.relativeContainer=null,o.containment?"window"!==o.containment?"document"!==o.containment?o.containment.constructor!==Array?("parent"===o.containment&&(o.containment=this.helper[0].parentNode),(i=(s=e(o.containment))[0])&&(t=/(scroll|auto)/.test(s.css("overflow")),this.containment=[(parseInt(s.css("borderLeftWidth"),10)||0)+(parseInt(s.css("paddingLeft"),10)||0),(parseInt(s.css("borderTopWidth"),10)||0)+(parseInt(s.css("paddingTop"),10)||0),(t?Math.max(i.scrollWidth,i.offsetWidth):i.offsetWidth)-(parseInt(s.css("borderRightWidth"),10)||0)-(parseInt(s.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(i.scrollHeight,i.offsetHeight):i.offsetHeight)-(parseInt(s.css("borderBottomWidth"),10)||0)-(parseInt(s.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=s)):this.containment=o.containment:this.containment=[0,0,e(r).width()-this.helperProportions.width-this.margins.left,(e(r).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||r.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]:this.containment=null},_convertPositionTo:function(t,e){e||(e=this.position);var s="absolute"===t?1:-1,i=this._isRootNode(this.scrollParent[0]);return{top:e.top+this.offset.relative.top*s+this.offset.parent.top*s-("fixed"===this.cssPosition?-this.offset.scroll.top:i?0:this.offset.scroll.top)*s,left:e.left+this.offset.relative.left*s+this.offset.parent.left*s-("fixed"===this.cssPosition?-this.offset.scroll.left:i?0:this.offset.scroll.left)*s}},_generatePosition:function(t,e){var s,i,o,r,n=this.options,l=this._isRootNode(this.scrollParent[0]),a=t.pageX,h=t.pageY;return l&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),e&&(this.containment&&(this.relativeContainer?(i=this.relativeContainer.offset(),s=[this.containment[0]+i.left,this.containment[1]+i.top,this.containment[2]+i.left,this.containment[3]+i.top]):s=this.containment,t.pageX-this.offset.click.left<s[0]&&(a=s[0]+this.offset.click.left),t.pageY-this.offset.click.top<s[1]&&(h=s[1]+this.offset.click.top),t.pageX-this.offset.click.left>s[2]&&(a=s[2]+this.offset.click.left),t.pageY-this.offset.click.top>s[3]&&(h=s[3]+this.offset.click.top)),n.grid&&(o=n.grid[1]?this.originalPageY+Math.round((h-this.originalPageY)/n.grid[1])*n.grid[1]:this.originalPageY,h=s?o-this.offset.click.top>=s[1]||o-this.offset.click.top>s[3]?o:o-this.offset.click.top>=s[1]?o-n.grid[1]:o+n.grid[1]:o,r=n.grid[0]?this.originalPageX+Math.round((a-this.originalPageX)/n.grid[0])*n.grid[0]:this.originalPageX,a=s?r-this.offset.click.left>=s[0]||r-this.offset.click.left>s[2]?r:r-this.offset.click.left>=s[0]?r-n.grid[0]:r+n.grid[0]:r),"y"===n.axis&&(a=this.originalPageX),"x"===n.axis&&(h=this.originalPageY)),{top:h-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:l?0:this.offset.scroll.top),left:a-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:l?0:this.offset.scroll.left)}},_clear:function(){this._removeClass(this.helper,"ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_trigger:function(t,s,i){return i=i||this._uiHash(),e.ui.plugin.call(this,t,[s,i,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),i.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,s,i)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,s,i){var o=e.extend({},s,{item:i.element});i.sortables=[],e(i.options.connectToSortable).each(function(){var s=e(this).sortable("instance");s&&!s.options.disabled&&(i.sortables.push(s),s.refreshPositions(),s._trigger("activate",t,o))})},stop:function(t,s,i){var o=e.extend({},s,{item:i.element});i.cancelHelperRemoval=!1,e.each(i.sortables,function(){this.isOver?(this.isOver=0,i.cancelHelperRemoval=!0,this.cancelHelperRemoval=!1,this._storedCSS={position:this.placeholder.css("position"),top:this.placeholder.css("top"),left:this.placeholder.css("left")},this._mouseStop(t),this.options.helper=this.options._helper):(this.cancelHelperRemoval=!0,this._trigger("deactivate",t,o))})},drag:function(t,s,i){e.each(i.sortables,function(){var o=!1,r=this;r.positionAbs=i.positionAbs,r.helperProportions=i.helperProportions,r.offset.click=i.offset.click,r._intersectsWith(r.containerCache)&&(o=!0,e.each(i.sortables,function(){return this.positionAbs=i.positionAbs,this.helperProportions=i.helperProportions,this.offset.click=i.offset.click,this!==r&&this._intersectsWith(this.containerCache)&&e.contains(r.element[0],this.element[0])&&(o=!1),o})),o?(r.isOver||(r.isOver=1,i._parent=s.helper.parent(),r.currentItem=s.helper.appendTo(r.element).data("ui-sortable-item",!0),r.options._helper=r.options.helper,r.options.helper=function(){return s.helper[0]},t.target=r.currentItem[0],r._mouseCapture(t,!0),r._mouseStart(t,!0,!0),r.offset.click.top=i.offset.click.top,r.offset.click.left=i.offset.click.left,r.offset.parent.left-=i.offset.parent.left-r.offset.parent.left,r.offset.parent.top-=i.offset.parent.top-r.offset.parent.top,i._trigger("toSortable",t),i.dropped=r.element,e.each(i.sortables,function(){this.refreshPositions()}),i.currentItem=i.element,r.fromOutside=i),r.currentItem&&(r._mouseDrag(t),s.position=r.position)):r.isOver&&(r.isOver=0,r.cancelHelperRemoval=!0,r.options._revert=r.options.revert,r.options.revert=!1,r._trigger("out",t,r._uiHash(r)),r._mouseStop(t,!0),r.options.revert=r.options._revert,r.options.helper=r.options._helper,r.placeholder&&r.placeholder.remove(),s.helper.appendTo(i._parent),i._refreshOffsets(t),s.position=i._generatePosition(t,!0),i._trigger("fromSortable",t),i.dropped=!1,e.each(i.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,s,i){var o=e("body"),r=i.options;o.css("cursor")&&(r._cursor=o.css("cursor")),o.css("cursor",r.cursor)},stop:function(t,s,i){var o=i.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,s,i){var o=e(s.helper),r=i.options;o.css("opacity")&&(r._opacity=o.css("opacity")),o.css("opacity",r.opacity)},stop:function(t,s,i){var o=i.options;o._opacity&&e(s.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(t,e,s){s.scrollParentNotHidden||(s.scrollParentNotHidden=s.helper.scrollParent(!1)),s.scrollParentNotHidden[0]!==s.document[0]&&"HTML"!==s.scrollParentNotHidden[0].tagName&&(s.overflowOffset=s.scrollParentNotHidden.offset())},drag:function(t,s,i){var o=i.options,r=!1,n=i.scrollParentNotHidden[0],l=i.document[0];n!==l&&"HTML"!==n.tagName?(o.axis&&"x"===o.axis||(i.overflowOffset.top+n.offsetHeight-t.pageY<o.scrollSensitivity?n.scrollTop=r=n.scrollTop+o.scrollSpeed:t.pageY-i.overflowOffset.top<o.scrollSensitivity&&(n.scrollTop=r=n.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(i.overflowOffset.left+n.offsetWidth-t.pageX<o.scrollSensitivity?n.scrollLeft=r=n.scrollLeft+o.scrollSpeed:t.pageX-i.overflowOffset.left<o.scrollSensitivity&&(n.scrollLeft=r=n.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(l).scrollTop()<o.scrollSensitivity?r=e(l).scrollTop(e(l).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(l).scrollTop())<o.scrollSensitivity&&(r=e(l).scrollTop(e(l).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(l).scrollLeft()<o.scrollSensitivity?r=e(l).scrollLeft(e(l).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(l).scrollLeft())<o.scrollSensitivity&&(r=e(l).scrollLeft(e(l).scrollLeft()+o.scrollSpeed)))),!1!==r&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(i,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,s,i){var o=i.options;i.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),s=t.offset();this!==i.element[0]&&i.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:s.top,left:s.left})})},drag:function(t,s,i){var o,r,n,l,a,h,p,c,f,d,g=i.options,u=g.snapTolerance,m=s.offset.left,v=m+i.helperProportions.width,_=s.offset.top,P=_+i.helperProportions.height;for(f=i.snapElements.length-1;f>=0;f--)h=(a=i.snapElements[f].left-i.margins.left)+i.snapElements[f].width,c=(p=i.snapElements[f].top-i.margins.top)+i.snapElements[f].height,v<a-u||m>h+u||P<p-u||_>c+u||!e.contains(i.snapElements[f].item.ownerDocument,i.snapElements[f].item)?(i.snapElements[f].snapping&&i.options.snap.release&&i.options.snap.release.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=!1):("inner"!==g.snapMode&&(o=Math.abs(p-P)<=u,r=Math.abs(c-_)<=u,n=Math.abs(a-v)<=u,l=Math.abs(h-m)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p-i.helperProportions.height,left:0}).top),r&&(s.position.top=i._convertPositionTo("relative",{top:c,left:0}).top),n&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a-i.helperProportions.width}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h}).left)),d=o||r||n||l,"outer"!==g.snapMode&&(o=Math.abs(p-_)<=u,r=Math.abs(c-P)<=u,n=Math.abs(a-m)<=u,l=Math.abs(h-v)<=u,o&&(s.position.top=i._convertPositionTo("relative",{top:p,left:0}).top),r&&(s.position.top=i._convertPositionTo("relative",{top:c-i.helperProportions.height,left:0}).top),n&&(s.position.left=i._convertPositionTo("relative",{top:0,left:a}).left),l&&(s.position.left=i._convertPositionTo("relative",{top:0,left:h-i.helperProportions.width}).left)),!i.snapElements[f].snapping&&(o||r||n||l||d)&&i.options.snap.snap&&i.options.snap.snap.call(i.element,t,e.extend(i._uiHash(),{snapItem:i.snapElements[f].item})),i.snapElements[f].snapping=o||r||n||l||d)}}),e.ui.plugin.add("draggable","stack",{start:function(t,s,i){var o,r=i.options,n=e.makeArray(e(r.stack)).sort(function(t,s){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(s).css("zIndex"),10)||0)});n.length&&(o=parseInt(e(n[0]).css("zIndex"),10)||0,e(n).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+n.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,s,i){var o=e(s.helper),r=i.options;o.css("zIndex")&&(r._zIndex=o.css("zIndex")),o.css("zIndex",r.zIndex)},stop:function(t,s,i){var o=i.options;o._zIndex&&e(s.helper).css("zIndex",o._zIndex)}}),e.ui.draggable)}();

},{"../data":89,"../plugin":98,"../safe-active-element":100,"../safe-blur":101,"../scroll-parent":102,"../version":105,"../widget":106,"./mouse":114,"jquery":116}],113:[function(require,module,exports){
!function(e){var t;module.exports=(t=require("jquery"),require("../keycode"),require("../position"),require("../safe-active-element"),require("../unique-id"),require("../version"),require("../widget"),t.widget("ui.menu",{version:"1.12.1",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-caret-1-e"},items:"> *",menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().attr({role:this.options.role,tabIndex:0}),this._addClass("ui-menu","ui-widget ui-widget-content"),this._on({"mousedown .ui-menu-item":function(e){e.preventDefault()},"click .ui-menu-item":function(e){var i=t(e.target),s=t(t.ui.safeActiveElement(this.document[0]));!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.select(e),e.isPropagationStopped()||(this.mouseHandled=!0),i.has(".ui-menu").length?this.expand(e):!this.element.is(":focus")&&s.closest(".ui-menu").length&&(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){if(!this.previousFilter){var i=t(e.target).closest(".ui-menu-item"),s=t(e.currentTarget);i[0]===s[0]&&(this._removeClass(s.siblings().children(".ui-state-active"),null,"ui-state-active"),this.focus(e,s))}},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(e,t){var i=this.active||this.element.find(this.options.items).eq(0);t||this.focus(e,i)},blur:function(e){this._delay(function(){var i=!t.contains(this.element[0],t.ui.safeActiveElement(this.document[0]));i&&this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){this._closeOnDocumentClick(e)&&this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){var e=this.element.find(".ui-menu-item").removeAttr("role aria-disabled"),i=e.children(".ui-menu-item-wrapper").removeUniqueId().removeAttr("tabIndex role aria-haspopup");this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeAttr("role aria-labelledby aria-expanded aria-hidden aria-disabled tabIndex").removeUniqueId().show(),i.children().each(function(){var e=t(this);e.data("ui-menu-submenu-caret")&&e.remove()})},_keydown:function(e){var i,s,n,a,u=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:u=!1,s=this.previousFilter||"",a=!1,n=e.keyCode>=96&&e.keyCode<=105?(e.keyCode-96).toString():String.fromCharCode(e.keyCode),clearTimeout(this.filterTimer),n===s?a=!0:n=s+n,i=this._filterMenuItems(n),(i=a&&-1!==i.index(this.active.next())?this.active.nextAll(".ui-menu-item"):i).length||(n=String.fromCharCode(e.keyCode),i=this._filterMenuItems(n)),i.length?(this.focus(e,i),this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter}u&&e.preventDefault()},_activate:function(e){this.active&&!this.active.is(".ui-state-disabled")&&(this.active.children("[aria-haspopup='true']").length?this.expand(e):this.select(e))},refresh:function(){var e,i,s,n,a,u=this,r=this.options.icons.submenu,o=this.element.find(this.options.menus);this._toggleClass("ui-menu-icons",null,!!this.element.find(".ui-icon").length),s=o.filter(":not(.ui-menu)").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),i=e.prev(),s=t("<span>").data("ui-menu-submenu-caret",!0);u._addClass(s,"ui-menu-icon","ui-icon "+r),i.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",i.attr("id"))}),this._addClass(s,"ui-menu","ui-widget ui-widget-content ui-front"),e=o.add(this.element),(i=e.find(this.options.items)).not(".ui-menu-item").each(function(){var e=t(this);u._isDivider(e)&&u._addClass(e,"ui-menu-divider","ui-widget-content")}),n=i.not(".ui-menu-item, .ui-menu-divider"),a=n.children().not(".ui-menu").uniqueId().attr({tabIndex:-1,role:this._itemRole()}),this._addClass(n,"ui-menu-item")._addClass(a,"ui-menu-item-wrapper"),i.filter(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(e,t){if("icons"===e){var i=this.element.find(".ui-menu-icon");this._removeClass(i,null,this.options.icons.submenu)._addClass(i,null,t.submenu)}this._super(e,t)},_setOptionDisabled:function(e){this._super(e),this.element.attr("aria-disabled",String(e)),this._toggleClass(null,"ui-state-disabled",!!e)},focus:function(e,t){var i,s,n;this.blur(e,e&&"focus"===e.type),this._scrollIntoView(t),this.active=t.first(),s=this.active.children(".ui-menu-item-wrapper"),this._addClass(s,null,"ui-state-active"),this.options.role&&this.element.attr("aria-activedescendant",s.attr("id")),n=this.active.parent().closest(".ui-menu-item").children(".ui-menu-item-wrapper"),this._addClass(n,null,"ui-state-active"),e&&"keydown"===e.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),(i=t.children(".ui-menu")).length&&e&&/^mouse/.test(e.type)&&this._startOpening(i),this.activeMenu=t.parent(),this._trigger("focus",e,{item:t})},_scrollIntoView:function(e){var i,s,n,a,u,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,s=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,n=e.offset().top-this.activeMenu.offset().top-i-s,a=this.activeMenu.scrollTop(),u=this.activeMenu.height(),r=e.outerHeight(),n<0?this.activeMenu.scrollTop(a+n):n+r>u&&this.activeMenu.scrollTop(a+n-u+r))},blur:function(e,t){t||clearTimeout(this.timer),this.active&&(this._removeClass(this.active.children(".ui-menu-item-wrapper"),null,"ui-state-active"),this._trigger("blur",e,{item:this.active}),this.active=null)},_startOpening:function(e){clearTimeout(this.timer),"true"===e.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(e)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var s=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));s.length||(s=this.element),this._close(s),this.blur(e),this._removeClass(s.find(".ui-state-active"),null,"ui-state-active"),this.activeMenu=s},this.delay)},_close:function(e){e||(e=this.active?this.active.parent():this.element),e.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false")},_closeOnDocumentClick:function(e){return!t(e.target).closest(".ui-menu").length},_isDivider:function(e){return!/[^\-\u2014\u2013\s]/.test(e.text())},collapse:function(e){var t=this.active&&this.active.parent().closest(".ui-menu-item",this.element);t&&t.length&&(this._close(),this.focus(e,t))},expand:function(e){var t=this.active&&this.active.children(".ui-menu ").find(this.options.items).first();t&&t.length&&(this._open(t.parent()),this._delay(function(){this.focus(e,t)}))},next:function(e){this._move("next","first",e)},previous:function(e){this._move("prev","last",e)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(e,t,i){var s;this.active&&(s="first"===e||"last"===e?this.active["first"===e?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[e+"All"](".ui-menu-item").eq(0)),s&&s.length&&this.active||(s=this.activeMenu.find(this.options.items)[t]()),this.focus(i,s)},nextPage:function(e){var i,s,n;this.active?this.isLastItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-s-n<0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items)[this.active?"last":"first"]())):this.next(e)},previousPage:function(e){var i,s,n;this.active?this.isFirstItem()||(this._hasScroll()?(s=this.active.offset().top,n=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return(i=t(this)).offset().top-s+n>0}),this.focus(e,i)):this.focus(e,this.activeMenu.find(this.options.items).first())):this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)},_filterMenuItems:function(e){var i=e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&"),s=new RegExp("^"+i,"i");return this.activeMenu.find(this.options.items).filter(".ui-menu-item").filter(function(){return s.test(t.trim(t(this).children(".ui-menu-item-wrapper").text()))})}}))}();

},{"../keycode":96,"../position":99,"../safe-active-element":100,"../unique-id":104,"../version":105,"../widget":106,"jquery":116}],114:[function(require,module,exports){
!function(e){var t,i;module.exports=(t=require("jquery"),require("../ie"),require("../version"),require("../widget"),i=!1,t(document).on("mouseup",function(){i=!1}),t.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(i){if(!0===t.data(i.target,e.widgetName+".preventClickEvent"))return t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(e){if(!i){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(e),this._mouseDownEvent=e;var s=this,o=1===e.which,u=!("string"!=typeof this.options.cancel||!e.target.nodeName)&&t(e.target).closest(this.options.cancel).length;return!(o&&!u&&this._mouseCapture(e)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){s.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(e),!this._mouseStarted)?(e.preventDefault(),0):(!0===t.data(e.target,this.widgetName+".preventClickEvent")&&t.removeData(e.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return s._mouseMove(e)},this._mouseUpDelegate=function(e){return s._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),e.preventDefault(),i=!0,0)))}},_mouseMove:function(e){if(this._mouseMoved){if(t.ui.ie&&(!document.documentMode||document.documentMode<9)&&!e.button)return this._mouseUp(e);if(!e.which)if(e.originalEvent.altKey||e.originalEvent.ctrlKey||e.originalEvent.metaKey||e.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(e)}return(e.which||e.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,e),this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,i=!1,e.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}))}();

},{"../ie":95,"../version":105,"../widget":106,"jquery":116}],115:[function(require,module,exports){
!function(t){var i;module.exports=(i=require("jquery"),require("./mouse"),require("../disable-selection"),require("../plugin"),require("../version"),require("../widget"),i.widget("ui.resizable",i.ui.mouse,{version:"1.12.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===i(t).css("overflow"))return!1;var s,h=e&&"left"===e?"scrollLeft":"scrollTop";return t[h]>0||(t[h]=1,s=t[h]>0,t[h]=0,s)},_create:function(){var t,e=this.options,s=this;this._addClass("ui-resizable"),i.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(i("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&i(this.element).on("mouseenter",function(){e.disabled||(s._removeClass("ui-resizable-autohide"),s._handles.show())}).on("mouseleave",function(){e.disabled||s.resizing||(s._addClass("ui-resizable-autohide"),s._handles.hide())}),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,e=function(t){i(t).removeData("resizable").removeData("ui-resizable").off(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(e(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),e(this.originalElement),this},_setOption:function(t,i){switch(this._super(t,i),t){case"handles":this._removeHandles(),this._setupHandles()}},_setupHandles:function(){var t,e,s,h,n,o=this.options,a=this;if(this.handles=o.handles||(i(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=i(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),s=this.handles.split(","),this.handles={},e=0;e<s.length;e++)h="ui-resizable-"+(t=i.trim(s[e])),n=i("<div>"),this._addClass(n,"ui-resizable-handle "+h),n.css({zIndex:o.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.append(n);this._renderAxis=function(t){var e,s,h,n;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=i(this.handles[e]),this._on(this.handles[e],{mousedown:a._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(s=i(this.handles[e],this.element),n=/sw|ne|nw|se|n|s/.test(e)?s.outerHeight():s.outerWidth(),h=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(h,n),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){a.resizing||(this.className&&(n=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=n&&n[1]?n[1]:"se")}),o.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._handles.remove()},_mouseCapture:function(t){var e,s,h=!1;for(e in this.handles)((s=i(this.handles[e])[0])===t.target||i.contains(s,t.target))&&(h=!0);return!this.options.disabled&&h},_mouseStart:function(t){var e,s,h,n=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),s=this._num(this.helper.css("top")),n.containment&&(e+=i(n.containment).scrollLeft()||0,s+=i(n.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:s},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:s},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof n.aspectRatio?n.aspectRatio:this.originalSize.width/this.originalSize.height||1,h=i(".ui-resizable-"+this.axis).css("cursor"),i("body").css("cursor","auto"===h?this.axis+"-resize":h),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e,s,h=this.originalMousePosition,n=this.axis,o=t.pageX-h.left||0,a=t.pageY-h.top||0,l=this._change[n];return this._updatePrevProperties(),!!l&&(e=l.apply(this,[t,o,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),s=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),i.isEmptyObject(s)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1)},_mouseStop:function(t){this.resizing=!1;var e,s,h,n,o,a,l,r=this.options;return this._helper&&(h=(s=(e=this._proportionallyResizeElements).length&&/textarea/i.test(e[0].nodeName))&&this._hasScroll(e[0],"left")?0:this.sizeDiff.height,n=s?0:this.sizeDiff.width,o={width:this.helper.width()-n,height:this.helper.height()-h},a=parseFloat(this.element.css("left"))+(this.position.left-this.originalPosition.left)||null,l=parseFloat(this.element.css("top"))+(this.position.top-this.originalPosition.top)||null,r.animate||this.element.css(i.extend(o,{top:l,left:a})),this.helper.height(this.size.height),this.helper.width(this.size.width),this._helper&&!r.animate&&this._proportionallyResize()),i("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var i,e,s,h,n,o=this.options;n={minWidth:this._isNumber(o.minWidth)?o.minWidth:0,maxWidth:this._isNumber(o.maxWidth)?o.maxWidth:1/0,minHeight:this._isNumber(o.minHeight)?o.minHeight:0,maxHeight:this._isNumber(o.maxHeight)?o.maxHeight:1/0},(this._aspectRatio||t)&&(i=n.minHeight*this.aspectRatio,s=n.minWidth/this.aspectRatio,e=n.maxHeight*this.aspectRatio,h=n.maxWidth/this.aspectRatio,i>n.minWidth&&(n.minWidth=i),s>n.minHeight&&(n.minHeight=s),e<n.maxWidth&&(n.maxWidth=e),h<n.maxHeight&&(n.maxHeight=h)),this._vBoundaries=n},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var i=this.position,e=this.size,s=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=i.left+(e.width-t.width),t.top=null),"nw"===s&&(t.top=i.top+(e.height-t.height),t.left=i.left+(e.width-t.width)),t},_respectSize:function(t){var i=this._vBoundaries,e=this.axis,s=this._isNumber(t.width)&&i.maxWidth&&i.maxWidth<t.width,h=this._isNumber(t.height)&&i.maxHeight&&i.maxHeight<t.height,n=this._isNumber(t.width)&&i.minWidth&&i.minWidth>t.width,o=this._isNumber(t.height)&&i.minHeight&&i.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,r=/sw|nw|w/.test(e),p=/nw|ne|n/.test(e);return n&&(t.width=i.minWidth),o&&(t.height=i.minHeight),s&&(t.width=i.maxWidth),h&&(t.height=i.maxHeight),n&&r&&(t.left=a-i.minWidth),s&&r&&(t.left=a-i.maxWidth),o&&p&&(t.top=l-i.minHeight),h&&p&&(t.top=l-i.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var i=0,e=[],s=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],h=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];i<4;i++)e[i]=parseFloat(s[i])||0,e[i]+=parseFloat(h[i])||0;return{height:e[0]+e[2],width:e[1]+e[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,i=0,e=this.helper||this.element;i<this._proportionallyResizeElements.length;i++)t=this._proportionallyResizeElements[i],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:e.height()-this.outerDimensions.height||0,width:e.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||i("<div style='overflow:hidden;'></div>"),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,i){return{width:this.originalSize.width+i}},w:function(t,i){var e=this.originalSize;return{left:this.originalPosition.left+i,width:e.width-i}},n:function(t,i,e){var s=this.originalSize;return{top:this.originalPosition.top+e,height:s.height-e}},s:function(t,i,e){return{height:this.originalSize.height+e}},se:function(t,e,s){return i.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,s]))},sw:function(t,e,s){return i.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,s]))},ne:function(t,e,s){return i.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,s]))},nw:function(t,e,s){return i.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,s]))}},_propagate:function(t,e){i.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),i.ui.plugin.add("resizable","animate",{stop:function(t){var e=i(this).resizable("instance"),s=e.options,h=e._proportionallyResizeElements,n=h.length&&/textarea/i.test(h[0].nodeName),o=n&&e._hasScroll(h[0],"left")?0:e.sizeDiff.height,a=n?0:e.sizeDiff.width,l={width:e.size.width-a,height:e.size.height-o},r=parseFloat(e.element.css("left"))+(e.position.left-e.originalPosition.left)||null,p=parseFloat(e.element.css("top"))+(e.position.top-e.originalPosition.top)||null;e.element.animate(i.extend(l,p&&r?{top:p,left:r}:{}),{duration:s.animateDuration,easing:s.animateEasing,step:function(){var s={width:parseFloat(e.element.css("width")),height:parseFloat(e.element.css("height")),top:parseFloat(e.element.css("top")),left:parseFloat(e.element.css("left"))};h&&h.length&&i(h[0]).css({width:s.width,height:s.height}),e._updateCache(s),e._propagate("resize",t)}})}}),i.ui.plugin.add("resizable","containment",{start:function(){var t,e,s,h,n,o,a,l=i(this).resizable("instance"),r=l.options,p=l.element,d=r.containment,g=d instanceof i?d.get(0):/parent/.test(d)?p.parent().get(0):d;g&&(l.containerElement=i(g),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:i(document),left:0,top:0,width:i(document).width(),height:i(document).height()||document.body.parentNode.scrollHeight}):(t=i(g),e=[],i(["Top","Right","Left","Bottom"]).each(function(i,s){e[i]=l._num(t.css("padding"+s))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-e[3],width:t.innerWidth()-e[1]},s=l.containerOffset,h=l.containerSize.height,n=l.containerSize.width,o=l._hasScroll(g,"left")?g.scrollWidth:n,a=l._hasScroll(g)?g.scrollHeight:h,l.parentData={element:g,left:s.left,top:s.top,width:o,height:a}))},resize:function(t){var e,s,h,n,o=i(this).resizable("instance"),a=o.options,l=o.containerOffset,r=o.position,p=o._aspectRatio||t.shiftKey,d={top:0,left:0},g=o.containerElement,u=!0;g[0]!==document&&/static/.test(g.css("position"))&&(d=l),r.left<(o._helper?l.left:0)&&(o.size.width=o.size.width+(o._helper?o.position.left-l.left:o.position.left-d.left),p&&(o.size.height=o.size.width/o.aspectRatio,u=!1),o.position.left=a.helper?l.left:0),r.top<(o._helper?l.top:0)&&(o.size.height=o.size.height+(o._helper?o.position.top-l.top:o.position.top),p&&(o.size.width=o.size.height*o.aspectRatio,u=!1),o.position.top=o._helper?l.top:0),h=o.containerElement.get(0)===o.element.parent().get(0),n=/relative|absolute/.test(o.containerElement.css("position")),h&&n?(o.offset.left=o.parentData.left+o.position.left,o.offset.top=o.parentData.top+o.position.top):(o.offset.left=o.element.offset().left,o.offset.top=o.element.offset().top),e=Math.abs(o.sizeDiff.width+(o._helper?o.offset.left-d.left:o.offset.left-l.left)),s=Math.abs(o.sizeDiff.height+(o._helper?o.offset.top-d.top:o.offset.top-l.top)),e+o.size.width>=o.parentData.width&&(o.size.width=o.parentData.width-e,p&&(o.size.height=o.size.width/o.aspectRatio,u=!1)),s+o.size.height>=o.parentData.height&&(o.size.height=o.parentData.height-s,p&&(o.size.width=o.size.height*o.aspectRatio,u=!1)),u||(o.position.left=o.prevPosition.left,o.position.top=o.prevPosition.top,o.size.width=o.prevSize.width,o.size.height=o.prevSize.height)},stop:function(){var t=i(this).resizable("instance"),e=t.options,s=t.containerOffset,h=t.containerPosition,n=t.containerElement,o=i(t.helper),a=o.offset(),l=o.outerWidth()-t.sizeDiff.width,r=o.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(n.css("position"))&&i(this).css({left:a.left-h.left-s.left,width:l,height:r}),t._helper&&!e.animate&&/static/.test(n.css("position"))&&i(this).css({left:a.left-h.left-s.left,width:l,height:r})}}),i.ui.plugin.add("resizable","alsoResize",{start:function(){var t=i(this).resizable("instance").options;i(t.alsoResize).each(function(){var t=i(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,e){var s=i(this).resizable("instance"),h=s.options,n=s.originalSize,o=s.originalPosition,a={height:s.size.height-n.height||0,width:s.size.width-n.width||0,top:s.position.top-o.top||0,left:s.position.left-o.left||0};i(h.alsoResize).each(function(){var t=i(this),s=i(this).data("ui-resizable-alsoresize"),h={},n=t.parents(e.originalElement[0]).length?["width","height"]:["width","height","top","left"];i.each(n,function(t,i){var e=(s[i]||0)+(a[i]||0);e&&e>=0&&(h[i]=e||null)}),t.css(h)})},stop:function(){i(this).removeData("ui-resizable-alsoresize")}}),i.ui.plugin.add("resizable","ghost",{start:function(){var t=i(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==i.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=i(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=i(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),i.ui.plugin.add("resizable","grid",{resize:function(){var t,e=i(this).resizable("instance"),s=e.options,h=e.size,n=e.originalSize,o=e.originalPosition,a=e.axis,l="number"==typeof s.grid?[s.grid,s.grid]:s.grid,r=l[0]||1,p=l[1]||1,d=Math.round((h.width-n.width)/r)*r,g=Math.round((h.height-n.height)/p)*p,u=n.width+d,f=n.height+g,m=s.maxWidth&&s.maxWidth<u,c=s.maxHeight&&s.maxHeight<f,z=s.minWidth&&s.minWidth>u,w=s.minHeight&&s.minHeight>f;s.grid=l,z&&(u+=r),w&&(f+=p),m&&(u-=r),c&&(f-=p),/^(se|s|e)$/.test(a)?(e.size.width=u,e.size.height=f):/^(ne)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.top=o.top-g):/^(sw)$/.test(a)?(e.size.width=u,e.size.height=f,e.position.left=o.left-d):((f-p<=0||u-r<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),f-p>0?(e.size.height=f,e.position.top=o.top-g):(f=p-t.height,e.size.height=f,e.position.top=o.top+n.height-f),u-r>0?(e.size.width=u,e.position.left=o.left-d):(u=r-t.width,e.size.width=u,e.position.left=o.left+n.width-u))}}),i.ui.resizable)}();

},{"../disable-selection":90,"../plugin":98,"../version":105,"../widget":106,"./mouse":114,"jquery":116}],116:[function(require,module,exports){
!function(e,t){"object"==typeof module&&"object"==typeof module.exports?module.exports=e.document?t(e,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return t(e)}:t(e)}("undefined"!=typeof window?window:this,function(e,t){var n=[],r=e.document,i=n.slice,o=n.concat,s=n.push,a=n.indexOf,u={},l=u.toString,c=u.hasOwnProperty,f={},p=function(e,t){return new p.fn.init(e,t)},d=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,h=/^-ms-/,g=/-([\da-z])/gi,v=function(e,t){return t.toUpperCase()};function m(e){var t=!!e&&"length"in e&&e.length,n=p.type(e);return"function"!==n&&!p.isWindow(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}p.fn=p.prototype={jquery:"2.2.4",constructor:p,selector:"",length:0,toArray:function(){return i.call(this)},get:function(e){return null!=e?e<0?this[e+this.length]:this[e]:i.call(this)},pushStack:function(e){var t=p.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e){return p.each(this,e)},map:function(e){return this.pushStack(p.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(i.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:s,sort:n.sort,splice:n.splice},p.extend=p.fn.extend=function(){var e,t,n,r,i,o,s=arguments[0]||{},a=1,u=arguments.length,l=!1;for("boolean"==typeof s&&(l=s,s=arguments[a]||{},a++),"object"==typeof s||p.isFunction(s)||(s={}),a===u&&(s=this,a--);a<u;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(r=e[t])&&(l&&r&&(p.isPlainObject(r)||(i=p.isArray(r)))?(i?(i=!1,o=n&&p.isArray(n)?n:[]):o=n&&p.isPlainObject(n)?n:{},s[t]=p.extend(l,o,r)):void 0!==r&&(s[t]=r));return s},p.extend({expando:"jQuery"+("2.2.4"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isFunction:function(e){return"function"===p.type(e)},isArray:Array.isArray,isWindow:function(e){return null!=e&&e===e.window},isNumeric:function(e){var t=e&&e.toString();return!p.isArray(e)&&t-parseFloat(t)+1>=0},isPlainObject:function(e){var t;if("object"!==p.type(e)||e.nodeType||p.isWindow(e))return!1;if(e.constructor&&!c.call(e,"constructor")&&!c.call(e.constructor.prototype||{},"isPrototypeOf"))return!1;for(t in e);return void 0===t||c.call(e,t)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?u[l.call(e)]||"object":typeof e},globalEval:function(e){var t,n=eval;(e=p.trim(e))&&(1===e.indexOf("use strict")?((t=r.createElement("script")).text=e,r.head.appendChild(t).parentNode.removeChild(t)):n(e))},camelCase:function(e){return e.replace(h,"ms-").replace(g,v)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t){var n,r=0;if(m(e))for(n=e.length;r<n&&!1!==t.call(e[r],r,e[r]);r++);else for(r in e)if(!1===t.call(e[r],r,e[r]))break;return e},trim:function(e){return null==e?"":(e+"").replace(d,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(m(Object(e))?p.merge(n,"string"==typeof e?[e]:e):s.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:a.call(t,e,n)},merge:function(e,t){for(var n=+t.length,r=0,i=e.length;r<n;r++)e[i++]=t[r];return e.length=i,e},grep:function(e,t,n){for(var r=[],i=0,o=e.length,s=!n;i<o;i++)!t(e[i],i)!==s&&r.push(e[i]);return r},map:function(e,t,n){var r,i,s=0,a=[];if(m(e))for(r=e.length;s<r;s++)null!=(i=t(e[s],s,n))&&a.push(i);else for(s in e)null!=(i=t(e[s],s,n))&&a.push(i);return o.apply([],a)},guid:1,proxy:function(e,t){var n,r,o;if("string"==typeof t&&(n=e[t],t=e,e=n),p.isFunction(e))return r=i.call(arguments,2),(o=function(){return e.apply(t||this,r.concat(i.call(arguments)))}).guid=e.guid=e.guid||p.guid++,o},now:Date.now,support:f}),"function"==typeof Symbol&&(p.fn[Symbol.iterator]=n[Symbol.iterator]),p.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){u["[object "+t+"]"]=t.toLowerCase()});var y=function(e){var t,n,r,i,o,s,a,u,l,c,f,p,d,h,g,v,m,y,x,b="sizzle"+1*new Date,w=e.document,T=0,C=0,k=oe(),E=oe(),N=oe(),S=function(e,t){return e===t&&(f=!0),0},D=1<<31,j={}.hasOwnProperty,A=[],q=A.pop,L=A.push,H=A.push,O=A.slice,F=function(e,t){for(var n=0,r=e.length;n<r;n++)if(e[n]===t)return n;return-1},P="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",R="[\\x20\\t\\r\\n\\f]",M="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",I="\\["+R+"*("+M+")(?:"+R+"*([*^$|!~]?=)"+R+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+M+"))|)"+R+"*\\]",W=":("+M+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+I+")*)|.*)\\)|)",$=new RegExp(R+"+","g"),B=new RegExp("^"+R+"+|((?:^|[^\\\\])(?:\\\\.)*)"+R+"+$","g"),_=new RegExp("^"+R+"*,"+R+"*"),X=new RegExp("^"+R+"*([>+~]|"+R+")"+R+"*"),z=new RegExp("="+R+"*([^\\]'\"]*?)"+R+"*\\]","g"),U=new RegExp(W),V=new RegExp("^"+M+"$"),Y={ID:new RegExp("^#("+M+")"),CLASS:new RegExp("^\\.("+M+")"),TAG:new RegExp("^("+M+"|[*])"),ATTR:new RegExp("^"+I),PSEUDO:new RegExp("^"+W),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+R+"*(even|odd|(([+-]|)(\\d*)n|)"+R+"*(?:([+-]|)"+R+"*(\\d+)|))"+R+"*\\)|)","i"),bool:new RegExp("^(?:"+P+")$","i"),needsContext:new RegExp("^"+R+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+R+"*((?:-\\d)?\\d*)"+R+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,Q=/^h\d$/i,J=/^[^{]+\{\s*\[native \w/,K=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Z=/[+~]/,ee=/'|\\/g,te=new RegExp("\\\\([\\da-f]{1,6}"+R+"?|("+R+")|.)","ig"),ne=function(e,t,n){var r="0x"+t-65536;return r!=r||n?t:r<0?String.fromCharCode(r+65536):String.fromCharCode(r>>10|55296,1023&r|56320)},re=function(){p()};try{H.apply(A=O.call(w.childNodes),w.childNodes),A[w.childNodes.length].nodeType}catch(e){H={apply:A.length?function(e,t){L.apply(e,O.call(t))}:function(e,t){for(var n=e.length,r=0;e[n++]=t[r++];);e.length=n-1}}}function ie(e,t,r,i){var o,a,l,c,f,h,m,y,T=t&&t.ownerDocument,C=t?t.nodeType:9;if(r=r||[],"string"!=typeof e||!e||1!==C&&9!==C&&11!==C)return r;if(!i&&((t?t.ownerDocument||t:w)!==d&&p(t),t=t||d,g)){if(11!==C&&(h=K.exec(e)))if(o=h[1]){if(9===C){if(!(l=t.getElementById(o)))return r;if(l.id===o)return r.push(l),r}else if(T&&(l=T.getElementById(o))&&x(t,l)&&l.id===o)return r.push(l),r}else{if(h[2])return H.apply(r,t.getElementsByTagName(e)),r;if((o=h[3])&&n.getElementsByClassName&&t.getElementsByClassName)return H.apply(r,t.getElementsByClassName(o)),r}if(n.qsa&&!N[e+" "]&&(!v||!v.test(e))){if(1!==C)T=t,y=e;else if("object"!==t.nodeName.toLowerCase()){for((c=t.getAttribute("id"))?c=c.replace(ee,"\\$&"):t.setAttribute("id",c=b),a=(m=s(e)).length,f=V.test(c)?"#"+c:"[id='"+c+"']";a--;)m[a]=f+" "+ge(m[a]);y=m.join(","),T=Z.test(e)&&de(t.parentNode)||t}if(y)try{return H.apply(r,T.querySelectorAll(y)),r}catch(e){}finally{c===b&&t.removeAttribute("id")}}}return u(e.replace(B,"$1"),t,r,i)}function oe(){var e=[];return function t(n,i){return e.push(n+" ")>r.cacheLength&&delete t[e.shift()],t[n+" "]=i}}function se(e){return e[b]=!0,e}function ae(e){var t=d.createElement("div");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ue(e,t){for(var n=e.split("|"),i=n.length;i--;)r.attrHandle[n[i]]=t}function le(e,t){var n=t&&e,r=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||D)-(~e.sourceIndex||D);if(r)return r;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function ce(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function fe(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return se(function(t){return t=+t,se(function(n,r){for(var i,o=e([],n.length,t),s=o.length;s--;)n[i=o[s]]&&(n[i]=!(r[i]=n[i]))})})}function de(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ie.support={},o=ie.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},p=ie.setDocument=function(e){var t,i,s=e?e.ownerDocument||e:w;return s!==d&&9===s.nodeType&&s.documentElement?(h=(d=s).documentElement,g=!o(d),(i=d.defaultView)&&i.top!==i&&(i.addEventListener?i.addEventListener("unload",re,!1):i.attachEvent&&i.attachEvent("onunload",re)),n.attributes=ae(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=ae(function(e){return e.appendChild(d.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=J.test(d.getElementsByClassName),n.getById=ae(function(e){return h.appendChild(e).id=b,!d.getElementsByName||!d.getElementsByName(b).length}),n.getById?(r.find.ID=function(e,t){if(void 0!==t.getElementById&&g){var n=t.getElementById(e);return n?[n]:[]}},r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}}):(delete r.find.ID,r.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}}),r.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,r=[],i=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[i++];)1===n.nodeType&&r.push(n);return r}return o},r.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&g)return t.getElementsByClassName(e)},m=[],v=[],(n.qsa=J.test(d.querySelectorAll))&&(ae(function(e){h.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&v.push("[*^$]="+R+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||v.push("\\["+R+"*(?:value|"+P+")"),e.querySelectorAll("[id~="+b+"-]").length||v.push("~="),e.querySelectorAll(":checked").length||v.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||v.push(".#.+[+~]")}),ae(function(e){var t=d.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&v.push("name"+R+"*[*^$|!~]?="),e.querySelectorAll(":enabled").length||v.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),v.push(",.*:")})),(n.matchesSelector=J.test(y=h.matches||h.webkitMatchesSelector||h.mozMatchesSelector||h.oMatchesSelector||h.msMatchesSelector))&&ae(function(e){n.disconnectedMatch=y.call(e,"div"),y.call(e,"[s!='']:x"),m.push("!=",W)}),v=v.length&&new RegExp(v.join("|")),m=m.length&&new RegExp(m.join("|")),t=J.test(h.compareDocumentPosition),x=t||J.test(h.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,r=t&&t.parentNode;return e===r||!(!r||1!==r.nodeType||!(n.contains?n.contains(r):e.compareDocumentPosition&&16&e.compareDocumentPosition(r)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},S=t?function(e,t){if(e===t)return f=!0,0;var r=!e.compareDocumentPosition-!t.compareDocumentPosition;return r||(1&(r=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===r?e===d||e.ownerDocument===w&&x(w,e)?-1:t===d||t.ownerDocument===w&&x(w,t)?1:c?F(c,e)-F(c,t):0:4&r?-1:1)}:function(e,t){if(e===t)return f=!0,0;var n,r=0,i=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!i||!o)return e===d?-1:t===d?1:i?-1:o?1:c?F(c,e)-F(c,t):0;if(i===o)return le(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[r]===a[r];)r++;return r?le(s[r],a[r]):s[r]===w?-1:a[r]===w?1:0},d):d},ie.matches=function(e,t){return ie(e,null,null,t)},ie.matchesSelector=function(e,t){if((e.ownerDocument||e)!==d&&p(e),t=t.replace(z,"='$1']"),n.matchesSelector&&g&&!N[t+" "]&&(!m||!m.test(t))&&(!v||!v.test(t)))try{var r=y.call(e,t);if(r||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return r}catch(e){}return ie(t,d,null,[e]).length>0},ie.contains=function(e,t){return(e.ownerDocument||e)!==d&&p(e),x(e,t)},ie.attr=function(e,t){(e.ownerDocument||e)!==d&&p(e);var i=r.attrHandle[t.toLowerCase()],o=i&&j.call(r.attrHandle,t.toLowerCase())?i(e,t,!g):void 0;return void 0!==o?o:n.attributes||!g?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ie.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ie.uniqueSort=function(e){var t,r=[],i=0,o=0;if(f=!n.detectDuplicates,c=!n.sortStable&&e.slice(0),e.sort(S),f){for(;t=e[o++];)t===e[o]&&(i=r.push(o));for(;i--;)e.splice(r[i],1)}return c=null,e},i=ie.getText=function(e){var t,n="",r=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=i(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[r++];)n+=i(t);return n},(r=ie.selectors={cacheLength:50,createPseudo:se,match:Y,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ie.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ie.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return Y.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+R+")"+e+"("+R+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(r){var i=ie.attr(r,e);return null==i?"!="===t:!t||(i+="","="===t?i===n:"!="===t?i!==n:"^="===t?n&&0===i.indexOf(n):"*="===t?n&&i.indexOf(n)>-1:"$="===t?n&&i.slice(-n.length)===n:"~="===t?(" "+i.replace($," ")+" ").indexOf(n)>-1:"|="===t&&(i===n||i.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,r,i){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===r&&0===i?function(e){return!!e.parentNode}:function(t,n,u){var l,c,f,p,d,h,g=o!==s?"nextSibling":"previousSibling",v=t.parentNode,m=a&&t.nodeName.toLowerCase(),y=!u&&!a,x=!1;if(v){if(o){for(;g;){for(p=t;p=p[g];)if(a?p.nodeName.toLowerCase()===m:1===p.nodeType)return!1;h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[s?v.firstChild:v.lastChild],s&&y){for(x=(d=(l=(c=(f=(p=v)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1])&&l[2],p=d&&v.childNodes[d];p=++d&&p&&p[g]||(x=d=0)||h.pop();)if(1===p.nodeType&&++x&&p===t){c[e]=[T,d,x];break}}else if(y&&(x=d=(l=(c=(f=(p=t)[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]||[])[0]===T&&l[1]),!1===x)for(;(p=++d&&p&&p[g]||(x=d=0)||h.pop())&&((a?p.nodeName.toLowerCase()!==m:1!==p.nodeType)||!++x||(y&&((c=(f=p[b]||(p[b]={}))[p.uniqueID]||(f[p.uniqueID]={}))[e]=[T,x]),p!==t)););return(x-=i)===r||x%r==0&&x/r>=0}}},PSEUDO:function(e,t){var n,i=r.pseudos[e]||r.setFilters[e.toLowerCase()]||ie.error("unsupported pseudo: "+e);return i[b]?i(t):i.length>1?(n=[e,e,"",t],r.setFilters.hasOwnProperty(e.toLowerCase())?se(function(e,n){for(var r,o=i(e,t),s=o.length;s--;)e[r=F(e,o[s])]=!(n[r]=o[s])}):function(e){return i(e,0,n)}):i}},pseudos:{not:se(function(e){var t=[],n=[],r=a(e.replace(B,"$1"));return r[b]?se(function(e,t,n,i){for(var o,s=r(e,null,i,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,i,o){return t[0]=e,r(t,null,o,n),t[0]=null,!n.pop()}}),has:se(function(e){return function(t){return ie(e,t).length>0}}),contains:se(function(e){return e=e.replace(te,ne),function(t){return(t.textContent||t.innerText||i(t)).indexOf(e)>-1}}),lang:se(function(e){return V.test(e||"")||ie.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=g?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===h},focus:function(e){return e===d.activeElement&&(!d.hasFocus||d.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return!1===e.disabled},disabled:function(e){return!0===e.disabled},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!r.pseudos.empty(e)},header:function(e){return Q.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:pe(function(){return[0]}),last:pe(function(e,t){return[t-1]}),eq:pe(function(e,t,n){return[n<0?n+t:n]}),even:pe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:pe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:pe(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:pe(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}}).pseudos.nth=r.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})r.pseudos[t]=ce(t);for(t in{submit:!0,reset:!0})r.pseudos[t]=fe(t);function he(){}function ge(e){for(var t=0,n=e.length,r="";t<n;t++)r+=e[t].value;return r}function ve(e,t,n){var r=t.dir,i=n&&"parentNode"===r,o=C++;return t.first?function(t,n,o){for(;t=t[r];)if(1===t.nodeType||i)return e(t,n,o)}:function(t,n,s){var a,u,l,c=[T,o];if(s){for(;t=t[r];)if((1===t.nodeType||i)&&e(t,n,s))return!0}else for(;t=t[r];)if(1===t.nodeType||i){if((a=(u=(l=t[b]||(t[b]={}))[t.uniqueID]||(l[t.uniqueID]={}))[r])&&a[0]===T&&a[1]===o)return c[2]=a[2];if(u[r]=c,c[2]=e(t,n,s))return!0}}}function me(e){return e.length>1?function(t,n,r){for(var i=e.length;i--;)if(!e[i](t,n,r))return!1;return!0}:e[0]}function ye(e,t,n,r,i){for(var o,s=[],a=0,u=e.length,l=null!=t;a<u;a++)(o=e[a])&&(n&&!n(o,r,i)||(s.push(o),l&&t.push(a)));return s}function xe(e,t,n,r,i,o){return r&&!r[b]&&(r=xe(r)),i&&!i[b]&&(i=xe(i,o)),se(function(o,s,a,u){var l,c,f,p=[],d=[],h=s.length,g=o||function(e,t,n){for(var r=0,i=t.length;r<i;r++)ie(e,t[r],n);return n}(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?g:ye(g,p,e,a,u),m=n?i||(o?e:h||r)?[]:s:v;if(n&&n(v,m,a,u),r)for(l=ye(m,d),r(l,[],a,u),c=l.length;c--;)(f=l[c])&&(m[d[c]]=!(v[d[c]]=f));if(o){if(i||e){if(i){for(l=[],c=m.length;c--;)(f=m[c])&&l.push(v[c]=f);i(null,m=[],l,u)}for(c=m.length;c--;)(f=m[c])&&(l=i?F(o,f):p[c])>-1&&(o[l]=!(s[l]=f))}}else m=ye(m===s?m.splice(h,m.length):m),i?i(null,s,m,u):H.apply(s,m)})}function be(e){for(var t,n,i,o=e.length,s=r.relative[e[0].type],a=s||r.relative[" "],u=s?1:0,c=ve(function(e){return e===t},a,!0),f=ve(function(e){return F(t,e)>-1},a,!0),p=[function(e,n,r){var i=!s&&(r||n!==l)||((t=n).nodeType?c(e,n,r):f(e,n,r));return t=null,i}];u<o;u++)if(n=r.relative[e[u].type])p=[ve(me(p),n)];else{if((n=r.filter[e[u].type].apply(null,e[u].matches))[b]){for(i=++u;i<o&&!r.relative[e[i].type];i++);return xe(u>1&&me(p),u>1&&ge(e.slice(0,u-1).concat({value:" "===e[u-2].type?"*":""})).replace(B,"$1"),n,u<i&&be(e.slice(u,i)),i<o&&be(e=e.slice(i)),i<o&&ge(e))}p.push(n)}return me(p)}return he.prototype=r.filters=r.pseudos,r.setFilters=new he,s=ie.tokenize=function(e,t){var n,i,o,s,a,u,l,c=E[e+" "];if(c)return t?0:c.slice(0);for(a=e,u=[],l=r.preFilter;a;){for(s in n&&!(i=_.exec(a))||(i&&(a=a.slice(i[0].length)||a),u.push(o=[])),n=!1,(i=X.exec(a))&&(n=i.shift(),o.push({value:n,type:i[0].replace(B," ")}),a=a.slice(n.length)),r.filter)!(i=Y[s].exec(a))||l[s]&&!(i=l[s](i))||(n=i.shift(),o.push({value:n,type:s,matches:i}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ie.error(e):E(e,u).slice(0)},a=ie.compile=function(e,t){var n,i=[],o=[],a=N[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=be(t[n]))[b]?i.push(a):o.push(a);(a=N(e,function(e,t){var n=t.length>0,i=e.length>0,o=function(o,s,a,u,c){var f,h,v,m=0,y="0",x=o&&[],b=[],w=l,C=o||i&&r.find.TAG("*",c),k=T+=null==w?1:Math.random()||.1,E=C.length;for(c&&(l=s===d||s||c);y!==E&&null!=(f=C[y]);y++){if(i&&f){for(h=0,s||f.ownerDocument===d||(p(f),a=!g);v=e[h++];)if(v(f,s||d,a)){u.push(f);break}c&&(T=k)}n&&((f=!v&&f)&&m--,o&&x.push(f))}if(m+=y,n&&y!==m){for(h=0;v=t[h++];)v(x,b,s,a);if(o){if(m>0)for(;y--;)x[y]||b[y]||(b[y]=q.call(u));b=ye(b)}H.apply(u,b),c&&!o&&b.length>0&&m+t.length>1&&ie.uniqueSort(u)}return c&&(T=k,l=w),x};return n?se(o):o}(o,i))).selector=e}return a},u=ie.select=function(e,t,i,o){var u,l,c,f,p,d="function"==typeof e&&e,h=!o&&s(e=d.selector||e);if(i=i||[],1===h.length){if((l=h[0]=h[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&n.getById&&9===t.nodeType&&g&&r.relative[l[1].type]){if(!(t=(r.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return i;d&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(u=Y.needsContext.test(e)?0:l.length;u--&&(c=l[u],!r.relative[f=c.type]);)if((p=r.find[f])&&(o=p(c.matches[0].replace(te,ne),Z.test(l[0].type)&&de(t.parentNode)||t))){if(l.splice(u,1),!(e=o.length&&ge(l)))return H.apply(i,o),i;break}}return(d||a(e,h))(o,t,!g,i,!t||Z.test(e)&&de(t.parentNode)||t),i},n.sortStable=b.split("").sort(S).join("")===b,n.detectDuplicates=!!f,p(),n.sortDetached=ae(function(e){return 1&e.compareDocumentPosition(d.createElement("div"))}),ae(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ue("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&ae(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ue("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),ae(function(e){return null==e.getAttribute("disabled")})||ue(P,function(e,t,n){var r;if(!n)return!0===e[t]?t.toLowerCase():(r=e.getAttributeNode(t))&&r.specified?r.value:null}),ie}(e);p.find=y,p.expr=y.selectors,p.expr[":"]=p.expr.pseudos,p.uniqueSort=p.unique=y.uniqueSort,p.text=y.getText,p.isXMLDoc=y.isXML,p.contains=y.contains;var x=function(e,t,n){for(var r=[],i=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(i&&p(e).is(n))break;r.push(e)}return r},b=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},w=p.expr.match.needsContext,T=/^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,C=/^.[^:#\[\.,]*$/;function k(e,t,n){if(p.isFunction(t))return p.grep(e,function(e,r){return!!t.call(e,r,e)!==n});if(t.nodeType)return p.grep(e,function(e){return e===t!==n});if("string"==typeof t){if(C.test(t))return p.filter(t,e,n);t=p.filter(t,e)}return p.grep(e,function(e){return a.call(t,e)>-1!==n})}p.filter=function(e,t,n){var r=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===r.nodeType?p.find.matchesSelector(r,e)?[r]:[]:p.find.matches(e,p.grep(t,function(e){return 1===e.nodeType}))},p.fn.extend({find:function(e){var t,n=this.length,r=[],i=this;if("string"!=typeof e)return this.pushStack(p(e).filter(function(){for(t=0;t<n;t++)if(p.contains(i[t],this))return!0}));for(t=0;t<n;t++)p.find(e,i[t],r);return(r=this.pushStack(n>1?p.unique(r):r)).selector=this.selector?this.selector+" "+e:e,r},filter:function(e){return this.pushStack(k(this,e||[],!1))},not:function(e){return this.pushStack(k(this,e||[],!0))},is:function(e){return!!k(this,"string"==typeof e&&w.test(e)?p(e):e||[],!1).length}});var E,N=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;(p.fn.init=function(e,t,n){var i,o;if(!e)return this;if(n=n||E,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:N.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof p?t[0]:t,p.merge(this,p.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:r,!0)),T.test(i[1])&&p.isPlainObject(t))for(i in t)p.isFunction(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(o=r.getElementById(i[2]))&&o.parentNode&&(this.length=1,this[0]=o),this.context=r,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):p.isFunction(e)?void 0!==n.ready?n.ready(e):e(p):(void 0!==e.selector&&(this.selector=e.selector,this.context=e.context),p.makeArray(e,this))}).prototype=p.fn,E=p(r);var S=/^(?:parents|prev(?:Until|All))/,D={children:!0,contents:!0,next:!0,prev:!0};function j(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}p.fn.extend({has:function(e){var t=p(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(p.contains(this,t[e]))return!0})},closest:function(e,t){for(var n,r=0,i=this.length,o=[],s=w.test(e)||"string"!=typeof e?p(e,t||this.context):0;r<i;r++)for(n=this[r];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&p.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?p.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?a.call(p(e),this[0]):a.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(p.uniqueSort(p.merge(this.get(),p(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),p.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return x(e,"parentNode")},parentsUntil:function(e,t,n){return x(e,"parentNode",n)},next:function(e){return j(e,"nextSibling")},prev:function(e){return j(e,"previousSibling")},nextAll:function(e){return x(e,"nextSibling")},prevAll:function(e){return x(e,"previousSibling")},nextUntil:function(e,t,n){return x(e,"nextSibling",n)},prevUntil:function(e,t,n){return x(e,"previousSibling",n)},siblings:function(e){return b((e.parentNode||{}).firstChild,e)},children:function(e){return b(e.firstChild)},contents:function(e){return e.contentDocument||p.merge([],e.childNodes)}},function(e,t){p.fn[e]=function(n,r){var i=p.map(this,t,n);return"Until"!==e.slice(-5)&&(r=n),r&&"string"==typeof r&&(i=p.filter(r,i)),this.length>1&&(D[e]||p.uniqueSort(i),S.test(e)&&i.reverse()),this.pushStack(i)}});var A,q=/\S+/g;function L(){r.removeEventListener("DOMContentLoaded",L),e.removeEventListener("load",L),p.ready()}p.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return p.each(e.match(q)||[],function(e,n){t[n]=!0}),t}(e):p.extend({},e);var t,n,r,i,o=[],s=[],a=-1,u=function(){for(i=e.once,r=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,i&&(o=n?[]:"")},l={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){p.each(n,function(n,r){p.isFunction(r)?e.unique&&l.has(r)||o.push(r):r&&r.length&&"string"!==p.type(r)&&t(r)})}(arguments),n&&!t&&u()),this},remove:function(){return p.each(arguments,function(e,t){for(var n;(n=p.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?p.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return i=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return i=s=[],n||(o=n=""),this},locked:function(){return!!i},fireWith:function(e,n){return i||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||u()),this},fire:function(){return l.fireWith(this,arguments),this},fired:function(){return!!r}};return l},p.extend({Deferred:function(e){var t=[["resolve","done",p.Callbacks("once memory"),"resolved"],["reject","fail",p.Callbacks("once memory"),"rejected"],["notify","progress",p.Callbacks("memory")]],n="pending",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return p.Deferred(function(n){p.each(t,function(t,o){var s=p.isFunction(e[t])&&e[t];i[o[1]](function(){var e=s&&s.apply(this,arguments);e&&p.isFunction(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[o[0]+"With"](this===r?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?p.extend(e,r):r}},i={};return r.pipe=r.then,p.each(t,function(e,o){var s=o[2],a=o[3];r[o[1]]=s.add,a&&s.add(function(){n=a},t[1^e][2].disable,t[2][2].lock),i[o[0]]=function(){return i[o[0]+"With"](this===i?r:this,arguments),this},i[o[0]+"With"]=s.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,r,o=0,s=i.call(arguments),a=s.length,u=1!==a||e&&p.isFunction(e.promise)?a:0,l=1===u?e:p.Deferred(),c=function(e,n,r){return function(o){n[e]=this,r[e]=arguments.length>1?i.call(arguments):o,r===t?l.notifyWith(n,r):--u||l.resolveWith(n,r)}};if(a>1)for(t=new Array(a),n=new Array(a),r=new Array(a);o<a;o++)s[o]&&p.isFunction(s[o].promise)?s[o].promise().progress(c(o,n,t)).done(c(o,r,s)).fail(l.reject):--u;return u||l.resolveWith(r,s),l.promise()}}),p.fn.ready=function(e){return p.ready.promise().done(e),this},p.extend({isReady:!1,readyWait:1,holdReady:function(e){e?p.readyWait++:p.ready(!0)},ready:function(e){(!0===e?--p.readyWait:p.isReady)||(p.isReady=!0,!0!==e&&--p.readyWait>0||(A.resolveWith(r,[p]),p.fn.triggerHandler&&(p(r).triggerHandler("ready"),p(r).off("ready"))))}}),p.ready.promise=function(t){return A||(A=p.Deferred(),"complete"===r.readyState||"loading"!==r.readyState&&!r.documentElement.doScroll?e.setTimeout(p.ready):(r.addEventListener("DOMContentLoaded",L),e.addEventListener("load",L))),A.promise(t)},p.ready.promise();var H=function(e,t,n,r,i,o,s){var a=0,u=e.length,l=null==n;if("object"===p.type(n))for(a in i=!0,n)H(e,t,a,n[a],!0,o,s);else if(void 0!==r&&(i=!0,p.isFunction(r)||(s=!0),l&&(s?(t.call(e,r),t=null):(l=t,t=function(e,t,n){return l.call(p(e),n)})),t))for(;a<u;a++)t(e[a],n,s?r:r.call(e[a],a,t(e[a],n)));return i?e:l?t.call(e):u?t(e[0],n):o},O=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function F(){this.expando=p.expando+F.uid++}F.uid=1,F.prototype={register:function(e,t){var n=t||{};return e.nodeType?e[this.expando]=n:Object.defineProperty(e,this.expando,{value:n,writable:!0,configurable:!0}),e[this.expando]},cache:function(e){if(!O(e))return{};var t=e[this.expando];return t||(t={},O(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var r,i=this.cache(e);if("string"==typeof t)i[t]=n;else for(r in t)i[r]=t[r];return i},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][t]},access:function(e,t,n){var r;return void 0===t||t&&"string"==typeof t&&void 0===n?void 0!==(r=this.get(e,t))?r:this.get(e,p.camelCase(t)):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,r,i,o=e[this.expando];if(void 0!==o){if(void 0===t)this.register(e);else{p.isArray(t)?r=t.concat(t.map(p.camelCase)):(i=p.camelCase(t),r=t in o?[t,i]:(r=i)in o?[r]:r.match(q)||[]),n=r.length;for(;n--;)delete o[r[n]]}(void 0===t||p.isEmptyObject(o))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!p.isEmptyObject(t)}};var P=new F,R=new F,M=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,I=/[A-Z]/g;function W(e,t,n){var r;if(void 0===n&&1===e.nodeType)if(r="data-"+t.replace(I,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(r))){try{n="true"===n||"false"!==n&&("null"===n?null:+n+""===n?+n:M.test(n)?p.parseJSON(n):n)}catch(e){}R.set(e,t,n)}else n=void 0;return n}p.extend({hasData:function(e){return R.hasData(e)||P.hasData(e)},data:function(e,t,n){return R.access(e,t,n)},removeData:function(e,t){R.remove(e,t)},_data:function(e,t,n){return P.access(e,t,n)},_removeData:function(e,t){P.remove(e,t)}}),p.fn.extend({data:function(e,t){var n,r,i,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(i=R.get(o),1===o.nodeType&&!P.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(r=s[n].name).indexOf("data-")&&(r=p.camelCase(r.slice(5)),W(o,r,i[r]));P.set(o,"hasDataAttrs",!0)}return i}return"object"==typeof e?this.each(function(){R.set(this,e)}):H(this,function(t){var n,r;if(o&&void 0===t)return void 0!==(n=R.get(o,e)||R.get(o,e.replace(I,"-$&").toLowerCase()))?n:(r=p.camelCase(e),void 0!==(n=R.get(o,r))?n:void 0!==(n=W(o,r,void 0))?n:void 0);r=p.camelCase(e),this.each(function(){var n=R.get(this,r);R.set(this,r,t),e.indexOf("-")>-1&&void 0!==n&&R.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){R.remove(this,e)})}}),p.extend({queue:function(e,t,n){var r;if(e)return t=(t||"fx")+"queue",r=P.get(e,t),n&&(!r||p.isArray(n)?r=P.access(e,t,p.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||"fx";var n=p.queue(e,t),r=n.length,i=n.shift(),o=p._queueHooks(e,t);"inprogress"===i&&(i=n.shift(),r--),i&&("fx"===t&&n.unshift("inprogress"),delete o.stop,i.call(e,function(){p.dequeue(e,t)},o)),!r&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return P.get(e,n)||P.access(e,n,{empty:p.Callbacks("once memory").add(function(){P.remove(e,[t+"queue",n])})})}}),p.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?p.queue(this[0],e):void 0===t?this:this.each(function(){var n=p.queue(this,e,t);p._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&p.dequeue(this,e)})},dequeue:function(e){return this.each(function(){p.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,r=1,i=p.Deferred(),o=this,s=this.length,a=function(){--r||i.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=P.get(o[s],e+"queueHooks"))&&n.empty&&(r++,n.empty.add(a));return a(),i.promise(t)}});var $=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,B=new RegExp("^(?:([+-])=|)("+$+")([a-z%]*)$","i"),_=["Top","Right","Bottom","Left"],X=function(e,t){return e=t||e,"none"===p.css(e,"display")||!p.contains(e.ownerDocument,e)};function z(e,t,n,r){var i,o=1,s=20,a=r?function(){return r.cur()}:function(){return p.css(e,t,"")},u=a(),l=n&&n[3]||(p.cssNumber[t]?"":"px"),c=(p.cssNumber[t]||"px"!==l&&+u)&&B.exec(p.css(e,t));if(c&&c[3]!==l){l=l||c[3],n=n||[],c=+u||1;do{c/=o=o||".5",p.style(e,t,c+l)}while(o!==(o=a()/u)&&1!==o&&--s)}return n&&(c=+c||+u||0,i=n[1]?c+(n[1]+1)*n[2]:+n[2],r&&(r.unit=l,r.start=c,r.end=i)),i}var U=/^(?:checkbox|radio)$/i,V=/<([\w:-]+)/,Y=/^$|\/(?:java|ecma)script/i,G={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function Q(e,t){var n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[];return void 0===t||t&&p.nodeName(e,t)?p.merge([e],n):n}function J(e,t){for(var n=0,r=e.length;n<r;n++)P.set(e[n],"globalEval",!t||P.get(t[n],"globalEval"))}G.optgroup=G.option,G.tbody=G.tfoot=G.colgroup=G.caption=G.thead,G.th=G.td;var K,Z,ee=/<|&#?\w+;/;function te(e,t,n,r,i){for(var o,s,a,u,l,c,f=t.createDocumentFragment(),d=[],h=0,g=e.length;h<g;h++)if((o=e[h])||0===o)if("object"===p.type(o))p.merge(d,o.nodeType?[o]:o);else if(ee.test(o)){for(s=s||f.appendChild(t.createElement("div")),a=(V.exec(o)||["",""])[1].toLowerCase(),u=G[a]||G._default,s.innerHTML=u[1]+p.htmlPrefilter(o)+u[2],c=u[0];c--;)s=s.lastChild;p.merge(d,s.childNodes),(s=f.firstChild).textContent=""}else d.push(t.createTextNode(o));for(f.textContent="",h=0;o=d[h++];)if(r&&p.inArray(o,r)>-1)i&&i.push(o);else if(l=p.contains(o.ownerDocument,o),s=Q(f.appendChild(o),"script"),l&&J(s),n)for(c=0;o=s[c++];)Y.test(o.type||"")&&n.push(o);return f}K=r.createDocumentFragment().appendChild(r.createElement("div")),(Z=r.createElement("input")).setAttribute("type","radio"),Z.setAttribute("checked","checked"),Z.setAttribute("name","t"),K.appendChild(Z),f.checkClone=K.cloneNode(!0).cloneNode(!0).lastChild.checked,K.innerHTML="<textarea>x</textarea>",f.noCloneChecked=!!K.cloneNode(!0).lastChild.defaultValue;var ne=/^key/,re=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,ie=/^([^.]*)(?:\.(.+)|)/;function oe(){return!0}function se(){return!1}function ae(){try{return r.activeElement}catch(e){}}function ue(e,t,n,r,i,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(r=r||n,n=void 0),t)ue(e,a,n,r,t[a],o);return e}if(null==r&&null==i?(i=n,r=n=void 0):null==i&&("string"==typeof n?(i=r,r=void 0):(i=r,r=n,n=void 0)),!1===i)i=se;else if(!i)return e;return 1===o&&(s=i,(i=function(e){return p().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=p.guid++)),e.each(function(){p.event.add(this,t,i,r,n)})}p.event={global:{},add:function(e,t,n,r,i){var o,s,a,u,l,c,f,d,h,g,v,m=P.get(e);if(m)for(n.handler&&(n=(o=n).handler,i=o.selector),n.guid||(n.guid=p.guid++),(u=m.events)||(u=m.events={}),(s=m.handle)||(s=m.handle=function(t){return void 0!==p&&p.event.triggered!==t.type?p.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(q)||[""]).length;l--;)h=v=(a=ie.exec(t[l])||[])[1],g=(a[2]||"").split(".").sort(),h&&(f=p.event.special[h]||{},h=(i?f.delegateType:f.bindType)||h,f=p.event.special[h]||{},c=p.extend({type:h,origType:v,data:r,handler:n,guid:n.guid,selector:i,needsContext:i&&p.expr.match.needsContext.test(i),namespace:g.join(".")},o),(d=u[h])||((d=u[h]=[]).delegateCount=0,f.setup&&!1!==f.setup.call(e,r,g,s)||e.addEventListener&&e.addEventListener(h,s)),f.add&&(f.add.call(e,c),c.handler.guid||(c.handler.guid=n.guid)),i?d.splice(d.delegateCount++,0,c):d.push(c),p.event.global[h]=!0)},remove:function(e,t,n,r,i){var o,s,a,u,l,c,f,d,h,g,v,m=P.hasData(e)&&P.get(e);if(m&&(u=m.events)){for(l=(t=(t||"").match(q)||[""]).length;l--;)if(h=v=(a=ie.exec(t[l])||[])[1],g=(a[2]||"").split(".").sort(),h){for(f=p.event.special[h]||{},d=u[h=(r?f.delegateType:f.bindType)||h]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=d.length;o--;)c=d[o],!i&&v!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||r&&r!==c.selector&&("**"!==r||!c.selector)||(d.splice(o,1),c.selector&&d.delegateCount--,f.remove&&f.remove.call(e,c));s&&!d.length&&(f.teardown&&!1!==f.teardown.call(e,g,m.handle)||p.removeEvent(e,h,m.handle),delete u[h])}else for(h in u)p.event.remove(e,h+t[l],n,r,!0);p.isEmptyObject(u)&&P.remove(e,"handle events")}},dispatch:function(e){e=p.event.fix(e);var t,n,r,o,s,a,u=i.call(arguments),l=(P.get(this,"events")||{})[e.type]||[],c=p.event.special[e.type]||{};if(u[0]=e,e.delegateTarget=this,!c.preDispatch||!1!==c.preDispatch.call(this,e)){for(a=p.event.handlers.call(this,e,l),t=0;(o=a[t++])&&!e.isPropagationStopped();)for(e.currentTarget=o.elem,n=0;(s=o.handlers[n++])&&!e.isImmediatePropagationStopped();)e.rnamespace&&!e.rnamespace.test(s.namespace)||(e.handleObj=s,e.data=s.data,void 0!==(r=((p.event.special[s.origType]||{}).handle||s.handler).apply(o.elem,u))&&!1===(e.result=r)&&(e.preventDefault(),e.stopPropagation()));return c.postDispatch&&c.postDispatch.call(this,e),e.result}},handlers:function(e,t){var n,r,i,o,s=[],a=t.delegateCount,u=e.target;if(a&&u.nodeType&&("click"!==e.type||isNaN(e.button)||e.button<1))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&(!0!==u.disabled||"click"!==e.type)){for(r=[],n=0;n<a;n++)void 0===r[i=(o=t[n]).selector+" "]&&(r[i]=o.needsContext?p(i,this).index(u)>-1:p.find(i,this,null,[u]).length),r[i]&&r.push(o);r.length&&s.push({elem:u,handlers:r})}return a<t.length&&s.push({elem:this,handlers:t.slice(a)}),s},props:"altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,t){var n,i,o,s=t.button;return null==e.pageX&&null!=t.clientX&&(i=(n=e.target.ownerDocument||r).documentElement,o=n.body,e.pageX=t.clientX+(i&&i.scrollLeft||o&&o.scrollLeft||0)-(i&&i.clientLeft||o&&o.clientLeft||0),e.pageY=t.clientY+(i&&i.scrollTop||o&&o.scrollTop||0)-(i&&i.clientTop||o&&o.clientTop||0)),e.which||void 0===s||(e.which=1&s?1:2&s?3:4&s?2:0),e}},fix:function(e){if(e[p.expando])return e;var t,n,i,o=e.type,s=e,a=this.fixHooks[o];for(a||(this.fixHooks[o]=a=re.test(o)?this.mouseHooks:ne.test(o)?this.keyHooks:{}),i=a.props?this.props.concat(a.props):this.props,e=new p.Event(s),t=i.length;t--;)e[n=i[t]]=s[n];return e.target||(e.target=r),3===e.target.nodeType&&(e.target=e.target.parentNode),a.filter?a.filter(e,s):e},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==ae()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===ae()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&p.nodeName(this,"input"))return this.click(),!1},_default:function(e){return p.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},p.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},p.Event=function(e,t){if(!(this instanceof p.Event))return new p.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?oe:se):this.type=e,t&&p.extend(this,t),this.timeStamp=e&&e.timeStamp||p.now(),this[p.expando]=!0},p.Event.prototype={constructor:p.Event,isDefaultPrevented:se,isPropagationStopped:se,isImmediatePropagationStopped:se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=oe,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=oe,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=oe,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},p.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){p.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=e.relatedTarget,i=e.handleObj;return r&&(r===this||p.contains(this,r))||(e.type=i.origType,n=i.handler.apply(this,arguments),e.type=t),n}}}),p.fn.extend({on:function(e,t,n,r){return ue(this,e,t,n,r)},one:function(e,t,n,r){return ue(this,e,t,n,r,1)},off:function(e,t,n){var r,i;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,p(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(i in e)this.off(i,t,e[i]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=se),this.each(function(){p.event.remove(this,e,n,t)})}});var le=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,ce=/<script|<style|<link/i,fe=/checked\s*(?:[^=]|=\s*.checked.)/i,pe=/^true\/(.*)/,de=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function he(e,t){return p.nodeName(e,"table")&&p.nodeName(11!==t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function ge(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function ve(e){var t=pe.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function me(e,t){var n,r,i,o,s,a,u,l;if(1===t.nodeType){if(P.hasData(e)&&(o=P.access(e),s=P.set(t,o),l=o.events))for(i in delete s.handle,s.events={},l)for(n=0,r=l[i].length;n<r;n++)p.event.add(t,i,l[i][n]);R.hasData(e)&&(a=R.access(e),u=p.extend({},a),R.set(t,u))}}function ye(e,t,n,r){t=o.apply([],t);var i,s,a,u,l,c,d=0,h=e.length,g=h-1,v=t[0],m=p.isFunction(v);if(m||h>1&&"string"==typeof v&&!f.checkClone&&fe.test(v))return e.each(function(i){var o=e.eq(i);m&&(t[0]=v.call(this,i,o.html())),ye(o,t,n,r)});if(h&&(s=(i=te(t,e[0].ownerDocument,!1,e,r)).firstChild,1===i.childNodes.length&&(i=s),s||r)){for(u=(a=p.map(Q(i,"script"),ge)).length;d<h;d++)l=i,d!==g&&(l=p.clone(l,!0,!0),u&&p.merge(a,Q(l,"script"))),n.call(e[d],l,d);if(u)for(c=a[a.length-1].ownerDocument,p.map(a,ve),d=0;d<u;d++)l=a[d],Y.test(l.type||"")&&!P.access(l,"globalEval")&&p.contains(c,l)&&(l.src?p._evalUrl&&p._evalUrl(l.src):p.globalEval(l.textContent.replace(de,"")))}return e}function xe(e,t,n){for(var r,i=t?p.filter(t,e):e,o=0;null!=(r=i[o]);o++)n||1!==r.nodeType||p.cleanData(Q(r)),r.parentNode&&(n&&p.contains(r.ownerDocument,r)&&J(Q(r,"script")),r.parentNode.removeChild(r));return e}p.extend({htmlPrefilter:function(e){return e.replace(le,"<$1></$2>")},clone:function(e,t,n){var r,i,o,s,a,u,l,c=e.cloneNode(!0),d=p.contains(e.ownerDocument,e);if(!(f.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||p.isXMLDoc(e)))for(s=Q(c),r=0,i=(o=Q(e)).length;r<i;r++)a=o[r],u=s[r],l=void 0,"input"===(l=u.nodeName.toLowerCase())&&U.test(a.type)?u.checked=a.checked:"input"!==l&&"textarea"!==l||(u.defaultValue=a.defaultValue);if(t)if(n)for(o=o||Q(e),s=s||Q(c),r=0,i=o.length;r<i;r++)me(o[r],s[r]);else me(e,c);return(s=Q(c,"script")).length>0&&J(s,!d&&Q(e,"script")),c},cleanData:function(e){for(var t,n,r,i=p.event.special,o=0;void 0!==(n=e[o]);o++)if(O(n)){if(t=n[P.expando]){if(t.events)for(r in t.events)i[r]?p.event.remove(n,r):p.removeEvent(n,r,t.handle);n[P.expando]=void 0}n[R.expando]&&(n[R.expando]=void 0)}}}),p.fn.extend({domManip:ye,detach:function(e){return xe(this,e,!0)},remove:function(e){return xe(this,e)},text:function(e){return H(this,function(e){return void 0===e?p.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return ye(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||he(this,e).appendChild(e)})},prepend:function(){return ye(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=he(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return ye(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return ye(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(p.cleanData(Q(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return p.clone(this,e,t)})},html:function(e){return H(this,function(e){var t=this[0]||{},n=0,r=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!ce.test(e)&&!G[(V.exec(e)||["",""])[1].toLowerCase()]){e=p.htmlPrefilter(e);try{for(;n<r;n++)1===(t=this[n]||{}).nodeType&&(p.cleanData(Q(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return ye(this,arguments,function(t){var n=this.parentNode;p.inArray(this,e)<0&&(p.cleanData(Q(this)),n&&n.replaceChild(t,this))},e)}}),p.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){p.fn[e]=function(e){for(var n,r=[],i=p(e),o=i.length-1,a=0;a<=o;a++)n=a===o?this:this.clone(!0),p(i[a])[t](n),s.apply(r,n.get());return this.pushStack(r)}});var be,we={HTML:"block",BODY:"block"};function Te(e,t){var n=p(t.createElement(e)).appendTo(t.body),r=p.css(n[0],"display");return n.detach(),r}function Ce(e){var t=r,n=we[e];return n||("none"!==(n=Te(e,t))&&n||((t=(be=(be||p("<iframe frameborder='0' width='0' height='0'/>")).appendTo(t.documentElement))[0].contentDocument).write(),t.close(),n=Te(e,t),be.detach()),we[e]=n),n}var ke=/^margin/,Ee=new RegExp("^("+$+")(?!px)[a-z%]+$","i"),Ne=function(t){var n=t.ownerDocument.defaultView;return n&&n.opener||(n=e),n.getComputedStyle(t)},Se=function(e,t,n,r){var i,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in i=n.apply(e,r||[]),t)e.style[o]=s[o];return i},De=r.documentElement;function je(e,t,n){var r,i,o,s,a=e.style;return""!==(s=(n=n||Ne(e))?n.getPropertyValue(t)||n[t]:void 0)&&void 0!==s||p.contains(e.ownerDocument,e)||(s=p.style(e,t)),n&&!f.pixelMarginRight()&&Ee.test(s)&&ke.test(t)&&(r=a.width,i=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=r,a.minWidth=i,a.maxWidth=o),void 0!==s?s+"":s}function Ae(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){var t,n,i,o,s=r.createElement("div"),a=r.createElement("div");function u(){a.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%",a.innerHTML="",De.appendChild(s);var r=e.getComputedStyle(a);t="1%"!==r.top,o="2px"===r.marginLeft,n="4px"===r.width,a.style.marginRight="50%",i="4px"===r.marginRight,De.removeChild(s)}a.style&&(a.style.backgroundClip="content-box",a.cloneNode(!0).style.backgroundClip="",f.clearCloneStyle="content-box"===a.style.backgroundClip,s.style.cssText="border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute",s.appendChild(a),p.extend(f,{pixelPosition:function(){return u(),t},boxSizingReliable:function(){return null==n&&u(),n},pixelMarginRight:function(){return null==n&&u(),i},reliableMarginLeft:function(){return null==n&&u(),o},reliableMarginRight:function(){var t,n=a.appendChild(r.createElement("div"));return n.style.cssText=a.style.cssText="-webkit-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0",n.style.marginRight=n.style.width="0",a.style.width="1px",De.appendChild(s),t=!parseFloat(e.getComputedStyle(n).marginRight),De.removeChild(s),a.removeChild(n),t}}))}();var qe=/^(none|table(?!-c[ea]).+)/,Le={position:"absolute",visibility:"hidden",display:"block"},He={letterSpacing:"0",fontWeight:"400"},Oe=["Webkit","O","Moz","ms"],Fe=r.createElement("div").style;function Pe(e){if(e in Fe)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Oe.length;n--;)if((e=Oe[n]+t)in Fe)return e}function Re(e,t,n){var r=B.exec(t);return r?Math.max(0,r[2]-(n||0))+(r[3]||"px"):t}function Me(e,t,n,r,i){for(var o=n===(r?"border":"content")?4:"width"===t?1:0,s=0;o<4;o+=2)"margin"===n&&(s+=p.css(e,n+_[o],!0,i)),r?("content"===n&&(s-=p.css(e,"padding"+_[o],!0,i)),"margin"!==n&&(s-=p.css(e,"border"+_[o]+"Width",!0,i))):(s+=p.css(e,"padding"+_[o],!0,i),"padding"!==n&&(s+=p.css(e,"border"+_[o]+"Width",!0,i)));return s}function Ie(e,t,n){var r=!0,i="width"===t?e.offsetWidth:e.offsetHeight,o=Ne(e),s="border-box"===p.css(e,"boxSizing",!1,o);if(i<=0||null==i){if(((i=je(e,t,o))<0||null==i)&&(i=e.style[t]),Ee.test(i))return i;r=s&&(f.boxSizingReliable()||i===e.style[t]),i=parseFloat(i)||0}return i+Me(e,t,n||(s?"border":"content"),r,o)+"px"}function We(e,t){for(var n,r,i,o=[],s=0,a=e.length;s<a;s++)(r=e[s]).style&&(o[s]=P.get(r,"olddisplay"),n=r.style.display,t?(o[s]||"none"!==n||(r.style.display=""),""===r.style.display&&X(r)&&(o[s]=P.access(r,"olddisplay",Ce(r.nodeName)))):(i=X(r),"none"===n&&i||P.set(r,"olddisplay",i?n:p.css(r,"display"))));for(s=0;s<a;s++)(r=e[s]).style&&(t&&"none"!==r.style.display&&""!==r.style.display||(r.style.display=t?o[s]||"":"none"));return e}function $e(e,t,n,r,i){return new $e.prototype.init(e,t,n,r,i)}p.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=je(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{float:"cssFloat"},style:function(e,t,n,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var i,o,s,a=p.camelCase(t),u=e.style;if(t=p.cssProps[a]||(p.cssProps[a]=Pe(a)||a),s=p.cssHooks[t]||p.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(i=s.get(e,!1,r))?i:u[t];"string"===(o=typeof n)&&(i=B.exec(n))&&i[1]&&(n=z(e,t,i),o="number"),null!=n&&n==n&&("number"===o&&(n+=i&&i[3]||(p.cssNumber[a]?"":"px")),f.clearCloneStyle||""!==n||0!==t.indexOf("background")||(u[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,r))||(u[t]=n))}},css:function(e,t,n,r){var i,o,s,a=p.camelCase(t);return t=p.cssProps[a]||(p.cssProps[a]=Pe(a)||a),(s=p.cssHooks[t]||p.cssHooks[a])&&"get"in s&&(i=s.get(e,!0,n)),void 0===i&&(i=je(e,t,r)),"normal"===i&&t in He&&(i=He[t]),""===n||n?(o=parseFloat(i),!0===n||isFinite(o)?o||0:i):i}}),p.each(["height","width"],function(e,t){p.cssHooks[t]={get:function(e,n,r){if(n)return qe.test(p.css(e,"display"))&&0===e.offsetWidth?Se(e,Le,function(){return Ie(e,t,r)}):Ie(e,t,r)},set:function(e,n,r){var i,o=r&&Ne(e),s=r&&Me(e,t,r,"border-box"===p.css(e,"boxSizing",!1,o),o);return s&&(i=B.exec(n))&&"px"!==(i[3]||"px")&&(e.style[t]=n,n=p.css(e,t)),Re(0,n,s)}}}),p.cssHooks.marginLeft=Ae(f.reliableMarginLeft,function(e,t){if(t)return(parseFloat(je(e,"marginLeft"))||e.getBoundingClientRect().left-Se(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),p.cssHooks.marginRight=Ae(f.reliableMarginRight,function(e,t){if(t)return Se(e,{display:"inline-block"},je,[e,"marginRight"])}),p.each({margin:"",padding:"",border:"Width"},function(e,t){p.cssHooks[e+t]={expand:function(n){for(var r=0,i={},o="string"==typeof n?n.split(" "):[n];r<4;r++)i[e+_[r]+t]=o[r]||o[r-2]||o[0];return i}},ke.test(e)||(p.cssHooks[e+t].set=Re)}),p.fn.extend({css:function(e,t){return H(this,function(e,t,n){var r,i,o={},s=0;if(p.isArray(t)){for(r=Ne(e),i=t.length;s<i;s++)o[t[s]]=p.css(e,t[s],!1,r);return o}return void 0!==n?p.style(e,t,n):p.css(e,t)},e,t,arguments.length>1)},show:function(){return We(this,!0)},hide:function(){return We(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){X(this)?p(this).show():p(this).hide()})}}),p.Tween=$e,$e.prototype={constructor:$e,init:function(e,t,n,r,i,o){this.elem=e,this.prop=n,this.easing=i||p.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=o||(p.cssNumber[n]?"":"px")},cur:function(){var e=$e.propHooks[this.prop];return e&&e.get?e.get(this):$e.propHooks._default.get(this)},run:function(e){var t,n=$e.propHooks[this.prop];return this.options.duration?this.pos=t=p.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):$e.propHooks._default.set(this),this}},$e.prototype.init.prototype=$e.prototype,$e.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=p.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){p.fx.step[e.prop]?p.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[p.cssProps[e.prop]]&&!p.cssHooks[e.prop]?e.elem[e.prop]=e.now:p.style(e.elem,e.prop,e.now+e.unit)}}},$e.propHooks.scrollTop=$e.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},p.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},p.fx=$e.prototype.init,p.fx.step={};var Be,_e,Xe=/^(?:toggle|show|hide)$/,ze=/queueHooks$/;function Ue(){return e.setTimeout(function(){Be=void 0}),Be=p.now()}function Ve(e,t){var n,r=0,i={height:e};for(t=t?1:0;r<4;r+=2-t)i["margin"+(n=_[r])]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function Ye(e,t,n){for(var r,i=(Ge.tweeners[t]||[]).concat(Ge.tweeners["*"]),o=0,s=i.length;o<s;o++)if(r=i[o].call(n,t,e))return r}function Ge(e,t,n){var r,i,o=0,s=Ge.prefilters.length,a=p.Deferred().always(function(){delete u.elem}),u=function(){if(i)return!1;for(var t=Be||Ue(),n=Math.max(0,l.startTime+l.duration-t),r=1-(n/l.duration||0),o=0,s=l.tweens.length;o<s;o++)l.tweens[o].run(r);return a.notifyWith(e,[l,r,n]),r<1&&s?n:(a.resolveWith(e,[l]),!1)},l=a.promise({elem:e,props:p.extend({},t),opts:p.extend(!0,{specialEasing:{},easing:p.easing._default},n),originalProperties:t,originalOptions:n,startTime:Be||Ue(),duration:n.duration,tweens:[],createTween:function(t,n){var r=p.Tween(e,l.opts,t,n,l.opts.specialEasing[t]||l.opts.easing);return l.tweens.push(r),r},stop:function(t){var n=0,r=t?l.tweens.length:0;if(i)return this;for(i=!0;n<r;n++)l.tweens[n].run(1);return t?(a.notifyWith(e,[l,1,0]),a.resolveWith(e,[l,t])):a.rejectWith(e,[l,t]),this}}),c=l.props;for(!function(e,t){var n,r,i,o,s;for(n in e)if(i=t[r=p.camelCase(n)],o=e[n],p.isArray(o)&&(i=o[1],o=e[n]=o[0]),n!==r&&(e[r]=o,delete e[n]),(s=p.cssHooks[r])&&"expand"in s)for(n in o=s.expand(o),delete e[r],o)n in e||(e[n]=o[n],t[n]=i);else t[r]=i}(c,l.opts.specialEasing);o<s;o++)if(r=Ge.prefilters[o].call(l,e,c,l.opts))return p.isFunction(r.stop)&&(p._queueHooks(l.elem,l.opts.queue).stop=p.proxy(r.stop,r)),r;return p.map(c,Ye,l),p.isFunction(l.opts.start)&&l.opts.start.call(e,l),p.fx.timer(p.extend(u,{elem:e,anim:l,queue:l.opts.queue})),l.progress(l.opts.progress).done(l.opts.done,l.opts.complete).fail(l.opts.fail).always(l.opts.always)}p.Animation=p.extend(Ge,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return z(n.elem,e,B.exec(t),n),n}]},tweener:function(e,t){p.isFunction(e)?(t=e,e=["*"]):e=e.match(q);for(var n,r=0,i=e.length;r<i;r++)n=e[r],Ge.tweeners[n]=Ge.tweeners[n]||[],Ge.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var r,i,o,s,a,u,l,c=this,f={},d=e.style,h=e.nodeType&&X(e),g=P.get(e,"fxshow");for(r in n.queue||(null==(a=p._queueHooks(e,"fx")).unqueued&&(a.unqueued=0,u=a.empty.fire,a.empty.fire=function(){a.unqueued||u()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,p.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===("none"===(l=p.css(e,"display"))?P.get(e,"olddisplay")||Ce(e.nodeName):l)&&"none"===p.css(e,"float")&&(d.display="inline-block")),n.overflow&&(d.overflow="hidden",c.always(function(){d.overflow=n.overflow[0],d.overflowX=n.overflow[1],d.overflowY=n.overflow[2]})),t)if(i=t[r],Xe.exec(i)){if(delete t[r],o=o||"toggle"===i,i===(h?"hide":"show")){if("show"!==i||!g||void 0===g[r])continue;h=!0}f[r]=g&&g[r]||p.style(e,r)}else l=void 0;if(p.isEmptyObject(f))"inline"===("none"===l?Ce(e.nodeName):l)&&(d.display=l);else for(r in g?"hidden"in g&&(h=g.hidden):g=P.access(e,"fxshow",{}),o&&(g.hidden=!h),h?p(e).show():c.done(function(){p(e).hide()}),c.done(function(){var t;for(t in P.remove(e,"fxshow"),f)p.style(e,t,f[t])}),f)s=Ye(h?g[r]:0,r,c),r in g||(g[r]=s.start,h&&(s.end=s.start,s.start="width"===r||"height"===r?1:0))}],prefilter:function(e,t){t?Ge.prefilters.unshift(e):Ge.prefilters.push(e)}}),p.speed=function(e,t,n){var r=e&&"object"==typeof e?p.extend({},e):{complete:n||!n&&t||p.isFunction(e)&&e,duration:e,easing:n&&t||t&&!p.isFunction(t)&&t};return r.duration=p.fx.off?0:"number"==typeof r.duration?r.duration:r.duration in p.fx.speeds?p.fx.speeds[r.duration]:p.fx.speeds._default,null!=r.queue&&!0!==r.queue||(r.queue="fx"),r.old=r.complete,r.complete=function(){p.isFunction(r.old)&&r.old.call(this),r.queue&&p.dequeue(this,r.queue)},r},p.fn.extend({fadeTo:function(e,t,n,r){return this.filter(X).css("opacity",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=p.isEmptyObject(e),o=p.speed(t,n,r),s=function(){var t=Ge(this,p.extend({},e),o);(i||P.get(this,"finish"))&&t.stop(!0)};return s.finish=s,i||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var r=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",o=p.timers,s=P.get(this);if(i)s[i]&&s[i].stop&&r(s[i]);else for(i in s)s[i]&&s[i].stop&&ze.test(i)&&r(s[i]);for(i=o.length;i--;)o[i].elem!==this||null!=e&&o[i].queue!==e||(o[i].anim.stop(n),t=!1,o.splice(i,1));!t&&n||p.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=P.get(this),r=n[e+"queue"],i=n[e+"queueHooks"],o=p.timers,s=r?r.length:0;for(n.finish=!0,p.queue(this,e,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)r[t]&&r[t].finish&&r[t].finish.call(this);delete n.finish})}}),p.each(["toggle","show","hide"],function(e,t){var n=p.fn[t];p.fn[t]=function(e,r,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(Ve(t,!0),e,r,i)}}),p.each({slideDown:Ve("show"),slideUp:Ve("hide"),slideToggle:Ve("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){p.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),p.timers=[],p.fx.tick=function(){var e,t=0,n=p.timers;for(Be=p.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||p.fx.stop(),Be=void 0},p.fx.timer=function(e){p.timers.push(e),e()?p.fx.start():p.timers.pop()},p.fx.interval=13,p.fx.start=function(){_e||(_e=e.setInterval(p.fx.tick,p.fx.interval))},p.fx.stop=function(){e.clearInterval(_e),_e=null},p.fx.speeds={slow:600,fast:200,_default:400},p.fn.delay=function(t,n){return t=p.fx&&p.fx.speeds[t]||t,n=n||"fx",this.queue(n,function(n,r){var i=e.setTimeout(n,t);r.stop=function(){e.clearTimeout(i)}})},function(){var e=r.createElement("input"),t=r.createElement("select"),n=t.appendChild(r.createElement("option"));e.type="checkbox",f.checkOn=""!==e.value,f.optSelected=n.selected,t.disabled=!0,f.optDisabled=!n.disabled,(e=r.createElement("input")).value="t",e.type="radio",f.radioValue="t"===e.value}();var Qe,Je=p.expr.attrHandle;p.fn.extend({attr:function(e,t){return H(this,p.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){p.removeAttr(this,e)})}}),p.extend({attr:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?p.prop(e,t,n):(1===o&&p.isXMLDoc(e)||(t=t.toLowerCase(),i=p.attrHooks[t]||(p.expr.match.bool.test(t)?Qe:void 0)),void 0!==n?null===n?void p.removeAttr(e,t):i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:(e.setAttribute(t,n+""),n):i&&"get"in i&&null!==(r=i.get(e,t))?r:null==(r=p.find.attr(e,t))?void 0:r)},attrHooks:{type:{set:function(e,t){if(!f.radioValue&&"radio"===t&&p.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,r,i=0,o=t&&t.match(q);if(o&&1===e.nodeType)for(;n=o[i++];)r=p.propFix[n]||n,p.expr.match.bool.test(n)&&(e[r]=!1),e.removeAttribute(n)}}),Qe={set:function(e,t,n){return!1===t?p.removeAttr(e,n):e.setAttribute(n,n),n}},p.each(p.expr.match.bool.source.match(/\w+/g),function(e,t){var n=Je[t]||p.find.attr;Je[t]=function(e,t,r){var i,o;return r||(o=Je[t],Je[t]=i,i=null!=n(e,t,r)?t.toLowerCase():null,Je[t]=o),i}});var Ke=/^(?:input|select|textarea|button)$/i,Ze=/^(?:a|area)$/i;p.fn.extend({prop:function(e,t){return H(this,p.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[p.propFix[e]||e]})}}),p.extend({prop:function(e,t,n){var r,i,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&p.isXMLDoc(e)||(t=p.propFix[t]||t,i=p.propHooks[t]),void 0!==n?i&&"set"in i&&void 0!==(r=i.set(e,n,t))?r:e[t]=n:i&&"get"in i&&null!==(r=i.get(e,t))?r:e[t]},propHooks:{tabIndex:{get:function(e){var t=p.find.attr(e,"tabindex");return t?parseInt(t,10):Ke.test(e.nodeName)||Ze.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),f.optSelected||(p.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),p.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){p.propFix[this.toLowerCase()]=this});var et=/[\t\r\n\f]/g;function tt(e){return e.getAttribute&&e.getAttribute("class")||""}p.fn.extend({addClass:function(e){var t,n,r,i,o,s,a,u=0;if(p.isFunction(e))return this.each(function(t){p(this).addClass(e.call(this,t,tt(this)))});if("string"==typeof e&&e)for(t=e.match(q)||[];n=this[u++];)if(i=tt(n),r=1===n.nodeType&&(" "+i+" ").replace(et," ")){for(s=0;o=t[s++];)r.indexOf(" "+o+" ")<0&&(r+=o+" ");i!==(a=p.trim(r))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,r,i,o,s,a,u=0;if(p.isFunction(e))return this.each(function(t){p(this).removeClass(e.call(this,t,tt(this)))});if(!arguments.length)return this.attr("class","");if("string"==typeof e&&e)for(t=e.match(q)||[];n=this[u++];)if(i=tt(n),r=1===n.nodeType&&(" "+i+" ").replace(et," ")){for(s=0;o=t[s++];)for(;r.indexOf(" "+o+" ")>-1;)r=r.replace(" "+o+" "," ");i!==(a=p.trim(r))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e;return"boolean"==typeof t&&"string"===n?t?this.addClass(e):this.removeClass(e):p.isFunction(e)?this.each(function(n){p(this).toggleClass(e.call(this,n,tt(this),t),t)}):this.each(function(){var t,r,i,o;if("string"===n)for(r=0,i=p(this),o=e.match(q)||[];t=o[r++];)i.hasClass(t)?i.removeClass(t):i.addClass(t);else void 0!==e&&"boolean"!==n||((t=tt(this))&&P.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":P.get(this,"__className__")||""))})},hasClass:function(e){var t,n,r=0;for(t=" "+e+" ";n=this[r++];)if(1===n.nodeType&&(" "+tt(n)+" ").replace(et," ").indexOf(t)>-1)return!0;return!1}});var nt=/\r/g,rt=/[\x20\t\r\n\f]+/g;p.fn.extend({val:function(e){var t,n,r,i=this[0];return arguments.length?(r=p.isFunction(e),this.each(function(n){var i;1===this.nodeType&&(null==(i=r?e.call(this,n,p(this).val()):e)?i="":"number"==typeof i?i+="":p.isArray(i)&&(i=p.map(i,function(e){return null==e?"":e+""})),(t=p.valHooks[this.type]||p.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,i,"value")||(this.value=i))})):i?(t=p.valHooks[i.type]||p.valHooks[i.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(i,"value"))?n:"string"==typeof(n=i.value)?n.replace(nt,""):null==n?"":n:void 0}}),p.extend({valHooks:{option:{get:function(e){var t=p.find.attr(e,"value");return null!=t?t:p.trim(p.text(e)).replace(rt," ")}},select:{get:function(e){for(var t,n,r=e.options,i=e.selectedIndex,o="select-one"===e.type||i<0,s=o?null:[],a=o?i+1:r.length,u=i<0?a:o?i:0;u<a;u++)if(((n=r[u]).selected||u===i)&&(f.optDisabled?!n.disabled:null===n.getAttribute("disabled"))&&(!n.parentNode.disabled||!p.nodeName(n.parentNode,"optgroup"))){if(t=p(n).val(),o)return t;s.push(t)}return s},set:function(e,t){for(var n,r,i=e.options,o=p.makeArray(t),s=i.length;s--;)((r=i[s]).selected=p.inArray(p.valHooks.option.get(r),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),p.each(["radio","checkbox"],function(){p.valHooks[this]={set:function(e,t){if(p.isArray(t))return e.checked=p.inArray(p(e).val(),t)>-1}},f.checkOn||(p.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var it=/^(?:focusinfocus|focusoutblur)$/;p.extend(p.event,{trigger:function(t,n,i,o){var s,a,u,l,f,d,h,g=[i||r],v=c.call(t,"type")?t.type:t,m=c.call(t,"namespace")?t.namespace.split("."):[];if(a=u=i=i||r,3!==i.nodeType&&8!==i.nodeType&&!it.test(v+p.event.triggered)&&(v.indexOf(".")>-1&&(m=v.split("."),v=m.shift(),m.sort()),f=v.indexOf(":")<0&&"on"+v,(t=t[p.expando]?t:new p.Event(v,"object"==typeof t&&t)).isTrigger=o?2:3,t.namespace=m.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=i),n=null==n?[t]:p.makeArray(n,[t]),h=p.event.special[v]||{},o||!h.trigger||!1!==h.trigger.apply(i,n))){if(!o&&!h.noBubble&&!p.isWindow(i)){for(l=h.delegateType||v,it.test(l+v)||(a=a.parentNode);a;a=a.parentNode)g.push(a),u=a;u===(i.ownerDocument||r)&&g.push(u.defaultView||u.parentWindow||e)}for(s=0;(a=g[s++])&&!t.isPropagationStopped();)t.type=s>1?l:h.bindType||v,(d=(P.get(a,"events")||{})[t.type]&&P.get(a,"handle"))&&d.apply(a,n),(d=f&&a[f])&&d.apply&&O(a)&&(t.result=d.apply(a,n),!1===t.result&&t.preventDefault());return t.type=v,o||t.isDefaultPrevented()||h._default&&!1!==h._default.apply(g.pop(),n)||!O(i)||f&&p.isFunction(i[v])&&!p.isWindow(i)&&((u=i[f])&&(i[f]=null),p.event.triggered=v,i[v](),p.event.triggered=void 0,u&&(i[f]=u)),t.result}},simulate:function(e,t,n){var r=p.extend(new p.Event,n,{type:e,isSimulated:!0});p.event.trigger(r,null,t)}}),p.fn.extend({trigger:function(e,t){return this.each(function(){p.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return p.event.trigger(e,t,n,!0)}}),p.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){p.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),p.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),f.focusin="onfocusin"in e,f.focusin||p.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){p.event.simulate(t,e.target,p.event.fix(e))};p.event.special[t]={setup:function(){var r=this.ownerDocument||this,i=P.access(r,t);i||r.addEventListener(e,n,!0),P.access(r,t,(i||0)+1)},teardown:function(){var r=this.ownerDocument||this,i=P.access(r,t)-1;i?P.access(r,t,i):(r.removeEventListener(e,n,!0),P.remove(r,t))}}});var ot=e.location,st=p.now(),at=/\?/;p.parseJSON=function(e){return JSON.parse(e+"")},p.parseXML=function(t){var n;if(!t||"string"!=typeof t)return null;try{n=(new e.DOMParser).parseFromString(t,"text/xml")}catch(e){n=void 0}return n&&!n.getElementsByTagName("parsererror").length||p.error("Invalid XML: "+t),n};var ut=/#.*$/,lt=/([?&])_=[^&]*/,ct=/^(.*?):[ \t]*([^\r\n]*)$/gm,ft=/^(?:GET|HEAD)$/,pt=/^\/\//,dt={},ht={},gt="*/".concat("*"),vt=r.createElement("a");function mt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var r,i=0,o=t.toLowerCase().match(q)||[];if(p.isFunction(n))for(;r=o[i++];)"+"===r[0]?(r=r.slice(1)||"*",(e[r]=e[r]||[]).unshift(n)):(e[r]=e[r]||[]).push(n)}}function yt(e,t,n,r){var i={},o=e===ht;function s(a){var u;return i[a]=!0,p.each(e[a]||[],function(e,a){var l=a(t,n,r);return"string"!=typeof l||o||i[l]?o?!(u=l):void 0:(t.dataTypes.unshift(l),s(l),!1)}),u}return s(t.dataTypes[0])||!i["*"]&&s("*")}function xt(e,t){var n,r,i=p.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((i[n]?e:r||(r={}))[n]=t[n]);return r&&p.extend(!0,e,r),e}vt.href=ot.href,p.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ot.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(ot.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":gt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":p.parseJSON,"text xml":p.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?xt(xt(e,p.ajaxSettings),t):xt(p.ajaxSettings,e)},ajaxPrefilter:mt(dt),ajaxTransport:mt(ht),ajax:function(t,n){"object"==typeof t&&(n=t,t=void 0),n=n||{};var i,o,s,a,u,l,c,f,d=p.ajaxSetup({},n),h=d.context||d,g=d.context&&(h.nodeType||h.jquery)?p(h):p.event,v=p.Deferred(),m=p.Callbacks("once memory"),y=d.statusCode||{},x={},b={},w=0,T="canceled",C={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!a)for(a={};t=ct.exec(s);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase();return w||(e=b[n]=b[n]||e,x[e]=t),this},overrideMimeType:function(e){return w||(d.mimeType=e),this},statusCode:function(e){var t;if(e)if(w<2)for(t in e)y[t]=[y[t],e[t]];else C.always(e[C.status]);return this},abort:function(e){var t=e||T;return i&&i.abort(t),k(0,t),this}};if(v.promise(C).complete=m.add,C.success=C.done,C.error=C.fail,d.url=((t||d.url||ot.href)+"").replace(ut,"").replace(pt,ot.protocol+"//"),d.type=n.method||n.type||d.method||d.type,d.dataTypes=p.trim(d.dataType||"*").toLowerCase().match(q)||[""],null==d.crossDomain){l=r.createElement("a");try{l.href=d.url,l.href=l.href,d.crossDomain=vt.protocol+"//"+vt.host!=l.protocol+"//"+l.host}catch(e){d.crossDomain=!0}}if(d.data&&d.processData&&"string"!=typeof d.data&&(d.data=p.param(d.data,d.traditional)),yt(dt,d,n,C),2===w)return C;for(f in(c=p.event&&d.global)&&0==p.active++&&p.event.trigger("ajaxStart"),d.type=d.type.toUpperCase(),d.hasContent=!ft.test(d.type),o=d.url,d.hasContent||(d.data&&(o=d.url+=(at.test(o)?"&":"?")+d.data,delete d.data),!1===d.cache&&(d.url=lt.test(o)?o.replace(lt,"$1_="+st++):o+(at.test(o)?"&":"?")+"_="+st++)),d.ifModified&&(p.lastModified[o]&&C.setRequestHeader("If-Modified-Since",p.lastModified[o]),p.etag[o]&&C.setRequestHeader("If-None-Match",p.etag[o])),(d.data&&d.hasContent&&!1!==d.contentType||n.contentType)&&C.setRequestHeader("Content-Type",d.contentType),C.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+gt+"; q=0.01":""):d.accepts["*"]),d.headers)C.setRequestHeader(f,d.headers[f]);if(d.beforeSend&&(!1===d.beforeSend.call(h,C,d)||2===w))return C.abort();for(f in T="abort",{success:1,error:1,complete:1})C[f](d[f]);if(i=yt(ht,d,n,C)){if(C.readyState=1,c&&g.trigger("ajaxSend",[C,d]),2===w)return C;d.async&&d.timeout>0&&(u=e.setTimeout(function(){C.abort("timeout")},d.timeout));try{w=1,i.send(x,k)}catch(e){if(!(w<2))throw e;k(-1,e)}}else k(-1,"No Transport");function k(t,n,r,a){var l,f,x,b,T,k=n;2!==w&&(w=2,u&&e.clearTimeout(u),i=void 0,s=a||"",C.readyState=t>0?4:0,l=t>=200&&t<300||304===t,r&&(b=function(e,t,n){for(var r,i,o,s,a=e.contents,u=e.dataTypes;"*"===u[0];)u.shift(),void 0===r&&(r=e.mimeType||t.getResponseHeader("Content-Type"));if(r)for(i in a)if(a[i]&&a[i].test(r)){u.unshift(i);break}if(u[0]in n)o=u[0];else{for(i in n){if(!u[0]||e.converters[i+" "+u[0]]){o=i;break}s||(s=i)}o=o||s}if(o)return o!==u[0]&&u.unshift(o),n[o]}(d,C,r)),b=function(e,t,n,r){var i,o,s,a,u,l={},c=e.dataTypes.slice();if(c[1])for(s in e.converters)l[s.toLowerCase()]=e.converters[s];for(o=c.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!u&&r&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),u=o,o=c.shift())if("*"===o)o=u;else if("*"!==u&&u!==o){if(!(s=l[u+" "+o]||l["* "+o]))for(i in l)if((a=i.split(" "))[1]===o&&(s=l[u+" "+a[0]]||l["* "+a[0]])){!0===s?s=l[i]:!0!==l[i]&&(o=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+u+" to "+o}}}return{state:"success",data:t}}(d,b,C,l),l?(d.ifModified&&((T=C.getResponseHeader("Last-Modified"))&&(p.lastModified[o]=T),(T=C.getResponseHeader("etag"))&&(p.etag[o]=T)),204===t||"HEAD"===d.type?k="nocontent":304===t?k="notmodified":(k=b.state,f=b.data,l=!(x=b.error))):(x=k,!t&&k||(k="error",t<0&&(t=0))),C.status=t,C.statusText=(n||k)+"",l?v.resolveWith(h,[f,k,C]):v.rejectWith(h,[C,k,x]),C.statusCode(y),y=void 0,c&&g.trigger(l?"ajaxSuccess":"ajaxError",[C,d,l?f:x]),m.fireWith(h,[C,k]),c&&(g.trigger("ajaxComplete",[C,d]),--p.active||p.event.trigger("ajaxStop")))}return C},getJSON:function(e,t,n){return p.get(e,t,n,"json")},getScript:function(e,t){return p.get(e,void 0,t,"script")}}),p.each(["get","post"],function(e,t){p[t]=function(e,n,r,i){return p.isFunction(n)&&(i=i||r,r=n,n=void 0),p.ajax(p.extend({url:e,type:t,dataType:i,data:n,success:r},p.isPlainObject(e)&&e))}}),p._evalUrl=function(e){return p.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,throws:!0})},p.fn.extend({wrapAll:function(e){var t;return p.isFunction(e)?this.each(function(t){p(this).wrapAll(e.call(this,t))}):(this[0]&&(t=p(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this)},wrapInner:function(e){return p.isFunction(e)?this.each(function(t){p(this).wrapInner(e.call(this,t))}):this.each(function(){var t=p(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=p.isFunction(e);return this.each(function(n){p(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){p.nodeName(this,"body")||p(this).replaceWith(this.childNodes)}).end()}}),p.expr.filters.hidden=function(e){return!p.expr.filters.visible(e)},p.expr.filters.visible=function(e){return e.offsetWidth>0||e.offsetHeight>0||e.getClientRects().length>0};var bt=/%20/g,wt=/\[\]$/,Tt=/\r?\n/g,Ct=/^(?:submit|button|image|reset|file)$/i,kt=/^(?:input|select|textarea|keygen)/i;function Et(e,t,n,r){var i;if(p.isArray(t))p.each(t,function(t,i){n||wt.test(e)?r(e,i):Et(e+"["+("object"==typeof i&&null!=i?t:"")+"]",i,n,r)});else if(n||"object"!==p.type(t))r(e,t);else for(i in t)Et(e+"["+i+"]",t[i],n,r)}p.param=function(e,t){var n,r=[],i=function(e,t){t=p.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(void 0===t&&(t=p.ajaxSettings&&p.ajaxSettings.traditional),p.isArray(e)||e.jquery&&!p.isPlainObject(e))p.each(e,function(){i(this.name,this.value)});else for(n in e)Et(n,e[n],t,i);return r.join("&").replace(bt,"+")},p.fn.extend({serialize:function(){return p.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=p.prop(this,"elements");return e?p.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!p(this).is(":disabled")&&kt.test(this.nodeName)&&!Ct.test(e)&&(this.checked||!U.test(e))}).map(function(e,t){var n=p(this).val();return null==n?null:p.isArray(n)?p.map(n,function(e){return{name:t.name,value:e.replace(Tt,"\r\n")}}):{name:t.name,value:n.replace(Tt,"\r\n")}}).get()}}),p.ajaxSettings.xhr=function(){try{return new e.XMLHttpRequest}catch(e){}};var Nt={0:200,1223:204},St=p.ajaxSettings.xhr();f.cors=!!St&&"withCredentials"in St,f.ajax=St=!!St,p.ajaxTransport(function(t){var n,r;if(f.cors||St&&!t.crossDomain)return{send:function(i,o){var s,a=t.xhr();if(a.open(t.type,t.url,t.async,t.username,t.password),t.xhrFields)for(s in t.xhrFields)a[s]=t.xhrFields[s];for(s in t.mimeType&&a.overrideMimeType&&a.overrideMimeType(t.mimeType),t.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest"),i)a.setRequestHeader(s,i[s]);n=function(e){return function(){n&&(n=r=a.onload=a.onerror=a.onabort=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Nt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=n(),r=a.onerror=n("error"),void 0!==a.onabort?a.onabort=r:a.onreadystatechange=function(){4===a.readyState&&e.setTimeout(function(){n&&r()})},n=n("abort");try{a.send(t.hasContent&&t.data||null)}catch(e){if(n)throw e}},abort:function(){n&&n()}}}),p.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return p.globalEval(e),e}}}),p.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),p.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,o){t=p("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&o("error"===e.type?404:200,e.type)}),r.head.appendChild(t[0])},abort:function(){n&&n()}}});var Dt=[],jt=/(=)\?(?=&|$)|\?\?/;p.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Dt.pop()||p.expando+"_"+st++;return this[e]=!0,e}}),p.ajaxPrefilter("json jsonp",function(t,n,r){var i,o,s,a=!1!==t.jsonp&&(jt.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&jt.test(t.data)&&"data");if(a||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=p.isFunction(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,a?t[a]=t[a].replace(jt,"$1"+i):!1!==t.jsonp&&(t.url+=(at.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return s||p.error(i+" was not called"),s[0]},t.dataTypes[0]="json",o=e[i],e[i]=function(){s=arguments},r.always(function(){void 0===o?p(e).removeProp(i):e[i]=o,t[i]&&(t.jsonpCallback=n.jsonpCallback,Dt.push(i)),s&&p.isFunction(o)&&o(s[0]),s=o=void 0}),"script"}),p.parseHTML=function(e,t,n){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(n=t,t=!1),t=t||r;var i=T.exec(e),o=!n&&[];return i?[t.createElement(i[1])]:(i=te([e],t,o),o&&o.length&&p(o).remove(),p.merge([],i.childNodes))};var At=p.fn.load;function qt(e){return p.isWindow(e)?e:9===e.nodeType&&e.defaultView}p.fn.load=function(e,t,n){if("string"!=typeof e&&At)return At.apply(this,arguments);var r,i,o,s=this,a=e.indexOf(" ");return a>-1&&(r=p.trim(e.slice(a)),e=e.slice(0,a)),p.isFunction(t)?(n=t,t=void 0):t&&"object"==typeof t&&(i="POST"),s.length>0&&p.ajax({url:e,type:i||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(r?p("<div>").append(p.parseHTML(e)).find(r):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},p.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){p.fn[t]=function(e){return this.on(t,e)}}),p.expr.filters.animated=function(e){return p.grep(p.timers,function(t){return e===t.elem}).length},p.offset={setOffset:function(e,t,n){var r,i,o,s,a,u,l=p.css(e,"position"),c=p(e),f={};"static"===l&&(e.style.position="relative"),a=c.offset(),o=p.css(e,"top"),u=p.css(e,"left"),("absolute"===l||"fixed"===l)&&(o+u).indexOf("auto")>-1?(s=(r=c.position()).top,i=r.left):(s=parseFloat(o)||0,i=parseFloat(u)||0),p.isFunction(t)&&(t=t.call(e,n,p.extend({},a))),null!=t.top&&(f.top=t.top-a.top+s),null!=t.left&&(f.left=t.left-a.left+i),"using"in t?t.using.call(e,f):c.css(f)}},p.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){p.offset.setOffset(this,e,t)});var t,n,r=this[0],i={top:0,left:0},o=r&&r.ownerDocument;return o?(t=o.documentElement,p.contains(t,r)?(i=r.getBoundingClientRect(),n=qt(o),{top:i.top+n.pageYOffset-t.clientTop,left:i.left+n.pageXOffset-t.clientLeft}):i):void 0},position:function(){if(this[0]){var e,t,n=this[0],r={top:0,left:0};return"fixed"===p.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),p.nodeName(e[0],"html")||(r=e.offset()),r.top+=p.css(e[0],"borderTopWidth",!0),r.left+=p.css(e[0],"borderLeftWidth",!0)),{top:t.top-r.top-p.css(n,"marginTop",!0),left:t.left-r.left-p.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===p.css(e,"position");)e=e.offsetParent;return e||De})}}),p.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;p.fn[e]=function(r){return H(this,function(e,r,i){var o=qt(e);if(void 0===i)return o?o[t]:e[r];o?o.scrollTo(n?o.pageXOffset:i,n?i:o.pageYOffset):e[r]=i},e,r,arguments.length)}}),p.each(["top","left"],function(e,t){p.cssHooks[t]=Ae(f.pixelPosition,function(e,n){if(n)return n=je(e,t),Ee.test(n)?p(e).position()[t]+"px":n})}),p.each({Height:"height",Width:"width"},function(e,t){p.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,r){p.fn[r]=function(r,i){var o=arguments.length&&(n||"boolean"!=typeof r),s=n||(!0===r||!0===i?"margin":"border");return H(this,function(t,n,r){var i;return p.isWindow(t)?t.document.documentElement["client"+e]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+e],i["scroll"+e],t.body["offset"+e],i["offset"+e],i["client"+e])):void 0===r?p.css(t,n,s):p.style(t,n,r,s)},t,o?r:void 0,o,null)}})}),p.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},size:function(){return this.length}}),p.fn.andSelf=p.fn.addBack,module.exports=p;var Lt=e.jQuery,Ht=e.$;return p.noConflict=function(t){return e.$===p&&(e.$=Ht),t&&e.jQuery===p&&(e.jQuery=Lt),p},t||(e.jQuery=e.$=p),p});

},{}],117:[function(require,module,exports){
"use strict";var traverse=module.exports=function(e,r,t){"function"==typeof r&&(t=r,r={}),_traverse(r,"function"==typeof(t=r.cb||t)?t:t.pre||function(){},t.post||function(){},e,"",e)};function _traverse(e,r,t,s,i,a,n,o,p,m){if(s&&"object"==typeof s&&!Array.isArray(s)){for(var f in r(s,i,a,n,o,p,m),s){var u=s[f];if(Array.isArray(u)){if(f in traverse.arrayKeywords)for(var v=0;v<u.length;v++)_traverse(e,r,t,u[v],i+"/"+f+"/"+v,a,i,f,s,v)}else if(f in traverse.propsKeywords){if(u&&"object"==typeof u)for(var y in u)_traverse(e,r,t,u[y],i+"/"+f+"/"+escapeJsonPtr(y),a,i,f,s,y)}else(f in traverse.keywords||e.allKeys&&!(f in traverse.skipKeywords))&&_traverse(e,r,t,u,i+"/"+f,a,i,f,s)}t(s,i,a,n,o,p,m)}}function escapeJsonPtr(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}traverse.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},traverse.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},traverse.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},traverse.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};

},{}],118:[function(require,module,exports){
function diff_match_patch(){this.Diff_Timeout=1,this.Diff_EditCost=4,this.Match_Threshold=.5,this.Match_Distance=1e3,this.Patch_DeleteThreshold=.5,this.Patch_Margin=4,this.Match_MaxBits=32}var DIFF_DELETE=-1,DIFF_INSERT=1,DIFF_EQUAL=0;diff_match_patch.Diff,diff_match_patch.prototype.diff_main=function(t,n,i,e){void 0===e&&(e=this.Diff_Timeout<=0?Number.MAX_VALUE:(new Date).getTime()+1e3*this.Diff_Timeout);var h=e;if(null==t||null==n)throw new Error("Null input. (diff_main)");if(t==n)return t?[[DIFF_EQUAL,t]]:[];void 0===i&&(i=!0);var r=i,a=this.diff_commonPrefix(t,n),f=t.substring(0,a);t=t.substring(a),n=n.substring(a),a=this.diff_commonSuffix(t,n);var s=t.substring(t.length-a);t=t.substring(0,t.length-a),n=n.substring(0,n.length-a);var l=this.diff_compute_(t,n,r,h);return f&&l.unshift([DIFF_EQUAL,f]),s&&l.push([DIFF_EQUAL,s]),this.diff_cleanupMerge(l),l},diff_match_patch.prototype.diff_compute_=function(t,n,i,e){var h;if(!t)return[[DIFF_INSERT,n]];if(!n)return[[DIFF_DELETE,t]];var r=t.length>n.length?t:n,a=t.length>n.length?n:t,f=r.indexOf(a);if(-1!=f)return h=[[DIFF_INSERT,r.substring(0,f)],[DIFF_EQUAL,a],[DIFF_INSERT,r.substring(f+a.length)]],t.length>n.length&&(h[0][0]=h[2][0]=DIFF_DELETE),h;if(1==a.length)return[[DIFF_DELETE,t],[DIFF_INSERT,n]];r=a=null;var s=this.diff_halfMatch_(t,n);if(s){var l=s[0],g=s[1],c=s[2],_=s[3],o=s[4],u=this.diff_main(l,c,i,e),p=this.diff_main(g,_,i,e);return u.concat([[DIFF_EQUAL,o]],p)}return i&&t.length>100&&n.length>100?this.diff_lineMode_(t,n,e):this.diff_bisect_(t,n,e)},diff_match_patch.prototype.diff_lineMode_=function(t,n,i){t=(g=this.diff_linesToChars_(t,n))[0],n=g[1];var e=g[2],h=this.diff_bisect_(t,n,i);this.diff_charsToLines_(h,e),this.diff_cleanupSemantic(h),h.push([DIFF_EQUAL,""]);for(var r=0,a=0,f=0,s="",l="";r<h.length;){switch(h[r][0]){case DIFF_INSERT:f++,l+=h[r][1];break;case DIFF_DELETE:a++,s+=h[r][1];break;case DIFF_EQUAL:if(a>=1&&f>=1){var g=this.diff_main(s,l,!1,i);h.splice(r-a-f,a+f),r=r-a-f;for(var c=g.length-1;c>=0;c--)h.splice(r,0,g[c]);r+=g.length}f=0,a=0,s="",l=""}r++}return h.pop(),h},diff_match_patch.prototype.diff_bisect_=function(t,n,i){for(var e=t.length,h=n.length,r=Math.ceil((e+h)/2),a=r,f=2*r,s=new Array(f),l=new Array(f),g=0;g<f;g++)s[g]=-1,l[g]=-1;s[a+1]=0,l[a+1]=0;for(var c=e-h,_=c%2!=0,o=0,u=0,p=0,d=0,F=0;F<r&&!((new Date).getTime()>i);F++){for(var E=-F+o;E<=F-u;E+=2){for(var D=a+E,I=(T=E==-F||E!=F&&s[D-1]<s[D+1]?s[D+1]:s[D-1]+1)-E;T<e&&I<h&&t.charAt(T)==n.charAt(I);)T++,I++;if(s[D]=T,T>e)u+=2;else if(I>h)o+=2;else if(_){if((v=a+c-E)>=0&&v<f&&-1!=l[v])if(T>=(b=e-l[v]))return this.diff_bisectSplit_(t,n,T,I,i)}}for(var m=-F+p;m<=F-d;m+=2){for(var b,v=a+m,L=(b=m==-F||m!=F&&l[v-1]<l[v+1]?l[v+1]:l[v-1]+1)-m;b<e&&L<h&&t.charAt(e-b-1)==n.charAt(h-L-1);)b++,L++;if(l[v]=b,b>e)d+=2;else if(L>h)p+=2;else if(!_){if((D=a+c-m)>=0&&D<f&&-1!=s[D]){var T;I=a+(T=s[D])-D;if(T>=(b=e-b))return this.diff_bisectSplit_(t,n,T,I,i)}}}}return[[DIFF_DELETE,t],[DIFF_INSERT,n]]},diff_match_patch.prototype.diff_bisectSplit_=function(t,n,i,e,h){var r=t.substring(0,i),a=n.substring(0,e),f=t.substring(i),s=n.substring(e),l=this.diff_main(r,a,!1,h),g=this.diff_main(f,s,!1,h);return l.concat(g)},diff_match_patch.prototype.diff_linesToChars_=function(t,n){var i=[],e={};function h(t){for(var n="",h=0,r=-1,a=i.length;r<t.length-1;){-1==(r=t.indexOf("\n",h))&&(r=t.length-1);var f=t.substring(h,r+1);h=r+1,(e.hasOwnProperty?e.hasOwnProperty(f):void 0!==e[f])?n+=String.fromCharCode(e[f]):(n+=String.fromCharCode(a),e[f]=a,i[a++]=f)}return n}return i[0]="",[h(t),h(n),i]},diff_match_patch.prototype.diff_charsToLines_=function(t,n){for(var i=0;i<t.length;i++){for(var e=t[i][1],h=[],r=0;r<e.length;r++)h[r]=n[e.charCodeAt(r)];t[i][1]=h.join("")}},diff_match_patch.prototype.diff_commonPrefix=function(t,n){if(!t||!n||t.charAt(0)!=n.charAt(0))return 0;for(var i=0,e=Math.min(t.length,n.length),h=e,r=0;i<h;)t.substring(r,h)==n.substring(r,h)?r=i=h:e=h,h=Math.floor((e-i)/2+i);return h},diff_match_patch.prototype.diff_commonSuffix=function(t,n){if(!t||!n||t.charAt(t.length-1)!=n.charAt(n.length-1))return 0;for(var i=0,e=Math.min(t.length,n.length),h=e,r=0;i<h;)t.substring(t.length-h,t.length-r)==n.substring(n.length-h,n.length-r)?r=i=h:e=h,h=Math.floor((e-i)/2+i);return h},diff_match_patch.prototype.diff_commonOverlap_=function(t,n){var i=t.length,e=n.length;if(0==i||0==e)return 0;i>e?t=t.substring(i-e):i<e&&(n=n.substring(0,i));var h=Math.min(i,e);if(t==n)return h;for(var r=0,a=1;;){var f=t.substring(h-a),s=n.indexOf(f);if(-1==s)return r;a+=s,0!=s&&t.substring(h-a)!=n.substring(0,a)||(r=a,a++)}},diff_match_patch.prototype.diff_halfMatch_=function(t,n){if(this.Diff_Timeout<=0)return null;var i=t.length>n.length?t:n,e=t.length>n.length?n:t;if(i.length<4||2*e.length<i.length)return null;var h=this;function r(t,n,i){for(var e,r,a,f,s=t.substring(i,i+Math.floor(t.length/4)),l=-1,g="";-1!=(l=n.indexOf(s,l+1));){var c=h.diff_commonPrefix(t.substring(i),n.substring(l)),_=h.diff_commonSuffix(t.substring(0,i),n.substring(0,l));g.length<_+c&&(g=n.substring(l-_,l)+n.substring(l,l+c),e=t.substring(0,i-_),r=t.substring(i+c),a=n.substring(0,l-_),f=n.substring(l+c))}return 2*g.length>=t.length?[e,r,a,f,g]:null}var a,f,s,l,g,c=r(i,e,Math.ceil(i.length/4)),_=r(i,e,Math.ceil(i.length/2));return c||_?(a=_?c&&c[4].length>_[4].length?c:_:c,t.length>n.length?(f=a[0],s=a[1],l=a[2],g=a[3]):(l=a[0],g=a[1],f=a[2],s=a[3]),[f,s,l,g,a[4]]):null},diff_match_patch.prototype.diff_cleanupSemantic=function(t){for(var n=!1,i=[],e=0,h=null,r=0,a=0,f=0,s=0,l=0;r<t.length;)t[r][0]==DIFF_EQUAL?(i[e++]=r,a=s,f=l,s=0,l=0,h=t[r][1]):(t[r][0]==DIFF_INSERT?s+=t[r][1].length:l+=t[r][1].length,null!==h&&h.length<=Math.max(a,f)&&h.length<=Math.max(s,l)&&(t.splice(i[e-1],0,[DIFF_DELETE,h]),t[i[e-1]+1][0]=DIFF_INSERT,e--,r=--e>0?i[e-1]:-1,a=0,f=0,s=0,l=0,h=null,n=!0)),r++;for(n&&this.diff_cleanupMerge(t),this.diff_cleanupSemanticLossless(t),r=1;r<t.length;){if(t[r-1][0]==DIFF_DELETE&&t[r][0]==DIFF_INSERT){var g=t[r-1][1],c=t[r][1],_=this.diff_commonOverlap_(g,c);(_>=g.length/2||_>=c.length/2)&&(t.splice(r,0,[DIFF_EQUAL,c.substring(0,_)]),t[r-1][1]=g.substring(0,g.length-_),t[r+1][1]=c.substring(_),r++),r++}r++}},diff_match_patch.prototype.diff_cleanupSemanticLossless=function(t){var n=/[^a-zA-Z0-9]/,i=/\s/,e=/[\r\n]/,h=/\n\r?\n$/,r=/^\r?\n\r?\n/;function a(t,a){if(!t||!a)return 5;var f=0;return(t.charAt(t.length-1).match(n)||a.charAt(0).match(n))&&(f++,(t.charAt(t.length-1).match(i)||a.charAt(0).match(i))&&(f++,(t.charAt(t.length-1).match(e)||a.charAt(0).match(e))&&(f++,(t.match(h)||a.match(r))&&f++))),f}for(var f=1;f<t.length-1;){if(t[f-1][0]==DIFF_EQUAL&&t[f+1][0]==DIFF_EQUAL){var s=t[f-1][1],l=t[f][1],g=t[f+1][1],c=this.diff_commonSuffix(s,l);if(c){var _=l.substring(l.length-c);s=s.substring(0,s.length-c),l=_+l.substring(0,l.length-c),g=_+g}for(var o=s,u=l,p=g,d=a(s,l)+a(l,g);l.charAt(0)===g.charAt(0);){s+=l.charAt(0),l=l.substring(1)+g.charAt(0),g=g.substring(1);var F=a(s,l)+a(l,g);F>=d&&(d=F,o=s,u=l,p=g)}t[f-1][1]!=o&&(o?t[f-1][1]=o:(t.splice(f-1,1),f--),t[f][1]=u,p?t[f+1][1]=p:(t.splice(f+1,1),f--))}f++}},diff_match_patch.prototype.diff_cleanupEfficiency=function(t){for(var n=!1,i=[],e=0,h="",r=0,a=!1,f=!1,s=!1,l=!1;r<t.length;)t[r][0]==DIFF_EQUAL?(t[r][1].length<this.Diff_EditCost&&(s||l)?(i[e++]=r,a=s,f=l,h=t[r][1]):(e=0,h=""),s=l=!1):(t[r][0]==DIFF_DELETE?l=!0:s=!0,h&&(a&&f&&s&&l||h.length<this.Diff_EditCost/2&&a+f+s+l==3)&&(t.splice(i[e-1],0,[DIFF_DELETE,h]),t[i[e-1]+1][0]=DIFF_INSERT,e--,h="",a&&f?(s=l=!0,e=0):(r=--e>0?i[e-1]:-1,s=l=!1),n=!0)),r++;n&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_cleanupMerge=function(t){t.push([DIFF_EQUAL,""]);for(var n,i=0,e=0,h=0,r="",a="";i<t.length;)switch(t[i][0]){case DIFF_INSERT:h++,a+=t[i][1],i++;break;case DIFF_DELETE:e++,r+=t[i][1],i++;break;case DIFF_EQUAL:e+h>1?(0!==e&&0!==h&&(0!==(n=this.diff_commonPrefix(a,r))&&(i-e-h>0&&t[i-e-h-1][0]==DIFF_EQUAL?t[i-e-h-1][1]+=a.substring(0,n):(t.splice(0,0,[DIFF_EQUAL,a.substring(0,n)]),i++),a=a.substring(n),r=r.substring(n)),0!==(n=this.diff_commonSuffix(a,r))&&(t[i][1]=a.substring(a.length-n)+t[i][1],a=a.substring(0,a.length-n),r=r.substring(0,r.length-n))),0===e?t.splice(i-e-h,e+h,[DIFF_INSERT,a]):0===h?t.splice(i-e-h,e+h,[DIFF_DELETE,r]):t.splice(i-e-h,e+h,[DIFF_DELETE,r],[DIFF_INSERT,a]),i=i-e-h+(e?1:0)+(h?1:0)+1):0!==i&&t[i-1][0]==DIFF_EQUAL?(t[i-1][1]+=t[i][1],t.splice(i,1)):i++,h=0,e=0,r="",a=""}""===t[t.length-1][1]&&t.pop();var f=!1;for(i=1;i<t.length-1;)t[i-1][0]==DIFF_EQUAL&&t[i+1][0]==DIFF_EQUAL&&(t[i][1].substring(t[i][1].length-t[i-1][1].length)==t[i-1][1]?(t[i][1]=t[i-1][1]+t[i][1].substring(0,t[i][1].length-t[i-1][1].length),t[i+1][1]=t[i-1][1]+t[i+1][1],t.splice(i-1,1),f=!0):t[i][1].substring(0,t[i+1][1].length)==t[i+1][1]&&(t[i-1][1]+=t[i+1][1],t[i][1]=t[i][1].substring(t[i+1][1].length)+t[i+1][1],t.splice(i+1,1),f=!0)),i++;f&&this.diff_cleanupMerge(t)},diff_match_patch.prototype.diff_xIndex=function(t,n){var i,e=0,h=0,r=0,a=0;for(i=0;i<t.length&&(t[i][0]!==DIFF_INSERT&&(e+=t[i][1].length),t[i][0]!==DIFF_DELETE&&(h+=t[i][1].length),!(e>n));i++)r=e,a=h;return t.length!=i&&t[i][0]===DIFF_DELETE?a:a+(n-r)},diff_match_patch.prototype.diff_prettyHtml=function(t){for(var n=[],i=/&/g,e=/</g,h=/>/g,r=/\n/g,a=0;a<t.length;a++){var f=t[a][0],s=t[a][1],l=s.replace(i,"&amp;").replace(e,"&lt;").replace(h,"&gt;").replace(r,"&para;<br>");switch(f){case DIFF_INSERT:n[a]='<ins style="background:#e6ffe6;">'+l+"</ins>";break;case DIFF_DELETE:n[a]='<del style="background:#ffe6e6;">'+l+"</del>";break;case DIFF_EQUAL:n[a]="<span>"+l+"</span>"}f!==DIFF_DELETE&&s.length}return n.join("")},diff_match_patch.prototype.diff_text1=function(t){for(var n=[],i=0;i<t.length;i++)t[i][0]!==DIFF_INSERT&&(n[i]=t[i][1]);return n.join("")},diff_match_patch.prototype.diff_text2=function(t){for(var n=[],i=0;i<t.length;i++)t[i][0]!==DIFF_DELETE&&(n[i]=t[i][1]);return n.join("")},diff_match_patch.prototype.diff_levenshtein=function(t){for(var n=0,i=0,e=0,h=0;h<t.length;h++){var r=t[h][0],a=t[h][1];switch(r){case DIFF_INSERT:i+=a.length;break;case DIFF_DELETE:e+=a.length;break;case DIFF_EQUAL:n+=Math.max(i,e),i=0,e=0}}return n+=Math.max(i,e)},diff_match_patch.prototype.diff_toDelta=function(t){for(var n=[],i=0;i<t.length;i++)switch(t[i][0]){case DIFF_INSERT:n[i]="+"+encodeURI(t[i][1]);break;case DIFF_DELETE:n[i]="-"+t[i][1].length;break;case DIFF_EQUAL:n[i]="="+t[i][1].length}return n.join("\t").replace(/%20/g," ")},diff_match_patch.prototype.diff_fromDelta=function(t,n){for(var i=[],e=0,h=0,r=n.split(/\t/g),a=0;a<r.length;a++){var f=r[a].substring(1);switch(r[a].charAt(0)){case"+":try{i[e++]=[DIFF_INSERT,decodeURI(f)]}catch(t){throw new Error("Illegal escape in diff_fromDelta: "+f)}break;case"-":case"=":var s=parseInt(f,10);if(isNaN(s)||s<0)throw new Error("Invalid number in diff_fromDelta: "+f);var l=t.substring(h,h+=s);"="==r[a].charAt(0)?i[e++]=[DIFF_EQUAL,l]:i[e++]=[DIFF_DELETE,l];break;default:if(r[a])throw new Error("Invalid diff operation in diff_fromDelta: "+r[a])}}if(h!=t.length)throw new Error("Delta length ("+h+") does not equal source text length ("+t.length+").");return i},diff_match_patch.prototype.match_main=function(t,n,i){if(null==t||null==n||null==i)throw new Error("Null input. (match_main)");return i=Math.max(0,Math.min(i,t.length)),t==n?0:t.length?t.substring(i,i+n.length)==n?i:this.match_bitap_(t,n,i):-1},diff_match_patch.prototype.match_bitap_=function(t,n,i){if(n.length>this.Match_MaxBits)throw new Error("Pattern too long for this browser.");var e=this.match_alphabet_(n),h=this;function r(t,e){var r=t/n.length,a=Math.abs(i-e);return h.Match_Distance?r+a/h.Match_Distance:a?1:r}var a=this.Match_Threshold,f=t.indexOf(n,i);-1!=f&&(a=Math.min(r(0,f),a),-1!=(f=t.lastIndexOf(n,i+n.length))&&(a=Math.min(r(0,f),a)));var s,l,g=1<<n.length-1;f=-1;for(var c,_=n.length+t.length,o=0;o<n.length;o++){for(s=0,l=_;s<l;)r(o,i+l)<=a?s=l:_=l,l=Math.floor((_-s)/2+s);_=l;var u=Math.max(1,i-l+1),p=Math.min(i+l,t.length)+n.length,d=Array(p+2);d[p+1]=(1<<o)-1;for(var F=p;F>=u;F--){var E=e[t.charAt(F-1)];if(d[F]=0===o?(d[F+1]<<1|1)&E:(d[F+1]<<1|1)&E|(c[F+1]|c[F])<<1|1|c[F+1],d[F]&g){var D=r(o,F-1);if(D<=a){if(a=D,!((f=F-1)>i))break;u=Math.max(1,2*i-f)}}}if(r(o+1,i)>a)break;c=d}return f},diff_match_patch.prototype.match_alphabet_=function(t){for(var n={},i=0;i<t.length;i++)n[t.charAt(i)]=0;for(i=0;i<t.length;i++)n[t.charAt(i)]|=1<<t.length-i-1;return n},diff_match_patch.prototype.patch_addContext_=function(t,n){if(0!=n.length){for(var i=n.substring(t.start2,t.start2+t.length1),e=0;n.indexOf(i)!=n.lastIndexOf(i)&&i.length<this.Match_MaxBits-this.Patch_Margin-this.Patch_Margin;)e+=this.Patch_Margin,i=n.substring(t.start2-e,t.start2+t.length1+e);e+=this.Patch_Margin;var h=n.substring(t.start2-e,t.start2);h&&t.diffs.unshift([DIFF_EQUAL,h]);var r=n.substring(t.start2+t.length1,t.start2+t.length1+e);r&&t.diffs.push([DIFF_EQUAL,r]),t.start1-=h.length,t.start2-=h.length,t.length1+=h.length+r.length,t.length2+=h.length+r.length}},diff_match_patch.prototype.patch_make=function(t,n,i){var e,h;if("string"==typeof t&&"string"==typeof n&&void 0===i)e=t,(h=this.diff_main(e,n,!0)).length>2&&(this.diff_cleanupSemantic(h),this.diff_cleanupEfficiency(h));else if(t&&"object"==typeof t&&void 0===n&&void 0===i)h=t,e=this.diff_text1(h);else if("string"==typeof t&&n&&"object"==typeof n&&void 0===i)e=t,h=n;else{if("string"!=typeof t||"string"!=typeof n||!i||"object"!=typeof i)throw new Error("Unknown call format to patch_make.");e=t,h=i}if(0===h.length)return[];for(var r=[],a=new diff_match_patch.patch_obj,f=0,s=0,l=0,g=e,c=e,_=0;_<h.length;_++){var o=h[_][0],u=h[_][1];switch(f||o===DIFF_EQUAL||(a.start1=s,a.start2=l),o){case DIFF_INSERT:a.diffs[f++]=h[_],a.length2+=u.length,c=c.substring(0,l)+u+c.substring(l);break;case DIFF_DELETE:a.length1+=u.length,a.diffs[f++]=h[_],c=c.substring(0,l)+c.substring(l+u.length);break;case DIFF_EQUAL:u.length<=2*this.Patch_Margin&&f&&h.length!=_+1?(a.diffs[f++]=h[_],a.length1+=u.length,a.length2+=u.length):u.length>=2*this.Patch_Margin&&f&&(this.patch_addContext_(a,g),r.push(a),a=new diff_match_patch.patch_obj,f=0,g=c,s=l)}o!==DIFF_INSERT&&(s+=u.length),o!==DIFF_DELETE&&(l+=u.length)}return f&&(this.patch_addContext_(a,g),r.push(a)),r},diff_match_patch.prototype.patch_deepCopy=function(t){for(var n=[],i=0;i<t.length;i++){var e=t[i],h=new diff_match_patch.patch_obj;h.diffs=[];for(var r=0;r<e.diffs.length;r++)h.diffs[r]=e.diffs[r].slice();h.start1=e.start1,h.start2=e.start2,h.length1=e.length1,h.length2=e.length2,n[i]=h}return n},diff_match_patch.prototype.patch_apply=function(t,n){if(0==t.length)return[n,[]];t=this.patch_deepCopy(t);var i=this.patch_addPadding(t);n=i+n+i,this.patch_splitMax(t);for(var e=0,h=[],r=0;r<t.length;r++){var a,f,s=t[r].start2+e,l=this.diff_text1(t[r].diffs),g=-1;if(l.length>this.Match_MaxBits?-1!=(a=this.match_main(n,l.substring(0,this.Match_MaxBits),s))&&(-1==(g=this.match_main(n,l.substring(l.length-this.Match_MaxBits),s+l.length-this.Match_MaxBits))||a>=g)&&(a=-1):a=this.match_main(n,l,s),-1==a)h[r]=!1,e-=t[r].length2-t[r].length1;else if(h[r]=!0,e=a-s,l==(f=-1==g?n.substring(a,a+l.length):n.substring(a,g+this.Match_MaxBits)))n=n.substring(0,a)+this.diff_text2(t[r].diffs)+n.substring(a+l.length);else{var c=this.diff_main(l,f,!1);if(l.length>this.Match_MaxBits&&this.diff_levenshtein(c)/l.length>this.Patch_DeleteThreshold)h[r]=!1;else{this.diff_cleanupSemanticLossless(c);for(var _,o=0,u=0;u<t[r].diffs.length;u++){var p=t[r].diffs[u];p[0]!==DIFF_EQUAL&&(_=this.diff_xIndex(c,o)),p[0]===DIFF_INSERT?n=n.substring(0,a+_)+p[1]+n.substring(a+_):p[0]===DIFF_DELETE&&(n=n.substring(0,a+_)+n.substring(a+this.diff_xIndex(c,o+p[1].length))),p[0]!==DIFF_DELETE&&(o+=p[1].length)}}}}return[n=n.substring(i.length,n.length-i.length),h]},diff_match_patch.prototype.patch_addPadding=function(t){for(var n=this.Patch_Margin,i="",e=1;e<=n;e++)i+=String.fromCharCode(e);for(e=0;e<t.length;e++)t[e].start1+=n,t[e].start2+=n;var h=t[0],r=h.diffs;if(0==r.length||r[0][0]!=DIFF_EQUAL)r.unshift([DIFF_EQUAL,i]),h.start1-=n,h.start2-=n,h.length1+=n,h.length2+=n;else if(n>r[0][1].length){var a=n-r[0][1].length;r[0][1]=i.substring(r[0][1].length)+r[0][1],h.start1-=a,h.start2-=a,h.length1+=a,h.length2+=a}if(0==(r=(h=t[t.length-1]).diffs).length||r[r.length-1][0]!=DIFF_EQUAL)r.push([DIFF_EQUAL,i]),h.length1+=n,h.length2+=n;else if(n>r[r.length-1][1].length){a=n-r[r.length-1][1].length;r[r.length-1][1]+=i.substring(0,a),h.length1+=a,h.length2+=a}return i},diff_match_patch.prototype.patch_splitMax=function(t){for(var n=this.Match_MaxBits,i=0;i<t.length;i++)if(t[i].length1>n){var e=t[i];t.splice(i--,1);for(var h=e.start1,r=e.start2,a="";0!==e.diffs.length;){var f=new diff_match_patch.patch_obj,s=!0;for(f.start1=h-a.length,f.start2=r-a.length,""!==a&&(f.length1=f.length2=a.length,f.diffs.push([DIFF_EQUAL,a]));0!==e.diffs.length&&f.length1<n-this.Patch_Margin;){var l=e.diffs[0][0],g=e.diffs[0][1];l===DIFF_INSERT?(f.length2+=g.length,r+=g.length,f.diffs.push(e.diffs.shift()),s=!1):l===DIFF_DELETE&&1==f.diffs.length&&f.diffs[0][0]==DIFF_EQUAL&&g.length>2*n?(f.length1+=g.length,h+=g.length,s=!1,f.diffs.push([l,g]),e.diffs.shift()):(g=g.substring(0,n-f.length1-this.Patch_Margin),f.length1+=g.length,h+=g.length,l===DIFF_EQUAL?(f.length2+=g.length,r+=g.length):s=!1,f.diffs.push([l,g]),g==e.diffs[0][1]?e.diffs.shift():e.diffs[0][1]=e.diffs[0][1].substring(g.length))}a=(a=this.diff_text2(f.diffs)).substring(a.length-this.Patch_Margin);var c=this.diff_text1(e.diffs).substring(0,this.Patch_Margin);""!==c&&(f.length1+=c.length,f.length2+=c.length,0!==f.diffs.length&&f.diffs[f.diffs.length-1][0]===DIFF_EQUAL?f.diffs[f.diffs.length-1][1]+=c:f.diffs.push([DIFF_EQUAL,c])),s||t.splice(++i,0,f)}}},diff_match_patch.prototype.patch_toText=function(t){for(var n=[],i=0;i<t.length;i++)n[i]=t[i];return n.join("")},diff_match_patch.prototype.patch_fromText=function(t){var n=[];if(!t)return n;for(var i=t.split("\n"),e=0,h=/^@@ -(\d+),?(\d*) \+(\d+),?(\d*) @@$/;e<i.length;){var r=i[e].match(h);if(!r)throw new Error("Invalid patch string: "+i[e]);var a=new diff_match_patch.patch_obj;for(n.push(a),a.start1=parseInt(r[1],10),""===r[2]?(a.start1--,a.length1=1):"0"==r[2]?a.length1=0:(a.start1--,a.length1=parseInt(r[2],10)),a.start2=parseInt(r[3],10),""===r[4]?(a.start2--,a.length2=1):"0"==r[4]?a.length2=0:(a.start2--,a.length2=parseInt(r[4],10)),e++;e<i.length;){var f=i[e].charAt(0);try{var s=decodeURI(i[e].substring(1))}catch(t){throw new Error("Illegal escape in patch_fromText: "+s)}if("-"==f)a.diffs.push([DIFF_DELETE,s]);else if("+"==f)a.diffs.push([DIFF_INSERT,s]);else if(" "==f)a.diffs.push([DIFF_EQUAL,s]);else{if("@"==f)break;if(""!==f)throw new Error('Invalid patch mode "'+f+'" in: '+s)}e++}}return n},diff_match_patch.patch_obj=function(){this.diffs=[],this.start1=null,this.start2=null,this.length1=0,this.length2=0},diff_match_patch.patch_obj.prototype.toString=function(){for(var t,n=["@@ -"+(0===this.length1?this.start1+",0":1==this.length1?this.start1+1:this.start1+1+","+this.length1)+" +"+(0===this.length2?this.start2+",0":1==this.length2?this.start2+1:this.start2+1+","+this.length2)+" @@\n"],i=0;i<this.diffs.length;i++){switch(this.diffs[i][0]){case DIFF_INSERT:t="+";break;case DIFF_DELETE:t="-";break;case DIFF_EQUAL:t=" "}n[i+1]=t+encodeURI(this.diffs[i][1])+"\n"}return n.join("").replace(/%20/g," ")},this.diff_match_patch=diff_match_patch,this.DIFF_DELETE=DIFF_DELETE,this.DIFF_INSERT=DIFF_INSERT,this.DIFF_EQUAL=DIFF_EQUAL;

},{}],119:[function(require,module,exports){
var isArray="function"==typeof Array.isArray?Array.isArray:function(r){return r instanceof Array};function cloneRegExp(r){var e=/^\/(.*)\/([gimyu]*)$/.exec(r.toString());return new RegExp(e[1],e[2])}function clone(r){if("object"!=typeof r)return r;if(null===r)return null;if(isArray(r))return r.map(clone);if(r instanceof Date)return new Date(r.getTime());if(r instanceof RegExp)return cloneRegExp(r);var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=clone(r[n]));return e}module.exports=clone;

},{}],120:[function(require,module,exports){
var Pipe=require("../pipe").Pipe,Context=function(){};Context.prototype.setResult=function(t){return this.result=t,this.hasResult=!0,this},Context.prototype.exit=function(){return this.exiting=!0,this},Context.prototype.switchTo=function(t,i){return"string"==typeof t||t instanceof Pipe?this.nextPipe=t:(this.next=t,i&&(this.nextPipe=i)),this},Context.prototype.push=function(t,i){return t.parent=this,void 0!==i&&(t.childName=i),t.root=this.root||this,t.options=t.options||this.options,this.children?(this.children[this.children.length-1].next=t,this.children.push(t)):(this.children=[t],this.nextAfterChildren=this.next||null,this.next=t),t.next=this,this},exports.Context=Context;

},{"../pipe":139}],121:[function(require,module,exports){
var Context=require("./context").Context,defaultClone=require("../clone"),DiffContext=function(t,e){this.left=t,this.right=e,this.pipe="diff"};DiffContext.prototype=new Context,DiffContext.prototype.setResult=function(t){if(this.options.cloneDiffValues&&"object"==typeof t){var e="function"==typeof this.options.cloneDiffValues?this.options.cloneDiffValues:defaultClone;"object"==typeof t[0]&&(t[0]=e(t[0])),"object"==typeof t[1]&&(t[1]=e(t[1]))}return Context.prototype.setResult.apply(this,arguments)},exports.DiffContext=DiffContext;

},{"../clone":119,"./context":120}],122:[function(require,module,exports){
var Context=require("./context").Context,PatchContext=function(t,e){this.left=t,this.delta=e,this.pipe="patch"};PatchContext.prototype=new Context,exports.PatchContext=PatchContext;

},{"./context":120}],123:[function(require,module,exports){
var Context=require("./context").Context,ReverseContext=function(e){this.delta=e,this.pipe="reverse"};ReverseContext.prototype=new Context,exports.ReverseContext=ReverseContext;

},{"./context":120}],124:[function(require,module,exports){
module.exports=function(d,e){var t;return"string"==typeof e&&(t=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})(?:\.(\d*))?(Z|([+\-])(\d{2}):(\d{2}))$/.exec(e))?new Date(Date.UTC(+t[1],+t[2]-1,+t[3],+t[4],+t[5],+t[6],+(t[7]||0))):e};

},{}],125:[function(require,module,exports){
var Processor=require("./processor").Processor,Pipe=require("./pipe").Pipe,DiffContext=require("./contexts/diff").DiffContext,PatchContext=require("./contexts/patch").PatchContext,ReverseContext=require("./contexts/reverse").ReverseContext,clone=require("./clone"),trivial=require("./filters/trivial"),nested=require("./filters/nested"),arrays=require("./filters/arrays"),dates=require("./filters/dates"),texts=require("./filters/texts"),DiffPatcher=function(e){this.processor=new Processor(e),this.processor.pipe(new Pipe("diff").append(nested.collectChildrenDiffFilter,trivial.diffFilter,dates.diffFilter,texts.diffFilter,nested.objectsDiffFilter,arrays.diffFilter).shouldHaveResult()),this.processor.pipe(new Pipe("patch").append(nested.collectChildrenPatchFilter,arrays.collectChildrenPatchFilter,trivial.patchFilter,texts.patchFilter,nested.patchFilter,arrays.patchFilter).shouldHaveResult()),this.processor.pipe(new Pipe("reverse").append(nested.collectChildrenReverseFilter,arrays.collectChildrenReverseFilter,trivial.reverseFilter,texts.reverseFilter,nested.reverseFilter,arrays.reverseFilter).shouldHaveResult())};DiffPatcher.prototype.options=function(){return this.processor.options.apply(this.processor,arguments)},DiffPatcher.prototype.diff=function(e,r){return this.processor.process(new DiffContext(e,r))},DiffPatcher.prototype.patch=function(e,r){return this.processor.process(new PatchContext(e,r))},DiffPatcher.prototype.reverse=function(e){return this.processor.process(new ReverseContext(e))},DiffPatcher.prototype.unpatch=function(e,r){return this.patch(e,this.reverse(r))},DiffPatcher.prototype.clone=function(e){return clone(e)},exports.DiffPatcher=DiffPatcher;

},{"./clone":119,"./contexts/diff":121,"./contexts/patch":122,"./contexts/reverse":123,"./filters/arrays":127,"./filters/dates":128,"./filters/nested":130,"./filters/texts":131,"./filters/trivial":132,"./pipe":139,"./processor":140}],126:[function(require,module,exports){
exports.isBrowser="undefined"!=typeof window;

},{}],127:[function(require,module,exports){
var DiffContext=require("../contexts/diff").DiffContext,PatchContext=require("../contexts/patch").PatchContext,ReverseContext=require("../contexts/reverse").ReverseContext,lcs=require("./lcs"),ARRAY_MOVE=3,isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},arrayIndexOf="function"==typeof Array.prototype.indexOf?function(e,t){return e.indexOf(t)}:function(e,t){for(var r=e.length,i=0;i<r;i++)if(e[i]===t)return i;return-1};function arraysHaveMatchByRef(e,t,r,i){for(var a=0;a<r;a++)for(var n=e[a],l=0;l<i;l++){var s=t[l];if(a!==l&&n===s)return!0}}function matchItems(e,t,r,i,a){var n=e[r],l=t[i];if(n===l)return!0;if("object"!=typeof n||"object"!=typeof l)return!1;var s,o,f=a.objectHash;return f?("number"==typeof r?(a.hashCache1=a.hashCache1||[],void 0===(s=a.hashCache1[r])&&(a.hashCache1[r]=s=f(n,r))):s=f(n),void 0!==s&&("number"==typeof i?(a.hashCache2=a.hashCache2||[],void 0===(o=a.hashCache2[i])&&(a.hashCache2[i]=o=f(l,i))):o=f(l),void 0!==o&&s===o)):a.matchByPosition&&r===i}var diffFilter=function(e){if(e.leftIsArray){var t,r,i,a,n,l={objectHash:e.options&&e.options.objectHash,matchByPosition:e.options&&e.options.matchByPosition},s=0,o=0,f=e.left,c=e.right,h=f.length,u=c.length;for(h>0&&u>0&&!l.objectHash&&"boolean"!=typeof l.matchByPosition&&(l.matchByPosition=!arraysHaveMatchByRef(f,c,h,u));s<h&&s<u&&matchItems(f,c,s,s,l);)t=s,a=new DiffContext(e.left[t],e.right[t]),e.push(a,t),s++;for(;o+s<h&&o+s<u&&matchItems(f,c,h-1-o,u-1-o,l);)r=h-1-o,i=u-1-o,a=new DiffContext(e.left[r],e.right[i]),e.push(a,i),o++;if(s+o!==h)if(s+o!==u){delete l.hashCache1,delete l.hashCache2;var d=f.slice(s,h-o),v=c.slice(s,u-o),p=lcs.get(d,v,matchItems,l),y=[];for(n=n||{_t:"a"},t=s;t<h-o;t++)arrayIndexOf(p.indices1,t-s)<0&&(n["_"+t]=[f[t],0,0],y.push(t));var x=!0;e.options&&e.options.arrays&&!1===e.options.arrays.detectMove&&(x=!1);var m=!1;e.options&&e.options.arrays&&e.options.arrays.includeValueOnMove&&(m=!0);var C=y.length;for(t=s;t<u-o;t++){var R=arrayIndexOf(p.indices2,t-s);if(R<0){var A=!1;if(x&&C>0)for(var _=0;_<C;_++)if(matchItems(d,v,(r=y[_])-s,t-s,l)){n["_"+r].splice(1,2,t,ARRAY_MOVE),m||(n["_"+r][0]=""),i=t,a=new DiffContext(e.left[r],e.right[i]),e.push(a,i),y.splice(_,1),A=!0;break}A||(n[t]=[c[t]])}else r=p.indices1[R]+s,i=p.indices2[R]+s,a=new DiffContext(e.left[r],e.right[i]),e.push(a,i)}e.setResult(n).exit()}else{for(n=n||{_t:"a"},t=s;t<h-o;t++)n["_"+t]=[f[t],0,0];e.setResult(n).exit()}else{if(h===u)return void e.setResult(void 0).exit();for(n=n||{_t:"a"},t=s;t<u-o;t++)n[t]=[c[t]];e.setResult(n).exit()}}};diffFilter.filterName="arrays";var compare={numerically:function(e,t){return e-t},numericallyBy:function(e){return function(t,r){return t[e]-r[e]}}},patchFilter=function(e){if(e.nested&&"a"===e.delta._t){var t,r,i=e.delta,a=e.left,n=[],l=[],s=[];for(t in i)if("_t"!==t)if("_"===t[0]){if(0!==i[t][2]&&i[t][2]!==ARRAY_MOVE)throw new Error("only removal or move can be applied at original array indices, invalid diff type: "+i[t][2]);n.push(parseInt(t.slice(1),10))}else 1===i[t].length?l.push({index:parseInt(t,10),value:i[t][0]}):s.push({index:parseInt(t,10),delta:i[t]});for(t=(n=n.sort(compare.numerically)).length-1;t>=0;t--){var o=i["_"+(r=n[t])],f=a.splice(r,1)[0];o[2]===ARRAY_MOVE&&l.push({index:o[1],value:f})}var c=(l=l.sort(compare.numericallyBy("index"))).length;for(t=0;t<c;t++){var h=l[t];a.splice(h.index,0,h.value)}var u,d=s.length;if(d>0)for(t=0;t<d;t++){var v=s[t];u=new PatchContext(e.left[v.index],v.delta),e.push(u,v.index)}e.children?e.exit():e.setResult(e.left).exit()}};patchFilter.filterName="arrays";var collectChildrenPatchFilter=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t,r=e.children.length,i=0;i<r;i++)t=e.children[i],e.left[t.childName]=t.result;e.setResult(e.left).exit()}};collectChildrenPatchFilter.filterName="arraysCollectChildren";var reverseFilter=function(e){if(e.nested){if("a"===e.delta._t){var t,r;for(t in e.delta)"_t"!==t&&(r=new ReverseContext(e.delta[t]),e.push(r,t));e.exit()}}else e.delta[2]===ARRAY_MOVE&&(e.newName="_"+e.delta[1],e.setResult([e.delta[0],parseInt(e.childName.substr(1),10),ARRAY_MOVE]).exit())};reverseFilter.filterName="arrays";var reverseArrayDeltaIndex=function(e,t,r){if("string"==typeof t&&"_"===t[0])return parseInt(t.substr(1),10);if(isArray(r)&&0===r[2])return"_"+t;var i=+t;for(var a in e){var n=e[a];if(isArray(n))if(n[2]===ARRAY_MOVE){var l=parseInt(a.substr(1),10),s=n[1];if(s===+t)return l;l<=i&&s>i?i++:l>=i&&s<i&&i--}else if(0===n[2]){parseInt(a.substr(1),10)<=i&&i++}else 1===n.length&&a<=i&&i--}return i},collectChildrenReverseFilter=function(e){if(e&&e.children&&"a"===e.delta._t){for(var t,r=e.children.length,i={_t:"a"},a=0;a<r;a++){var n=(t=e.children[a]).newName;void 0===n&&(n=reverseArrayDeltaIndex(e.delta,t.childName,t.result)),i[n]!==t.result&&(i[n]=t.result)}e.setResult(i).exit()}};collectChildrenReverseFilter.filterName="arraysCollectChildren",exports.diffFilter=diffFilter,exports.patchFilter=patchFilter,exports.collectChildrenPatchFilter=collectChildrenPatchFilter,exports.reverseFilter=reverseFilter,exports.collectChildrenReverseFilter=collectChildrenReverseFilter;

},{"../contexts/diff":121,"../contexts/patch":122,"../contexts/reverse":123,"./lcs":129}],128:[function(require,module,exports){
var diffFilter=function(t){t.left instanceof Date?(t.right instanceof Date?t.left.getTime()!==t.right.getTime()?t.setResult([t.left,t.right]):t.setResult(void 0):t.setResult([t.left,t.right]),t.exit()):t.right instanceof Date&&t.setResult([t.left,t.right]).exit()};diffFilter.filterName="dates",exports.diffFilter=diffFilter;

},{}],129:[function(require,module,exports){
var defaultMatch=function(t,e,n,r){return t[n]===e[r]},lengthMatrix=function(t,e,n,r){var c,a,i=t.length,u=e.length,f=[i+1];for(c=0;c<i+1;c++)for(f[c]=[u+1],a=0;a<u+1;a++)f[c][a]=0;for(f.match=n,c=1;c<i+1;c++)for(a=1;a<u+1;a++)n(t,e,c-1,a-1,r)?f[c][a]=f[c-1][a-1]+1:f[c][a]=Math.max(f[c-1][a],f[c][a-1]);return f},backtrack=function(t,e,n,r,c,a){if(0===r||0===c)return{sequence:[],indices1:[],indices2:[]};if(t.match(e,n,r-1,c-1,a)){var i=backtrack(t,e,n,r-1,c-1,a);return i.sequence.push(e[r-1]),i.indices1.push(r-1),i.indices2.push(c-1),i}return t[r][c-1]>t[r-1][c]?backtrack(t,e,n,r,c-1,a):backtrack(t,e,n,r-1,c,a)},get=function(t,e,n,r){var c=lengthMatrix(t,e,n||defaultMatch,r=r||{}),a=backtrack(c,t,e,t.length,e.length,r);return"string"==typeof t&&"string"==typeof e&&(a.sequence=a.sequence.join("")),a};exports.get=get;

},{}],130:[function(require,module,exports){
var DiffContext=require("../contexts/diff").DiffContext,PatchContext=require("../contexts/patch").PatchContext,ReverseContext=require("../contexts/reverse").ReverseContext,collectChildrenDiffFilter=function(e){if(e&&e.children){for(var t,l=e.children.length,r=e.result,i=0;i<l;i++)void 0!==(t=e.children[i]).result&&((r=r||{})[t.childName]=t.result);r&&e.leftIsArray&&(r._t="a"),e.setResult(r).exit()}};collectChildrenDiffFilter.filterName="collectChildren";var objectsDiffFilter=function(e){if(!e.leftIsArray&&"object"===e.leftType){var t,l,r=e.options.propertyFilter;for(t in e.left)Object.prototype.hasOwnProperty.call(e.left,t)&&(r&&!r(t,e)||(l=new DiffContext(e.left[t],e.right[t]),e.push(l,t)));for(t in e.right)Object.prototype.hasOwnProperty.call(e.right,t)&&(r&&!r(t,e)||void 0===e.left[t]&&(l=new DiffContext(void 0,e.right[t]),e.push(l,t)));e.children&&0!==e.children.length?e.exit():e.setResult(void 0).exit()}};objectsDiffFilter.filterName="objects";var patchFilter=function(e){if(e.nested&&!e.delta._t){var t,l;for(t in e.delta)l=new PatchContext(e.left[t],e.delta[t]),e.push(l,t);e.exit()}};patchFilter.filterName="objects";var collectChildrenPatchFilter=function(e){if(e&&e.children&&!e.delta._t){for(var t,l=e.children.length,r=0;r<l;r++)t=e.children[r],Object.prototype.hasOwnProperty.call(e.left,t.childName)&&void 0===t.result?delete e.left[t.childName]:e.left[t.childName]!==t.result&&(e.left[t.childName]=t.result);e.setResult(e.left).exit()}};collectChildrenPatchFilter.filterName="collectChildren";var reverseFilter=function(e){if(e.nested&&!e.delta._t){var t,l;for(t in e.delta)l=new ReverseContext(e.delta[t]),e.push(l,t);e.exit()}};reverseFilter.filterName="objects";var collectChildrenReverseFilter=function(e){if(e&&e.children&&!e.delta._t){for(var t,l=e.children.length,r={},i=0;i<l;i++)r[(t=e.children[i]).childName]!==t.result&&(r[t.childName]=t.result);e.setResult(r).exit()}};collectChildrenReverseFilter.filterName="collectChildren",exports.collectChildrenDiffFilter=collectChildrenDiffFilter,exports.objectsDiffFilter=objectsDiffFilter,exports.patchFilter=patchFilter,exports.collectChildrenPatchFilter=collectChildrenPatchFilter,exports.reverseFilter=reverseFilter,exports.collectChildrenReverseFilter=collectChildrenReverseFilter;

},{"../contexts/diff":121,"../contexts/patch":122,"../contexts/reverse":123}],131:[function(require,module,exports){
var TEXT_DIFF=2,DEFAULT_MIN_LENGTH=60,cachedDiffPatch=null,getDiffMatchPatch=function(t){if(!cachedDiffPatch){var e;if("undefined"!=typeof diff_match_patch)e="function"==typeof diff_match_patch?new diff_match_patch:new diff_match_patch.diff_match_patch;else if("function"==typeof require)try{var f=require("../../public/external/diff_match_patch_uncompressed");e=new f.diff_match_patch}catch(t){e=null}if(!e){if(!t)return null;var i=new Error("text diff_match_patch library not found");throw i.diff_match_patch_not_found=!0,i}cachedDiffPatch={diff:function(t,f){return e.patch_toText(e.patch_make(t,f))},patch:function(t,f){for(var i=e.patch_apply(e.patch_fromText(f),t),r=0;r<i[1].length;r++){if(!i[1][r])new Error("text patch failed").textPatchFailed=!0}return i[0]}}}return cachedDiffPatch},diffFilter=function(t){if("string"===t.leftType){var e=t.options&&t.options.textDiff&&t.options.textDiff.minLength||DEFAULT_MIN_LENGTH;if(t.left.length<e||t.right.length<e)t.setResult([t.left,t.right]).exit();else{var f=getDiffMatchPatch();if(f){var i=f.diff;t.setResult([i(t.left,t.right),0,TEXT_DIFF]).exit()}else t.setResult([t.left,t.right]).exit()}}};diffFilter.filterName="texts";var patchFilter=function(t){if(!t.nested&&t.delta[2]===TEXT_DIFF){var e=getDiffMatchPatch(!0).patch;t.setResult(e(t.left,t.delta[0])).exit()}};patchFilter.filterName="texts";var textDeltaReverse=function(t){var e,f,i,r,a,c=null,l=/^@@ +\-(\d+),(\d+) +\+(\d+),(\d+) +@@$/;for(e=0,f=(i=t.split("\n")).length;e<f;e++){var n=(r=i[e]).slice(0,1);"@"===n?(c=l.exec(r),null,null,i[e]="@@ -"+c[3]+","+c[4]+" +"+c[1]+","+c[2]+" @@"):"+"===n?(e,i[e]="-"+i[e].slice(1),"+"===i[e-1].slice(0,1)&&(a=i[e],i[e]=i[e-1],i[e-1]=a)):"-"===n&&(e,i[e]="+"+i[e].slice(1))}return i.join("\n")},reverseFilter=function(t){t.nested||t.delta[2]===TEXT_DIFF&&t.setResult([textDeltaReverse(t.delta[0]),0,TEXT_DIFF]).exit()};reverseFilter.filterName="texts",exports.diffFilter=diffFilter,exports.patchFilter=patchFilter,exports.reverseFilter=reverseFilter;

},{"../../public/external/diff_match_patch_uncompressed":118}],132:[function(require,module,exports){
var isArray="function"==typeof Array.isArray?Array.isArray:function(e){return e instanceof Array},diffFilter=function(e){if(e.left!==e.right)if(void 0!==e.left)if(void 0!==e.right){if("function"==typeof e.left||"function"==typeof e.right)throw new Error("functions are not supported");if(e.leftType=null===e.left?"null":typeof e.left,e.rightType=null===e.right?"null":typeof e.right,e.leftType===e.rightType)if("boolean"!==e.leftType&&"number"!==e.leftType)if("object"===e.leftType&&(e.leftIsArray=isArray(e.left)),"object"===e.rightType&&(e.rightIsArray=isArray(e.right)),e.leftIsArray===e.rightIsArray){if(e.left instanceof RegExp){if(!(e.right instanceof RegExp))return void e.setResult([e.left,e.right]).exit();e.setResult([e.left.toString(),e.right.toString()]).exit()}}else e.setResult([e.left,e.right]).exit();else e.setResult([e.left,e.right]).exit();else e.setResult([e.left,e.right]).exit()}else e.setResult([e.left,0,0]).exit();else{if("function"==typeof e.right)throw new Error("functions are not supported");e.setResult([e.right]).exit()}else e.setResult(void 0).exit()};diffFilter.filterName="trivial";var patchFilter=function(e){if(void 0!==e.delta){if(e.nested=!isArray(e.delta),!e.nested)if(1!==e.delta.length)if(2!==e.delta.length)3!==e.delta.length||0!==e.delta[2]||e.setResult(void 0).exit();else{if(e.left instanceof RegExp){var t=/^\/(.*)\/([gimyu]+)$/.exec(e.delta[1]);if(t)return void e.setResult(new RegExp(t[1],t[2])).exit()}e.setResult(e.delta[1]).exit()}else e.setResult(e.delta[0]).exit()}else e.setResult(e.left).exit()};patchFilter.filterName="trivial";var reverseFilter=function(e){void 0!==e.delta?(e.nested=!isArray(e.delta),e.nested||(1!==e.delta.length?2!==e.delta.length?3!==e.delta.length||0!==e.delta[2]||e.setResult([e.delta[0]]).exit():e.setResult([e.delta[1],e.delta[0]]).exit():e.setResult([e.delta[0],0,0]).exit())):e.setResult(e.delta).exit()};reverseFilter.filterName="trivial",exports.diffFilter=diffFilter,exports.patchFilter=patchFilter,exports.reverseFilter=reverseFilter;

},{}],133:[function(require,module,exports){
var base=require("./base"),BaseFormatter=base.BaseFormatter,AnnotatedFormatter=function(){this.includeMoveDestinations=!1};AnnotatedFormatter.prototype=new BaseFormatter,AnnotatedFormatter.prototype.prepareContext=function(t){BaseFormatter.prototype.prepareContext.call(this,t),t.indent=function(t){this.indentLevel=(this.indentLevel||0)+(void 0===t?1:t),this.indentPad=new Array(this.indentLevel+1).join("&nbsp;&nbsp;")},t.row=function(e,o){t.out('<tr><td style="white-space: nowrap;"><pre class="jsondiffpatch-annotated-indent" style="display: inline-block">'),t.out(t.indentPad),t.out('</pre><pre style="display: inline-block">'),t.out(e),t.out('</pre></td><td class="jsondiffpatch-delta-note"><div>'),t.out(o),t.out("</div></td></tr>")}},AnnotatedFormatter.prototype.typeFormattterErrorFormatter=function(t,e){t.row("",'<pre class="jsondiffpatch-error">'+e+"</pre>")},AnnotatedFormatter.prototype.formatTextDiffString=function(t,e){var o=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var n=0,r=o.length;n<r;n++){var a=o[n];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+a.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+a.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var i=a.pieces,d=0,p=i.length;d<p;d++){var f=i[d];t.out('<span class="jsondiffpatch-textdiff-'+f.type+'">'+f.text+"</span>")}t.out("</div></li>")}t.out("</ul>")},AnnotatedFormatter.prototype.rootBegin=function(t,e,o){t.out('<table class="jsondiffpatch-annotated-delta">'),"node"===e&&(t.row("{"),t.indent()),"array"===o&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")},AnnotatedFormatter.prototype.rootEnd=function(t,e){"node"===e&&(t.indent(-1),t.row("}")),t.out("</table>")},AnnotatedFormatter.prototype.nodeBegin=function(t,e,o,n,r){t.row("&quot;"+e+"&quot;: {"),"node"===n&&t.indent(),"array"===r&&t.row('"_t": "a",',"Array delta (member names indicate array indices)")},AnnotatedFormatter.prototype.nodeEnd=function(t,e,o,n,r,a){"node"===n&&t.indent(-1),t.row("}"+(a?"":","))},AnnotatedFormatter.prototype.format_unchanged=function(){},AnnotatedFormatter.prototype.format_movedestination=function(){},AnnotatedFormatter.prototype.format_node=function(t,e,o){this.formatDeltaChildren(t,e,o)};var defaultInstance,wrapPropertyName=function(t){return'<pre style="display:inline-block">&quot;'+t+"&quot;</pre>"},deltaAnnotations={added:function(t,e,o,n){var r=" <pre>([newValue])</pre>";return void 0===n?"new value"+r:"number"==typeof n?"insert at index "+n+r:"add property "+wrapPropertyName(n)+r},modified:function(t,e,o,n){var r=" <pre>([previousValue, newValue])</pre>";return void 0===n?"modify value"+r:"number"==typeof n?"modify at index "+n+r:"modify property "+wrapPropertyName(n)+r},deleted:function(t,e,o,n){var r=" <pre>([previousValue, 0, 0])</pre>";return void 0===n?"delete value"+r:"number"==typeof n?"remove index "+n+r:"delete property "+wrapPropertyName(n)+r},moved:function(t,e,o,n){return'move from <span title="(position to remove at original state)">index '+n+'</span> to <span title="(position to insert at final state)">index '+t[1]+"</span>"},textdiff:function(t,e,o,n){return"text diff"+(void 0===n?"":"number"==typeof n?" at index "+n:" at property "+wrapPropertyName(n))+', format is <a href="https://code.google.com/p/google-diff-match-patch/wiki/Unidiff">a variation of Unidiff</a>'}},formatAnyChange=function(t,e){var o=this.getDeltaType(e),n=deltaAnnotations[o],r=n&&n.apply(n,Array.prototype.slice.call(arguments,1)),a=JSON.stringify(e,null,2);"textdiff"===o&&(a=a.split("\\n").join('\\n"+\n   "')),t.indent(),t.row(a,r),t.indent(-1)};AnnotatedFormatter.prototype.format_added=formatAnyChange,AnnotatedFormatter.prototype.format_modified=formatAnyChange,AnnotatedFormatter.prototype.format_deleted=formatAnyChange,AnnotatedFormatter.prototype.format_moved=formatAnyChange,AnnotatedFormatter.prototype.format_textdiff=formatAnyChange,exports.AnnotatedFormatter=AnnotatedFormatter,exports.format=function(t,e){return defaultInstance||(defaultInstance=new AnnotatedFormatter),defaultInstance.format(t,e)};

},{"./base":134}],134:[function(require,module,exports){
var isArray="function"==typeof Array.isArray?Array.isArray:function(t){return t instanceof Array},getObjectKeys="function"==typeof Object.keys?function(t){return Object.keys(t)}:function(t){var r=[];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&r.push(e);return r},trimUnderscore=function(t){return"_"===t.substr(0,1)?t.slice(1):t},arrayKeyToSortNumber=function(t){return"_t"===t?-1:"_"===t.substr(0,1)?parseInt(t.slice(1),10):parseInt(t,10)+.1},arrayKeyComparer=function(t,r){return arrayKeyToSortNumber(t)-arrayKeyToSortNumber(r)},BaseFormatter=function(){};BaseFormatter.prototype.format=function(t,r){var e={};return this.prepareContext(e),this.recurse(e,t,r),this.finalize(e)},BaseFormatter.prototype.prepareContext=function(t){t.buffer=[],t.out=function(){this.buffer.push.apply(this.buffer,arguments)}},BaseFormatter.prototype.typeFormattterNotFound=function(t,r){throw new Error("cannot format delta type: "+r)},BaseFormatter.prototype.typeFormattterErrorFormatter=function(t,r){return r.toString()},BaseFormatter.prototype.finalize=function(t){if(isArray(t.buffer))return t.buffer.join("")},BaseFormatter.prototype.recurse=function(t,r,e,o,n,a,i){var s=r&&a?a.value:e;if(void 0!==r||void 0!==o){var f=this.getDeltaType(r,a),u="node"===f?"a"===r._t?"array":"object":"";void 0!==o?this.nodeBegin(t,o,n,f,u,i):this.rootBegin(t,f,u);try{(this["format_"+f]||this.typeFormattterNotFound(t,f)).call(this,t,r,s,o,n,a)}catch(e){this.typeFormattterErrorFormatter(t,e,r,s,o,n,a),"undefined"!=typeof console&&console.error&&console.error(e.stack)}void 0!==o?this.nodeEnd(t,o,n,f,u,i):this.rootEnd(t,f,u)}},BaseFormatter.prototype.formatDeltaChildren=function(t,r,e){var o=this;this.forEachDeltaKey(r,e,function(n,a,i,s){o.recurse(t,r[n],e?e[a]:void 0,n,a,i,s)})},BaseFormatter.prototype.forEachDeltaKey=function(t,r,e){var o,n=getObjectKeys(t),a="a"===t._t,i={};if(void 0!==r)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(void 0!==t[o]||a&&void 0!==t["_"+o]||n.push(o));for(o in t)if(Object.prototype.hasOwnProperty.call(t,o)){var s=t[o];isArray(s)&&3===s[2]&&(i[s[1].toString()]={key:o,value:r&&r[parseInt(o.substr(1))]},!1!==this.includeMoveDestinations&&void 0===r&&void 0===t[s[1]]&&n.push(s[1].toString()))}a?n.sort(arrayKeyComparer):n.sort();for(var f=0,u=n.length;f<u;f++){var p=n[f];if(!a||"_t"!==p){var c=a?"number"==typeof p?p:parseInt(trimUnderscore(p),10):p,y=f===u-1;e(p,c,i[c],y)}}},BaseFormatter.prototype.getDeltaType=function(t,r){if(void 0===t)return void 0!==r?"movedestination":"unchanged";if(isArray(t)){if(1===t.length)return"added";if(2===t.length)return"modified";if(3===t.length&&0===t[2])return"deleted";if(3===t.length&&2===t[2])return"textdiff";if(3===t.length&&3===t[2])return"moved"}else if("object"==typeof t)return"node";return"unknown"},BaseFormatter.prototype.parseTextDiff=function(t){for(var r=[],e=t.split("\n@@ "),o=0,n=e.length;o<n;o++){var a=e[o],i={pieces:[]},s=/^(?:@@ )?[-+]?(\d+),(\d+)/.exec(a).slice(1);i.location={line:s[0],chr:s[1]};for(var f=a.split("\n").slice(1),u=0,p=f.length;u<p;u++){var c=f[u];if(c.length){var y={type:"context"};"+"===c.substr(0,1)?y.type="added":"-"===c.substr(0,1)&&(y.type="deleted"),y.text=c.slice(1),i.pieces.push(y)}}r.push(i)}return r},exports.BaseFormatter=BaseFormatter;

},{}],135:[function(require,module,exports){
var base=require("./base"),BaseFormatter=base.BaseFormatter,HtmlFormatter=function(){};function htmlEscape(t){for(var e=t,o=[[/&/g,"&amp;"],[/</g,"&lt;"],[/>/g,"&gt;"],[/'/g,"&apos;"],[/"/g,"&quot;"]],a=0;a<o.length;a++)e=e.replace(o[a][0],o[a][1]);return e}HtmlFormatter.prototype=new BaseFormatter,HtmlFormatter.prototype.typeFormattterErrorFormatter=function(t,e){t.out('<pre class="jsondiffpatch-error">'+e+"</pre>")},HtmlFormatter.prototype.formatValue=function(t,e){t.out("<pre>"+htmlEscape(JSON.stringify(e,null,2))+"</pre>")},HtmlFormatter.prototype.formatTextDiffString=function(t,e){var o=this.parseTextDiff(e);t.out('<ul class="jsondiffpatch-textdiff">');for(var a=0,r=o.length;a<r;a++){var i=o[a];t.out('<li><div class="jsondiffpatch-textdiff-location"><span class="jsondiffpatch-textdiff-line-number">'+i.location.line+'</span><span class="jsondiffpatch-textdiff-char">'+i.location.chr+'</span></div><div class="jsondiffpatch-textdiff-line">');for(var n=i.pieces,s=0,d=n.length;s<d;s++){var f=n[s];t.out('<span class="jsondiffpatch-textdiff-'+f.type+'">'+htmlEscape(unescape(f.text))+"</span>")}t.out("</div></li>")}t.out("</ul>")};var adjustArrows=function(t){t=t||document;!function(t,e,o){for(var a=t.querySelectorAll(e),r=0,i=a.length;r<i;r++)o(a[r])}(t,".jsondiffpatch-arrow",function(t){var e=t.parentNode,o=t.children[0],a=o.children[1];o.style.display="none";var r,i,n=(r=e.querySelector(".jsondiffpatch-moved-destination")).textContent||r.innerText;if(function(t,e){for(var o=0,a=t.children.length;o<a;o++)e(t.children[o],o)}(e.parentNode,function(t){t.getAttribute("data-key")===n&&(i=t)}),i)try{var s=i.offsetTop-e.offsetTop;o.setAttribute("height",Math.abs(s)+6),t.style.top=-8+(s>0?0:s)+"px";var d=s>0?"M30,0 Q-10,"+Math.round(s/2)+" 26,"+(s-4):"M30,"+-s+" Q-10,"+Math.round(-s/2)+" 26,4";a.setAttribute("d",d),o.style.display=""}catch(t){return}})};HtmlFormatter.prototype.rootBegin=function(t,e,o){var a="jsondiffpatch-"+e+(o?" jsondiffpatch-child-node-type-"+o:"");t.out('<div class="jsondiffpatch-delta '+a+'">')},HtmlFormatter.prototype.rootEnd=function(t){t.out("</div>"+(t.hasArrows?'<script type="text/javascript">setTimeout('+adjustArrows.toString()+",10);<\/script>":""))},HtmlFormatter.prototype.nodeBegin=function(t,e,o,a,r){var i="jsondiffpatch-"+a+(r?" jsondiffpatch-child-node-type-"+r:"");t.out('<li class="'+i+'" data-key="'+o+'"><div class="jsondiffpatch-property-name">'+o+"</div>")},HtmlFormatter.prototype.nodeEnd=function(t){t.out("</li>")},HtmlFormatter.prototype.format_unchanged=function(t,e,o){void 0!==o&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,o),t.out("</div>"))},HtmlFormatter.prototype.format_movedestination=function(t,e,o){void 0!==o&&(t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,o),t.out("</div>"))},HtmlFormatter.prototype.format_node=function(t,e,o){var a="a"===e._t?"array":"object";t.out('<ul class="jsondiffpatch-node jsondiffpatch-node-type-'+a+'">'),this.formatDeltaChildren(t,e,o),t.out("</ul>")},HtmlFormatter.prototype.format_added=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")},HtmlFormatter.prototype.format_modified=function(t,e){t.out('<div class="jsondiffpatch-value jsondiffpatch-left-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-value jsondiffpatch-right-value">'),this.formatValue(t,e[1]),t.out("</div>")},HtmlFormatter.prototype.format_deleted=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out("</div>")},HtmlFormatter.prototype.format_moved=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatValue(t,e[0]),t.out('</div><div class="jsondiffpatch-moved-destination">'+e[1]+"</div>"),t.out('<div class="jsondiffpatch-arrow" style="position: relative; left: -34px;">        <svg width="30" height="60" style="position: absolute; display: none;">        <defs>            <marker id="markerArrow" markerWidth="8" markerHeight="8" refx="2" refy="4"                   orient="auto" markerUnits="userSpaceOnUse">                <path d="M1,1 L1,7 L7,4 L1,1" style="fill: #339;" />            </marker>        </defs>        <path d="M30,0 Q-10,25 26,50" style="stroke: #88f; stroke-width: 2px; fill: none;        stroke-opacity: 0.5; marker-end: url(#markerArrow);"></path>        </svg>        </div>'),t.hasArrows=!0},HtmlFormatter.prototype.format_textdiff=function(t,e){t.out('<div class="jsondiffpatch-value">'),this.formatTextDiffString(t,e[0]),t.out("</div>")};var defaultInstance,showUnchanged=function(t,e,o){var a=e||document.body,r="jsondiffpatch-unchanged-",i={showing:r+"showing",hiding:r+"hiding",visible:r+"visible",hidden:r+"hidden"},n=a.classList;if(n){if(!o)return n.remove(i.showing),n.remove(i.hiding),n.remove(i.visible),n.remove(i.hidden),void(!1===t&&n.add(i.hidden));!1===t?(n.remove(i.showing),n.add(i.visible),setTimeout(function(){n.add(i.hiding)},10)):(n.remove(i.hiding),n.add(i.showing),n.remove(i.hidden));var s=setInterval(function(){adjustArrows(a)},100);setTimeout(function(){n.remove(i.showing),n.remove(i.hiding),!1===t?(n.add(i.hidden),n.remove(i.visible)):(n.add(i.visible),n.remove(i.hidden)),setTimeout(function(){n.remove(i.visible),clearInterval(s)},o+400)},o)}},hideUnchanged=function(t,e){return showUnchanged(!1,t,e)};exports.HtmlFormatter=HtmlFormatter,exports.showUnchanged=showUnchanged,exports.hideUnchanged=hideUnchanged,exports.format=function(t,e){return defaultInstance||(defaultInstance=new HtmlFormatter),defaultInstance.format(t,e)};

},{"./base":134}],136:[function(require,module,exports){
var environment=require("../environment");if(exports.base=require("./base"),exports.html=require("./html"),exports.annotated=require("./annotated"),exports.jsonpatch=require("./jsonpatch"),!environment.isBrowser){var consoleModuleName="./console";exports.console=require(consoleModuleName)}

},{"../environment":126,"./annotated":133,"./base":134,"./html":135,"./jsonpatch":137}],137:[function(require,module,exports){
!function(){var t,o=require("./base").BaseFormatter,r="add",n="remove",e="replace",p="moved",u="movedestination",i="unchanged";function a(){this.includeMoveDestinations=!1}function f(t){return t[t.length-1]}a.prototype=new o,a.prototype.prepareContext=function(t){o.prototype.prepareContext.call(this,t),t.result=[],t.path=[],t.pushCurrentOp=function(t,o){var r={op:t,path:this.currentPath()};void 0!==o&&(r.value=o),this.result.push(r)},t.currentPath=function(){return"/"+this.path.join("/")}},a.prototype.typeFormattterErrorFormatter=function(t,o){t.out("[ERROR]"+o)},a.prototype.rootBegin=function(){},a.prototype.rootEnd=function(){},a.prototype.nodeBegin=function(t,o,r){t.path.push(r)},a.prototype.nodeEnd=function(t){t.path.pop()},a.prototype.format_unchanged=function(t,o,r){void 0!==r&&t.pushCurrentOp(i,r)},a.prototype.format_movedestination=function(t,o,r){void 0!==r&&t.pushCurrentOp(u,r)},a.prototype.format_node=function(t,o,r){this.formatDeltaChildren(t,o,r)},a.prototype.format_added=function(t,o){t.pushCurrentOp(r,o[0])},a.prototype.format_modified=function(t,o){t.pushCurrentOp(e,o[1])},a.prototype.format_deleted=function(t){t.pushCurrentOp(n)},a.prototype.format_moved=function(t,o){t.pushCurrentOp(p,o[1])},a.prototype.format_textdiff=function(){throw"not implimented"},a.prototype.format=function(t,o){var r={};return this.prepareContext(r),this.recurse(r,t,o),r.result},exports.JSONFormatter=a;var c=function(t,o){var r=parseInt(t,10),n=parseInt(o,10);return isNaN(r)||isNaN(n)?0:n-r};function s(t){var o,r,n,e=(o=function(t){return"remove"===t.op},r=[],n=[],t.forEach(function(t){(o(t)?r:n).push(t)}),[r,n]),p=e[1];return function(t){return r=function(t,o){var r=t.path.split("/"),n=o.path.split("/");return r.length!==n.length?r.length-n.length:c(f(r),f(n))},(o=t).sort(r),o;var o,r}(e[0]).concat(p)}var h=function(o,r){return t||(t=new a),s(t.format(o,r))};exports.log=function(t,o){console.log(h(t,o))},exports.format=h}();

},{"./base":134}],138:[function(require,module,exports){
var defaultInstance,environment=require("./environment"),DiffPatcher=require("./diffpatcher").DiffPatcher;if(exports.DiffPatcher=DiffPatcher,exports.create=function(e){return new DiffPatcher(e)},exports.dateReviver=require("./date-reviver"),exports.diff=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.diff.apply(defaultInstance,arguments)},exports.patch=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.patch.apply(defaultInstance,arguments)},exports.unpatch=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.unpatch.apply(defaultInstance,arguments)},exports.reverse=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.reverse.apply(defaultInstance,arguments)},exports.clone=function(){return defaultInstance||(defaultInstance=new DiffPatcher),defaultInstance.clone.apply(defaultInstance,arguments)},environment.isBrowser)exports.homepage="{{package-homepage}}",exports.version="{{package-version}}";else{var packageInfoModuleName="../package.json",packageInfo=require(packageInfoModuleName);exports.homepage=packageInfo.homepage,exports.version=packageInfo.version;var formatterModuleName="./formatters",formatters=require(formatterModuleName);exports.formatters=formatters,exports.console=formatters.console}

},{"./date-reviver":124,"./diffpatcher":125,"./environment":126}],139:[function(require,module,exports){
var Pipe=function(t){this.name=t,this.filters=[]};Pipe.prototype.process=function(t){if(!this.processor)throw new Error("add this pipe to a processor before using it");for(var e=this.debug,r=this.filters.length,i=t,s=0;s<r;s++){var o=this.filters[s];if(e&&this.log("filter: "+o.filterName),o(i),"object"==typeof i&&i.exiting){i.exiting=!1;break}}!i.next&&this.resultCheck&&this.resultCheck(i)},Pipe.prototype.log=function(t){console.log("[jsondiffpatch] "+this.name+" pipe, "+t)},Pipe.prototype.append=function(){return this.filters.push.apply(this.filters,arguments),this},Pipe.prototype.prepend=function(){return this.filters.unshift.apply(this.filters,arguments),this},Pipe.prototype.indexOf=function(t){if(!t)throw new Error("a filter name is required");for(var e=0;e<this.filters.length;e++){if(this.filters[e].filterName===t)return e}throw new Error("filter not found: "+t)},Pipe.prototype.list=function(){for(var t=[],e=0;e<this.filters.length;e++){var r=this.filters[e];t.push(r.filterName)}return t},Pipe.prototype.after=function(t){var e=this.indexOf(t),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(e+1,0),Array.prototype.splice.apply(this.filters,r),this},Pipe.prototype.before=function(t){var e=this.indexOf(t),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(e,0),Array.prototype.splice.apply(this.filters,r),this},Pipe.prototype.replace=function(t){var e=this.indexOf(t),r=Array.prototype.slice.call(arguments,1);if(!r.length)throw new Error("a filter is required");return r.unshift(e,1),Array.prototype.splice.apply(this.filters,r),this},Pipe.prototype.remove=function(t){var e=this.indexOf(t);return this.filters.splice(e,1),this},Pipe.prototype.clear=function(){return this.filters.length=0,this},Pipe.prototype.shouldHaveResult=function(t){if(!1!==t){if(!this.resultCheck){var e=this;return this.resultCheck=function(t){if(!t.hasResult){console.log(t);var r=new Error(e.name+" failed");throw r.noResult=!0,r}},this}}else this.resultCheck=null},exports.Pipe=Pipe;

},{}],140:[function(require,module,exports){
var Processor=function(e){this.selfOptions=e||{},this.pipes={}};Processor.prototype.options=function(e){return e&&(this.selfOptions=e),this.selfOptions},Processor.prototype.pipe=function(e,s){if("string"==typeof e){if(void 0===s)return this.pipes[e];this.pipes[e]=s}if(e&&e.name){if((s=e).processor===this)return s;this.pipes[s.name]=s}return s.processor=this,s},Processor.prototype.process=function(e,s){var t=e;t.options=this.options();for(var r,o,i=s||e.pipe||"default";i;)void 0!==t.nextAfterChildren&&(t.next=t.nextAfterChildren,t.nextAfterChildren=null),"string"==typeof i&&(i=this.pipe(i)),i.process(t),o=t,r=i,i=null,t&&t.next&&(t=t.next,i=o.nextPipe||t.pipe||r);return t.hasResult?t.result:void 0},exports.Processor=Processor;

},{}],141:[function(require,module,exports){
function Observable(n){var e=[];return n=void 0===n?null:n,u.set=function(u){n=u,e.forEach(function(n){n(u)})},u;function u(u){return u?(e.push(u),function(){e.splice(e.indexOf(u),1)}):n}}module.exports=Observable;

},{}],142:[function(require,module,exports){
(function (process){
function normalizeArray(r,t){for(var e=0,n=r.length-1;n>=0;n--){var o=r[n];"."===o?r.splice(n,1):".."===o?(r.splice(n,1),e++):e&&(r.splice(n,1),e--)}if(t)for(;e--;e)r.unshift("..");return r}function basename(r){"string"!=typeof r&&(r+="");var t,e=0,n=-1,o=!0;for(t=r.length-1;t>=0;--t)if(47===r.charCodeAt(t)){if(!o){e=t+1;break}}else-1===n&&(o=!1,n=t+1);return-1===n?"":r.slice(e,n)}function filter(r,t){if(r.filter)return r.filter(t);for(var e=[],n=0;n<r.length;n++)t(r[n],n,r)&&e.push(r[n]);return e}exports.resolve=function(){for(var r="",t=!1,e=arguments.length-1;e>=-1&&!t;e--){var n=e>=0?arguments[e]:process.cwd();if("string"!=typeof n)throw new TypeError("Arguments to path.resolve must be strings");n&&(r=n+"/"+r,t="/"===n.charAt(0))}return(t?"/":"")+(r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"))||"."},exports.normalize=function(r){var t=exports.isAbsolute(r),e="/"===substr(r,-1);return(r=normalizeArray(filter(r.split("/"),function(r){return!!r}),!t).join("/"))||t||(r="."),r&&e&&(r+="/"),(t?"/":"")+r},exports.isAbsolute=function(r){return"/"===r.charAt(0)},exports.join=function(){var r=Array.prototype.slice.call(arguments,0);return exports.normalize(filter(r,function(r,t){if("string"!=typeof r)throw new TypeError("Arguments to path.join must be strings");return r}).join("/"))},exports.relative=function(r,t){function e(r){for(var t=0;t<r.length&&""===r[t];t++);for(var e=r.length-1;e>=0&&""===r[e];e--);return t>e?[]:r.slice(t,e-t+1)}r=exports.resolve(r).substr(1),t=exports.resolve(t).substr(1);for(var n=e(r.split("/")),o=e(t.split("/")),s=Math.min(n.length,o.length),i=s,u=0;u<s;u++)if(n[u]!==o[u]){i=u;break}var l=[];for(u=i;u<n.length;u++)l.push("..");return(l=l.concat(o.slice(i))).join("/")},exports.sep="/",exports.delimiter=":",exports.dirname=function(r){if("string"!=typeof r&&(r+=""),0===r.length)return".";for(var t=r.charCodeAt(0),e=47===t,n=-1,o=!0,s=r.length-1;s>=1;--s)if(47===(t=r.charCodeAt(s))){if(!o){n=s;break}}else o=!1;return-1===n?e?"/":".":e&&1===n?"/":r.slice(0,n)},exports.basename=function(r,t){var e=basename(r);return t&&e.substr(-1*t.length)===t&&(e=e.substr(0,e.length-t.length)),e},exports.extname=function(r){"string"!=typeof r&&(r+="");for(var t=-1,e=0,n=-1,o=!0,s=0,i=r.length-1;i>=0;--i){var u=r.charCodeAt(i);if(47!==u)-1===n&&(o=!1,n=i+1),46===u?-1===t?t=i:1!==s&&(s=1):-1!==t&&(s=-1);else if(!o){e=i+1;break}}return-1===t||-1===n||0===s||1===s&&t===n-1&&t===e+1?"":r.slice(t,n)};var substr="b"==="ab".substr(-1)?function(r,t,e){return r.substr(t,e)}:function(r,t,e){return t<0&&(t=r.length+t),r.substr(t,e)};

}).call(this,require('_process'))
},{"_process":143}],143:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],144:[function(require,module,exports){
"use strict";function hasOwnProperty(r,e){return Object.prototype.hasOwnProperty.call(r,e)}module.exports=function(r,e,t,n){e=e||"&",t=t||"=";var o={};if("string"!=typeof r||0===r.length)return o;var a=/\+/g;r=r.split(e);var s=1e3;n&&"number"==typeof n.maxKeys&&(s=n.maxKeys);var p=r.length;s>0&&p>s&&(p=s);for(var y=0;y<p;++y){var u,c,i,l,f=r[y].replace(a,"%20"),v=f.indexOf(t);v>=0?(u=f.substr(0,v),c=f.substr(v+1)):(u=f,c=""),i=decodeURIComponent(u),l=decodeURIComponent(c),hasOwnProperty(o,i)?isArray(o[i])?o[i].push(l):o[i]=[o[i],l]:o[i]=l}return o};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};

},{}],145:[function(require,module,exports){
"use strict";var stringifyPrimitive=function(r){switch(typeof r){case"string":return r;case"boolean":return r?"true":"false";case"number":return isFinite(r)?r:"";default:return""}};module.exports=function(r,e,t,n){return e=e||"&",t=t||"=",null===r&&(r=void 0),"object"==typeof r?map(objectKeys(r),function(n){var i=encodeURIComponent(stringifyPrimitive(n))+t;return isArray(r[n])?map(r[n],function(r){return i+encodeURIComponent(stringifyPrimitive(r))}).join(e):i+encodeURIComponent(stringifyPrimitive(r[n]))}).join(e):n?encodeURIComponent(stringifyPrimitive(n))+t+encodeURIComponent(stringifyPrimitive(r)):""};var isArray=Array.isArray||function(r){return"[object Array]"===Object.prototype.toString.call(r)};function map(r,e){if(r.map)return r.map(e);for(var t=[],n=0;n<r.length;n++)t.push(e(r[n],n));return t}var objectKeys=Object.keys||function(r){var e=[];for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&e.push(t);return e};

},{}],146:[function(require,module,exports){
"use strict";exports.decode=exports.parse=require("./decode"),exports.encode=exports.stringify=require("./encode");

},{"./decode":144,"./encode":145}],147:[function(require,module,exports){
var util=require("./util"),has=Object.prototype.hasOwnProperty,hasNativeMap="undefined"!=typeof Map;function ArraySet(){this._array=[],this._set=hasNativeMap?new Map:Object.create(null)}ArraySet.fromArray=function(t,r){for(var e=new ArraySet,a=0,i=t.length;a<i;a++)e.add(t[a],r);return e},ArraySet.prototype.size=function(){return hasNativeMap?this._set.size:Object.getOwnPropertyNames(this._set).length},ArraySet.prototype.add=function(t,r){var e=hasNativeMap?t:util.toSetString(t),a=hasNativeMap?this.has(t):has.call(this._set,e),i=this._array.length;a&&!r||this._array.push(t),a||(hasNativeMap?this._set.set(t,i):this._set[e]=i)},ArraySet.prototype.has=function(t){if(hasNativeMap)return this._set.has(t);var r=util.toSetString(t);return has.call(this._set,r)},ArraySet.prototype.indexOf=function(t){if(hasNativeMap){var r=this._set.get(t);if(r>=0)return r}else{var e=util.toSetString(t);if(has.call(this._set,e))return this._set[e]}throw new Error('"'+t+'" is not in the set.')},ArraySet.prototype.at=function(t){if(t>=0&&t<this._array.length)return this._array[t];throw new Error("No element indexed by "+t)},ArraySet.prototype.toArray=function(){return this._array.slice()},exports.ArraySet=ArraySet;

},{"./util":156}],148:[function(require,module,exports){
var base64=require("./base64"),VLQ_BASE_SHIFT=5,VLQ_BASE=1<<VLQ_BASE_SHIFT,VLQ_BASE_MASK=VLQ_BASE-1,VLQ_CONTINUATION_BIT=VLQ_BASE;function toVLQSigned(e){return e<0?1+(-e<<1):0+(e<<1)}function fromVLQSigned(e){var r=e>>1;return 1==(1&e)?-r:r}exports.encode=function(e){var r,_="",n=toVLQSigned(e);do{r=n&VLQ_BASE_MASK,(n>>>=VLQ_BASE_SHIFT)>0&&(r|=VLQ_CONTINUATION_BIT),_+=base64.encode(r)}while(n>0);return _},exports.decode=function(e,r,_){var n,o,S=e.length,t=0,i=0;do{if(r>=S)throw new Error("Expected more digits in base 64 VLQ value.");if(-1===(o=base64.decode(e.charCodeAt(r++))))throw new Error("Invalid base64 digit: "+e.charAt(r-1));n=!!(o&VLQ_CONTINUATION_BIT),t+=(o&=VLQ_BASE_MASK)<<i,i+=VLQ_BASE_SHIFT}while(n);_.value=fromVLQSigned(t),_.rest=r};

},{"./base64":149}],149:[function(require,module,exports){
var intToCharMap="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");exports.encode=function(e){if(0<=e&&e<intToCharMap.length)return intToCharMap[e];throw new TypeError("Must be between 0 and 63: "+e)},exports.decode=function(e){return 65<=e&&e<=90?e-65:97<=e&&e<=122?e-97+26:48<=e&&e<=57?e-48+52:43==e?62:47==e?63:-1};

},{}],150:[function(require,module,exports){
function recursiveSearch(r,e,t,E,c,n){var o=Math.floor((e-r)/2)+r,s=c(t,E[o],!0);return 0===s?o:s>0?e-o>1?recursiveSearch(o,e,t,E,c,n):n==exports.LEAST_UPPER_BOUND?e<E.length?e:-1:o:o-r>1?recursiveSearch(r,o,t,E,c,n):n==exports.LEAST_UPPER_BOUND?o:r<0?-1:r}exports.GREATEST_LOWER_BOUND=1,exports.LEAST_UPPER_BOUND=2,exports.search=function(r,e,t,E){if(0===e.length)return-1;var c=recursiveSearch(-1,e.length,r,e,t,E||exports.GREATEST_LOWER_BOUND);if(c<0)return-1;for(;c-1>=0&&0===t(e[c],e[c-1],!0);)--c;return c};

},{}],151:[function(require,module,exports){
var util=require("./util");function generatedPositionAfter(t,e){var r=t.generatedLine,i=e.generatedLine,a=t.generatedColumn,n=e.generatedColumn;return i>r||i==r&&n>=a||util.compareByGeneratedPositionsInflated(t,e)<=0}function MappingList(){this._array=[],this._sorted=!0,this._last={generatedLine:-1,generatedColumn:0}}MappingList.prototype.unsortedForEach=function(t,e){this._array.forEach(t,e)},MappingList.prototype.add=function(t){generatedPositionAfter(this._last,t)?(this._last=t,this._array.push(t)):(this._sorted=!1,this._array.push(t))},MappingList.prototype.toArray=function(){return this._sorted||(this._array.sort(util.compareByGeneratedPositionsInflated),this._sorted=!0),this._array},exports.MappingList=MappingList;

},{"./util":156}],152:[function(require,module,exports){
function swap(n,o,r){var t=n[o];n[o]=n[r],n[r]=t}function randomIntInRange(n,o){return Math.round(n+Math.random()*(o-n))}function doQuickSort(n,o,r,t){if(r<t){var a=r-1;swap(n,randomIntInRange(r,t),t);for(var u=n[t],i=r;i<t;i++)o(n[i],u)<=0&&swap(n,a+=1,i);swap(n,a+1,i);var c=a+1;doQuickSort(n,o,r,c-1),doQuickSort(n,o,c+1,t)}}exports.quickSort=function(n,o){doQuickSort(n,o,0,n.length-1)};

},{}],153:[function(require,module,exports){
var util=require("./util"),binarySearch=require("./binary-search"),ArraySet=require("./array-set").ArraySet,base64VLQ=require("./base64-vlq"),quickSort=require("./quick-sort").quickSort;function SourceMapConsumer(e,r){var n=e;return"string"==typeof e&&(n=util.parseSourceMapInput(e)),null!=n.sections?new IndexedSourceMapConsumer(n,r):new BasicSourceMapConsumer(n,r)}function BasicSourceMapConsumer(e,r){var n=e;"string"==typeof e&&(n=util.parseSourceMapInput(e));var o=util.getArg(n,"version"),t=util.getArg(n,"sources"),i=util.getArg(n,"names",[]),u=util.getArg(n,"sourceRoot",null),s=util.getArg(n,"sourcesContent",null),a=util.getArg(n,"mappings"),l=util.getArg(n,"file",null);if(o!=this._version)throw new Error("Unsupported version: "+o);u&&(u=util.normalize(u)),t=t.map(String).map(util.normalize).map(function(e){return u&&util.isAbsolute(u)&&util.isAbsolute(e)?util.relative(u,e):e}),this._names=ArraySet.fromArray(i.map(String),!0),this._sources=ArraySet.fromArray(t,!0),this._absoluteSources=this._sources.toArray().map(function(e){return util.computeSourceURL(u,e,r)}),this.sourceRoot=u,this.sourcesContent=s,this._mappings=a,this._sourceMapURL=r,this.file=l}function Mapping(){this.generatedLine=0,this.generatedColumn=0,this.source=null,this.originalLine=null,this.originalColumn=null,this.name=null}function IndexedSourceMapConsumer(e,r){var n=e;"string"==typeof e&&(n=util.parseSourceMapInput(e));var o=util.getArg(n,"version"),t=util.getArg(n,"sections");if(o!=this._version)throw new Error("Unsupported version: "+o);this._sources=new ArraySet,this._names=new ArraySet;var i={line:-1,column:0};this._sections=t.map(function(e){if(e.url)throw new Error("Support for url field in sections not implemented.");var n=util.getArg(e,"offset"),o=util.getArg(n,"line"),t=util.getArg(n,"column");if(o<i.line||o===i.line&&t<i.column)throw new Error("Section offsets must be ordered and non-overlapping.");return i=n,{generatedOffset:{generatedLine:o+1,generatedColumn:t+1},consumer:new SourceMapConsumer(util.getArg(e,"map"),r)}})}SourceMapConsumer.fromSourceMap=function(e,r){return BasicSourceMapConsumer.fromSourceMap(e,r)},SourceMapConsumer.prototype._version=3,SourceMapConsumer.prototype.__generatedMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_generatedMappings",{configurable:!0,enumerable:!0,get:function(){return this.__generatedMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__generatedMappings}}),SourceMapConsumer.prototype.__originalMappings=null,Object.defineProperty(SourceMapConsumer.prototype,"_originalMappings",{configurable:!0,enumerable:!0,get:function(){return this.__originalMappings||this._parseMappings(this._mappings,this.sourceRoot),this.__originalMappings}}),SourceMapConsumer.prototype._charIsMappingSeparator=function(e,r){var n=e.charAt(r);return";"===n||","===n},SourceMapConsumer.prototype._parseMappings=function(e,r){throw new Error("Subclasses must implement _parseMappings")},SourceMapConsumer.GENERATED_ORDER=1,SourceMapConsumer.ORIGINAL_ORDER=2,SourceMapConsumer.GREATEST_LOWER_BOUND=1,SourceMapConsumer.LEAST_UPPER_BOUND=2,SourceMapConsumer.prototype.eachMapping=function(e,r,n){var o,t=r||null;switch(n||SourceMapConsumer.GENERATED_ORDER){case SourceMapConsumer.GENERATED_ORDER:o=this._generatedMappings;break;case SourceMapConsumer.ORIGINAL_ORDER:o=this._originalMappings;break;default:throw new Error("Unknown order of iteration.")}var i=this.sourceRoot;o.map(function(e){var r=null===e.source?null:this._sources.at(e.source);return{source:r=util.computeSourceURL(i,r,this._sourceMapURL),generatedLine:e.generatedLine,generatedColumn:e.generatedColumn,originalLine:e.originalLine,originalColumn:e.originalColumn,name:null===e.name?null:this._names.at(e.name)}},this).forEach(e,t)},SourceMapConsumer.prototype.allGeneratedPositionsFor=function(e){var r=util.getArg(e,"line"),n={source:util.getArg(e,"source"),originalLine:r,originalColumn:util.getArg(e,"column",0)};if(n.source=this._findSourceIndex(n.source),n.source<0)return[];var o=[],t=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,binarySearch.LEAST_UPPER_BOUND);if(t>=0){var i=this._originalMappings[t];if(void 0===e.column)for(var u=i.originalLine;i&&i.originalLine===u;)o.push({line:util.getArg(i,"generatedLine",null),column:util.getArg(i,"generatedColumn",null),lastColumn:util.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++t];else for(var s=i.originalColumn;i&&i.originalLine===r&&i.originalColumn==s;)o.push({line:util.getArg(i,"generatedLine",null),column:util.getArg(i,"generatedColumn",null),lastColumn:util.getArg(i,"lastGeneratedColumn",null)}),i=this._originalMappings[++t]}return o},exports.SourceMapConsumer=SourceMapConsumer,BasicSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),BasicSourceMapConsumer.prototype.consumer=SourceMapConsumer,BasicSourceMapConsumer.prototype._findSourceIndex=function(e){var r,n=e;if(null!=this.sourceRoot&&(n=util.relative(this.sourceRoot,n)),this._sources.has(n))return this._sources.indexOf(n);for(r=0;r<this._absoluteSources.length;++r)if(this._absoluteSources[r]==e)return r;return-1},BasicSourceMapConsumer.fromSourceMap=function(e,r){var n=Object.create(BasicSourceMapConsumer.prototype),o=n._names=ArraySet.fromArray(e._names.toArray(),!0),t=n._sources=ArraySet.fromArray(e._sources.toArray(),!0);n.sourceRoot=e._sourceRoot,n.sourcesContent=e._generateSourcesContent(n._sources.toArray(),n.sourceRoot),n.file=e._file,n._sourceMapURL=r,n._absoluteSources=n._sources.toArray().map(function(e){return util.computeSourceURL(n.sourceRoot,e,r)});for(var i=e._mappings.toArray().slice(),u=n.__generatedMappings=[],s=n.__originalMappings=[],a=0,l=i.length;a<l;a++){var c=i[a],p=new Mapping;p.generatedLine=c.generatedLine,p.generatedColumn=c.generatedColumn,c.source&&(p.source=t.indexOf(c.source),p.originalLine=c.originalLine,p.originalColumn=c.originalColumn,c.name&&(p.name=o.indexOf(c.name)),s.push(p)),u.push(p)}return quickSort(n.__originalMappings,util.compareByOriginalPositions),n},BasicSourceMapConsumer.prototype._version=3,Object.defineProperty(BasicSourceMapConsumer.prototype,"sources",{get:function(){return this._absoluteSources.slice()}}),BasicSourceMapConsumer.prototype._parseMappings=function(e,r){for(var n,o,t,i,u,s=1,a=0,l=0,c=0,p=0,g=0,m=e.length,h=0,d={},f={},_=[],C=[];h<m;)if(";"===e.charAt(h))s++,h++,a=0;else if(","===e.charAt(h))h++;else{for((n=new Mapping).generatedLine=s,i=h;i<m&&!this._charIsMappingSeparator(e,i);i++);if(t=d[o=e.slice(h,i)])h+=o.length;else{for(t=[];h<i;)base64VLQ.decode(e,h,f),u=f.value,h=f.rest,t.push(u);if(2===t.length)throw new Error("Found a source, but no line and column");if(3===t.length)throw new Error("Found a source and line, but no column");d[o]=t}n.generatedColumn=a+t[0],a=n.generatedColumn,t.length>1&&(n.source=p+t[1],p+=t[1],n.originalLine=l+t[2],l=n.originalLine,n.originalLine+=1,n.originalColumn=c+t[3],c=n.originalColumn,t.length>4&&(n.name=g+t[4],g+=t[4])),C.push(n),"number"==typeof n.originalLine&&_.push(n)}quickSort(C,util.compareByGeneratedPositionsDeflated),this.__generatedMappings=C,quickSort(_,util.compareByOriginalPositions),this.__originalMappings=_},BasicSourceMapConsumer.prototype._findMapping=function(e,r,n,o,t,i){if(e[n]<=0)throw new TypeError("Line must be greater than or equal to 1, got "+e[n]);if(e[o]<0)throw new TypeError("Column must be greater than or equal to 0, got "+e[o]);return binarySearch.search(e,r,t,i)},BasicSourceMapConsumer.prototype.computeColumnSpans=function(){for(var e=0;e<this._generatedMappings.length;++e){var r=this._generatedMappings[e];if(e+1<this._generatedMappings.length){var n=this._generatedMappings[e+1];if(r.generatedLine===n.generatedLine){r.lastGeneratedColumn=n.generatedColumn-1;continue}}r.lastGeneratedColumn=1/0}},BasicSourceMapConsumer.prototype.originalPositionFor=function(e){var r={generatedLine:util.getArg(e,"line"),generatedColumn:util.getArg(e,"column")},n=this._findMapping(r,this._generatedMappings,"generatedLine","generatedColumn",util.compareByGeneratedPositionsDeflated,util.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(n>=0){var o=this._generatedMappings[n];if(o.generatedLine===r.generatedLine){var t=util.getArg(o,"source",null);null!==t&&(t=this._sources.at(t),t=util.computeSourceURL(this.sourceRoot,t,this._sourceMapURL));var i=util.getArg(o,"name",null);return null!==i&&(i=this._names.at(i)),{source:t,line:util.getArg(o,"originalLine",null),column:util.getArg(o,"originalColumn",null),name:i}}}return{source:null,line:null,column:null,name:null}},BasicSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return!!this.sourcesContent&&(this.sourcesContent.length>=this._sources.size()&&!this.sourcesContent.some(function(e){return null==e}))},BasicSourceMapConsumer.prototype.sourceContentFor=function(e,r){if(!this.sourcesContent)return null;var n=this._findSourceIndex(e);if(n>=0)return this.sourcesContent[n];var o,t=e;if(null!=this.sourceRoot&&(t=util.relative(this.sourceRoot,t)),null!=this.sourceRoot&&(o=util.urlParse(this.sourceRoot))){var i=t.replace(/^file:\/\//,"");if("file"==o.scheme&&this._sources.has(i))return this.sourcesContent[this._sources.indexOf(i)];if((!o.path||"/"==o.path)&&this._sources.has("/"+t))return this.sourcesContent[this._sources.indexOf("/"+t)]}if(r)return null;throw new Error('"'+t+'" is not in the SourceMap.')},BasicSourceMapConsumer.prototype.generatedPositionFor=function(e){var r=util.getArg(e,"source");if((r=this._findSourceIndex(r))<0)return{line:null,column:null,lastColumn:null};var n={source:r,originalLine:util.getArg(e,"line"),originalColumn:util.getArg(e,"column")},o=this._findMapping(n,this._originalMappings,"originalLine","originalColumn",util.compareByOriginalPositions,util.getArg(e,"bias",SourceMapConsumer.GREATEST_LOWER_BOUND));if(o>=0){var t=this._originalMappings[o];if(t.source===n.source)return{line:util.getArg(t,"generatedLine",null),column:util.getArg(t,"generatedColumn",null),lastColumn:util.getArg(t,"lastGeneratedColumn",null)}}return{line:null,column:null,lastColumn:null}},exports.BasicSourceMapConsumer=BasicSourceMapConsumer,IndexedSourceMapConsumer.prototype=Object.create(SourceMapConsumer.prototype),IndexedSourceMapConsumer.prototype.constructor=SourceMapConsumer,IndexedSourceMapConsumer.prototype._version=3,Object.defineProperty(IndexedSourceMapConsumer.prototype,"sources",{get:function(){for(var e=[],r=0;r<this._sections.length;r++)for(var n=0;n<this._sections[r].consumer.sources.length;n++)e.push(this._sections[r].consumer.sources[n]);return e}}),IndexedSourceMapConsumer.prototype.originalPositionFor=function(e){var r={generatedLine:util.getArg(e,"line"),generatedColumn:util.getArg(e,"column")},n=binarySearch.search(r,this._sections,function(e,r){var n=e.generatedLine-r.generatedOffset.generatedLine;return n||e.generatedColumn-r.generatedOffset.generatedColumn}),o=this._sections[n];return o?o.consumer.originalPositionFor({line:r.generatedLine-(o.generatedOffset.generatedLine-1),column:r.generatedColumn-(o.generatedOffset.generatedLine===r.generatedLine?o.generatedOffset.generatedColumn-1:0),bias:e.bias}):{source:null,line:null,column:null,name:null}},IndexedSourceMapConsumer.prototype.hasContentsOfAllSources=function(){return this._sections.every(function(e){return e.consumer.hasContentsOfAllSources()})},IndexedSourceMapConsumer.prototype.sourceContentFor=function(e,r){for(var n=0;n<this._sections.length;n++){var o=this._sections[n].consumer.sourceContentFor(e,!0);if(o)return o}if(r)return null;throw new Error('"'+e+'" is not in the SourceMap.')},IndexedSourceMapConsumer.prototype.generatedPositionFor=function(e){for(var r=0;r<this._sections.length;r++){var n=this._sections[r];if(-1!==n.consumer._findSourceIndex(util.getArg(e,"source"))){var o=n.consumer.generatedPositionFor(e);if(o)return{line:o.line+(n.generatedOffset.generatedLine-1),column:o.column+(n.generatedOffset.generatedLine===o.line?n.generatedOffset.generatedColumn-1:0)}}}return{line:null,column:null}},IndexedSourceMapConsumer.prototype._parseMappings=function(e,r){this.__generatedMappings=[],this.__originalMappings=[];for(var n=0;n<this._sections.length;n++)for(var o=this._sections[n],t=o.consumer._generatedMappings,i=0;i<t.length;i++){var u=t[i],s=o.consumer._sources.at(u.source);s=util.computeSourceURL(o.consumer.sourceRoot,s,this._sourceMapURL),this._sources.add(s),s=this._sources.indexOf(s);var a=null;u.name&&(a=o.consumer._names.at(u.name),this._names.add(a),a=this._names.indexOf(a));var l={source:s,generatedLine:u.generatedLine+(o.generatedOffset.generatedLine-1),generatedColumn:u.generatedColumn+(o.generatedOffset.generatedLine===u.generatedLine?o.generatedOffset.generatedColumn-1:0),originalLine:u.originalLine,originalColumn:u.originalColumn,name:a};this.__generatedMappings.push(l),"number"==typeof l.originalLine&&this.__originalMappings.push(l)}quickSort(this.__generatedMappings,util.compareByGeneratedPositionsDeflated),quickSort(this.__originalMappings,util.compareByOriginalPositions)},exports.IndexedSourceMapConsumer=IndexedSourceMapConsumer;

},{"./array-set":147,"./base64-vlq":148,"./binary-search":150,"./quick-sort":152,"./util":156}],154:[function(require,module,exports){
var base64VLQ=require("./base64-vlq"),util=require("./util"),ArraySet=require("./array-set").ArraySet,MappingList=require("./mapping-list").MappingList;function SourceMapGenerator(e){e||(e={}),this._file=util.getArg(e,"file",null),this._sourceRoot=util.getArg(e,"sourceRoot",null),this._skipValidation=util.getArg(e,"skipValidation",!1),this._sources=new ArraySet,this._names=new ArraySet,this._mappings=new MappingList,this._sourcesContents=null}SourceMapGenerator.prototype._version=3,SourceMapGenerator.fromSourceMap=function(e){var n=e.sourceRoot,r=new SourceMapGenerator({file:e.file,sourceRoot:n});return e.eachMapping(function(e){var t={generated:{line:e.generatedLine,column:e.generatedColumn}};null!=e.source&&(t.source=e.source,null!=n&&(t.source=util.relative(n,t.source)),t.original={line:e.originalLine,column:e.originalColumn},null!=e.name&&(t.name=e.name)),r.addMapping(t)}),e.sources.forEach(function(t){var o=t;null!==n&&(o=util.relative(n,t)),r._sources.has(o)||r._sources.add(o);var i=e.sourceContentFor(t);null!=i&&r.setSourceContent(t,i)}),r},SourceMapGenerator.prototype.addMapping=function(e){var n=util.getArg(e,"generated"),r=util.getArg(e,"original",null),t=util.getArg(e,"source",null),o=util.getArg(e,"name",null);this._skipValidation||this._validateMapping(n,r,t,o),null!=t&&(t=String(t),this._sources.has(t)||this._sources.add(t)),null!=o&&(o=String(o),this._names.has(o)||this._names.add(o)),this._mappings.add({generatedLine:n.line,generatedColumn:n.column,originalLine:null!=r&&r.line,originalColumn:null!=r&&r.column,source:t,name:o})},SourceMapGenerator.prototype.setSourceContent=function(e,n){var r=e;null!=this._sourceRoot&&(r=util.relative(this._sourceRoot,r)),null!=n?(this._sourcesContents||(this._sourcesContents=Object.create(null)),this._sourcesContents[util.toSetString(r)]=n):this._sourcesContents&&(delete this._sourcesContents[util.toSetString(r)],0===Object.keys(this._sourcesContents).length&&(this._sourcesContents=null))},SourceMapGenerator.prototype.applySourceMap=function(e,n,r){var t=n;if(null==n){if(null==e.file)throw new Error('SourceMapGenerator.prototype.applySourceMap requires either an explicit source file, or the source map\'s "file" property. Both were omitted.');t=e.file}var o=this._sourceRoot;null!=o&&(t=util.relative(o,t));var i=new ArraySet,s=new ArraySet;this._mappings.unsortedForEach(function(n){if(n.source===t&&null!=n.originalLine){var l=e.originalPositionFor({line:n.originalLine,column:n.originalColumn});null!=l.source&&(n.source=l.source,null!=r&&(n.source=util.join(r,n.source)),null!=o&&(n.source=util.relative(o,n.source)),n.originalLine=l.line,n.originalColumn=l.column,null!=l.name&&(n.name=l.name))}var u=n.source;null==u||i.has(u)||i.add(u);var a=n.name;null==a||s.has(a)||s.add(a)},this),this._sources=i,this._names=s,e.sources.forEach(function(n){var t=e.sourceContentFor(n);null!=t&&(null!=r&&(n=util.join(r,n)),null!=o&&(n=util.relative(o,n)),this.setSourceContent(n,t))},this)},SourceMapGenerator.prototype._validateMapping=function(e,n,r,t){if(n&&"number"!=typeof n.line&&"number"!=typeof n.column)throw new Error("original.line and original.column are not numbers -- you probably meant to omit the original mapping entirely and only map the generated position. If so, pass null for the original mapping instead of an object with empty or null values.");if((!(e&&"line"in e&&"column"in e&&e.line>0&&e.column>=0)||n||r||t)&&!(e&&"line"in e&&"column"in e&&n&&"line"in n&&"column"in n&&e.line>0&&e.column>=0&&n.line>0&&n.column>=0&&r))throw new Error("Invalid mapping: "+JSON.stringify({generated:e,source:r,original:n,name:t}))},SourceMapGenerator.prototype._serializeMappings=function(){for(var e,n,r,t,o=0,i=1,s=0,l=0,u=0,a=0,c="",p=this._mappings.toArray(),g=0,h=p.length;g<h;g++){if(e="",(n=p[g]).generatedLine!==i)for(o=0;n.generatedLine!==i;)e+=";",i++;else if(g>0){if(!util.compareByGeneratedPositionsInflated(n,p[g-1]))continue;e+=","}e+=base64VLQ.encode(n.generatedColumn-o),o=n.generatedColumn,null!=n.source&&(t=this._sources.indexOf(n.source),e+=base64VLQ.encode(t-a),a=t,e+=base64VLQ.encode(n.originalLine-1-l),l=n.originalLine-1,e+=base64VLQ.encode(n.originalColumn-s),s=n.originalColumn,null!=n.name&&(r=this._names.indexOf(n.name),e+=base64VLQ.encode(r-u),u=r)),c+=e}return c},SourceMapGenerator.prototype._generateSourcesContent=function(e,n){return e.map(function(e){if(!this._sourcesContents)return null;null!=n&&(e=util.relative(n,e));var r=util.toSetString(e);return Object.prototype.hasOwnProperty.call(this._sourcesContents,r)?this._sourcesContents[r]:null},this)},SourceMapGenerator.prototype.toJSON=function(){var e={version:this._version,sources:this._sources.toArray(),names:this._names.toArray(),mappings:this._serializeMappings()};return null!=this._file&&(e.file=this._file),null!=this._sourceRoot&&(e.sourceRoot=this._sourceRoot),this._sourcesContents&&(e.sourcesContent=this._generateSourcesContent(e.sources,e.sourceRoot)),e},SourceMapGenerator.prototype.toString=function(){return JSON.stringify(this.toJSON())},exports.SourceMapGenerator=SourceMapGenerator;

},{"./array-set":147,"./base64-vlq":148,"./mapping-list":151,"./util":156}],155:[function(require,module,exports){
var SourceMapGenerator=require("./source-map-generator").SourceMapGenerator,util=require("./util"),REGEX_NEWLINE=/(\r?\n)/,NEWLINE_CODE=10,isSourceNode="$$$isSourceNode$$$";function SourceNode(e,n,o,r,t){this.children=[],this.sourceContents={},this.line=null==e?null:e,this.column=null==n?null:n,this.source=null==o?null:o,this.name=null==t?null:t,this[isSourceNode]=!0,null!=r&&this.add(r)}SourceNode.fromStringWithSourceMap=function(e,n,o){var r=new SourceNode,t=e.split(REGEX_NEWLINE),i=0,u=function(){return e()+(e()||"");function e(){return i<t.length?t[i++]:void 0}},l=1,c=0,s=null;return n.eachMapping(function(e){if(null!==s){if(!(l<e.generatedLine)){var n=(o=t[i]||"").substr(0,e.generatedColumn-c);return t[i]=o.substr(e.generatedColumn-c),c=e.generatedColumn,a(s,n),void(s=e)}a(s,u()),l++,c=0}for(;l<e.generatedLine;)r.add(u()),l++;if(c<e.generatedColumn){var o=t[i]||"";r.add(o.substr(0,e.generatedColumn)),t[i]=o.substr(e.generatedColumn),c=e.generatedColumn}s=e},this),i<t.length&&(s&&a(s,u()),r.add(t.splice(i).join(""))),n.sources.forEach(function(e){var t=n.sourceContentFor(e);null!=t&&(null!=o&&(e=util.join(o,e)),r.setSourceContent(e,t))}),r;function a(e,n){if(null===e||void 0===e.source)r.add(n);else{var t=o?util.join(o,e.source):e.source;r.add(new SourceNode(e.originalLine,e.originalColumn,t,n,e.name))}}},SourceNode.prototype.add=function(e){if(Array.isArray(e))e.forEach(function(e){this.add(e)},this);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);e&&this.children.push(e)}return this},SourceNode.prototype.prepend=function(e){if(Array.isArray(e))for(var n=e.length-1;n>=0;n--)this.prepend(e[n]);else{if(!e[isSourceNode]&&"string"!=typeof e)throw new TypeError("Expected a SourceNode, string, or an array of SourceNodes and strings. Got "+e);this.children.unshift(e)}return this},SourceNode.prototype.walk=function(e){for(var n,o=0,r=this.children.length;o<r;o++)(n=this.children[o])[isSourceNode]?n.walk(e):""!==n&&e(n,{source:this.source,line:this.line,column:this.column,name:this.name})},SourceNode.prototype.join=function(e){var n,o,r=this.children.length;if(r>0){for(n=[],o=0;o<r-1;o++)n.push(this.children[o]),n.push(e);n.push(this.children[o]),this.children=n}return this},SourceNode.prototype.replaceRight=function(e,n){var o=this.children[this.children.length-1];return o[isSourceNode]?o.replaceRight(e,n):"string"==typeof o?this.children[this.children.length-1]=o.replace(e,n):this.children.push("".replace(e,n)),this},SourceNode.prototype.setSourceContent=function(e,n){this.sourceContents[util.toSetString(e)]=n},SourceNode.prototype.walkSourceContents=function(e){for(var n=0,o=this.children.length;n<o;n++)this.children[n][isSourceNode]&&this.children[n].walkSourceContents(e);var r=Object.keys(this.sourceContents);for(n=0,o=r.length;n<o;n++)e(util.fromSetString(r[n]),this.sourceContents[r[n]])},SourceNode.prototype.toString=function(){var e="";return this.walk(function(n){e+=n}),e},SourceNode.prototype.toStringWithSourceMap=function(e){var n={code:"",line:1,column:0},o=new SourceMapGenerator(e),r=!1,t=null,i=null,u=null,l=null;return this.walk(function(e,c){n.code+=e,null!==c.source&&null!==c.line&&null!==c.column?(t===c.source&&i===c.line&&u===c.column&&l===c.name||o.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name}),t=c.source,i=c.line,u=c.column,l=c.name,r=!0):r&&(o.addMapping({generated:{line:n.line,column:n.column}}),t=null,r=!1);for(var s=0,a=e.length;s<a;s++)e.charCodeAt(s)===NEWLINE_CODE?(n.line++,n.column=0,s+1===a?(t=null,r=!1):r&&o.addMapping({source:c.source,original:{line:c.line,column:c.column},generated:{line:n.line,column:n.column},name:c.name})):n.column++}),this.walkSourceContents(function(e,n){o.setSourceContent(e,n)}),{code:n.code,map:o}},exports.SourceNode=SourceNode;

},{"./source-map-generator":154,"./util":156}],156:[function(require,module,exports){
function getArg(e,r,t){if(r in e)return e[r];if(3===arguments.length)return t;throw new Error('"'+r+'" is a required argument.')}exports.getArg=getArg;var urlRegexp=/^(?:([\w+\-.]+):)?\/\/(?:(\w+:\w+)@)?([\w.-]*)(?::(\d+))?(.*)$/,dataUrlRegexp=/^data:.+\,.+$/;function urlParse(e){var r=e.match(urlRegexp);return r?{scheme:r[1],auth:r[2],host:r[3],port:r[4],path:r[5]}:null}function urlGenerate(e){var r="";return e.scheme&&(r+=e.scheme+":"),r+="//",e.auth&&(r+=e.auth+"@"),e.host&&(r+=e.host),e.port&&(r+=":"+e.port),e.path&&(r+=e.path),r}function normalize(e){var r=e,t=urlParse(e);if(t){if(!t.path)return e;r=t.path}for(var n,o=exports.isAbsolute(r),a=r.split(/\/+/),i=0,u=a.length-1;u>=0;u--)"."===(n=a[u])?a.splice(u,1):".."===n?i++:i>0&&(""===n?(a.splice(u+1,i),i=0):(a.splice(u,2),i--));return""===(r=a.join("/"))&&(r=o?"/":"."),t?(t.path=r,urlGenerate(t)):r}function join(e,r){""===e&&(e="."),""===r&&(r=".");var t=urlParse(r),n=urlParse(e);if(n&&(e=n.path||"/"),t&&!t.scheme)return n&&(t.scheme=n.scheme),urlGenerate(t);if(t||r.match(dataUrlRegexp))return r;if(n&&!n.host&&!n.path)return n.host=r,urlGenerate(n);var o="/"===r.charAt(0)?r:normalize(e.replace(/\/+$/,"")+"/"+r);return n?(n.path=o,urlGenerate(n)):o}function relative(e,r){""===e&&(e="."),e=e.replace(/\/$/,"");for(var t=0;0!==r.indexOf(e+"/");){var n=e.lastIndexOf("/");if(n<0)return r;if((e=e.slice(0,n)).match(/^([^\/]+:\/)?\/*$/))return r;++t}return Array(t+1).join("../")+r.substr(e.length+1)}exports.urlParse=urlParse,exports.urlGenerate=urlGenerate,exports.normalize=normalize,exports.join=join,exports.isAbsolute=function(e){return"/"===e.charAt(0)||urlRegexp.test(e)},exports.relative=relative;var supportsNullProto=!("__proto__"in Object.create(null));function identity(e){return e}function toSetString(e){return isProtoString(e)?"$"+e:e}function fromSetString(e){return isProtoString(e)?e.slice(1):e}function isProtoString(e){if(!e)return!1;var r=e.length;if(r<9)return!1;if(95!==e.charCodeAt(r-1)||95!==e.charCodeAt(r-2)||111!==e.charCodeAt(r-3)||116!==e.charCodeAt(r-4)||111!==e.charCodeAt(r-5)||114!==e.charCodeAt(r-6)||112!==e.charCodeAt(r-7)||95!==e.charCodeAt(r-8)||95!==e.charCodeAt(r-9))return!1;for(var t=r-10;t>=0;t--)if(36!==e.charCodeAt(t))return!1;return!0}function compareByOriginalPositions(e,r,t){var n=strcmp(e.source,r.source);return 0!==n?n:0!==(n=e.originalLine-r.originalLine)?n:0!==(n=e.originalColumn-r.originalColumn)||t?n:0!==(n=e.generatedColumn-r.generatedColumn)?n:0!==(n=e.generatedLine-r.generatedLine)?n:strcmp(e.name,r.name)}function compareByGeneratedPositionsDeflated(e,r,t){var n=e.generatedLine-r.generatedLine;return 0!==n?n:0!==(n=e.generatedColumn-r.generatedColumn)||t?n:0!==(n=strcmp(e.source,r.source))?n:0!==(n=e.originalLine-r.originalLine)?n:0!==(n=e.originalColumn-r.originalColumn)?n:strcmp(e.name,r.name)}function strcmp(e,r){return e===r?0:null===e?1:null===r?-1:e>r?1:-1}function compareByGeneratedPositionsInflated(e,r){var t=e.generatedLine-r.generatedLine;return 0!==t?t:0!==(t=e.generatedColumn-r.generatedColumn)?t:0!==(t=strcmp(e.source,r.source))?t:0!==(t=e.originalLine-r.originalLine)?t:0!==(t=e.originalColumn-r.originalColumn)?t:strcmp(e.name,r.name)}function parseSourceMapInput(e){return JSON.parse(e.replace(/^\)]}'[^\n]*\n/,""))}function computeSourceURL(e,r,t){if(r=r||"",e&&("/"!==e[e.length-1]&&"/"!==r[0]&&(e+="/"),r=e+r),t){var n=urlParse(t);if(!n)throw new Error("sourceMapURL could not be parsed");if(n.path){var o=n.path.lastIndexOf("/");o>=0&&(n.path=n.path.substring(0,o+1))}r=join(urlGenerate(n),r)}return normalize(r)}exports.toSetString=supportsNullProto?identity:toSetString,exports.fromSetString=supportsNullProto?identity:fromSetString,exports.compareByOriginalPositions=compareByOriginalPositions,exports.compareByGeneratedPositionsDeflated=compareByGeneratedPositionsDeflated,exports.compareByGeneratedPositionsInflated=compareByGeneratedPositionsInflated,exports.parseSourceMapInput=parseSourceMapInput,exports.computeSourceURL=computeSourceURL;

},{}],157:[function(require,module,exports){
exports.SourceMapGenerator=require("./lib/source-map-generator").SourceMapGenerator,exports.SourceMapConsumer=require("./lib/source-map-consumer").SourceMapConsumer,exports.SourceNode=require("./lib/source-node").SourceNode;

},{"./lib/source-map-consumer":153,"./lib/source-map-generator":154,"./lib/source-node":155}],158:[function(require,module,exports){
(function(){var t,i;t=window.jQuery,i=t(window),t.fn.stick_in_parent=function(o){var e,s,r,n,l,a,c,p,d,u,f,g,h;for(null==o&&(o={}),h=o.sticky_class,a=o.inner_scrolling,g=o.recalc_every,f=o.parent,d=o.offset_top,p=o.spacer,r=o.bottoming,null==d&&(d=0),null==f&&(f=void 0),null==a&&(a=!0),null==h&&(h="is_stuck"),e=t(document),null==r&&(r=!0),u=function(t){var i,o;return window.getComputedStyle?(t[0],i=window.getComputedStyle(t[0]),o=parseFloat(i.getPropertyValue("width"))+parseFloat(i.getPropertyValue("margin-left"))+parseFloat(i.getPropertyValue("margin-right")),"border-box"!==i.getPropertyValue("box-sizing")&&(o+=parseFloat(i.getPropertyValue("border-left-width"))+parseFloat(i.getPropertyValue("border-right-width"))+parseFloat(i.getPropertyValue("padding-left"))+parseFloat(i.getPropertyValue("padding-right"))),o):t.outerWidth(!0)},n=function(o,s,n,l,c,k,y,m){var v,b,w,_,x,P,V,F,C,z,I,A;if(!o.data("sticky_kit")){if(o.data("sticky_kit",!0),x=e.height(),V=o.parent(),null!=f&&(V=V.closest(f)),!V.length)throw"failed to find stick parent";if(w=!1,v=!1,(I=null!=p?p&&o.closest(p):t("<div />"))&&I.css("position",o.css("position")),(F=function(){var t,i,r;if(!m)return x=e.height(),t=parseInt(V.css("border-top-width"),10),i=parseInt(V.css("padding-top"),10),s=parseInt(V.css("padding-bottom"),10),n=V.offset().top+t+i,l=V.height(),w&&(w=!1,v=!1,null==p&&(o.insertAfter(I),I.detach()),o.css({position:"",top:"",width:"",bottom:""}).removeClass(h),r=!0),c=o.offset().top-(parseInt(o.css("margin-top"),10)||0)-d,k=o.outerHeight(!0),y=o.css("float"),I&&I.css({width:u(o),height:k,display:o.css("display"),"vertical-align":o.css("vertical-align"),float:y}),r?A():void 0})(),k!==l)return _=void 0,P=d,z=g,A=function(){var t,u,f,b,C,A;if(!m)return f=!1,null!=z&&(z-=1)<=0&&(z=g,F(),f=!0),f||e.height()===x||(F(),f=!0),b=i.scrollTop(),null!=_&&(u=b-_),_=b,w?(r&&(C=b+k+P>l+n,v&&!C&&(v=!1,o.css({position:"fixed",bottom:"",top:P}).trigger("sticky_kit:unbottom"))),b<c&&(w=!1,P=d,null==p&&("left"!==y&&"right"!==y||o.insertAfter(I),I.detach()),t={position:"",width:"",top:""},o.css(t).removeClass(h).trigger("sticky_kit:unstick")),a&&(A=i.height(),k+d>A&&(v||(P-=u,P=Math.max(A-k,P),P=Math.min(d,P),w&&o.css({top:P+"px"}))))):b>c&&(w=!0,(t={position:"fixed",top:P}).width="border-box"===o.css("box-sizing")?o.outerWidth()+"px":o.width()+"px",o.css(t).addClass(h),null==p&&(o.after(I),"left"!==y&&"right"!==y||I.append(o)),o.trigger("sticky_kit:stick")),w&&r&&(null==C&&(C=b+k+P>l+n),!v&&C)?(v=!0,"static"===V.css("position")&&V.css({position:"relative"}),o.css({position:"absolute",bottom:s,top:"auto"}).trigger("sticky_kit:bottom")):void 0},C=function(){return F(),A()},b=function(){if(m=!0,i.off("touchmove",A),i.off("scroll",A),i.off("resize",C),t(document.body).off("sticky_kit:recalc",C),o.off("sticky_kit:detach",b),o.removeData("sticky_kit"),o.css({position:"",bottom:"",top:"",width:""}),V.position("position",""),w)return null==p&&("left"!==y&&"right"!==y||o.insertAfter(I),I.remove()),o.removeClass(h)},i.on("touchmove",A),i.on("scroll",A),i.on("resize",C),t(document.body).on("sticky_kit:recalc",C),o.on("sticky_kit:detach",b),setTimeout(A,0)}},l=0,c=this.length;l<c;l++)s=this[l],n(t(s));return this}}).call(this);

},{}],159:[function(require,module,exports){
function throttle(t,e){var n,r,u,l,o=0;return function(){n=this,r=arguments;var t=new Date-o;return l||(t>=e?a():l=setTimeout(a,e-t)),u};function a(){l=0,o=+new Date,u=t.apply(n,r),n=null,r=null}}module.exports=throttle;

},{}],160:[function(require,module,exports){
!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports):"function"==typeof define&&define.amd?define(["exports"],r):r(e.URI=e.URI||{})}(this,function(e){"use strict";function r(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];if(r.length>1){r[0]=r[0].slice(0,-1);for(var n=r.length-1,o=1;o<n;++o)r[o]=r[o].slice(1,-1);return r[n]=r[n].slice(1),r.join("")}return r[0]}function t(e){return"(?:"+e+")"}function n(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function o(e){return e.toUpperCase()}function a(e){var n=r("[0-9]","[A-Fa-f]"),o=t(t("%[EFef]"+n+"%"+n+n+"%"+n+n)+"|"+t("%[89A-Fa-f]"+n+"%"+n+n)+"|"+t("%"+n+n)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",i=r("[\\:\\/\\?\\#\\[\\]\\@]",a),s=e?"[\\uE000-\\uF8FF]":"[]",u=r("[A-Za-z]","[0-9]","[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),c=t("[A-Za-z]"+r("[A-Za-z]","[0-9]","[\\+\\-\\.]")+"*"),p=t(t(o+"|"+r(u,a,"[\\:]"))+"*"),h=(t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("[1-9][0-9]")+"|[0-9]"),t(t("25[0-5]")+"|"+t("2[0-4][0-9]")+"|"+t("1[0-9][0-9]")+"|"+t("0?[1-9][0-9]")+"|0?0?[0-9]")),f=t(h+"\\."+h+"\\."+h+"\\."+h),l=t(n+"{1,4}"),v=t(t(l+"\\:"+l)+"|"+f),d=t(t(l+"\\:")+"{6}"+v),g=t("\\:\\:"+t(l+"\\:")+"{5}"+v),m=t(t(l)+"?\\:\\:"+t(l+"\\:")+"{4}"+v),E=t(t(t(l+"\\:")+"{0,1}"+l)+"?\\:\\:"+t(l+"\\:")+"{3}"+v),C=t(t(t(l+"\\:")+"{0,2}"+l)+"?\\:\\:"+t(l+"\\:")+"{2}"+v),y=t(t(t(l+"\\:")+"{0,3}"+l)+"?\\:\\:"+l+"\\:"+v),S=t(t(t(l+"\\:")+"{0,4}"+l)+"?\\:\\:"+v),A=t(t(t(l+"\\:")+"{0,5}"+l)+"?\\:\\:"+l),D=t(t(t(l+"\\:")+"{0,6}"+l)+"?\\:\\:"),w=t([d,g,m,E,C,y,S,A,D].join("|")),b=t(t(u+"|"+o)+"+"),x=(t(w+"\\%25"+b),t(w+t("\\%25|\\%(?!"+n+"{2})")+b)),O=t("[vV]"+n+"+\\."+r(u,a,"[\\:]")+"+"),I=t("\\["+t(x+"|"+w+"|"+O)+"\\]"),F=t(t(o+"|"+r(u,a))+"*"),N=t(I+"|"+f+"(?!"+F+")|"+F),R=t("[0-9]*"),T=t(t(p+"@")+"?"+N+t("\\:"+R)+"?"),_=t(o+"|"+r(u,a,"[\\:\\@]")),P=t(_+"*"),U=t(_+"+"),j=t(t(o+"|"+r(u,a,"[\\@]"))+"+"),q=t(t("\\/"+P)+"*"),H=t("\\/"+t(U+q)+"?"),z=t(j+q),L=t(U+q),$="(?!"+_+")",V=(t(q+"|"+H+"|"+z+"|"+L+"|"+$),t(t(_+"|"+r("[\\/\\?]",s))+"*")),M=t(t(_+"|[\\/\\?]")+"*"),Z=t(t("\\/\\/"+T+q)+"|"+H+"|"+L+"|"+$),k=t(c+"\\:"+Z+t("\\?"+V)+"?"+t("\\#"+M)+"?"),G=t(t("\\/\\/"+T+q)+"|"+H+"|"+z+"|"+$),Q=t(G+t("\\?"+V)+"?"+t("\\#"+M)+"?");t(k+"|"+Q),t(c+"\\:"+Z+t("\\?"+V)+"?"),t(t("\\/\\/("+t("("+p+")@")+"?("+N+")"+t("\\:("+R+")")+"?)")+"?("+q+"|"+H+"|"+L+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t(t("\\/\\/("+t("("+p+")@")+"?("+N+")"+t("\\:("+R+")")+"?)")+"?("+q+"|"+H+"|"+z+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t(t("\\/\\/("+t("("+p+")@")+"?("+N+")"+t("\\:("+R+")")+"?)")+"?("+q+"|"+H+"|"+L+"|"+$+")"),t("\\?("+V+")"),t("\\#("+M+")"),t("("+p+")@"),t("\\:("+R+")");return{NOT_SCHEME:new RegExp(r("[^]","[A-Za-z]","[0-9]","[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(r("[^\\%\\:]",u,a),"g"),NOT_HOST:new RegExp(r("[^\\%\\[\\]\\:]",u,a),"g"),NOT_PATH:new RegExp(r("[^\\%\\/\\:\\@]",u,a),"g"),NOT_PATH_NOSCHEME:new RegExp(r("[^\\%\\/\\@]",u,a),"g"),NOT_QUERY:new RegExp(r("[^\\%]",u,a,"[\\:\\@\\/\\?]",s),"g"),NOT_FRAGMENT:new RegExp(r("[^\\%]",u,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(r("[^]",u,a),"g"),UNRESERVED:new RegExp(u,"g"),OTHER_CHARS:new RegExp(r("[^\\%]",u,i),"g"),PCT_ENCODED:new RegExp(o,"g"),IPV4ADDRESS:new RegExp("^("+f+")$"),IPV6ADDRESS:new RegExp("^\\[?("+w+")"+t(t("\\%25|\\%(?!"+n+"{2})")+"("+b+")")+"?\\]?$")}}var i=a(!1),s=a(!0),u=function(){return function(e,r){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,r){var t=[],n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done)&&(t.push(i.value),!r||t.length!==r);n=!0);}catch(e){o=!0,a=e}finally{try{!n&&s.return&&s.return()}finally{if(o)throw a}}return t}(e,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=2147483647,p=/^xn--/,h=/[^\0-\x7E]/,f=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=Math.floor,d=String.fromCharCode;function g(e){throw new RangeError(l[e])}function m(e,r){var t=e.split("@"),n="";t.length>1&&(n=t[0]+"@",e=t[1]);var o=function(e,r){for(var t=[],n=e.length;n--;)t[n]=r(e[n]);return t}((e=e.replace(f,".")).split("."),r).join(".");return n+o}function E(e){for(var r=[],t=0,n=e.length;t<n;){var o=e.charCodeAt(t++);if(o>=55296&&o<=56319&&t<n){var a=e.charCodeAt(t++);56320==(64512&a)?r.push(((1023&o)<<10)+(1023&a)+65536):(r.push(o),t--)}else r.push(o)}return r}var C=function(e,r){return e+22+75*(e<26)-((0!=r)<<5)},y=function(e,r,t){var n=0;for(e=t?v(e/700):e>>1,e+=v(e/r);e>455;n+=36)e=v(e/35);return v(n+36*e/(e+38))},S=function(e){var r,t=[],n=e.length,o=0,a=128,i=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var u=0;u<s;++u)e.charCodeAt(u)>=128&&g("not-basic"),t.push(e.charCodeAt(u));for(var p=s>0?s+1:0;p<n;){for(var h=o,f=1,l=36;;l+=36){p>=n&&g("invalid-input");var d=(r=e.charCodeAt(p++))-48<10?r-22:r-65<26?r-65:r-97<26?r-97:36;(d>=36||d>v((c-o)/f))&&g("overflow"),o+=d*f;var m=l<=i?1:l>=i+26?26:l-i;if(d<m)break;var E=36-m;f>v(c/E)&&g("overflow"),f*=E}var C=t.length+1;i=y(o-h,C,0==h),v(o/C)>c-a&&g("overflow"),a+=v(o/C),o%=C,t.splice(o++,0,a)}return String.fromCodePoint.apply(String,t)},A=function(e){var r=[],t=(e=E(e)).length,n=128,o=0,a=72,i=!0,s=!1,u=void 0;try{for(var p,h=e[Symbol.iterator]();!(i=(p=h.next()).done);i=!0){var f=p.value;f<128&&r.push(d(f))}}catch(e){s=!0,u=e}finally{try{!i&&h.return&&h.return()}finally{if(s)throw u}}var l=r.length,m=l;for(l&&r.push("-");m<t;){var S=c,A=!0,D=!1,w=void 0;try{for(var b,x=e[Symbol.iterator]();!(A=(b=x.next()).done);A=!0){var O=b.value;O>=n&&O<S&&(S=O)}}catch(e){D=!0,w=e}finally{try{!A&&x.return&&x.return()}finally{if(D)throw w}}var I=m+1;S-n>v((c-o)/I)&&g("overflow"),o+=(S-n)*I,n=S;var F=!0,N=!1,R=void 0;try{for(var T,_=e[Symbol.iterator]();!(F=(T=_.next()).done);F=!0){var P=T.value;if(P<n&&++o>c&&g("overflow"),P==n){for(var U=o,j=36;;j+=36){var q=j<=a?1:j>=a+26?26:j-a;if(U<q)break;var H=U-q,z=36-q;r.push(d(C(q+H%z,0))),U=v(H/z)}r.push(d(C(U,0))),a=y(o,I,m==l),o=0,++m}}}catch(e){N=!0,R=e}finally{try{!F&&_.return&&_.return()}finally{if(N)throw R}}++o,++n}return r.join("")},D={version:"2.1.0",ucs2:{decode:E,encode:function(e){return String.fromCodePoint.apply(String,function(e){if(Array.isArray(e)){for(var r=0,t=Array(e.length);r<e.length;r++)t[r]=e[r];return t}return Array.from(e)}(e))}},decode:S,encode:A,toASCII:function(e){return m(e,function(e){return h.test(e)?"xn--"+A(e):e})},toUnicode:function(e){return m(e,function(e){return p.test(e)?S(e.slice(4).toLowerCase()):e})}},w={};function b(e){var r=e.charCodeAt(0);return r<16?"%0"+r.toString(16).toUpperCase():r<128?"%"+r.toString(16).toUpperCase():r<2048?"%"+(r>>6|192).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase():"%"+(r>>12|224).toString(16).toUpperCase()+"%"+(r>>6&63|128).toString(16).toUpperCase()+"%"+(63&r|128).toString(16).toUpperCase()}function x(e){for(var r="",t=0,n=e.length;t<n;){var o=parseInt(e.substr(t+1,2),16);if(o<128)r+=String.fromCharCode(o),t+=3;else if(o>=194&&o<224){if(n-t>=6){var a=parseInt(e.substr(t+4,2),16);r+=String.fromCharCode((31&o)<<6|63&a)}else r+=e.substr(t,6);t+=6}else if(o>=224){if(n-t>=9){var i=parseInt(e.substr(t+4,2),16),s=parseInt(e.substr(t+7,2),16);r+=String.fromCharCode((15&o)<<12|(63&i)<<6|63&s)}else r+=e.substr(t,9);t+=9}else r+=e.substr(t,3),t+=3}return r}function O(e,r){function t(e){var t=x(e);return t.match(r.UNRESERVED)?t:e}return e.scheme&&(e.scheme=String(e.scheme).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(r.PCT_ENCODED,t).replace(r.NOT_USERINFO,b).replace(r.PCT_ENCODED,o)),void 0!==e.host&&(e.host=String(e.host).replace(r.PCT_ENCODED,t).toLowerCase().replace(r.NOT_HOST,b).replace(r.PCT_ENCODED,o)),void 0!==e.path&&(e.path=String(e.path).replace(r.PCT_ENCODED,t).replace(e.scheme?r.NOT_PATH:r.NOT_PATH_NOSCHEME,b).replace(r.PCT_ENCODED,o)),void 0!==e.query&&(e.query=String(e.query).replace(r.PCT_ENCODED,t).replace(r.NOT_QUERY,b).replace(r.PCT_ENCODED,o)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(r.PCT_ENCODED,t).replace(r.NOT_FRAGMENT,b).replace(r.PCT_ENCODED,o)),e}function I(e){return e.replace(/^0*(.*)/,"$1")||"0"}function F(e,r){var t=e.match(r.IPV4ADDRESS)||[],n=u(t,2)[1];return n?n.split(".").map(I).join("."):e}function N(e,r){var t=e.match(r.IPV6ADDRESS)||[],n=u(t,3),o=n[1],a=n[2];if(o){for(var i=o.toLowerCase().split("::").reverse(),s=u(i,2),c=s[0],p=s[1],h=p?p.split(":").map(I):[],f=c.split(":").map(I),l=r.IPV4ADDRESS.test(f[f.length-1]),v=l?7:8,d=f.length-v,g=Array(v),m=0;m<v;++m)g[m]=h[m]||f[d+m]||"";l&&(g[v-1]=F(g[v-1],r));var E=g.reduce(function(e,r,t){if(!r||"0"===r){var n=e[e.length-1];n&&n.index+n.length===t?n.length++:e.push({index:t,length:1})}return e},[]).sort(function(e,r){return r.length-e.length})[0],C=void 0;if(E&&E.length>1){var y=g.slice(0,E.index),S=g.slice(E.index+E.length);C=y.join(":")+"::"+S.join(":")}else C=g.join(":");return a&&(C+="%"+a),C}return e}var R=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,T=void 0==="".match(/(){0}/)[1];function _(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t={},n=!1!==r.iri?s:i;"suffix"===r.reference&&(e=(r.scheme?r.scheme+":":"")+"//"+e);var o=e.match(R);if(o){T?(t.scheme=o[1],t.userinfo=o[3],t.host=o[4],t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=o[7],t.fragment=o[8],isNaN(t.port)&&(t.port=o[5])):(t.scheme=o[1]||void 0,t.userinfo=-1!==e.indexOf("@")?o[3]:void 0,t.host=-1!==e.indexOf("//")?o[4]:void 0,t.port=parseInt(o[5],10),t.path=o[6]||"",t.query=-1!==e.indexOf("?")?o[7]:void 0,t.fragment=-1!==e.indexOf("#")?o[8]:void 0,isNaN(t.port)&&(t.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?o[4]:void 0)),t.host&&(t.host=N(F(t.host,n),n)),void 0!==t.scheme||void 0!==t.userinfo||void 0!==t.host||void 0!==t.port||t.path||void 0!==t.query?void 0===t.scheme?t.reference="relative":void 0===t.fragment?t.reference="absolute":t.reference="uri":t.reference="same-document",r.reference&&"suffix"!==r.reference&&r.reference!==t.reference&&(t.error=t.error||"URI is not a "+r.reference+" reference.");var a=w[(r.scheme||t.scheme||"").toLowerCase()];if(r.unicodeSupport||a&&a.unicodeSupport)O(t,n);else{if(t.host&&(r.domainHost||a&&a.domainHost))try{t.host=D.toASCII(t.host.replace(n.PCT_ENCODED,x).toLowerCase())}catch(e){t.error=t.error||"Host's domain name can not be converted to ASCII via punycode: "+e}O(t,i)}a&&a.parse&&a.parse(t,r)}else t.error=t.error||"URI can not be parsed.";return t}var P=/^\.\.?\//,U=/^\/\.(\/|$)/,j=/^\/\.\.(\/|$)/,q=/^\/?(?:.|\n)*?(?=\/|$)/;function H(e){for(var r=[];e.length;)if(e.match(P))e=e.replace(P,"");else if(e.match(U))e=e.replace(U,"/");else if(e.match(j))e=e.replace(j,"/"),r.pop();else if("."===e||".."===e)e="";else{var t=e.match(q);if(!t)throw new Error("Unexpected dot segment condition");var n=t[0];e=e.slice(n.length),r.push(n)}return r.join("")}function z(e){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},t=r.iri?s:i,n=[],o=w[(r.scheme||e.scheme||"").toLowerCase()];if(o&&o.serialize&&o.serialize(e,r),e.host)if(t.IPV6ADDRESS.test(e.host));else if(r.domainHost||o&&o.domainHost)try{e.host=r.iri?D.toUnicode(e.host):D.toASCII(e.host.replace(t.PCT_ENCODED,x).toLowerCase())}catch(t){e.error=e.error||"Host's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+t}O(e,t),"suffix"!==r.reference&&e.scheme&&(n.push(e.scheme),n.push(":"));var a=function(e,r){var t=!1!==r.iri?s:i,n=[];return void 0!==e.userinfo&&(n.push(e.userinfo),n.push("@")),void 0!==e.host&&n.push(N(F(String(e.host),t),t).replace(t.IPV6ADDRESS,function(e,r,t){return"["+r+(t?"%25"+t:"")+"]"})),"number"==typeof e.port&&(n.push(":"),n.push(e.port.toString(10))),n.length?n.join(""):void 0}(e,r);if(void 0!==a&&("suffix"!==r.reference&&n.push("//"),n.push(a),e.path&&"/"!==e.path.charAt(0)&&n.push("/")),void 0!==e.path){var u=e.path;r.absolutePath||o&&o.absolutePath||(u=H(u)),void 0===a&&(u=u.replace(/^\/\//,"/%2F")),n.push(u)}return void 0!==e.query&&(n.push("?"),n.push(e.query)),void 0!==e.fragment&&(n.push("#"),n.push(e.fragment)),n.join("")}function L(e,r){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n={};return arguments[3]||(e=_(z(e,t),t),r=_(z(r,t),t)),!(t=t||{}).tolerant&&r.scheme?(n.scheme=r.scheme,n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=H(r.path||""),n.query=r.query):(void 0!==r.userinfo||void 0!==r.host||void 0!==r.port?(n.userinfo=r.userinfo,n.host=r.host,n.port=r.port,n.path=H(r.path||""),n.query=r.query):(r.path?("/"===r.path.charAt(0)?n.path=H(r.path):(void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?n.path=e.path.slice(0,e.path.lastIndexOf("/")+1)+r.path:n.path=r.path:n.path="/"+r.path,n.path=H(n.path)),n.query=r.query):(n.path=e.path,void 0!==r.query?n.query=r.query:n.query=e.query),n.userinfo=e.userinfo,n.host=e.host,n.port=e.port),n.scheme=e.scheme),n.fragment=r.fragment,n}function $(e,r){return e&&e.toString().replace(r&&r.iri?s.PCT_ENCODED:i.PCT_ENCODED,x)}var V={scheme:"http",domainHost:!0,parse:function(e,r){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,r){return e.port!==("https"!==String(e.scheme).toLowerCase()?80:443)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},M={scheme:"https",domainHost:V.domainHost,parse:V.parse,serialize:V.serialize},Z={},k="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",G="[0-9A-Fa-f]",Q=t(t("%[EFef][0-9A-Fa-f]%"+G+G+"%"+G+G)+"|"+t("%[89A-Fa-f][0-9A-Fa-f]%"+G+G)+"|"+t("%"+G+G)),Y=r("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),B=new RegExp(k,"g"),J=new RegExp(Q,"g"),K=new RegExp(r("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',Y),"g"),W=new RegExp(r("[^]",k,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),X=W;function ee(e){var r=x(e);return r.match(B)?r:e}var re={scheme:"mailto",parse:function(e,r){var t=e,n=t.to=t.path?t.path.split(","):[];if(t.path=void 0,t.query){for(var o=!1,a={},i=t.query.split("&"),s=0,u=i.length;s<u;++s){var c=i[s].split("=");switch(c[0]){case"to":for(var p=c[1].split(","),h=0,f=p.length;h<f;++h)n.push(p[h]);break;case"subject":t.subject=$(c[1],r);break;case"body":t.body=$(c[1],r);break;default:o=!0,a[$(c[0],r)]=$(c[1],r)}}o&&(t.headers=a)}t.query=void 0;for(var l=0,v=n.length;l<v;++l){var d=n[l].split("@");if(d[0]=$(d[0]),r.unicodeSupport)d[1]=$(d[1],r).toLowerCase();else try{d[1]=D.toASCII($(d[1],r).toLowerCase())}catch(e){t.error=t.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}n[l]=d.join("@")}return t},serialize:function(e,r){var t,n=e,a=null!=(t=e.to)?t instanceof Array?t:"number"!=typeof t.length||t.split||t.setInterval||t.call?[t]:Array.prototype.slice.call(t):[];if(a){for(var i=0,s=a.length;i<s;++i){var u=String(a[i]),c=u.lastIndexOf("@"),p=u.slice(0,c).replace(J,ee).replace(J,o).replace(K,b),h=u.slice(c+1);try{h=r.iri?D.toUnicode(h):D.toASCII($(h,r).toLowerCase())}catch(e){n.error=n.error||"Email address's domain name can not be converted to "+(r.iri?"Unicode":"ASCII")+" via punycode: "+e}a[i]=p+"@"+h}n.path=a.join(",")}var f=e.headers=e.headers||{};e.subject&&(f.subject=e.subject),e.body&&(f.body=e.body);var l=[];for(var v in f)f[v]!==Z[v]&&l.push(v.replace(J,ee).replace(J,o).replace(W,b)+"="+f[v].replace(J,ee).replace(J,o).replace(X,b));return l.length&&(n.query=l.join("&")),n}},te=/^([^\:]+)\:(.*)/,ne={scheme:"urn",parse:function(e,r){var t=e.path&&e.path.match(te),n=e;if(t){var o=r.scheme||n.scheme||"urn",a=t[1].toLowerCase(),i=t[2],s=o+":"+(r.nid||a),u=w[s];n.nid=a,n.nss=i,n.path=void 0,u&&(n=u.parse(n,r))}else n.error=n.error||"URN can not be parsed.";return n},serialize:function(e,r){var t=r.scheme||e.scheme||"urn",n=e.nid,o=t+":"+(r.nid||n),a=w[o];a&&(e=a.serialize(e,r));var i=e,s=e.nss;return i.path=(n||r.nid)+":"+s,i}},oe=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ae={scheme:"urn:uuid",parse:function(e,r){var t=e;return t.uuid=t.nss,t.nss=void 0,r.tolerant||t.uuid&&t.uuid.match(oe)||(t.error=t.error||"UUID is not valid."),t},serialize:function(e,r){var t=e;return t.nss=(e.uuid||"").toLowerCase(),t}};w[V.scheme]=V,w[M.scheme]=M,w[re.scheme]=re,w[ne.scheme]=ne,w[ae.scheme]=ae,e.SCHEMES=w,e.pctEncChar=b,e.pctDecChars=x,e.parse=_,e.removeDotSegments=H,e.serialize=z,e.resolveComponents=L,e.resolve=function(e,r,t){var n=function(e,r){var t=e;if(r)for(var n in r)t[n]=r[n];return t}({scheme:"null"},t);return z(L(_(e,n),_(r,n),n,!0),n)},e.normalize=function(e,r){return"string"==typeof e?e=z(_(e,r),r):"object"===n(e)&&(e=_(z(e,r),r)),e},e.equal=function(e,r,t){return"string"==typeof e?e=z(_(e,t),t):"object"===n(e)&&(e=z(e,t)),"string"==typeof r?r=z(_(r,t),t):"object"===n(r)&&(r=z(r,t)),e===r},e.escapeComponent=function(e,r){return e&&e.toString().replace(r&&r.iri?s.ESCAPE:i.ESCAPE,b)},e.unescapeComponent=$,Object.defineProperty(e,"__esModule",{value:!0})});

},{}],161:[function(require,module,exports){
"use strict";var punycode=require("punycode"),util=require("./util");function Url(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}exports.parse=urlParse,exports.resolve=urlResolve,exports.resolveObject=urlResolveObject,exports.format=urlFormat,exports.Url=Url;var protocolPattern=/^([a-z0-9.+-]+:)/i,portPattern=/:[0-9]*$/,simplePathPattern=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,delims=["<",">",'"',"`"," ","\r","\n","\t"],unwise=["{","}","|","\\","^","`"].concat(delims),autoEscape=["'"].concat(unwise),nonHostChars=["%","/","?",";","#"].concat(autoEscape),hostEndingChars=["/","?","#"],hostnameMaxLen=255,hostnamePartPattern=/^[+a-z0-9A-Z_-]{0,63}$/,hostnamePartStart=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,unsafeProtocol={javascript:!0,"javascript:":!0},hostlessProtocol={javascript:!0,"javascript:":!0},slashedProtocol={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},querystring=require("querystring");function urlParse(t,s,e){if(t&&util.isObject(t)&&t instanceof Url)return t;var h=new Url;return h.parse(t,s,e),h}function urlFormat(t){return util.isString(t)&&(t=urlParse(t)),t instanceof Url?t.format():Url.prototype.format.call(t)}function urlResolve(t,s){return urlParse(t,!1,!0).resolve(s)}function urlResolveObject(t,s){return t?urlParse(t,!1,!0).resolveObject(s):s}Url.prototype.parse=function(t,s,e){if(!util.isString(t))throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var h=t.indexOf("?"),r=-1!==h&&h<t.indexOf("#")?"?":"#",a=t.split(r);a[0]=a[0].replace(/\\/g,"/");var o=t=a.join(r);if(o=o.trim(),!e&&1===t.split("#").length){var n=simplePathPattern.exec(o);if(n)return this.path=o,this.href=o,this.pathname=n[1],n[2]?(this.search=n[2],this.query=s?querystring.parse(this.search.substr(1)):this.search.substr(1)):s&&(this.search="",this.query={}),this}var i=protocolPattern.exec(o);if(i){var l=(i=i[0]).toLowerCase();this.protocol=l,o=o.substr(i.length)}if(e||i||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var u="//"===o.substr(0,2);!u||i&&hostlessProtocol[i]||(o=o.substr(2),this.slashes=!0)}if(!hostlessProtocol[i]&&(u||i&&!slashedProtocol[i])){for(var p,c,f=-1,m=0;m<hostEndingChars.length;m++){-1!==(v=o.indexOf(hostEndingChars[m]))&&(-1===f||v<f)&&(f=v)}-1!==(c=-1===f?o.lastIndexOf("@"):o.lastIndexOf("@",f))&&(p=o.slice(0,c),o=o.slice(c+1),this.auth=decodeURIComponent(p)),f=-1;for(m=0;m<nonHostChars.length;m++){var v;-1!==(v=o.indexOf(nonHostChars[m]))&&(-1===f||v<f)&&(f=v)}-1===f&&(f=o.length),this.host=o.slice(0,f),o=o.slice(f),this.parseHost(),this.hostname=this.hostname||"";var g="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!g)for(var y=this.hostname.split(/\./),P=(m=0,y.length);m<P;m++){var d=y[m];if(d&&!d.match(hostnamePartPattern)){for(var b="",q=0,O=d.length;q<O;q++)d.charCodeAt(q)>127?b+="x":b+=d[q];if(!b.match(hostnamePartPattern)){var j=y.slice(0,m),x=y.slice(m+1),U=d.match(hostnamePartStart);U&&(j.push(U[1]),x.unshift(U[2])),x.length&&(o="/"+x.join(".")+o),this.hostname=j.join(".");break}}}this.hostname.length>hostnameMaxLen?this.hostname="":this.hostname=this.hostname.toLowerCase(),g||(this.hostname=punycode.toASCII(this.hostname));var C=this.port?":"+this.port:"",A=this.hostname||"";this.host=A+C,this.href+=this.host,g&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==o[0]&&(o="/"+o))}if(!unsafeProtocol[l])for(m=0,P=autoEscape.length;m<P;m++){var w=autoEscape[m];if(-1!==o.indexOf(w)){var E=encodeURIComponent(w);E===w&&(E=escape(w)),o=o.split(w).join(E)}}var I=o.indexOf("#");-1!==I&&(this.hash=o.substr(I),o=o.slice(0,I));var R=o.indexOf("?");if(-1!==R?(this.search=o.substr(R),this.query=o.substr(R+1),s&&(this.query=querystring.parse(this.query)),o=o.slice(0,R)):s&&(this.search="",this.query={}),o&&(this.pathname=o),slashedProtocol[l]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){C=this.pathname||"";var S=this.search||"";this.path=C+S}return this.href=this.format(),this},Url.prototype.format=function(){var t=this.auth||"";t&&(t=(t=encodeURIComponent(t)).replace(/%3A/i,":"),t+="@");var s=this.protocol||"",e=this.pathname||"",h=this.hash||"",r=!1,a="";this.host?r=t+this.host:this.hostname&&(r=t+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(r+=":"+this.port)),this.query&&util.isObject(this.query)&&Object.keys(this.query).length&&(a=querystring.stringify(this.query));var o=this.search||a&&"?"+a||"";return s&&":"!==s.substr(-1)&&(s+=":"),this.slashes||(!s||slashedProtocol[s])&&!1!==r?(r="//"+(r||""),e&&"/"!==e.charAt(0)&&(e="/"+e)):r||(r=""),h&&"#"!==h.charAt(0)&&(h="#"+h),o&&"?"!==o.charAt(0)&&(o="?"+o),s+r+(e=e.replace(/[?#]/g,function(t){return encodeURIComponent(t)}))+(o=o.replace("#","%23"))+h},Url.prototype.resolve=function(t){return this.resolveObject(urlParse(t,!1,!0)).format()},Url.prototype.resolveObject=function(t){if(util.isString(t)){var s=new Url;s.parse(t,!1,!0),t=s}for(var e=new Url,h=Object.keys(this),r=0;r<h.length;r++){var a=h[r];e[a]=this[a]}if(e.hash=t.hash,""===t.href)return e.href=e.format(),e;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),n=0;n<o.length;n++){var i=o[n];"protocol"!==i&&(e[i]=t[i])}return slashedProtocol[e.protocol]&&e.hostname&&!e.pathname&&(e.path=e.pathname="/"),e.href=e.format(),e}if(t.protocol&&t.protocol!==e.protocol){if(!slashedProtocol[t.protocol]){for(var l=Object.keys(t),u=0;u<l.length;u++){var p=l[u];e[p]=t[p]}return e.href=e.format(),e}if(e.protocol=t.protocol,t.host||hostlessProtocol[t.protocol])e.pathname=t.pathname;else{for(var c=(t.pathname||"").split("/");c.length&&!(t.host=c.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),""!==c[0]&&c.unshift(""),c.length<2&&c.unshift(""),e.pathname=c.join("/")}if(e.search=t.search,e.query=t.query,e.host=t.host||"",e.auth=t.auth,e.hostname=t.hostname||t.host,e.port=t.port,e.pathname||e.search){var f=e.pathname||"",m=e.search||"";e.path=f+m}return e.slashes=e.slashes||t.slashes,e.href=e.format(),e}var v=e.pathname&&"/"===e.pathname.charAt(0),g=t.host||t.pathname&&"/"===t.pathname.charAt(0),y=g||v||e.host&&t.pathname,P=y,d=e.pathname&&e.pathname.split("/")||[],b=(c=t.pathname&&t.pathname.split("/")||[],e.protocol&&!slashedProtocol[e.protocol]);if(b&&(e.hostname="",e.port=null,e.host&&(""===d[0]?d[0]=e.host:d.unshift(e.host)),e.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(""===c[0]?c[0]=t.host:c.unshift(t.host)),t.host=null),y=y&&(""===c[0]||""===d[0])),g)e.host=t.host||""===t.host?t.host:e.host,e.hostname=t.hostname||""===t.hostname?t.hostname:e.hostname,e.search=t.search,e.query=t.query,d=c;else if(c.length)d||(d=[]),d.pop(),d=d.concat(c),e.search=t.search,e.query=t.query;else if(!util.isNullOrUndefined(t.search)){if(b)e.hostname=e.host=d.shift(),(U=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=U.shift(),e.host=e.hostname=U.shift());return e.search=t.search,e.query=t.query,util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.href=e.format(),e}if(!d.length)return e.pathname=null,e.search?e.path="/"+e.search:e.path=null,e.href=e.format(),e;for(var q=d.slice(-1)[0],O=(e.host||t.host||d.length>1)&&("."===q||".."===q)||""===q,j=0,x=d.length;x>=0;x--)"."===(q=d[x])?d.splice(x,1):".."===q?(d.splice(x,1),j++):j&&(d.splice(x,1),j--);if(!y&&!P)for(;j--;j)d.unshift("..");!y||""===d[0]||d[0]&&"/"===d[0].charAt(0)||d.unshift(""),O&&"/"!==d.join("/").substr(-1)&&d.push("");var U,C=""===d[0]||d[0]&&"/"===d[0].charAt(0);b&&(e.hostname=e.host=C?"":d.length?d.shift():"",(U=!!(e.host&&e.host.indexOf("@")>0)&&e.host.split("@"))&&(e.auth=U.shift(),e.host=e.hostname=U.shift()));return(y=y||e.host&&d.length)&&!C&&d.unshift(""),d.length?e.pathname=d.join("/"):(e.pathname=null,e.path=null),util.isNull(e.pathname)&&util.isNull(e.search)||(e.path=(e.pathname?e.pathname:"")+(e.search?e.search:"")),e.auth=t.auth||e.auth,e.slashes=e.slashes||t.slashes,e.href=e.format(),e},Url.prototype.parseHost=function(){var t=this.host,s=portPattern.exec(t);s&&(":"!==(s=s[0])&&(this.port=s.substr(1)),t=t.substr(0,t.length-s.length)),t&&(this.hostname=t)};

},{"./util":162,"punycode":46,"querystring":146}],162:[function(require,module,exports){
"use strict";module.exports={isString:function(n){return"string"==typeof n},isObject:function(n){return"object"==typeof n&&null!==n},isNull:function(n){return null===n},isNullOrUndefined:function(n){return null==n}};

},{}],163:[function(require,module,exports){
module.exports={
  "name": "textae",
  "description": "text annotation editor",
  "version": "5.3.3",
  "author": "jdkim",
  "browserify": {
    "transform": [
      [
        "babelify",
        {
          "plugins": [
            "transform-es2015-modules-commonjs"
          ]
        }
      ]
    ]
  },
  "bugs": {
    "url": "https://github.com/pubannotation/textae/issues"
  },
  "devDependencies": {
    "@babel/core": "^7.8.3",
    "ajv": "^6.11.0",
    "alertifyjs": "^1.13.1",
    "babel-plugin-transform-es2015-modules-commonjs": "^6.26.2",
    "babelify": "^10.0.0",
    "browserify": "^16.5.0",
    "browserify-shim": "^3.8.14",
    "capitalize": "^2.0.1",
    "clean-css-cli": "^4.3.0",
    "concat": "^1.0.3",
    "connect": "^3.7.0",
    "cpx": "^1.5.0",
    "deamdify": "^0.3.0",
    "debounce": "^1.2.0",
    "delegate": "^3.2.0",
    "dohtml": "^0.1.0",
    "emitter-fsm": "0.0.2",
    "eslint": "^6.8.0",
    "eslint-config-prettier": "^6.9.0",
    "eslint-plugin-prettier": "^3.1.2",
    "handlebars": "^4.7.2",
    "jquery": "^2.2.4",
    "jquery-ui": "^1.12.1",
    "jsondiffpatch": "^0.2.5",
    "less": "^3.10.3",
    "less-watch-compiler": "^1.14.5",
    "mkdirp": "^0.5.1",
    "npm-run-all": "^4.1.5",
    "observ": "^0.2.0",
    "open-cli": "^5.0.0",
    "prettier": "^1.19.1",
    "replace-in-file": "^5.0.2",
    "rimraf": "^3.0.0",
    "serve-favicon": "^2.5.0",
    "serve-static": "^1.14.1",
    "sticky-kit": "github:leafo/sticky-kit",
    "throttleit": "^1.0.0",
    "uglifyify": "^5.0.2",
    "watchify": "^3.11.1",
    "yui": "^3.18.1"
  },
  "homepage": "https://github.com/pubannotation/textae",
  "keywords": [
    "DBCLS",
    "annotation",
    "javascript"
  ],
  "license": "MIT",
  "main": "src/development.html",
  "repository": {
    "type": "git",
    "url": "https://github.com/pubannotation/textae.git"
  },
  "scripts": {
    "dev:open": "open-cli 'http://localhost:8000/dev/development.html'",
    "dev:server": "node dev/development-sever.js",
    "dev:watch-less": "less-watch-compiler src/lib/css src/lib/css textae.less",
    "dev:watchify": "watchify -g deamdify -d src/index.js -o dev/bundle.js",
    "dist": "npm-run-all dist:clean dist:build",
    "dist:browserify": "browserify -g deamdify -g uglifyify src/index.js -o src/lib/bundle.js",
    "dist:build": "npm-run-all -p dist:build:**",
    "dist:build:copy": "npm-run-all dist:copy dist:replace:version",
    "dist:build:css": "npm-run-all dist:less dist:concat:css dist:cleancss",
    "dist:build:js": "npm-run-all dist:lint dist:browserify dist:concat:js",
    "dist:clean": "rimraf dist/* src/lib/bundle.js",
    "dist:cleancss": "cleancss -o dist/lib/css/$npm_package_name-$npm_package_version.min.css dist/lib/css/$npm_package_name-$npm_package_version.css",
    "dist:concat:css": "mkdirp dist/lib/css & concat -o dist/lib/css/$npm_package_name-$npm_package_version.css src/lib/css/textae.css",
    "dist:concat:js": "mkdirp dist/lib & concat -o dist/lib/$npm_package_name-$npm_package_version.min.js node_modules/jquery/dist/jquery.min.js src/lib/modules/jquery.jsPlumb-1.5.5-min.js src/lib/bundle.js",
    "dist:copy": "npm-run-all -p dist:copy:**",
    "dist:copy:app": "cpx src/app/editor.html dist",
    "dist:copy:demo": "cpx 'src/demo/**' dist/demo",
    "dist:copy:fonts": "cpx 'src/lib/fonts/**' dist/lib/fonts",
    "dist:copy:images": "cpx 'src/lib/css/images/**.png' dist/lib/css/images",
    "dist:less": "lessc 'src/lib/css/textae.less' 'src/lib/css/textae.css'",
    "dist:lint": "eslint src/lib",
    "dist:replace:version": "replace-in-file /{{version}}/g $npm_package_version dist/editor.html,dist/demo/**/*.html --isRegex",
    "watch": "npm-run-all -p dev:watchify dev:watch-less dev:server dev:open"
  },
  "dependencies": {}
}

},{}],164:[function(require,module,exports){
"use strict";var _textae=require("./lib/textae"),_textae2=_interopRequireDefault(_textae);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}document.addEventListener("DOMContentLoaded",_textae2.default);

},{"./lib/textae":814}],165:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(e.startsWith("["))return t=>(0,_gte2.default)(new Number(e.replace("[","")),t);if(e.startsWith("("))return t=>(0,_gt2.default)(new Number(e.replace("(","")),t);throw`${e} is not valid interval notation`};var _gte=require("./gte"),_gte2=_interopRequireDefault(_gte),_gt=require("./gt"),_gt2=_interopRequireDefault(_gt);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./gt":167,"./gte":168}],166:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(e.endsWith("]"))return t=>(0,_gte2.default)(t,new Number(e.replace("]","")));if(e.endsWith(")"))return t=>(0,_gt2.default)(t,new Number(e.replace(")","")));throw`${e} is not valid interval notation`};var _gte=require("./gte"),_gte2=_interopRequireDefault(_gte),_gt=require("./gt"),_gt2=_interopRequireDefault(_gt);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./gt":167,"./gte":168}],167:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e<t};

},{}],168:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e<=t};

},{}],169:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getLowwerCond=require("./getLowwerCond"),_getLowwerCond2=_interopRequireDefault(_getLowwerCond),_getUpperCond=require("./getUpperCond"),_getUpperCond2=_interopRequireDefault(_getUpperCond);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class IntervalNotation{constructor(e){const[t,o]=e.split(",");if(o?(this._lowwerCond=(0,_getLowwerCond2.default)(t),this._upperCond=(0,_getUpperCond2.default)(o)):((t.startsWith("[")||t.startsWith("("))&&(this._lowwerCond=(0,_getLowwerCond2.default)(t),this._upperCond=(e=>!0)),(t.endsWith("]")||t.endsWith(")"))&&(this._lowwerCond=(e=>!0),this._upperCond=(0,_getUpperCond2.default)(t))),!this._lowwerCond||!this._upperCond)throw`${e} is not valid interval notation`}test(e){return this._lowwerCond(e)&&this._upperCond(e)}}exports.default=IntervalNotation;

},{"./getLowwerCond":165,"./getUpperCond":166}],170:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n){return new Map([["replicate",()=>Boolean(e.span.single())],["entity",()=>e.span.some],["delete",()=>e.some],["copy",()=>e.span.some||e.entity.some],["paste",()=>t()&&e.span.some],["change-label",n],["negation",n],["speculation",n]])};

},{}],171:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _createPredicates=require("./createPredicates"),_createPredicates2=_interopRequireDefault(_createPredicates);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,s){this._editor=e,this._states={};this.predicates=(0,_createPredicates2.default)(t,()=>s.clipBoard.length>0,()=>t.entity.some||t.relation.some)}set(e,t){this._states[e]=t}propagate(){this._editor.eventEmitter.emit("textae.control.buttons.change",this._states)}updateButtons(e){for(const t of e){const e=this.predicates.get(t);this.set(t,e())}}};

},{"./createPredicates":170}],172:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const allButtons=["delete"],spanButtons=allButtons.concat(["replicate","entity","copy","paste"]),relationButtons=allButtons.concat(["change-label","negation","speculation"]),entityButtons=relationButtons.concat(["copy"]);function propergate(t,s,e){t.propagate(),s.propagate(),e.propagate()}exports.default=class{constructor(t,s,e,n){this.buttonEnableStates=t,this.buttonTransitStates=s,this.pushButtons=e,this.selectionModel=n}propagate(){propergate(this.buttonEnableStates,this.buttonTransitStates,this.pushButtons)}enabled(t,s){this.buttonEnableStates.set(t,s),propergate(this.buttonEnableStates,this.buttonTransitStates,this.pushButtons)}transit(t,s){this.buttonTransitStates.set(t,s),propergate(this.buttonEnableStates,this.buttonTransitStates,this.pushButtons)}updateBySpan(){this.buttonEnableStates.updateButtons(spanButtons),propergate(this.buttonEnableStates,this.buttonTransitStates,this.pushButtons)}updateByEntity(){this.buttonEnableStates.updateButtons(entityButtons),this.pushButtons.updateModificationButtons(this.selectionModel.entity),propergate(this.buttonEnableStates,this.buttonTransitStates,this.pushButtons)}updateByRelation(){this.buttonEnableStates.updateButtons(relationButtons),this.pushButtons.updateModificationButtons(this.selectionModel.relation),propergate(this.buttonEnableStates,this.buttonTransitStates,this.pushButtons)}};

},{}],173:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor(t){this._editor=t,this._states={}}set(t,e){this._states[t]=e}propagate(){this._editor.eventEmitter.emit("textae.control.buttons.transit",this._states)}};

},{}],174:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor(t,e){this._editor=t,this.name=e,this.state=!1}value(t){return void 0===t?this.state:(this.state=t,this.propagate(),null)}toggle(){this.state=!this.state,this.propagate()}propagate(){this._editor.eventEmitter.emit("textae.control.button.push",{buttonName:this.name,state:this.state})}};

},{}],175:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Button=require("./Button"),_Button2=_interopRequireDefault(_Button),_propagateStateOf=require("./propagateStateOf"),_propagateStateOf2=_interopRequireDefault(_propagateStateOf),_updateModificationButton=require("./updateModificationButton"),_updateModificationButton2=_interopRequireDefault(_updateModificationButton);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const list=["view","term","relation","simple","boundary-detection","negation","replicate-auto","speculation"];exports.default=class{constructor(t,e){this._editor=t,this._buttonMap=list.reduce((e,a)=>(e.set(a,new _Button2.default(t,a)),e),new Map),this._annotationData=e,this._buttonMap.get("boundary-detection").value(!0)}propagate(){(0,_propagateStateOf2.default)(this._editor.eventEmitter,this._buttonMap)}getButton(t){return this._buttonMap.get(t)}updateModificationButtons(t){const e=t.all.map(t=>this._annotationData.getModificationOf(t.id).map(t=>t.pred));(0,_updateModificationButton2.default)(this,"Negation",e),(0,_updateModificationButton2.default)(this,"Speculation",e)}};

},{"./Button":174,"./propagateStateOf":176,"./updateModificationButton":179}],176:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){for(const o of e.values())t.emit("textae.control.button.push",(0,_toData2.default)(o))};var _toData=require("./toData"),_toData2=_interopRequireDefault(_toData);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./toData":177}],177:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return{buttonName:e.name,state:e.value()}};

},{}],178:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return 0!==t.length&&t.length===t.filter(t=>t.includes(e)).length};

},{}],179:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,i,o){e.getButton(i.toLowerCase()).value((0,_doesAllModificaionHasSpecified2.default)(i,o))};var _doesAllModificaionHasSpecified=require("./doesAllModificaionHasSpecified"),_doesAllModificaionHasSpecified2=_interopRequireDefault(_doesAllModificaionHasSpecified);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./doesAllModificaionHasSpecified":178}],180:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _PushButtons=require("./PushButtons"),_PushButtons2=_interopRequireDefault(_PushButtons),_ButtonEnableStates=require("./ButtonEnableStates"),_ButtonEnableStates2=_interopRequireDefault(_ButtonEnableStates),_ButtonTransitStates=require("./ButtonTransitStates"),_ButtonTransitStates2=_interopRequireDefault(_ButtonTransitStates),_ButtonStateHelper=require("./ButtonStateHelper"),_ButtonStateHelper2=_interopRequireDefault(_ButtonStateHelper),_setButtonState=require("./setButtonState"),_setButtonState2=_interopRequireDefault(_setButtonState);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e,u,n){this._pushButtons=new _PushButtons2.default(t,e);const s=new _ButtonEnableStates2.default(t,u,n),a=new _ButtonTransitStates2.default(t);this._buttonStateHelper=new _ButtonStateHelper2.default(s,a,this._pushButtons,u)}get pushButtons(){return this._pushButtons}get buttonStateHelper(){return this._buttonStateHelper}setButtonState(t,e){(0,_setButtonState2.default)(this,t,e)}};

},{"./ButtonEnableStates":171,"./ButtonStateHelper":172,"./ButtonTransitStates":173,"./PushButtons":175,"./setButtonState":181}],181:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){e.pushButtons.getButton("view").value((0,_isView2.default)(t)),e.pushButtons.getButton("term").value((0,_isTerm2.default)(t,i)),e.pushButtons.getButton("relation").value((0,_isRelation2.default)(i)),e.pushButtons.getButton("simple").value((0,_isSimple2.default)(i)),e.buttonStateHelper.enabled("simple",!(0,_isRelation2.default)(i)),e.buttonStateHelper.enabled("replicate-auto",(0,_isSpanEdit2.default)(t,i)),e.buttonStateHelper.enabled("boundary-detection",(0,_isSpanEdit2.default)(t,i)),e.buttonStateHelper.enabled("line-height",t),e.buttonStateHelper.enabled("pallet",!(0,_isView2.default)(t))};var _isView=require("./isView"),_isView2=_interopRequireDefault(_isView),_isTerm=require("./isTerm"),_isTerm2=_interopRequireDefault(_isTerm),_isRelation=require("./isRelation"),_isRelation2=_interopRequireDefault(_isRelation),_isSimple=require("./isSimple"),_isSimple2=_interopRequireDefault(_isSimple),_isSpanEdit=require("./isSpanEdit"),_isSpanEdit2=_interopRequireDefault(_isSpanEdit);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isRelation":182,"./isSimple":183,"./isSpanEdit":184,"./isTerm":185,"./isView":186}],182:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return"relation"===e};

},{}],183:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return"term"===e};

},{}],184:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e&&"relation"!==t};

},{}],185:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e&&("term"===t||"instance"===t)};

},{}],186:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return!e};

},{}],187:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){t[0].appendChild(e.el),t.eventEmitter.on("textae.control.button.push",t=>e.updateButtonPushState(t.buttonName,t.state)).on("textae.control.buttons.change",t=>e.updateAllButtonEnableState(t)).on("textae.editor.key.input",()=>e.hide()),window.addEventListener("click",t=>{3!==t.which&&e.hide()}),window.addEventListener("contextmenu",n=>{e.hide();const o=n.target.closest(".textae-editor");o===t[0]&&o.classList.contains("textae-editor--editable")&&(n.preventDefault(),e.show(n.pageY-t[0].offsetTop,n.pageX))})};

},{}],188:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){t[0].insertBefore(e.el,t[0].childNodes[0]),(0,_stickInParent2.default)(e.el),t.eventEmitter.on("textae.control.button.push",t=>e.updateButtonPushState(t.buttonName,t.state)).on("textae.control.buttons.change",t=>e.updateAllButtonEnableState(t)).on("textae.control.buttons.transit",t=>e.transitButtonImage(t))};var _stickInParent=require("./stickInParent"),_stickInParent2=_interopRequireDefault(_stickInParent);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./stickInParent":190}],189:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n){(0,_bindControlBar2.default)(e,t),(0,_bindContextMenu2.default)(e,n),e.eventEmitter.on("textae.control.button.click",t=>e.api.handleButtonClick(t)),e.api.updateButtons()};var _bindControlBar=require("./bindControlBar"),_bindControlBar2=_interopRequireDefault(_bindControlBar),_bindContextMenu=require("./bindContextMenu"),_bindContextMenu2=_interopRequireDefault(_bindContextMenu);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./bindContextMenu":187,"./bindControlBar":188}],190:[function(require,module,exports){
(function (global){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){extendedJQuery(e).stick_in_parent()},require("jquery"),require("sticky-kit");const extendedJQuery=global.jQuery.noConflict(!0);

}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"jquery":116,"sticky-kit":158}],191:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createContentHtml;var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n<div class="textae-editor__create-attribute-definition-dialog__container">\n  <div class="textae-editor__create-attribute-definition-dialog__row">\n    <label>Attribute type:</label>\n    <select class="textae-editor__create-attribute-definition-dialog__value-type">\n      <option value="flag"{{#if flagSelected}} selected{{/if}}>flag</option>\n      <option value="selection"{{#if selectionSelected}} selected{{/if}}>selection</option>\n      <option value="string"{{#if stringSelected}} selected{{/if}}>string</option>\n      <option value="numeric"{{#if numericSelected}} selected{{/if}}>numeric</option>\n    </select>\n  </div>\n  <div class="textae-editor__create-attribute-definition-dialog__row">\n    <div class="textae-editor__create-attribute-definition-dialog__pred">\n      <label>Predicate:</label><br>\n      <input value="{{pred}}">\n    </div>\n    {{#if showDefault}}\n      <div class="textae-editor__create-attribute-definition-dialog__default">\n        <label>Default:</label><br>\n        <input value="{{default}}">\n      </div>\n    {{/if}}\n  </div>\n  {{#if showNumeric}}\n    <div class="textae-editor__create-attribute-definition-dialog__row">\n      <div class="textae-editor__create-attribute-definition-dialog__min">\n        <label>Min:</label><br>\n        <input type="text" value="{{min}}">\n      </div>\n      <div class="textae-editor__create-attribute-definition-dialog__max">\n        <label>Max:</label><br>\n        <input type="text" value="{{max}}">\n      </div>\n      <div class="textae-editor__create-attribute-definition-dialog__step">\n        <label>Step:</label><br>\n        <input type="text" value="{{step}}">\n      </div>\n    </div>\n  {{/if}}\n</div>',template=_handlebars2.default.compile(source);function createContentHtml(e){return template(e)}

},{"handlebars":88}],192:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_getInputElementValue=require("../getInputElementValue"),_getInputElementValue2=_interopRequireDefault(_getInputElementValue);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor(){super("Please enter new attribute definition",(0,_createContentHtml2.default)({}),{},".textae-editor__create-attribute-definition-dialog__pred",()=>{const e=super.el.querySelector(".textae-editor__create-attribute-definition-dialog__value-type").value,t=(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__pred"),a=(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__default"),i=(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__min"),l=(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__max"),r=(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__step");return"numeric"===e?{"value type":e,pred:t,default:parseFloat(a),min:parseFloat(i),max:parseFloat(l),step:parseFloat(r)}:{"value type":e,pred:t,default:a,min:i,max:l,step:r}}),(0,_delegate2.default)(super.el,".textae-editor__create-attribute-definition-dialog__value-type","change",e=>{const t=e.target.value,a={pred:(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__pred"),default:(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__default"),min:(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__min"),max:(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__max"),step:(0,_getInputElementValue2.default)(super.el,".textae-editor__create-attribute-definition-dialog__step"),showDefault:"numeric"===t||"string"===t,showNumeric:"numeric"===t};a[`${t}Selected`]=!0;const i=(0,_createContentHtml2.default)(a);super.el.closest(".ui-dialog-content").innerHTML=i})}};

},{"../PromiseDialog":254,"../getInputElementValue":285,"./createContentHtml":191,"delegate":50}],193:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _TypeDefinitionDialog=require("./TypeDefinitionDialog"),_TypeDefinitionDialog2=_interopRequireDefault(_TypeDefinitionDialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _TypeDefinitionDialog2.default{constructor(e,i){super("Please create a new type",{id:null,label:"",color:e.defaultColor,isDefault:!1},e,i,(e,i,t,l)=>{if(""===e)return;const o={id:e,color:t};return""!==i&&(o.label=i),l&&(o.default=l),{newType:o}})}};

},{"./TypeDefinitionDialog":277}],194:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _post=require("./post"),_post2=_interopRequireDefault(_post),_patch=require("./patch"),_patch2=_interopRequireDefault(_patch);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i){this.beforeSend=e,this.failHandler=t,this.finishHandler=i}post(e,t,i){(0,_post2.default)(e,t,this.beforeSend,i,this.failHandler,this.finishHandler)}patch(e,t,i){(0,_patch2.default)(e,t,this.beforeSend,i,this.failHandler,this.finishHandler)}};

},{"./patch":195,"./post":196}],195:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,u,i,s){if((0,_isEmptyString2.default)(e))return;r(),console.log("PATCH data",t),(0,_requestAjax2.default)("patch",e,t,u,()=>(0,_post2.default)(e,t,r,u,i,s),s)};var _isEmptyString=require("../../../util/isEmptyString"),_isEmptyString2=_interopRequireDefault(_isEmptyString),_post=require("./post"),_post2=_interopRequireDefault(_post),_requestAjax=require("./requestAjax"),_requestAjax2=_interopRequireDefault(_requestAjax);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../util/isEmptyString":830,"./post":196,"./requestAjax":197}],196:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,u,i,s){(0,_isEmptyString2.default)(e)||(r(),console.log("POST data",t),(0,_requestAjax2.default)("post",e,t,u,i,s))};var _isEmptyString=require("../../../util/isEmptyString"),_isEmptyString2=_interopRequireDefault(_isEmptyString),_requestAjax=require("./requestAjax"),_requestAjax2=_interopRequireDefault(_requestAjax);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../util/isEmptyString":830,"./requestAjax":197}],197:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t,u,a,n){const l={type:e,url:r,contentType:"application/json",data:t,crossDomain:!0,xhrFields:{withCredentials:!0}};_jquery2.default.ajax(l).done(u).fail(e=>(0,_serverAuthHandler2.default)(e,a)).always(n)};var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_serverAuthHandler=require("./serverAuthHandler"),_serverAuthHandler2=_interopRequireDefault(_serverAuthHandler);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./serverAuthHandler":198,"jquery":116}],198:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o){const i=(0,_isSeverAuthRequired2.default)(e);if(i){const e=(0,_CookieHandler2.default)().get("hide-message-box");if(""===e||"false"===e){new _LoginInfoDialog2.default(i).open()}else(0,_openPopUp2.default)(i)}else o()};var _CookieHandler=require("../../../../../util/CookieHandler"),_CookieHandler2=_interopRequireDefault(_CookieHandler),_LoginInfoDialog=require("../../../../LoginInfoDialog"),_LoginInfoDialog2=_interopRequireDefault(_LoginInfoDialog),_openPopUp=require("./openPopUp"),_openPopUp2=_interopRequireDefault(_openPopUp),_isSeverAuthRequired=require("./isSeverAuthRequired"),_isSeverAuthRequired2=_interopRequireDefault(_isSeverAuthRequired);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../util/CookieHandler":826,"../../../../LoginInfoDialog":243,"./isSeverAuthRequired":199,"./openPopUp":200}],199:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=e.status,s=e.getResponseHeader("WWW-Authenticate"),r=e.getResponseHeader("Location");return 401===t&&s&&"ServerPage"===s&&r?r:null};

},{}],200:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){window.open(e,"_blank","width=600, height=500")};

},{}],201:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=new Blob([e],{type:"application/json"});return URL.createObjectURL(t)};

},{}],202:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t,a){r(),(0,_ajaxAccessor2.default)(e,r=>{const u=_url2.default.resolve(location.href,e);t({source:`<a class="textae-editor__footer__message__link" href="${u}">${decodeURI(u)}</a>`,loadData:r}),a()},()=>{a(),_alertifyjs2.default.error("Could not load the target.")})};var _url=require("url"),_url2=_interopRequireDefault(_url),_ajaxAccessor=require("../../util/ajaxAccessor"),_ajaxAccessor2=_interopRequireDefault(_ajaxAccessor),_alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../util/ajaxAccessor":829,"alertifyjs":44,"url":161}],203:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,a,t){console.assert(["annotation","config"].includes(a),`Cannot read data type of ${a}`);const o=e.files[0],n=new FileReader;n.onload=function(){const e={annotation:null,config:null,source:`${o.name}(local file)`};e[a]=(0,_loadData2.default)(this.result,o.name),t(e)},n.readAsText(o)};var _loadData=require("./loadData"),_loadData2=_interopRequireDefault(_loadData);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./loadData":206}],204:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if("string"!=typeof e)return!1;try{JSON.parse(e)}catch(e){return!1}return!0};

},{}],205:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return".txt"===_path2.default.extname(e)};var _path=require("path"),_path2=_interopRequireDefault(_path);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"path":142}],206:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,i){return(0,_isJSON2.default)(e)?JSON.parse(e):(0,_isTxtFile2.default)(i)?{text:e}:null};var _isJSON=require("./isJSON"),_isJSON2=_interopRequireDefault(_isJSON),_isTxtFile=require("./isTxtFile"),_isTxtFile2=_interopRequireDefault(_isTxtFile);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isJSON":204,"./isTxtFile":205}],207:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CursorChanger=require("../../util/CursorChanger"),_CursorChanger2=_interopRequireDefault(_CursorChanger),_LoadDialog=require("../LoadDialog"),_LoadDialog2=_interopRequireDefault(_LoadDialog),_getFromServer=require("./getFromServer"),_getFromServer2=_interopRequireDefault(_getFromServer),_getJsonFromFile=require("./getJsonFromFile"),_getJsonFromFile2=_interopRequireDefault(_getJsonFromFile),_SaveAnnotationDialog=require("../SaveAnnotationDialog"),_SaveAnnotationDialog2=_interopRequireDefault(_SaveAnnotationDialog),_SaveConfigurationDialog=require("../SaveConfigurationDialog"),_SaveConfigurationDialog2=_interopRequireDefault(_SaveConfigurationDialog),_AjaxSender=require("./AjaxSender"),_AjaxSender2=_interopRequireDefault(_AjaxSender),_toLoadEvent=require("./toLoadEvent"),_toLoadEvent2=_interopRequireDefault(_toLoadEvent);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e){this._editor=e,this.urlOfLastRead={annotation:"",config:""},this.cursorChanger=new _CursorChanger2.default(e),this.load=((e,t)=>(0,_getFromServer2.default)(t,()=>this.cursorChanger.startWait(),({source:a,loadData:o})=>{const i={source:a};i[e]=o,this._editor.eventEmitter.emit((0,_toLoadEvent2.default)(e),i),this.urlOfLastRead[e]=t},()=>this.cursorChanger.endWait())),this.read=((e,t)=>(0,_getJsonFromFile2.default)(t,e,t=>this._editor.eventEmitter.emit((0,_toLoadEvent2.default)(e),t))),this.ajaxSender=new _AjaxSender2.default(()=>this.cursorChanger.startWait(),()=>this._editor.eventEmitter.emit("textae.dataAccessObject.saveError"),()=>this.cursorChanger.endWait()),e.eventEmitter.on("textae.saveAnnotationDialog.url.click",(e,t)=>this.ajaxSender.post(e,t,()=>this._editor.eventEmitter.emit("textae.dataAccessObject.annotation.save"))).on("textae.saveAnnotationDialog.download.click",()=>this._editor.eventEmitter.emit("textae.dataAccessObject.annotation.save")).on("textae.saveAnnotationDialog.viewsource.click",()=>this._editor.eventEmitter.emit("textae.dataAccessObject.annotation.save")).on("textae.saveConfigurationDialog.url.click",(e,t)=>{this.ajaxSender.patch(e,t,()=>this._editor.eventEmitter.emit("textae.dataAccessObject.configuration.save"))}).on("textae.saveConfigurationDialog.download.click",()=>this._editor.eventEmitter.emit("textae.dataAccessObject.configuration.save"))}getAnnotationFromServer(e){this.load("annotation",e)}getConfigurationFromServer(e){this.load("config",e)}showAccessAnno(e){new _LoadDialog2.default("Load Annotations",this.urlOfLastRead.annotation,e=>this.load("annotation",e),e=>this.read("annotation",e),e).open()}showAccessConf(e){new _LoadDialog2.default("Load Configurations",this.urlOfLastRead.config,e=>this.load("config",e),e=>this.read("config",e),e).open()}showSaveAnno(e,t=null){new _SaveAnnotationDialog2.default(this._editor,t||this.urlOfLastRead.annotation,e).open()}showSaveConf(e,t){new _SaveConfigurationDialog2.default(this._editor,this.urlOfLastRead.config,e,t).open()}};

},{"../../util/CursorChanger":828,"../LoadDialog":240,"../SaveAnnotationDialog":259,"../SaveConfigurationDialog":262,"./AjaxSender":194,"./getFromServer":202,"./getJsonFromFile":203,"./toLoadEvent":208}],208:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return`textae.dataAccessObject.${(0,_typeToMoreDetail2.default)(e)}.load`};var _typeToMoreDetail=require("./typeToMoreDetail"),_typeToMoreDetail2=_interopRequireDefault(_typeToMoreDetail);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./typeToMoreDetail":209}],209:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){switch(t){case"annotation":return"annotation";case"config":return"configuration";default:throw"unknow type!"}};

},{}],210:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const n=document.createElement("div");return n.title=e,n.innerHTML=t,n};

},{}],211:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery);require("jquery-ui/ui/widgets/dialog");var _createElement=require("./createElement"),_createElement2=_interopRequireDefault(_createElement);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i,l){this._el=new _createElement2.default(e,t),this._$dialog=(0,_jquery2.default)(this._el),this._$dialog.on("dialogclose",()=>{requestAnimationFrame(()=>this._$dialog.dialog("destroy"))}),i&&(l=l||{},Object.assign(l,{buttons:[{text:i.label,class:i.class,click:()=>{i.handler&&i.handler(this),this._$dialog.dialog("close")}}]})),this._option=l}get el(){return this._el}open(){this._$dialog.dialog(Object.assign({dialogClass:"textae-editor--dialog",height:"auto",modal:!0,resizable:!1,width:550},this._option))}close(){this._$dialog.dialog("close")}};

},{"./createElement":210,"jquery":116,"jquery-ui/ui/widgets/dialog":111}],212:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createContentHtml;var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n<div class="textae-editor__edit-attribute-definition-dialog__container">\n  <div class="textae-editor__edit-attribute-definition-dialog__row">\n    <div class="textae-editor__edit-attribute-definition-dialog__pred">\n      <label>Predicate:</label><br>\n      <input value="{{pred}}">\n    </div>\n    {{#if showDefault}}\n      <div class="textae-editor__edit-attribute-definition-dialog__default">\n        <label>Default:</label><br>\n        <input value="{{default}}">\n      </div>\n    {{/if}}\n  </div>\n  {{#if showNumeric}}\n    <div class="textae-editor__edit-attribute-definition-dialog__row">\n      <div class="textae-editor__edit-attribute-definition-dialog__min">\n        <label>Min:</label><br>\n        <input type="text" value="{{min}}">\n      </div>\n      <div class="textae-editor__edit-attribute-definition-dialog__max">\n        <label>Max:</label><br>\n        <input type="text" value="{{max}}">\n      </div>\n      <div class="textae-editor__edit-attribute-definition-dialog__step">\n        <label>Step:</label><br>\n        <input type="text" value="{{step}}">\n      </div>\n    </div>\n  {{/if}}\n</div>',template=_handlebars2.default.compile(source);function createContentHtml(e){return template(e)}

},{"handlebars":88}],213:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_getInputElementValue=require("../getInputElementValue"),_getInputElementValue2=_interopRequireDefault(_getInputElementValue),_isChanged=require("./isChanged"),_isChanged2=_interopRequireDefault(_isChanged);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor(e){const t=e.JSON;super("Please enter new values",(0,_createContentHtml2.default)({pred:t.pred,default:t.default,min:t.min,max:t.max,step:t.step,showDefault:"numeric"===e.valueType||"string"===e.valueType,showNumeric:"numeric"===e.valueType}),{},".textae-editor__edit-attribute-definition-dialog__pred",()=>{const a=(0,_getInputElementValue2.default)(super.el,".textae-editor__edit-attribute-definition-dialog__pred"),i=(0,_getInputElementValue2.default)(super.el,".textae-editor__edit-attribute-definition-dialog__default"),u=(0,_getInputElementValue2.default)(super.el,".textae-editor__edit-attribute-definition-dialog__min"),l=(0,_getInputElementValue2.default)(super.el,".textae-editor__edit-attribute-definition-dialog__max"),n=(0,_getInputElementValue2.default)(super.el,".textae-editor__edit-attribute-definition-dialog__step"),r=new Map;return t.pred!==a&&r.set("pred",a),"string"===e.valueType&&t.default!==i&&r.set("default",i),"numeric"===e.valueType&&((0,_isChanged2.default)(t.default,i)&&r.set("default",parseFloat(i)),(0,_isChanged2.default)(t.min,u)&&r.set("min",parseFloat(u)),(0,_isChanged2.default)(t.max,l)&&r.set("max",parseFloat(l)),(0,_isChanged2.default)(t.step,n)&&r.set("step",parseFloat(n))),r})}};

},{"../PromiseDialog":254,"../getInputElementValue":285,"./createContentHtml":212,"./isChanged":214}],214:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return!Number.isNaN(parseFloat(t))&&e!==parseFloat(t)};

},{}],215:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,u){(0,_observeRemoveAttributeButton2.default)(u)};var _observeRemoveAttributeButton=require("./observeRemoveAttributeButton"),_observeRemoveAttributeButton2=_interopRequireDefault(_observeRemoveAttributeButton);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./observeRemoveAttributeButton":216}],216:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){(0,_delegate2.default)(e,".textae-editor__edit-type-dialog__attribute__remove__value","click",e=>{const t=e.target.closest(".textae-editor__edit-type-dialog__attribute");t.parentElement.removeChild(t)})};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"delegate":50}],217:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return(0,_tepmlate.wholeTemplate)(e)};var _tepmlate=require("./tepmlate");

},{"./tepmlate":219}],218:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const html='\n<div class="textae-editor__edit-type-dialog__attribute">\n<div class="textae-editor__edit-type-dialog__attribute__predicate">\n  <label>Predicate:</label><br>\n  <input class="textae-editor__edit-type-dialog__attribute__predicate__value" value="{{this.pred}}" disabled="disabled">\n</div>\n<div class="textae-editor__edit-type-dialog__attribute__value">\n  <label>Value:</label><br>\n  <input class="textae-editor__edit-type-dialog__attribute__value__value" value="{{this.obj}}" disabled="disabled">\n</div>\n<div class="textae-editor__edit-type-dialog__attribute__edit">\n  <button type="button" class="ui-button ui-corner-all textae-editor__edit-type-dialog__attribute__edit__value" data-predicate="{{this.pred}}"{{#if this.editDisabled}} disabled="disabled"{{/if}}>edit</button>\n</div>\n<div class="textae-editor__edit-type-dialog__attribute__remove">\n  <button type="button" class="ui-button ui-corner-all textae-editor__edit-type-dialog__attribute__remove__value">remove</button>\n</div>\n</div>';exports.default=html;

},{}],219:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.attributeTemplate=exports.wholeTemplate=void 0;var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars),_wholeHtml=require("./wholeHtml"),_wholeHtml2=_interopRequireDefault(_wholeHtml),_attributePartialHtml=require("./attributePartialHtml"),_attributePartialHtml2=_interopRequireDefault(_attributePartialHtml);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}_handlebars2.default.registerPartial("attributePartialTemplate",_attributePartialHtml2.default);const wholeTemplate=exports.wholeTemplate=_handlebars2.default.compile(_wholeHtml2.default),attributeTemplate=exports.attributeTemplate=_handlebars2.default.compile("\n{{> attributePartialTemplate}}\n");

},{"./attributePartialHtml":218,"./wholeHtml":220,"handlebars":88}],220:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const html='\n<div class="textae-editor__edit-type-dialog__container">\n  <div class="textae-editor__edit-type-dialog__type">\n    <div class="textae-editor__edit-type-dialog__type__predicate">\n      <label>Predicate:</label><br>\n      <span class="textae-editor__edit-type-dialog__type__predicate__value">type</span>\n    </div>\n    <div class="textae-editor__edit-type-dialog__type__value ui-front">\n      <label>Value:</label><br>\n      <input class="textae-editor__edit-type-dialog__type__value__value" value="{{value}}">\n    </div>\n    <div class="textae-editor__edit-type-dialog__type__label">\n      <label>Label:</label><br>\n      <span class="textae-editor__edit-type-dialog__type__label__value">{{label}}</span>\n    </div>\n  </div>\n  <div class="textae-editor__edit-type-dialog__attributes">\n    {{#each attributes}}\n    {{> attributePartialTemplate}}\n    {{/each}}\n  </div>\n</div>';exports.default=html;

},{}],221:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=e.querySelector(".textae-editor__edit-type-dialog__type__value__value").value,_=e.querySelector(".textae-editor__edit-type-dialog__type__label__value").innerHTML,r=[];for(const t of e.querySelectorAll(".textae-editor__edit-type-dialog__attribute"))r.push({pred:t.querySelector(".textae-editor__edit-type-dialog__attribute__predicate__value").value,obj:t.querySelector(".textae-editor__edit-type-dialog__attribute__value__value").value});return{typeName:t,label:_,attributes:r}};

},{}],222:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_getValues=require("./getValues"),_getValues2=_interopRequireDefault(_getValues),_bind=require("./bind"),_bind2=_interopRequireDefault(_bind),_setSourceOfAutoComplete=require("../setSourceOfAutoComplete"),_setSourceOfAutoComplete2=_interopRequireDefault(_setSourceOfAutoComplete);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor(e,t,r,a){super("Please edit type and attributes",(0,_createContentHtml2.default)({value:t.name,label:r.getLabel(t.name),attributes:t.attributes.map(e=>({pred:e.pred,obj:e.obj,editDisabled:!0===e.obj}))}),{minHeight:300,width:800},".textae-editor__edit-type-dialog__type__value__value",()=>(0,_getValues2.default)(super.el),"textae-editor__edit-type-dialog__ok-button"),(0,_bind2.default)(e,r,super.el),(0,_delegate2.default)(super.el,".textae-editor__edit-type-dialog__attribute__edit__value","click",t=>{super.close();const a=t.target.dataset.predicate,l=r.findAttribute(a);e.eventEmitter.emit("textae.entityPallet.attribute.object.edit",l)});const l=super.el.querySelector(".textae-editor__edit-type-dialog__type__value__value"),i=super.el.querySelector(".textae-editor__edit-type-dialog__type__label__value");(0,_setSourceOfAutoComplete2.default)(l,i,a,e=>r.findByLabel(e))}};

},{"../PromiseDialog":254,"../setSourceOfAutoComplete":288,"./bind":215,"./createContentHtml":217,"./getValues":221,"delegate":50}],223:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createContentHtml;var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n<div class="textae-editor__edit-value-and-pred-dialog__container">\n  <div class="textae-editor__edit-value-and-pred-dialog__input-box">\n    <label>Predicate:</label><br>\n    <input class="textae-editor__edit-value-and-pred-dialog--predicate" value="{{pred}}" disabled="disabled">\n  </div>\n  <div class="textae-editor__edit-value-and-pred-dialog__input-box ui-front">\n    <label class="textae-editor__edit-value-and-pred-dialog--label">Object:</label><br>\n    <input class="textae-editor__edit-value-and-pred-dialog--value" type="number" min="{{min}}" max="{{max}}" step="{{step}}" value="{{value}}">\n  </div>\n</div>',template=_handlebars2.default.compile(source);function createContentHtml(e){return template(e)}

},{"handlebars":88}],224:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor(e,t){super("Please edit number",(0,_createContentHtml2.default)({pred:t.pred,value:t.obj,min:e.min,max:e.max,step:e.step}),{},".textae-editor__edit-value-and-pred-dialog--value",()=>{const e=super.el.querySelector(".textae-editor__edit-value-and-pred-dialog--value");return{newObj:parseFloat(e.value)}})}};

},{"../PromiseDialog":254,"./createContentHtml":223}],225:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createContentHtml;var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n<div class="textae-editor__edit-value-and-pred-dialog__container">\n  <div class="textae-editor__edit-value-and-pred-dialog__input-box">\n    <label>Predicate:</label><br>\n    <input class="textae-editor__edit-value-and-pred-dialog--predicate" value="type" disabled="disabled">\n  </div>\n  <div class="textae-editor__edit-value-and-pred-dialog__input-box ui-front">\n    <label class="textae-editor__edit-value-and-pred-dialog--label">Value:<span>{{label}}</span></label><br>\n    <input class="textae-editor__edit-value-and-pred-dialog--value" value="{{value}}">\n  </div>\n</div>',template=_handlebars2.default.compile(source);function createContentHtml(e){return template(e)}

},{"handlebars":88}],226:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_setSourceOfAutoComplete=require("../setSourceOfAutoComplete"),_setSourceOfAutoComplete2=_interopRequireDefault(_setSourceOfAutoComplete);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor({name:e},t,r){super("Please enter new values",(0,_createContentHtml2.default)({value:e,label:t.getLabel(e)}),{height:250},".textae-editor__edit-value-and-pred-dialog--value",()=>{const e=super.el.querySelector(".textae-editor__edit-value-and-pred-dialog--value"),t=super.el.querySelector("span");return{value:e.value,label:t.innerText}});const l=super.el.querySelector(".textae-editor__edit-value-and-pred-dialog--value"),o=super.el.querySelector(".textae-editor__edit-value-and-pred-dialog--label span");(0,_setSourceOfAutoComplete2.default)(l,o,r,e=>t.findByLabel(e))}};

},{"../PromiseDialog":254,"../setSourceOfAutoComplete":288,"./createContentHtml":225}],227:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createContentHtml;var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n<div class="textae-editor__edit-value-and-pred-dialog__container">\n  <div class="textae-editor__edit-value-and-pred-dialog__input-box">\n    <label>Predicate:</label><br>\n    <input class="textae-editor__edit-value-and-pred-dialog--predicate" value="{{pred}}" disabled="disabled">\n  </div>\n  <div class="textae-editor__edit-value-and-pred-dialog__input-box ui-front">\n    <label class="textae-editor__edit-value-and-pred-dialog--label">Object:</label><span></span><br>\n    <input class="textae-editor__edit-value-and-pred-dialog--value" value="{{value}}">\n  </div>\n</div>',template=_handlebars2.default.compile(source);function createContentHtml(e){return template(e)}

},{"handlebars":88}],228:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_setSourceOfAutoComplete=require("../setSourceOfAutoComplete"),_setSourceOfAutoComplete2=_interopRequireDefault(_setSourceOfAutoComplete);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor(e,t){super("Please edit string",(0,_createContentHtml2.default)({pred:e.pred,value:e.obj}),{height:250},".textae-editor__edit-value-and-pred-dialog--value",()=>{return{newObj:super.el.querySelector(".textae-editor__edit-value-and-pred-dialog--value").value,newLabel:super.el.querySelector("span").innerText}}),(0,_setSourceOfAutoComplete2.default)(super.el.querySelector(".textae-editor__edit-value-and-pred-dialog--value"),super.el.querySelector("span"),t.autocompletionWs,()=>[])}};

},{"../PromiseDialog":254,"../setSourceOfAutoComplete":288,"./createContentHtml":227}],229:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(l,e){const t=new Map;return l.id!==e.id&&t.set("id",e.id),l.label!==e.label&&t.set("label",""===e.label?null:e.label),l.color!==e.color&&t.set("color",""===e.color?null:e.color),l.isDefault!==e.isDefault&&t.set("default",!!e.isDefault||null),t};

},{}],230:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _TypeDefinitionDialog=require("../TypeDefinitionDialog"),_TypeDefinitionDialog2=_interopRequireDefault(_TypeDefinitionDialog),_getDifference=require("./getDifference"),_getDifference2=_interopRequireDefault(_getDifference);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _TypeDefinitionDialog2.default{constructor(e,i,t,r,n){const o=e.getLabel(i)||"",f={id:i,label:o,color:t,isDefault:r};super("Please edit the type",f,e,n,(e,t,r,n)=>{const o={id:e,label:t,color:r,isDefault:n},l=(0,_getDifference2.default)(f,o);return{id:i,changedProperties:l}})}};

},{"../TypeDefinitionDialog":277,"./getDifference":229}],231:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createContentHtml;var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n<div class="textae-editor__add-value-to-attribute-dialog__container">\n  <div class="textae-editor__add-value-to-attribute-dialog__row">\n    <div class="textae-editor__add-value-to-attribute-dialog__range_or_id_or_pattern">\n      <label>{{labelForRangeOrIdOrPattern}}:</label><br>\n      <input value="{{rangeOrIdOrPattern}}">\n    </div>\n    {{#if showDefault}}\n    <div class="textae-editor__add-value-to-attribute-dialog__default">\n      <label>default:</label><br>\n      <input type="checkbox" {{#if default}}checked="checked"{{/if}}>\n    </div>\n    {{/if}}\n    <div class="textae-editor__add-value-to-attribute-dialog__label">\n      <label>label:</label><br>\n      <input value="{{label}}">\n    </div>\n    <div class="textae-editor__add-value-to-attribute-dialog__color">\n      <label>color:</label><br>\n      <input value="{{color}}">\n    </div>\n  </div>\n</div>',template=_handlebars2.default.compile(source);function createContentHtml(e){return template(e)}

},{"handlebars":88}],232:[function(require,module,exports){
"use strict";function getOkButton(t){return t.closest(".ui-dialog").querySelector(".textae-editor__add-value-to-attribute-dialog__ok-button")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getOkButton=getOkButton;

},{}],233:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_getInputElementValue=require("../getInputElementValue"),_getInputElementValue2=_interopRequireDefault(_getInputElementValue),_IntervalNotation=require("../../IntervalNotation"),_IntervalNotation2=_interopRequireDefault(_IntervalNotation),_getOkButton=require("./getOkButton");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor(e,t={}){const r={label:t.label,color:t.color};switch(e){case"numeric":r.labelForRangeOrIdOrPattern="range",r.rangeOrIdOrPattern=t.range;break;case"selection":r.labelForRangeOrIdOrPattern="id",r.rangeOrIdOrPattern=t.id,r.showDefault=!0,r.default=t.default;break;case"string":r.labelForRangeOrIdOrPattern="pattern",r.rangeOrIdOrPattern=t.pattern;break;default:throw new Error(`${e} is Uknown Attribute`)}super("Please enter new values",(0,_createContentHtml2.default)(r),{},".textae-editor__add-value-to-attribute-dialog__range_or_id_or_pattern",()=>{const t=(0,_getInputElementValue2.default)(super.el,".textae-editor__add-value-to-attribute-dialog__range_or_id_or_pattern"),r=(0,_getInputElementValue2.default)(super.el,".textae-editor__add-value-to-attribute-dialog__label"),a=(0,_getInputElementValue2.default)(super.el,".textae-editor__add-value-to-attribute-dialog__color"),l={};switch(r&&(l.label=r),a&&(l.color=a),e){case"numeric":l.range=t;break;case"selection":l.id=t,l.default=super.el.querySelector(".textae-editor__add-value-to-attribute-dialog__default input").checked;break;case"string":l.pattern=t}return l},"textae-editor__add-value-to-attribute-dialog__ok-button"),"numeric"===e&&super.el.querySelector(".textae-editor__add-value-to-attribute-dialog__range_or_id_or_pattern").addEventListener("input",e=>{const t=e.target.value;try{new _IntervalNotation2.default(t),(0,_getOkButton.getOkButton)(super.el).removeAttribute("disabled")}catch(e){(0,_getOkButton.getOkButton)(super.el).setAttribute("disabled","disabled")}}),"string"===e&&super.el.querySelector(".textae-editor__add-value-to-attribute-dialog__range_or_id_or_pattern").addEventListener("input",e=>{const t=e.target.value;try{new RegExp(t),(0,_getOkButton.getOkButton)(super.el).removeAttribute("disabled")}catch(e){(0,_getOkButton.getOkButton)(super.el).setAttribute("disabled","disabled")}}),super.el.querySelector(".textae-editor__add-value-to-attribute-dialog__color").addEventListener("input",e=>{const t=e.target.value;!t||/^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$/.test(t)?(0,_getOkButton.getOkButton)(super.el).removeAttribute("disabled"):(0,_getOkButton.getOkButton)(super.el).setAttribute("disabled","disabled")})}};

},{"../../IntervalNotation":169,"../PromiseDialog":254,"../getInputElementValue":285,"./createContentHtml":231,"./getOkButton":232}],234:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,a){(0,_delegate2.default)(e,".textae-editor__type-pallet__attribute","click",e=>{t.showAttribute(e.target.dataset.attribute),e.stopPropagation()}),(0,_delegate2.default)(e,".textae-editor__type-pallet__create-predicate","click",()=>a.emit("textae.entityPallet.attribute.create-predicate-button.click")),(0,_delegate2.default)(e,".textae-editor__type-pallet__edit-predicate","click",()=>a.emit("textae.entityPallet.attribute.edit-predicate-button.click",t.attrDef)),(0,_delegate2.default)(e,".textae-editor__type-pallet__delete-predicate","click",()=>a.emit("textae.entityPallet.attribute.delete-predicate-button.click",t.attrDef)),(0,_delegate2.default)(e,".textae-editor__type-pallet__add-attribute-value-button","click",()=>a.emit("textae.entityPallet.attribute.add-value-button.click",t.attrDef)),(0,_delegate2.default)(e,".textae-editor__type-pallet__edit-value","click",e=>a.emit("textae.entityPallet.attribute.edit-value-button.click",t.attrDef,e.target.dataset.index)),(0,_delegate2.default)(e,".textae-editor__type-pallet__remove-value","click",e=>a.emit("textae.entityPallet.attribute.remove-value-button.click",t.attrDef,e.target.dataset.index)),(0,_delegate2.default)(e,".textae-editor__type-pallet__selection-attribute-label","click",e=>a.emit("textae.entityPallet.attribute.selection-attribute-label.click",t.attrDef,e.target.dataset.id)),(0,_delegate2.default)(e,".textae-editor__type-pallet__add-attribute","click",()=>a.emit("textae.entityPallet.attribute.add-button.click",t.attrDef)),(0,_delegate2.default)(e,".textae-editor__type-pallet__edit-object","click",()=>a.emit("textae.entityPallet.attribute.object.edit",t.attrDef)),(0,_delegate2.default)(e,".textae-editor__type-pallet__remove-attribute","click",()=>a.emit("textae.entityPallet.attribute.remove-button.click",t.attrDef))};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"delegate":50}],235:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return 1===e?"1 entity selected":e>1?`${e} entities selected`:""};

},{}],236:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,n,a){const l=t.attributes.length<30;if(n){const i=t.attributes.map(t=>({pred:t.pred,selectedPred:n===t.pred})),r=t.attributes.find(t=>t.pred===n),d={isLock:t.isLock,attributes:i,hasDiff:e,attrDef:Object.assign(r.JSON,{hasInstance:t.hasAttributeInstance(n)}),selectedPred:n,addAttribute:l,selectedEntityLabel:(0,_getSelectedEntityLabel2.default)(a.size),isEntityWithSamePredSelected:a.isSamePredAttrributeSelected(n)};switch(r.valueType){case"flag":return flagAttributeTemplate(d);case"numeric":return numericAttributeTemplate(Object.assign(d,{addAttributeValueButton:!0}));case"selection":for(const e of d.attrDef.values)e.useNumber=t.hasSelectionAtributeValueInstance(n,e.id);return selectionAttributeTemplate(Object.assign(d,{addAttributeValueButton:!0}));case"string":return stringAttributeTemplate(Object.assign(d,{addAttributeValueButton:!0}));default:throw"attrDef.valueType is unknown attribute"}}return typeTemplate({isLock:t.isLock,attributes:t.attributes,hasDiff:e,types:t.pallet,addAttribute:l,addTypeButton:!0,selectedEntityLabel:(0,_getSelectedEntityLabel2.default)(a.size)})};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars),_getSelectedEntityLabel=require("./getSelectedEntityLabel"),_getSelectedEntityLabel2=_interopRequireDefault(_getSelectedEntityLabel);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}_handlebars2.default.registerPartial("header",'\n  <div style="display: flex;">\n    <p class="textae-editor__type-pallet__title">\n      <span>Entity configuration</span>\n      <span class="textae-editor__type-pallet__lock-icon" style="display: {{#if isLock}}inline-block{{else}}none{{/if}};">locked</span>\n      <br>\n      <span class="textae-editor__type-pallet__selected-entity-label">{{selectedEntityLabel}}</span>\n    </p>\n    <p class="textae-editor__type-pallet__attribute {{#unless selectedPred}}textae-editor__type-pallet__attribute--selected{{/unless}}" data-attribute="">\n      Type\n    </p>\n    {{#each attributes}}\n      <p class="textae-editor__type-pallet__attribute{{#if selectedPred}} textae-editor__type-pallet__attribute--selected{{/if}}" data-attribute="{{pred}}">\n        {{pred}}\n      </p>\n    {{/each}}\n    {{#unless isLock}}\n    {{#if addAttribute}}\n      <p class="textae-editor__type-pallet__attribute textae-editor__type-pallet__create-predicate">\n        <span class="textae-editor__type-pallet__create-predicate__button" title="Add new attribute"></span>\n      </p>\n    {{/if}}\n    {{/unless}}\n    <div class="textae-editor__type-pallet__buttons">\n      {{#unless isLock}}\n      {{#if addTypeButton}}\n        <span class="textae-editor__type-pallet__button textae-editor__type-pallet__add-button" title="Add new type"></span>\n      {{/if}}\n      {{#if addAttributeValueButton}}\n        <span class="textae-editor__type-pallet__button textae-editor__type-pallet__add-attribute-value-button" title="Add new value"></span>\n      {{/if}}\n      {{/unless}}\n      <span class="textae-editor__type-pallet__button textae-editor__type-pallet__read-button" title="Import"></span>\n      <span class="textae-editor__type-pallet__button textae-editor__type-pallet__write-button {{#if hasDiff}}textae-editor__type-pallet__write-button--transit{{/if}}" title="Upload"></span>\n    </div>\n  </div>\n'),_handlebars2.default.registerPartial("predicate",'\n  <div class="textae-editor__type-pallet__predicate">\n    {{> @partial-block }}\n    <div>\n    {{#if hasInstance}}\n      Attribute definitions with instances cannot be deleted.\n    {{else}}\n      <button type="button" class="textae-editor__type-pallet__delete-predicate">delete attribute</button>\n    {{/if}}\n    </div>\n  </div>\n  ');const typeHtml='\n{{>header}}\n<table>\n  <tbody>\n    <tr>\n      <th>id</th>\n      <th>label</th>\n      <th title="Number of annotations.">#</th>\n      <th></th>\n    </tr>\n    {{#if types}}\n    {{#each types}}\n    <tr class="textae-editor__type-pallet__row" style="background-color: {{color}};">\n      <td class="textae-editor__type-pallet__label" data-id="{{id}}">\n        <span title={{id}}>\n          {{id}}\n        </span>\n        {{#if uri}}\n          <a href="{{uri}}" target="_blank"><span class="textae-editor__type-pallet__link"></span></a>\n        {{/if}}\n        {{#if defaultType}}\n          <span class="textae-editor__type-pallet__default-icon" title="This type is set as a default type."></span>\n        {{/if}}\n      </td>\n      <td class="textae-editor__type-pallet__short-label">\n        {{label}}\n      </td>\n      <td class="textae-editor__type-pallet__use-number">\n        {{#if useNumber}}{{useNumber}}{{/if}}\n        {{#unless useNumber}}0{{/unless}}\n      </td>\n      <td class="textae-editor__type-pallet__table-buttons">\n        <button\n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__select-all {{#unless useNumber}}textae-editor__type-pallet__table-button--disabled{{/unless}}"\n          title="Select all the cases of this type."\n          data-id="{{id}}"\n          data-use-number="{{useNumber}}">\n        </button>\n        {{#unless ../isLock}}\n        <button\n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__edit-type"\n          title="Edit this type." data-id="{{id}}"\n          data-color="{{color}}"\n          data-is-default="{{defaultType}}">\n        </button>\n        <button \n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__remove {{#if useNumber}}textae-editor__type-pallet__table-button--disabled{{/if}}"\n          title="{{#if useNumber}}To activate this button, remove all the annotations of this type.{{/if}}{{#unless useNumber}}Remove this type.{{/unless}}"\n          data-id="{{id}}"\n          data-label="{{label}}">\n        </button>\n        {{/unless}}\n      </td>\n    </tr>\n    {{/each}}\n    {{else}}\n    <tr class="textae-editor__type-pallet__row">\n      <td class="textae-editor__type-pallet__no-config" colspan="4">There is no Entity definition.</td>\n    </tr>\n    {{/if}}\n  </tbody>\n</table>\n';_handlebars2.default.registerPartial("add-attribute-button",'\n  {{#unless @root.isEntityWithSamePredSelected}}\n  <button\n    type="button"\n    class="textae-editor__type-pallet__add-attribute"\n  >Add to selected entity</button>\n  {{/unless}}\n'),_handlebars2.default.registerPartial("remove-attribute-button",'\n  {{#if @root.isEntityWithSamePredSelected}}\n  <button\n    type="button"\n    class="textae-editor__type-pallet__remove-attribute"\n  >Remove from selected entity</button>\n  {{/if}}\n');const flagAttributeHtml='\n{{>header}}\n<div>\n  {{# attrDef}}\n    {{#>predicate}}\n      <div>\n        flag attribute: {{pred}}\n        <button\n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__edit-predicate"\n          title="Edit this predicate.">\n        </button>\n        {{> add-attribute-button}}\n        {{> remove-attribute-button}}\n      </div>\n    {{/predicate}}\n  {{/ attrDef}}\n</div>\n';_handlebars2.default.registerPartial("edit-object-button",'\n  {{#if @root.isEntityWithSamePredSelected}}\n  <button\n    type="button"\n    class="textae-editor__type-pallet__edit-object"\n  >Edit object of selected entity</button>\n  {{/if}}\n'),_handlebars2.default.registerPartial("valueButton",'\n  {{#unless @root.isLock}}\n  <td class="textae-editor__type-pallet__table-attribute-buttons">\n    <button\n      type="button"\n      class="textae-editor__type-pallet__table-button textae-editor__type-pallet__edit-value"\n      title="Edit this value." data-index="{{@index}}">\n    </button>\n    <button \n      type="button"\n      class="textae-editor__type-pallet__table-button textae-editor__type-pallet__remove-value {{#if useNumber}}textae-editor__type-pallet__table-button--disabled{{/if}}"\n      title="{{#if useNumber}}To activate this button, remove all the annotations of this type.{{/if}}{{#unless useNumber}}Remove this value.{{/unless}}"\n      data-index="{{@index}}">\n    </button>\n  </td>\n  {{/unless}}\n');const numericAttributeHtml='\n{{>header}}\n<div>\n  {{# attrDef}}\n    {{#>predicate}}\n      <div>\n        <div>\n          numeric attribute: {{pred}}\n          <button\n            type="button"\n            class="textae-editor__type-pallet__table-button textae-editor__type-pallet__edit-predicate"\n            title="Edit this predicate.">\n          </button>\n          {{> add-attribute-button}}\n          {{> edit-object-button}}\n          {{> remove-attribute-button}}\n        </div>\n        min: {{min}}\n        max: {{max}}\n        step: {{step}}\n        default: {{default}}\n      </div>\n    {{/predicate}}\n    <table>\n      <tbody>\n        <tr>\n          <th>range</th>\n          <th>label</th>\n          <th>color</th>\n          {{#unless @root.isLock}}\n          <th></th>\n          {{/unless}}\n        </tr>\n        {{#each values}}\n        <tr class="textae-editor__type-pallet__row" style="background-color: {{color}};">\n          <td class="textae-editor__type-pallet__attribute-label">\n            {{range}}\n          </td>\n          <td class="textae-editor__type-pallet__short-label">\n            {{label}}\n          </td>\n          <td class="textae-editor__type-pallet__short-label">\n            {{color}}\n          </td>\n          {{>valueButton}}\n        </tr>\n        {{/each}}\n      </tbody>\n    </table>\n  {{/ attrDef}}\n</div>\n',selectionAttributeHtml='\n{{>header}}\n<div>\n  {{# attrDef}}\n    {{#>predicate}}\n      <div>\n        selection attribute: {{pred}}\n        <button\n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__edit-predicate"\n          title="Edit this predicate.">\n        </button>\n        {{> add-attribute-button}}\n        {{> remove-attribute-button}}\n      </div>\n    {{/predicate}}\n    </div>\n    <table>\n      <tbody>\n        <tr>\n          <th>id</th>\n          <th>label</th>\n          <th>color</th>\n          {{#unless @root.isLock}}\n          <th></th>\n          {{/unless}}\n        </tr>\n        {{#each values}}\n        <tr class="textae-editor__type-pallet__row" style="background-color: {{color}};">\n          <td class="textae-editor__type-pallet__selection-attribute-label" data-id="{{id}}">\n            {{id}}\n            {{#if default}}\n              <span class="textae-editor__type-pallet__default-icon" title="This type is set as a default type."></span>\n            {{/if}}\n          </td>\n          <td class="textae-editor__type-pallet__short-label">\n            {{label}}\n          </td>\n          <td class="textae-editor__type-pallet__short-label">\n            {{color}}\n          </td>\n          {{>valueButton}}\n        </tr>\n        {{/each}}\n      </tbody>\n    </table>\n  {{/ attrDef}}\n</div>\n',stringAttributeHtml='\n{{>header}}\n<div>\n  {{# attrDef}}\n    {{#>predicate}}\n      <div>\n        <div>\n          string attribute: {{pred}}\n          <button\n            type="button"\n            class="textae-editor__type-pallet__table-button textae-editor__type-pallet__edit-predicate"\n            title="Edit this predicate.">\n          </button>\n          {{> add-attribute-button}}\n          {{> edit-object-button}}\n          {{> remove-attribute-button}}\n        </div>\n        default: {{default}}\n      </div>\n    {{/predicate}}\n    <table>\n      <tbody>\n        <tr>\n          <th>pattern</th>\n          <th>label</th>\n          <th>color</th>\n          {{#unless @root.isLock}}\n          <th></th>\n          {{/unless}}\n        </tr>\n        {{#each values}}\n        <tr class="textae-editor__type-pallet__row" style="background-color: {{color}};">\n          <td class="textae-editor__type-pallet__attribute-label">\n            {{pattern}}\n          </td>\n          <td class="textae-editor__type-pallet__short-label">\n            {{label}}\n          </td>\n          <td class="textae-editor__type-pallet__short-label">\n            {{color}}\n          </td>\n          {{>valueButton}}\n        </tr>\n        {{/each}}\n      </tbody>\n    </table>\n  {{/ attrDef}}\n</div>\n',typeTemplate=_handlebars2.default.compile(typeHtml),flagAttributeTemplate=_handlebars2.default.compile(flagAttributeHtml),numericAttributeTemplate=_handlebars2.default.compile(numericAttributeHtml),selectionAttributeTemplate=_handlebars2.default.compile(selectionAttributeHtml),stringAttributeTemplate=_handlebars2.default.compile(stringAttributeHtml);

},{"./getSelectedEntityLabel":235,"handlebars":88}],237:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _jsondiffpatch=require("jsondiffpatch"),_Pallet=require("../Pallet"),_Pallet2=_interopRequireDefault(_Pallet),_createPalletElement=require("../Pallet/createPalletElement"),_createPalletElement2=_interopRequireDefault(_createPalletElement),_bindUserEvents=require("../Pallet/bindUserEvents"),_bindUserEvents2=_interopRequireDefault(_bindUserEvents),_bindAttributeEvent=require("./bindAttributeEvent"),_bindAttributeEvent2=_interopRequireDefault(_bindAttributeEvent),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class extends _Pallet2.default{constructor(t,e,i,n){super(t,(0,_createPalletElement2.default)("entity")),this._originalData=e,this._typeDefinition=i,this._typeContainer=i.entity,this._selectionModelEntity=n;(0,_bindUserEvents2.default)(this._el,t.eventEmitter,"entity"),(0,_bindAttributeEvent2.default)(this,this._el,t.eventEmitter),t.eventEmitter.on("textae.typeDefinition.entity.attributeDefinition.create",t=>{this.showAttribute(t)}).on("textae.typeDefinition.entity.attributeDefinition.change",t=>{this.showAttribute(t)}).on("textae.typeDefinition.entity.attributeDefinition.delete",()=>{this.showAttribute(null)}),t.eventEmitter.on("textae.annotationData.attribute.add",()=>this.updateDisplay()).on("textae.annotationData.attribute.remove",()=>this.updateDisplay()),t.eventEmitter.on("textae.selection.entity.change",()=>this.updateDisplay())}show(){this._selectedPred=null,super.show()}showAttribute(t){this._selectedPred=t,this.updateDisplay()}selectLeftTab(){this._selectedPred&&(0===this._selectedIndex?this.showAttribute():this.showAttribute(this._typeContainer.attributes[this._selectedIndex-1].pred))}selectRightTab(){if(this._selectedPred){if(this._selectedIndex===this._typeContainer.attributes.length-1)return;this.showAttribute(this._typeContainer.attributes[this._selectedIndex+1].pred)}else this.showAttribute(this._typeContainer.attributes[0].pred)}get _selectedIndex(){return this._typeContainer.attributes.findIndex(t=>t.pred===this._selectedPred)}get _content(){return(0,_createContentHtml2.default)(this._typeContainer,(0,_jsondiffpatch.diff)(this._originalData.configuration,Object.assign({},this._originalData.configuration,this._typeDefinition.config)),this._selectedPred,this._selectionModelEntity)}get attrDef(){return this._typeContainer.findAttribute(this._selectedPred)}};

},{"../Pallet":249,"../Pallet/bindUserEvents":245,"../Pallet/createPalletElement":246,"./bindAttributeEvent":234,"./createContentHtml":236,"jsondiffpatch":138}],238:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Dialog=require("./Dialog"),_Dialog2=_interopRequireDefault(_Dialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(){super("Help (Keyboard short-cuts)",'<div class="textae-tool__key-help"></div>',null,{height:313,width:523})}};

},{"./Dialog":211}],239:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return template(e)};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='<div>\n<div class="textae-editor__load-dialog__row">\n  <label class="textae-editor__load-dialog__label">URL</label>\n  <input type="text" value="{{url}}" class="textae-editor__load-dialog__file-name url">\n  <input type="button" class="url" {{#unless url}}disabled="disabled"{{/unless}} value="Open">\n</div>\n<div class="textae-editor__load-dialog__row">\n  <label class="textae-editor__load-dialog__label">Local</label>\n  <input class="textae-editor__load-dialog__file" type="file">\n  <input type="button" class="local" disabled="disabled" value="Open">\n</div>\n</div>',template=_handlebars2.default.compile(source);

},{"handlebars":88}],240:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_Dialog=require("../Dialog"),_Dialog2=_interopRequireDefault(_Dialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_CONFIRM_DISCARD_CHANGE_MESSAGE=require("../../editor/CONFIRM_DISCARD_CHANGE_MESSAGE"),_CONFIRM_DISCARD_CHANGE_MESSAGE2=_interopRequireDefault(_CONFIRM_DISCARD_CHANGE_MESSAGE),_makeDomEnabled=require("../makeDomEnabled"),_makeDomEnabled2=_interopRequireDefault(_makeDomEnabled);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(e,t,l,a,r){super(e,(0,_createContentHtml2.default)({url:t}),{label:"Cancel"}),(0,_delegate2.default)(super.el,'[type="text"].url',"input",e=>{(0,_makeDomEnabled2.default)(e.target.nextElementSibling,e.target.value)}),(0,_delegate2.default)(super.el,".textae-editor__load-dialog__file","change",e=>{(0,_makeDomEnabled2.default)(e.target.nextElementSibling,e.target.files.length>0)});const _=()=>!r||window.confirm(_CONFIRM_DISCARD_CHANGE_MESSAGE2.default);(0,_delegate2.default)(super.el,'[type="button"].url',"click",e=>{_()&&l(e.target.previousElementSibling.value),super.close()}),(0,_delegate2.default)(super.el,'[type="button"].local',"click",e=>{const t=e.target.previousElementSibling;_()&&a(t),super.close()})}};

},{"../../editor/CONFIRM_DISCARD_CHANGE_MESSAGE":302,"../Dialog":211,"../makeDomEnabled":286,"./createContentHtml":239,"delegate":50}],241:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a){(0,_delegate2.default)(e,".open-link","click",()=>{(0,_openPopUp2.default)(a)}),(0,_delegate2.default)(e,".message-box-setting","change",e=>{e.target.checked?(0,_CookieHandler2.default)().set("hide-message-box","true",{path:"/"}):(0,_CookieHandler2.default)().set("hide-message-box","false",{path:"/"})}),(0,_delegate2.default)(e,".ok","click",()=>t.close())};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_CookieHandler=require("../../util/CookieHandler"),_CookieHandler2=_interopRequireDefault(_CookieHandler),_openPopUp=require("../DataAccessObject/AjaxSender/requestAjax/serverAuthHandler/openPopUp"),_openPopUp2=_interopRequireDefault(_openPopUp);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../util/CookieHandler":826,"../DataAccessObject/AjaxSender/requestAjax/serverAuthHandler/openPopUp":200,"delegate":50}],242:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return html};const html=exports.html='\n<div class="textae-editor__login-info-dialog">\n  <div class="textae-editor__login-info-dialog__message">\n    <p>Login is required to proceed. Please open the following link for login. (You need to allow popup window in your browser.)</p>\n  </div>\n  <div class="textae-editor__login-info-dialog__open-link">\n    <input type="button" class="open-link ui-button ui-corner-all ui-widget" value="Login">\n  </div>\n  <div class="textae-editor__login-info-dialog__message">\n    <p>After login, please try to save it again.</p>\n  </div>\n  <div class="textae-editor__login-info-dialog__ok">\n    <input type="button" class="ok ui-button ui-corner-all ui-widget" value="OK">\n  </div>\n  <div class="textae-editor__login-info-dialog__message-box-setting">\n    <input type="checkbox" id="message-box-setting" class="message-box-setting">\n    <label for="message-box-setting">Don\'t show this message again.</label>\n  </div>\n</div>\n';

},{}],243:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Dialog=require("../Dialog"),_Dialog2=_interopRequireDefault(_Dialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_bind=require("./bind"),_bind2=_interopRequireDefault(_bind);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(e){super("Login is required",(0,_createContentHtml2.default)()),(0,_bind2.default)(super.el,this,e)}};

},{"../Dialog":211,"./bind":241,"./createContentHtml":242}],244:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return!e.classList.contains("textae-editor__type-pallet__table-button--disabled")};

},{}],245:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a){(0,_delegate2.default)(e,".textae-editor__type-pallet__add-button","click",()=>t.emit(`textae.${a}Pallet.add-button.click`)),(0,_delegate2.default)(e,".textae-editor__type-pallet__read-button","click",()=>t.emit(`textae.${a}Pallet.read-button.click`)),(0,_delegate2.default)(e,".textae-editor__type-pallet__write-button","click",()=>t.emit(`textae.${a}Pallet.write-button.click`)),(0,_delegate2.default)(e,".textae-editor__type-pallet__label","click",e=>t.emit(`textae.${a}Pallet.item.label.click`,e.delegateTarget.dataset.id)),(0,_delegate2.default)(e,".textae-editor__type-pallet__select-all","click",e=>{(0,_checkButtonEnable2.default)(e.target)&&t.emit(`textae.${a}Pallet.item.select-all-button.click`,e.delegateTarget.dataset.id)}),(0,_delegate2.default)(e,".textae-editor__type-pallet__edit-type","click",e=>{t.emit(`textae.${a}Pallet.item.edit-button.click`,e.target.dataset.id,e.target.dataset.color.toLowerCase(),"true"===e.target.dataset.isDefault)}),(0,_delegate2.default)(e,".textae-editor__type-pallet__remove","click",e=>{(0,_checkButtonEnable2.default)(e.target)&&t.emit(`textae.${a}Pallet.item.remove-button.click`,e.delegateTarget.dataset.id,e.delegateTarget.dataset.label)})};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_checkButtonEnable=require("./checkButtonEnable"),_checkButtonEnable2=_interopRequireDefault(_checkButtonEnable);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./checkButtonEnable":244,"delegate":50}],246:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=`<div class="textae-editor__type-pallet textae-editor__type-pallet--${e}"></div>`;return _dohtml2.default.create(t)};var _dohtml=require("dohtml"),_dohtml2=_interopRequireDefault(_dohtml);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"dohtml":51}],247:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=enableJqueryDraggable;var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function enableJqueryDraggable(e,r){(0,_jquery2.default)(e).draggable({containment:r})}require("jquery-ui/ui/widgets/draggable");

},{"jquery":116,"jquery-ui/ui/widgets/draggable":112}],248:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return lastMousePoint};const lastMousePoint={};document.querySelector("html").addEventListener("mousemove",e=>{lastMousePoint.top=e.clientY,lastMousePoint.left=e.clientX});

},{}],249:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_enableJqueryDraggable=require("./enableJqueryDraggable"),_enableJqueryDraggable2=_interopRequireDefault(_enableJqueryDraggable),_moveIntoWindow=require("./moveIntoWindow"),_moveIntoWindow2=_interopRequireDefault(_moveIntoWindow),_updateDisplay=require("./updateDisplay"),_updateDisplay2=_interopRequireDefault(_updateDisplay),_getMousePoint=require("./getMousePoint"),_getMousePoint2=_interopRequireDefault(_getMousePoint);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t){this._el=t,(0,_enableJqueryDraggable2.default)(t,e),(0,_delegate2.default)(t,'[type="button"]',"click",()=>e.focus()),this.hide()}updateDisplay(){this.visibly&&(0,_updateDisplay2.default)(this._el,this._content)}get el(){return this._el}show(){const e=(0,_getMousePoint2.default)();this._el.style.display="block",(0,_updateDisplay2.default)(this._el,this._content),(0,_moveIntoWindow2.default)(this._el,e)}hide(){this._el.style.display="none"}get visibly(){return"none"!==this._el.style.display}};

},{"./enableJqueryDraggable":247,"./getMousePoint":248,"./moveIntoWindow":250,"./updateDisplay":251,"delegate":50}],250:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){t.offsetWidth+e.left>window.innerWidth&&(e.left=window.innerWidth-t.offsetWidth-2),t.offsetHeight+e.top>window.innerHeight&&(e.top=window.innerHeight-t.offsetHeight-1),t.style.top=`${e.top}px`,t.style.left=`${e.left}px`};

},{}],251:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(i,t){i.innerHTML=`<div class="textae-editor__type-pallet__content">${t}</div>`,(0,_setWidthWithinWindow2.default)(i),(0,_setHeightWithinWindow2.default)(i)};var _setWidthWithinWindow=require("./setWidthWithinWindow"),_setWidthWithinWindow2=_interopRequireDefault(_setWidthWithinWindow),_setHeightWithinWindow=require("./setHeightWithinWindow"),_setHeightWithinWindow2=_interopRequireDefault(_setHeightWithinWindow);function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}

},{"./setHeightWithinWindow":252,"./setWidthWithinWindow":253}],252:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(window.innerHeight-2<=e.offsetHeight){const t=window.innerHeight-2;e.style.height=`${t}px`}};

},{}],253:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){if(t.style.width="auto",window.innerWidth-2<=t.offsetWidth){const e=window.innerWidth-4;t.style.width=`${e}px`}};

},{}],254:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_Dialog=require("./Dialog"),_Dialog2=_interopRequireDefault(_Dialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(e,t,l,o,r,u){super(e,t,{label:"OK",class:u},l),this.promise=new Promise(e=>{const t=()=>{const t=r();t&&e(t),super.close()};this._option.buttons[0].click=t,(0,_delegate2.default)(super.el,o,"keyup",e=>{13===e.keyCode&&t()})})}};

},{"./Dialog":211,"delegate":50}],255:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){return template({isLock:t.isLock,hasDiff:e,types:t.pallet})};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const html='\n<p class="textae-editor__type-pallet__title">\n  <span>Relation configuration</span>\n  <span class="textae-editor__type-pallet__lock-icon" style="display: {{#if isLock}}inline-block{{else}}none{{/if}};">locked</span>\n</p>\n<div class="textae-editor__type-pallet__buttons">\n  {{#unless isLock}}\n    <span class="textae-editor__type-pallet__button textae-editor__type-pallet__add-button" title="Add new type"></span>\n  {{/unless}}\n  <span class="textae-editor__type-pallet__button textae-editor__type-pallet__read-button" title="Import"></span>\n  <span class="textae-editor__type-pallet__button textae-editor__type-pallet__write-button {{#if hasDiff}}textae-editor__type-pallet__write-button--transit{{/if}}" title="Upload"></span>\n</div>\n<table>\n  <tbody>\n    <tr>\n      <th>id</th>\n      <th>label</th>\n      <th title="Number of annotations.">#</th>\n      <th></th>\n    </tr>\n    {{#if types}}\n    {{#each types}}\n    <tr class="textae-editor__type-pallet__row" style="background-color: {{color}};">\n      <td class="textae-editor__type-pallet__label" data-id="{{id}}">\n        <span title={{id}}>\n          {{id}}\n        </span>\n        {{#if uri}}\n          <a href="{{uri}}" target="_blank"><span class="textae-editor__type-pallet__link"></span></a>\n        {{/if}}\n        {{#if defaultType}}\n          <span class="textae-editor__type-pallet__default-icon" title="This type is set as a default type."></span>\n        {{/if}}\n      </td>\n      <td class="textae-editor__type-pallet__short-label">\n        {{label}}\n      </td>\n      <td class="textae-editor__type-pallet__use-number">\n        {{#if useNumber}}{{useNumber}}{{/if}}\n        {{#unless useNumber}}0{{/unless}}\n      </td>\n      <td class="textae-editor__type-pallet__table-buttons">\n        <button\n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__select-all {{#unless useNumber}}textae-editor__type-pallet__table-button--disabled{{/unless}}"\n          title="Select all the cases of this type."\n          data-id="{{id}}"\n          data-use-number="{{useNumber}}">\n        </button>\n        {{#unless ../isLock}}\n        <button\n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__edit-type"\n          title="Edit this type." data-id="{{id}}"\n          data-color="{{color}}"\n          data-is-default="{{defaultType}}">\n        </button>\n        <button \n          type="button"\n          class="textae-editor__type-pallet__table-button textae-editor__type-pallet__remove {{#if useNumber}}textae-editor__type-pallet__table-button--disabled{{/if}}"\n          title="{{#if useNumber}}To activate this button, remove all the annotations of this type.{{/if}}{{#unless useNumber}}Remove this type.{{/unless}}"\n          data-id="{{id}}"\n          data-label="{{label}}">\n        </button>\n        {{/unless}}\n      </td>\n    </tr>\n    {{/each}}\n    {{else}}\n    <tr class="textae-editor__type-pallet__row">\n      <td class="textae-editor__type-pallet__no-config" colspan="4">There is no Relation definition.</td>\n    </tr>\n    {{/if}}\n  </tbody>\n</table>\n',template=_handlebars2.default.compile(html);

},{"handlebars":88}],256:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _jsondiffpatch=require("jsondiffpatch"),_Pallet=require("../Pallet"),_Pallet2=_interopRequireDefault(_Pallet),_createPalletElement=require("../Pallet/createPalletElement"),_createPalletElement2=_interopRequireDefault(_createPalletElement),_bindUserEvents=require("../Pallet/bindUserEvents"),_bindUserEvents2=_interopRequireDefault(_bindUserEvents),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Pallet2.default{constructor(e,t,n){super(e,(0,_createPalletElement2.default)("relation")),this._originalData=t,this._typeDefinition=n,this._typeContainer=n.relation,(0,_bindUserEvents2.default)(this._el,e.eventEmitter,"relation")}get _content(){return(0,_createContentHtml2.default)(this._typeContainer,(0,_jsondiffpatch.diff)(this._originalData.configuration,Object.assign({},this._originalData.configuration,this._typeDefinition.config)))}};

},{"../Pallet":249,"../Pallet/bindUserEvents":245,"../Pallet/createPalletElement":246,"./createContentHtml":255,"jsondiffpatch":138}],257:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a,l){(0,_delegate2.default)(t,'[type="text"].url',"input",e=>{(0,_makeDomEnabled2.default)(e.target.nextElementSibling,e.target.value)}),(0,_delegate2.default)(t,'[type="button"].url',"click",t=>{e.eventEmitter.emit("textae.saveAnnotationDialog.url.click",t.target.previousElementSibling.value,JSON.stringify(a)),l()}),(0,_delegate2.default)(t,"a.download","click",t=>{const i=t.target,n=(0,_createDownloadPath2.default)(JSON.stringify(a));i.setAttribute("href",n),i.setAttribute("download",i.previousElementSibling.value),e.eventEmitter.emit("textae.saveAnnotationDialog.download.click"),l()}),(0,_delegate2.default)(t,"a.viewsource","click",()=>{window.open((0,_createDownloadPath2.default)(JSON.stringify(a)),"_blank"),e.eventEmitter.emit("textae.saveAnnotationDialog.viewsource.click"),l()})};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_createDownloadPath=require("../DataAccessObject/createDownloadPath"),_createDownloadPath2=_interopRequireDefault(_createDownloadPath),_makeDomEnabled=require("../makeDomEnabled"),_makeDomEnabled2=_interopRequireDefault(_makeDomEnabled);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../DataAccessObject/createDownloadPath":201,"../makeDomEnabled":286,"delegate":50}],258:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return template(e)};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='<div>\n  <div class="textae-editor__save-dialog__row">\n    <label class="textae-editor__save-dialog__label">URL</label>\n    <input type="text" value="{{url}}" class="textae-editor__save-dialog__server-file-name url">\n    <input type="button" class="url" {{#unless url}}disabled="disabled"{{/unless}} value="Save">\n  </div>\n  <div class="textae-editor__save-dialog__row">\n    <label class="textae-editor__save-dialog__label">Local</label>\n    <input type="text" value="{{filename}}" class="textae-editor__save-dialog__local-file-name local">\n    <a class="download" href="#">Download</a>\n  </div>\n  <div class="textae-editor__save-dialog__row">\n    <label class="textae-editor__save-dialog__label"></label>\n    <a class="viewsource" href="#">Click to see the json source in a new window.</a>\n  </div>\n</div>\n',template=_handlebars2.default.compile(source);

},{"handlebars":88}],259:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Dialog=require("../Dialog"),_Dialog2=_interopRequireDefault(_Dialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_bind=require("./bind"),_bind2=_interopRequireDefault(_bind);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(e,t,n){super("Save Annotations",(0,_createContentHtml2.default)({filename:"annotations.json",url:t}),{label:"Cancel"}),(0,_bind2.default)(e,super.el,n,()=>super.close())}};

},{"../Dialog":211,"./bind":257,"./createContentHtml":258}],260:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a,l){(0,_delegate2.default)(t,'[type="text"].url',"input",e=>{(0,_makeDomEnabled2.default)(e.target.nextElementSibling,e.target.value)}),(0,_delegate2.default)(t,'[type="button"].url',"click",t=>{e.eventEmitter.emit("textae.saveConfigurationDialog.url.click",t.target.previousElementSibling.value,JSON.stringify(a)),l()}),(0,_delegate2.default)(t,"a.download","click",t=>{const r=t.target,i=(0,_createDownloadPath2.default)(JSON.stringify(a));r.setAttribute("href",i),r.setAttribute("download",r.previousElementSibling.value),e.eventEmitter.emit("textae.saveConfigurationDialog.download.click"),l()})};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_createDownloadPath=require("../DataAccessObject/createDownloadPath"),_createDownloadPath2=_interopRequireDefault(_createDownloadPath),_makeDomEnabled=require("../makeDomEnabled"),_makeDomEnabled2=_interopRequireDefault(_makeDomEnabled);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../DataAccessObject/createDownloadPath":201,"../makeDomEnabled":286,"delegate":50}],261:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return template(e)};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='<div>\n  <div class="textae-editor__save-dialog__row">\n    <label class="textae-editor__save-dialog__label">URL</label>\n    <input type="text" value="{{url}}" class="textae-editor__save-dialog__server-file-name url">\n    <input type="button" class="url" {{#unless url}}disabled="disabled"{{/unless}} value="Save">\n  </div>\n  <div class="textae-editor__save-dialog__row">\n    <label class="textae-editor__save-dialog__label">Local</label>\n    <input type="text" value="{{filename}}" class="textae-editor__save-dialog__local-file-name local">\n    <a class="download" href="#">Download</a>\n  </div>\n  <div class="textae-editor__save-dialog__row"><p class="textae-editor__save-dialog__diff-title">Configuration differences<span class="diff-info diff-info--add">added</span><span class="diff-info diff-info--remove">removed</span></p></div>\n  <div class="textae-editor__save-dialog__diff-viewer">{{{diff}}}</div>\n</div>',template=_handlebars2.default.compile(source);

},{"handlebars":88}],262:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Dialog=require("../Dialog"),_Dialog2=_interopRequireDefault(_Dialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_jsonDiff=require("./jsonDiff"),_jsonDiff2=_interopRequireDefault(_jsonDiff),_bind=require("./bind"),_bind2=_interopRequireDefault(_bind);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(e,t,n,i){super("Save Configurations",(0,_createContentHtml2.default)({filename:"config.json",url:t,diff:(0,_jsonDiff2.default)(n,i)||"nothing."}),{label:"Cancel"}),(0,_bind2.default)(e,super.el,i,()=>super.close())}};

},{"../Dialog":211,"./bind":260,"./createContentHtml":261,"./jsonDiff":263}],263:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const r=(0,_jsondiffpatch.diff)(e,t);return _formatters2.default.html.format(r,e)};var _jsondiffpatch=require("jsondiffpatch"),_formatters=require("jsondiffpatch/src/formatters"),_formatters2=_interopRequireDefault(_formatters);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"jsondiffpatch":138,"jsondiffpatch/src/formatters":136}],264:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return template(e)};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n  <div class="textae-editor__setting-dialog">\n      <div>\n          <label class="textae-editor__setting-dialog__label">Type Gap</label>\n          <input type="number" class="textae-editor__setting-dialog__type-gap type-gap" step="1" min="0" max="5" value="{{typeGap}}" {{#if typeGapDisabled}}disabled="disabled"{{/if}}>\n      </div>\n      <div>\n          <label class="textae-editor__setting-dialog__label">Line Height</label>\n          <input type="number" class="textae-editor__setting-dialog__line-height line-height" step="1" min="50" max="500" value="{{lineHeight}}">\n          px\n      </div>\n      <div>\n          <label class="textae-editor__setting-dialog__label">Lock Edit Config</label>\n          <input type="checkbox" class="textae-editor__setting-dialog__lock-config lock-config" {{#if typeDefinitionLocked}}checked="checked"{{/if}}>\n      </div>\n      <div>\n          <label class="textae-editor__setting-dialog__label">Reset Hidden Message Boxes</label>\n          <input type="button" class="textae-editor__setting-dialog__reset-hidden-message-boxes reset-hidden-message-boxes" value="Reset">\n      </div>\n      <div>\n          <label class="textae-editor__setting-dialog__label">Version</label>\n          {{version}}\n      </div>\n  </div>\n',template=_handlebars2.default.compile(source);

},{"handlebars":88}],265:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_getLineHeight=require("../../editor/start/View/lineHeight/getLineHeight"),_getLineHeight2=_interopRequireDefault(_getLineHeight),_Dialog=require("../Dialog"),_Dialog2=_interopRequireDefault(_Dialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_reflectImmediately=require("./reflectImmediately"),_reflectImmediately2=_interopRequireDefault(_reflectImmediately),_package=require("../../../../package.json"),_package2=_interopRequireDefault(_package);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(e,t,i){super("Setting",(0,_createContentHtml2.default)({typeGapDisabled:!i.showInstance,typeGap:i.typeGap,lineHeight:(0,_getLineHeight2.default)(e[0]),typeDefinitionLocked:t.isLock(),version:_package2.default.version}),{label:"OK"}),(0,_reflectImmediately2.default)(super.el,e,i,t),(0,_delegate2.default)(super.el,".textae-editor--dialog","keyup",e=>{13===e.keyCode&&super.close()})}};

},{"../../../../package.json":163,"../../editor/start/View/lineHeight/getLineHeight":773,"../Dialog":211,"./createContentHtml":264,"./reflectImmediately":271,"delegate":50}],266:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){(0,_delegate2.default)(e,".line-height","change",(0,_debounce2.default)(e=>{(0,_setLineHeight2.default)(t,e.target.value),(0,_redrawAllEditor2.default)()}))};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_debounce=require("./debounce300"),_debounce2=_interopRequireDefault(_debounce),_setLineHeight=require("../../../editor/start/View/lineHeight/setLineHeight"),_setLineHeight2=_interopRequireDefault(_setLineHeight),_redrawAllEditor=require("./redrawAllEditor"),_redrawAllEditor2=_interopRequireDefault(_redrawAllEditor);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../editor/start/View/lineHeight/setLineHeight":775,"./debounce300":270,"./redrawAllEditor":272,"delegate":50}],267:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){(0,_delegate2.default)(e,".lock-config","change",(0,_debounce2.default)(e=>{e.target.checked?t.lockEdit():t.unlockEdit()}))};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_debounce=require("./debounce300"),_debounce2=_interopRequireDefault(_debounce);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./debounce300":270,"delegate":50}],268:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,u){(0,_delegate2.default)(e,".type-gap","change",(0,_debounce2.default)(i=>{u.typeGap=Number(i.target.value),e.querySelector(".line-height").value=(0,_getLineHeight2.default)(t)}))};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_getLineHeight=require("../../../editor/start/View/lineHeight/getLineHeight"),_getLineHeight2=_interopRequireDefault(_getLineHeight),_debounce=require("./debounce300"),_debounce2=_interopRequireDefault(_debounce);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../editor/start/View/lineHeight/getLineHeight":773,"./debounce300":270,"delegate":50}],269:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){(0,_delegate2.default)(e,".reset-hidden-message-boxes","click",()=>t.eventEmitter.emit("textae.message-box.show"))};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"delegate":50}],270:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return(0,_debounce2.default)(e,300)};var _debounce=require("debounce"),_debounce2=_interopRequireDefault(_debounce);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"debounce":48}],271:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,i,n,d){(0,_bindChangeTypeGap2.default)(e,i[0],n),(0,_bindChangeLineHeight2.default)(e,i[0]),(0,_bindChangeLockConfig2.default)(e,d),(0,_bindClickResetHiddenMessageBoxes2.default)(e,i)};var _bindClickResetHiddenMessageBoxes=require("./bindClickResetHiddenMessageBoxes"),_bindClickResetHiddenMessageBoxes2=_interopRequireDefault(_bindClickResetHiddenMessageBoxes),_bindChangeLockConfig=require("./bindChangeLockConfig"),_bindChangeLockConfig2=_interopRequireDefault(_bindChangeLockConfig),_bindChangeLineHeight=require("./bindChangeLineHeight"),_bindChangeLineHeight2=_interopRequireDefault(_bindChangeLineHeight),_bindChangeTypeGap=require("./bindChangeTypeGap"),_bindChangeTypeGap2=_interopRequireDefault(_bindChangeTypeGap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./bindChangeLineHeight":266,"./bindChangeLockConfig":267,"./bindChangeTypeGap":268,"./bindClickResetHiddenMessageBoxes":269}],272:[function(require,module,exports){
"use strict";function redrawAllEditor(){const e=new Event("resize");window.dispatchEvent(e)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=redrawAllEditor;

},{}],273:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=e.querySelector(".textae-editor__footer__message");return t||(e.insertAdjacentHTML("beforeend",_html2.default.replace(/[\n\r]+/g,"")),e.querySelector(".textae-editor__footer__message"))};var _html=require("./html"),_html2=_interopRequireDefault(_html);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./html":274}],274:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const html='\n<div class="textae-editor__footer">\n  <div class="textae-editor__footer__message"></div>\n</div>\n';exports.default=html;

},{}],275:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getAreaIn=require("./getAreaIn"),_getAreaIn2=_interopRequireDefault(_getAreaIn);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e){this._container=e[0]}status(e){""!==e&&((0,_getAreaIn2.default)(this._container).innerHTML=`Source: ${e}`)}};

},{"./getAreaIn":273}],276:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return template(e)};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n<div class="textae-editor__edit-type-definition-dialog__container">\n  <div class="textae-editor__edit-type-definition-dialog__input-box">\n  <label>Id:</label><br>\n  <input class="textae-editor__edit-type-definition-dialog--id" value={{id}}>\n  </div>\n  <div class="textae-editor__edit-type-definition-dialog__input-box">\n  <label>Label:<span></span></label><br>\n  <input value="{{label}}">\n  </div>\n  <div class="textae-editor__edit-type-definition-dialog__color-picker">\n  <label>Color:<input class="textae-editor__edit-type-definition-dialog__color-picker__input" type="color" value="{{color}}"></label>\n  </div>\n  <div class="textae-editor__edit-type-definition-dialog__set-default">\n  <label>Default type:<input class="textae-editor__edit-type-definition-dialog__set-default__input" type="checkbox" {{#if isDefault}}checked="checked" disabled="disabled"{{/if}}></label>\n  </div>\n</div>',template=_handlebars2.default.compile(source);

},{"handlebars":88}],277:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _PromiseDialog=require("../PromiseDialog"),_PromiseDialog2=_interopRequireDefault(_PromiseDialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml),_setSourceOfAutoComplete=require("./setSourceOfAutoComplete"),_setSourceOfAutoComplete2=_interopRequireDefault(_setSourceOfAutoComplete);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _PromiseDialog2.default{constructor(e,t,o,r,u){super(e,(0,_createContentHtml2.default)(t),{height:250},".textae-editor__edit-type-definition-dialog--id",()=>{const e=super.el.querySelectorAll("input");return u(e[0].value,e[1].value,e[2].value,e[3].checked)}),(0,_setSourceOfAutoComplete2.default)(super.el,r,e=>o.findByLabel(e))}};

},{"../PromiseDialog":254,"./createContentHtml":276,"./setSourceOfAutoComplete":279}],278:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return e.value=r.item.raw.id,t.value=r.item.raw.label,!1};

},{}],279:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,u){const r=e.querySelectorAll("input");(0,_jquery2.default)(r[0]).autocomplete({source:(e,r)=>(0,_searchTerm2.default)(t,u(e.term),e.term,r),minLength:3,select:(e,t)=>(0,_select2.default)(r[0],r[1],t)}),(0,_jquery2.default)(r[1]).autocomplete({source:(e,r)=>(0,_searchTerm2.default)(t,u(e.term),e.term,r),minLength:3,select:(e,t)=>(0,_select2.default)(r[0],r[1],t)})};var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_customizeJqueryUiAutocomplete=require("../customize-jquery-ui-autocomplete"),_customizeJqueryUiAutocomplete2=_interopRequireDefault(_customizeJqueryUiAutocomplete),_searchTerm=require("../searchTerm"),_searchTerm2=_interopRequireDefault(_searchTerm),_select=require("./select"),_select2=_interopRequireDefault(_select);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(0,_customizeJqueryUiAutocomplete2.default)();

},{"../customize-jquery-ui-autocomplete":284,"../searchTerm":287,"./select":278,"jquery":116}],280:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createContentHtml;var _template=require("./template"),_template2=_interopRequireDefault(_template),_transformToReferenceObjectError=require("./transformToReferenceObjectError"),_transformToReferenceObjectError2=_interopRequireDefault(_transformToReferenceObjectError);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createContentHtml(e){return(0,_template2.default)(e.map(_transformToReferenceObjectError2.default))}

},{"./template":281,"./transformToReferenceObjectError":282}],281:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(n){return template(n)};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}_handlebars2.default.registerHelper("ifSecond",function(n,t){return 1==n?t.fn(this):t.inverse(this)});const source='\n{{#each this}}\n  {{#ifSecond @index}}\n  <div class="textae-editor__valiondate-dialog__content">\n      <h1>Track annatations will be merged to the root anntations.</h1>\n    </div>\n  {{/ifSecond}}\n  <div class="textae-editor__valiondate-dialog__content">\n    <h2>{{name}}</h2>\n    {{#if denotationHasLength}}\n      <table>\n        <caption>Wrong range.</caption>\n        <thead>\n          <tr>\n            <th class="id">id</th>\n            <th class="range">begin</th>\n            <th class="range">end</th>\n            <th>obj</th>\n          </tr>\n        </thead>\n        <tbody>\n          {{#denotationHasLength}}\n          <tr>\n            <td>{{id}}</td>\n            <td class="alert">{{span.begin}}</td>\n            <td class="alert">{{span.end}}</td>\n            <td>{{obj}}</td>\n          </tr>\n          {{/denotationHasLength}}\n        </tbody>\n      </table>\n    {{/if}}\n    {{#if denotationInText}}\n      <table>\n        <caption>Out of text.</caption>\n        <thead>\n          <tr>\n            <th class="id">id</th>\n            <th class="range">begin</th>\n            <th class="range">end</th>\n            <th>obj</th>\n          </tr>\n        </thead>\n        <tbody>\n          {{#denotationInText}}\n          <tr>\n            <td>{{id}}</td>\n            <td class="alert">{{span.begin}}</td>\n            <td class="alert">{{span.end}}</td>\n            <td>{{obj}}</td>\n          </tr>\n          {{/denotationInText}}\n        </tbody>\n      </table>\n    {{/if}}\n    {{#if denotationIsNotCrossing}}\n      <table>\n        <caption>Spans with boundary-cross.</caption>\n        <thead>\n          <tr>\n            <th class="id">id</th>\n            <th class="range">begin</th>\n            <th class="range">end</th>\n            <th>obj</th>\n          </tr>\n        </thead>\n        <tbody>\n          {{#denotationIsNotCrossing}}\n          <tr>\n            <td>{{id}}</td>\n            <td class="alert">{{span.begin}}</td>\n            <td class="alert">{{span.end}}</td>\n            <td>{{obj}}</td>\n          </tr>\n          {{/denotationIsNotCrossing}}\n        </tbody>\n      </table>\n    {{/if}}\n    {{#if denotationInParagraph}}\n      <table>\n        <caption>Spans across paragraphs (newline-delimited).</caption>\n        <thead>\n          <tr>\n            <th class="id">id</th>\n            <th class="range">begin</th>\n            <th class="range">end</th>\n            <th>obj</th>\n          </tr>\n        </thead>\n        <tbody>\n          {{#denotationInParagraph}}\n          <tr>\n            <td>{{id}}</td>\n            <td class="alert">{{span.begin}}</td>\n            <td class="alert">{{span.end}}</td>\n            <td>{{obj}}</td>\n          </tr>\n          {{/denotationInParagraph}}\n        </tbody>\n      </table>\n    {{/if}}\n    {{#if referencedItems}}\n      <table>\n        <caption>Referenced items do not exist.</caption>\n        <thead>\n          <tr>\n            <th class="id">id</th>\n            <th class="referencedItem">subj</th>\n            <th>pred</th>\n            <th class="referencedItem">obj</th>\n          </tr>\n        </thead>\n        <tbody>\n          {{#referencedItems}}\n          <tr>\n            <td>{{id}}</td>\n            <td{{#if alertSubj}} class="alert"{{/if}}>{{subj}}</td>\n            <td>{{pred}}</td>\n            <td{{#if alertObj}} class="alert"{{/if}}>{{obj}}</td>\n          </tr>\n          {{/referencedItems}}\n        </tbody>\n      </table>\n    {{/if}}\n  </div>\n{{/each}}\n',template=_handlebars2.default.compile(source);

},{"handlebars":88}],282:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.referencedItems=e.relationObj.map(e=>(e.alertObj=!0,e)).concat(e.relationSubj.map(e=>(e.alertSubj=!0,e))).concat(e.modification.map(e=>(e.subj="-",e.alertObj=!0,e))),e};

},{}],283:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Dialog=require("../Dialog"),_Dialog2=_interopRequireDefault(_Dialog),_createContentHtml=require("./createContentHtml"),_createContentHtml2=_interopRequireDefault(_createContentHtml);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Dialog2.default{constructor(e){super("The following erroneous annotations ignored",(0,_createContentHtml2.default)(e),null,{height:450})}};

},{"../Dialog":211,"./createContentHtml":280}],284:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){_jquery2.default.ui.autocomplete.prototype._renderItem=function(e,u){const[t,r]=u.label.split("@");return(0,_jquery2.default)("<li>").append((0,_jquery2.default)(`<div>${t} <i class="fa fa-globe"></i>${r}</div>`)).appendTo(e)},_jquery2.default.ui.autocomplete.prototype._resizeMenu=function(){}};var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}require("jquery-ui/ui/widgets/autocomplete");

},{"jquery":116,"jquery-ui/ui/widgets/autocomplete":107}],285:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.querySelector(`${t} input`)&&e.querySelector(`${t} input`).value};

},{}],286:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){t?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled")};

},{}],287:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,s,n){if(!e)return void n(t);const a=new XMLHttpRequest,r=new URL(e,location);r.searchParams.append("term",s),a.open("GET",r.href,!0),a.onload=function(){if(this.status>=200&&this.status<400){const e=JSON.parse(this.response).filter(e=>0===t.filter(t=>e.id===t.raw.id).length).map(e=>({label:`${e.label}@${e.id}`,raw:e}));n(t.concat(e))}},a.send()};

},{}],288:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,u){(0,_jquery2.default)(e).autocomplete({source:(e,i)=>{t&&(t.innerText=""),(0,_searchTerm2.default)(r,u(e.term),e.term,i)},minLength:3,select:(r,u)=>(0,_select2.default)(e,t,u)})};var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_searchTerm=require("../searchTerm"),_searchTerm2=_interopRequireDefault(_searchTerm),_select=require("./select"),_select2=_interopRequireDefault(_select),_customizeJqueryUiAutocomplete=require("../customize-jquery-ui-autocomplete"),_customizeJqueryUiAutocomplete2=_interopRequireDefault(_customizeJqueryUiAutocomplete);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}(0,_customizeJqueryUiAutocomplete2.default)();

},{"../customize-jquery-ui-autocomplete":284,"../searchTerm":287,"./select":289,"jquery":116}],289:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return e.value=r.item.raw.id,t&&(t.innerText=r.item.raw.label),!1};

},{}],290:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const htmlTemplate=exports.htmlTemplate='\n<div class="textae-control textae-context-menu">\n  <p class="textae-control__title">\n    <a href="http://textae.pubannotation.org/" target="_blank">TextAE</a>\n  </p>\n  {{#buttonGroup}}\n  <p class="textae-control__separator"></p>\n    {{#list}}\n  <p class="textae-control__icon textae-control__{{type}}-button" data-button-type="{{type}}">{{title}}</p>\n    {{/list}}\n  {{/buttonGroup}}\n</div>\n';

},{}],291:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Control=require("../Control"),_Control2=_interopRequireDefault(_Control),_htmlTemplate=require("./htmlTemplate");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _Control2.default{constructor(e){super(_htmlTemplate.htmlTemplate,e)}show(e,t){super.el.setAttribute("style",`top: ${e}px; left: ${t}px`),super.el.classList.remove("textae-context-menu--hide"),super.el.classList.add("textae-context-menu--show")}hide(){this._isOpen&&(super.el.classList.remove("textae-context-menu--show"),super.el.classList.add("textae-context-menu--hide"))}get _isOpen(){return super.el.classList.contains("textae-context-menu--show")}};

},{"../Control":293,"./htmlTemplate":290}],292:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const o=e=>{if(e.currentTarget.classList.contains("textae-control__icon--disabled"))return;const o=e.currentTarget.dataset.buttonType;t.api.handleButtonClick(o)};for(const t of e.querySelectorAll(".textae-control__icon"))"help"===t.dataset.buttonType?t.addEventListener("click",()=>helpDialog.open()):t.addEventListener("click",o)};var _HelpDialog=require("../../component/HelpDialog"),_HelpDialog2=_interopRequireDefault(_HelpDialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const helpDialog=new _HelpDialog2.default;

},{"../../component/HelpDialog":238}],293:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _dohtml=require("dohtml"),_dohtml2=_interopRequireDefault(_dohtml),_bindEventHandler=require("./bindEventHandler"),_bindEventHandler2=_interopRequireDefault(_bindEventHandler),_updateAllButtonEnableState=require("./updateAllButtonEnableState"),_updateAllButtonEnableState2=_interopRequireDefault(_updateAllButtonEnableState),_updateButtonPushState=require("./updateButtonPushState"),_updateButtonPushState2=_interopRequireDefault(_updateButtonPushState),_toContentHtml=require("./toContentHtml/toContentHtml"),_toContentHtml2=_interopRequireDefault(_toContentHtml);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e){const u=_dohtml2.default.create((0,_toContentHtml2.default)(t));this._el=u,(0,_bindEventHandler2.default)(this._el,e)}get el(){return this._el}updateAllButtonEnableState(t){(0,_updateAllButtonEnableState2.default)(this._el,t)}updateButtonPushState(t,e){(0,_updateButtonPushState2.default)(this._el,t,e)}};

},{"./bindEventHandler":292,"./toContentHtml/toContentHtml":295,"./updateAllButtonEnableState":296,"./updateButtonPushState":298,"dohtml":51}],294:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const buttonMap=exports.buttonMap={buttonGroup:[{list:[{type:"read",title:"Import [I]"},{type:"write",title:"Upload [U]"}]},{list:[{type:"view",title:"View Mode"},{type:"term",title:"Term Edit Mode"},{type:"relation",title:"Relation Edit Mode"}]},{list:[{type:"simple",title:"Simple View"},{type:"line-height",title:"Adjust LineHeight"}]},{list:[{type:"undo",title:"Undo [Z]"},{type:"redo",title:"Redo [A]"}]},{list:[{type:"replicate",title:"Replicate span annotation [R]"},{type:"replicate-auto",title:"Auto replicate"},{type:"boundary-detection",title:"Boundary Detection [B]"}]},{list:[{type:"entity",title:"New entity [E]"},{type:"pallet",title:"Show label list editor [Q]"},{type:"change-label",title:"Change label [W]"}]},{list:[{type:"negation",title:"Negation [X]"},{type:"speculation",title:"Speculation [S]"}]},{list:[{type:"delete",title:"Delete [D]"},{type:"copy",title:"Copy [C]"},{type:"paste",title:"Paste [V]"}]},{list:[{type:"setting",title:"Setting"}]},{list:[{type:"help",title:"Help [H]"}]}]};

},{}],295:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return _handlebars2.default.compile(e)(_buttonMap.buttonMap)};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars),_buttonMap=require("./buttonMap");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./buttonMap":294,"handlebars":88}],296:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const u=Object.assign({},t,ALWAYS_ENABLES);(0,_updateButtons2.default)(e,u)};var _updateButtons=require("./updateButtons"),_updateButtons2=_interopRequireDefault(_updateButtons);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const ALWAYS_ENABLES={read:!0,write:!0,help:!0};

},{"./updateButtons":297}],297:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(const o of e.querySelectorAll(".textae-control__icon")){!0===t[o.dataset.buttonType]?o.classList.remove("textae-control__icon--disabled"):o.classList.add("textae-control__icon--disabled")}};

},{}],298:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){const s=e.querySelector(`.textae-control__${t}-button`);o?s.classList.add("textae-control__icon--pushed"):s.classList.remove("textae-control__icon--pushed")};

},{}],299:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const htmlTemplate=exports.htmlTemplate='\n<div class="textae-control textae-control-bar">\n  <span class="textae-control__title">\n    <a href="http://textae.pubannotation.org/" target="_blank">TextAE</a>\n  </span>\n  {{#buttonGroup}}\n  <span class="textae-control__separator"></span>\n    {{#list}}\n  <span class="textae-control__icon textae-control__{{type}}-button" title="{{title}}" data-button-type="{{type}}"></span>\n    {{/list}}\n  {{/buttonGroup}}\n</div>\n';

},{}],300:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Control=require("../Control"),_Control2=_interopRequireDefault(_Control),_htmlTemplate=require("./htmlTemplate"),_transitButtonImage=require("./transitButtonImage"),_transitButtonImage2=_interopRequireDefault(_transitButtonImage);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class extends _Control2.default{constructor(t){super(_htmlTemplate.htmlTemplate,t)}transitButtonImage(t){(0,_transitButtonImage2.default)(super.el,t)}};

},{"../Control":293,"./htmlTemplate":299,"./transitButtonImage":301}],301:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){for(const o of t.querySelectorAll(".textae-control__icon")){const t=o.dataset.buttonType;!0===e[t]?o.classList.add(`textae-control__${t}-button--transit`):o.classList.remove(`textae-control__${t}-button--transit`)}};

},{}],302:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const CONFIRM_DISCARD_CHANGE_MESSAGE="There is a change that has not been saved. If you procceed now, you will lose it.";exports.default=CONFIRM_DISCARD_CHANGE_MESSAGE;

},{}],303:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor(s){this.commands=s}get kinds(){return this.commands.reduce((s,e)=>new Set([...s,...e.kind]),new Set)}get hasCommands(){return this.commands&&this.commands.length>0}isExactly(s){const e=this.kinds;return e.has(s)&&1===e.size}};

},{}],304:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor(){this.reset()}reset(){this._lastEdit=-1,this._lastSave=-1}save(){this._lastSave=this._lastEdit}set lastEdit(t){this._lastEdit=t}get hasAnythingToSave(){return this._lastEdit!==this._lastSave}};

},{}],305:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Pointer=require("./Pointer"),_Pointer2=_interopRequireDefault(_Pointer),_Commands=require("./Commands"),_Commands2=_interopRequireDefault(_Commands);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t){this._resetHistory(),this._eventEmitter=t}push(t){const i=new _Commands2.default(t);this._histories.splice(this._pointer+1,this._histories.length-this._pointer,i),this._pointer++,i.kinds.has("annotation_command")&&(this._pointerForAnnotation.lastEdit=this._pointer),i.kinds.has("configuration_command")&&(this._pointerForConfiguration.lastEdit=this._pointer),this._trigger()}next(){this._pointer++;const t=this._histories[this._pointer];return t.kinds.has("annotation_command")&&(this._pointerForAnnotation.lastEdit=this._pointer),t.kinds.has("configuration_command")&&(this._pointerForConfiguration.lastEdit=this._pointer),this._trigger(),t}prev(){const t=this._histories[this._pointer];return t.kinds.has("annotation_command")&&(this._pointerForAnnotation.lastEdit=this._getPrevPrevCommandIndexOf("annotation_command")),t.kinds.has("configuration_command")&&(this._pointerForConfiguration.lastEdit=this._getPrevPrevCommandIndexOf("configuration_command")),this._pointer--,this._trigger(),t}resetConfiguration(){this._removeConfigurationOperationsFromHistory(),this._pointerForConfiguration.reset(),this._trigger()}resetAllHistories(){this._resetHistory(),this._trigger()}annotatioSaved(){this._pointerForAnnotation.save(),this._trigger()}configurationSaved(){this._pointerForConfiguration.save(),this._trigger()}get hasAnythingToSaveAnnotation(){return this._pointerForAnnotation.hasAnythingToSave}get hasAnythingToSaveConfiguration(){return this._pointerForConfiguration.hasAnythingToSave}get hasAnythingToUndo(){return this._pointer>-1}get hasAnythingToRedo(){return this._pointer<this._histories.length-1}_getPrevPrevCommandIndexOf(t){const i=this._getPrevKindCommand(t);return void 0!==i?i:-1}_getPrevKindCommand(t){for(let i=this._pointer-1;i>=0;i--)if(this._histories[i].kinds.has(t))return i}_trigger(){this._eventEmitter.emit("textae.history.change",this)}_removeConfigurationOperationsFromHistory(){for(let t=0;t<this._histories.length;t++)this._histories[t].isExactly("configuration_command")&&(this._pointer--,this._histories.splice(t,1))}_resetHistory(){this._pointer=-1,this._histories=[],this._pointerForAnnotation=new _Pointer2.default,this._pointerForConfiguration=new _Pointer2.default}};

},{"./Commands":303,"./Pointer":304}],306:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor({id:t,subj:e,pred:i,obj:s},r){this.id=t,this.subj=e,this.pred=i,this.obj=s,this._entityContainer=r}getDataToRender(t){return{id:this.id,pred:this.pred,obj:this.obj,domId:`${t}-${this.id}`,title:`pred: ${this.pred}, value: ${this.obj}`}}get entity(){return this._entityContainer.get(this.subj)}};

},{}],307:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _AttributeModel=require("./AttributeModel"),_AttributeModel2=_interopRequireDefault(_AttributeModel),_ContatinerWithSubContainer=require("../ContatinerWithSubContainer"),_ContatinerWithSubContainer2=_interopRequireDefault(_ContatinerWithSubContainer),_mappingFunction=require("./mappingFunction"),_mappingFunction2=_interopRequireDefault(_mappingFunction);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class extends _ContatinerWithSubContainer2.default{constructor(t,e){super(t,e,"attribute",t=>(0,_mappingFunction2.default)(t,e.entity))}add(t){return super.add(new _AttributeModel2.default(t,super.entityContainer),t=>super._emit("textae.annotationData.attribute.add",t))}change(t,e,n){const r=this.get(t);return e&&(r.pred=e),n&&(r.obj=n),super._emit("textae.annotationData.attribute.change",r),r}remove(t){const e=super.remove(t);return console.assert(e,`There are no attribute ${t} to delete!`),super._emit("textae.annotationData.attribute.remove",e),e}};

},{"../ContatinerWithSubContainer":309,"./AttributeModel":306,"./mappingFunction":308}],308:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return(e=e||[]).map(e=>new _AttributeModel2.default(e,t))};var _AttributeModel=require("./AttributeModel"),_AttributeModel2=_interopRequireDefault(_AttributeModel);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./AttributeModel":306}],309:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ModelContainer=require("./ModelContainer"),_ModelContainer2=_interopRequireDefault(_ModelContainer);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ModelContainer2.default{constructor(e,t,n,r,i=null){super(e,n,r,i),this._parentContainer=t}get entityContainer(){return this._parentContainer.entity}get attributeContainer(){return this._parentContainer.attribute}get relationContainer(){return this._parentContainer.relation}};

},{"./ModelContainer":314}],310:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _TypeModel=require("../../../TypeModel"),_TypeModel2=_interopRequireDefault(_TypeModel);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e,i,s,r,n=null){this._span=s,this._typeName=r,this._id=n,this._attributeContainer=t,this._relationContaier=e,this._definedTypes=i}get id(){return this._id}set id(t){this._id=t}get span(){return this._span}set span(t){this._span=t}get type(){return new _TypeModel2.default(String(this._typeName),this._definedTypes,this)}set type(t){this._typeName=t}sameType(t,e){return this.type.name===t&&this._hasSameAttributes(e,t)}_hasSameAttributes(t){return t.length==this.attributes.length&&t.filter(t=>this.attributes.includes(t=>t.pred==t.pred&&t.obj==t.obj)).length==this.attributes.length}get attributes(){return this._attributeContainer.all.filter(t=>t.subj===this._id)}getDifferentAttributes(t){return this.attributes.filter(e=>!t.some(t=>e.pred===t.pred&&e.obj===t.obj))}get relations(){return this._relationContaier.all.filter(t=>t.obj===this.id||t.subj===this.id).map(t=>t.id)}};

},{"../../../TypeModel":389}],311:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ContatinerWithSubContainer=require("../ContatinerWithSubContainer"),_ContatinerWithSubContainer2=_interopRequireDefault(_ContatinerWithSubContainer),_EntityModel=require("./EntityModel"),_EntityModel2=_interopRequireDefault(_EntityModel),_mappingFunction=require("./mappingFunction"),_mappingFunction2=_interopRequireDefault(_mappingFunction);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ContatinerWithSubContainer2.default{constructor(e,t,n){super(t,n,"entity",t=>(0,_mappingFunction2.default)(e,super.attributeContainer,super.relationContainer,this.definedTypes,t),"T")}add(e){if(!e.span)throw new Error(`entity has no span! ${JSON.stringify(e)}`);return e instanceof _EntityModel2.default?super.add(e):super.add(new _EntityModel2.default(super.attributeContainer,super.relationContainer,this.definedTypes,e.span,e.type))}isBlock(e){return this.definedTypes&&this.definedTypes.isBlock(e)}get allRenderedTypes(){return super.all.map(e=>e.type).filter(e=>!e.isBlock).reduce((e,t)=>e.set(t.id,t),new Map).values()}};

},{"../ContatinerWithSubContainer":309,"./EntityModel":310,"./mappingFunction":312}],312:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i,o){return(o=o||[]).map(o=>new _EntityModel2.default(t,r,i,_idFactory2.default.makeSpanId(e,o.span),o.obj,o.id))};var _idFactory=require("../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory),_EntityModel=require("./EntityModel"),_EntityModel2=_interopRequireDefault(_EntityModel);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../idFactory":398,"./EntityModel":310}],313:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=addToContainer;var _getNextId=require("../getNextId"),_getNextId2=_interopRequireDefault(_getNextId);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function addToContainer(e,t,r){if(!e.id){const d=Array.from(t.keys()),u=(0,_getNextId2.default)(r,d);e.id=u}return t.set(e.id,e),e}

},{"../getNextId":330}],314:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _isFunction=require("./isFunction"),_isFunction2=_interopRequireDefault(_isFunction),_addToContainer=require("./addToContainer"),_addToContainer2=_interopRequireDefault(_addToContainer);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e,i=null,n=null){this._emitter=t,this.name=e,this.mappingFunction=i||(t=>t),this.prefix=n||e.charAt(0).toUpperCase(),this.container=new Map}addSource(t){const e=this.mappingFunction(t);e&&(e.sort((t,e)=>t.id?e.id?t.id<e.id?-1:t.id>e.id?1:0:-1:1),e.forEach(t=>(0,_addToContainer2.default)(t,this.container,this.prefix)))}add(t,e){const i=(0,_addToContainer2.default)(t,this.container,this.prefix);return(0,_isFunction2.default)(e)&&e(i),this._emit(`textae.annotationData.${this.name}.add`,i),i}get(t){return this.container.get(t)}get all(){return Array.from(this.container.values())}findByType(t){return this.all.filter(e=>e.type.name===t)}get some(){return this.container.size}changeType(t,e){const i=this.container.get(t);return i.type=e,this._emit(`textae.annotationData.${this.name}.change`,i),i}remove(t){const e=this.container.get(t);return e&&(this.container.delete(t),this._emit(`textae.annotationData.${this.name}.remove`,e)),e}clear(){this.container.clear()}_emit(t,e){this._emitter.emit(t,e)}};

},{"./addToContainer":313,"./isFunction":315}],315:[function(require,module,exports){
"use strict";function isFunction(t){return t&&"[object Function]"==={}.toString.call(t)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isFunction;

},{}],316:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _idFactory=require("../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory),_ModelContainer=require("./ModelContainer"),_ModelContainer2=_interopRequireDefault(_ModelContainer);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function mappingFunction(e,r){let t=0;return(r=r||[]).split("\n").map((r,n)=>{const o={id:_idFactory2.default.makeParagraphId(e,n),begin:t,end:t+r.length,text:r,order:n};return t+=r.length+1,o})}exports.default=class extends _ModelContainer2.default{constructor(e,r){super(r,"paragraph",r=>mappingFunction(e,r))}getBelongingTo(e){const r=super.all.filter(r=>e.begin>=r.begin&&e.end<=r.end);if(0===r.length)throw new Error("span should belong to any paragraph.");return r[0]}get all(){const e=super.all;return e.sort((e,r)=>e.order<r.order?-1:e.order>r.order?1:0),e}};

},{"../../idFactory":398,"./ModelContainer":314}],317:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _TypeModel=require("../../../TypeModel"),_TypeModel2=_interopRequireDefault(_TypeModel);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class RelationModel{constructor({id:e,pred:t,subj:i,obj:r}){this._id=e,this._typeName=t,this._subj=i,this._obj=r}get id(){return this._id}set id(e){this._id=e}get type(){return new _TypeModel2.default(this._typeName,null)}set type(e){this._typeName=e}get subj(){return this._subj}get obj(){return this._obj}}exports.default=RelationModel;

},{"../../../TypeModel":389}],318:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ModelContainer=require("../ModelContainer"),_ModelContainer2=_interopRequireDefault(_ModelContainer),_RelationModel=require("./RelationModel"),_RelationModel2=_interopRequireDefault(_RelationModel);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ModelContainer2.default{constructor(e){super(e,"relation",e=>e.map(e=>new _RelationModel2.default(e)))}add(e){return e instanceof _RelationModel2.default?super.add(e):super.add(new _RelationModel2.default({subj:e.subj,obj:e.obj,pred:e.type}))}};

},{"../ModelContainer":314,"./RelationModel":317}],319:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return[...e.map(e=>e.type).reduce((e,t)=>e.set(t.id,t),new Map).values()]};

},{}],320:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _idFactory=require("../../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory),_getTypes=require("./getTypes"),_getTypes2=_interopRequireDefault(_getTypes);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class SpanModel{constructor(e,t,i,r){this._editor=e,this._span=i,this._paragraph=t,this._entityContainer=r}get id(){return _idFactory2.default.makeSpanId(this._editor,this._span)}get begin(){return this._span.begin}get end(){return this._span.end}get paragraph(){return this._paragraph.getBelongingTo(this._span)}get types(){return(0,_getTypes2.default)(this.entities)}get entities(){return this._entityContainer.all.filter(e=>this.id===e.span)}get hasMultiEntitiesType(){return this.types.some(e=>this.entities.filter(t=>t.type.id===e.id).length>1)}getBlockEntities(e){return this.entities.filter(e=>e.type.isBlock)}}exports.default=SpanModel;

},{"../../../../idFactory":398,"./getTypes":319}],321:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.children.push(t),t.parent=e};

},{}],322:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getParet;var _isChildOf=require("./isChildOf"),_isChildOf2=_interopRequireDefault(_isChildOf);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getParet(e,t,r,i){return(0,_isChildOf2.default)(e,t,r,i)?i:i.parent?getParet(e,t,r,i.parent):null}

},{"./isChildOf":323}],323:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t,n){if(!n)return!1;const i=_idFactory2.default.makeSpanId(e,n);if(!r.get(i))throw new Error(`maybeParent is removed. { begin: ${n.begin}, end: ${n.end} }`);return n.begin<=t.begin&&t.end<=n.end};var _idFactory=require("../../../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../idFactory":398}],324:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){const a=r.sort(_spanComparator2.default),n=[];return a.map((e,t,r)=>Object.assign(e,{parent:null,children:[],left:0!==t?r[t-1]:null,right:t!==r.length-1?r[t+1]:null})).forEach(r=>{if(r.left){const a=(0,_getParent2.default)(t,e,r,r.left);a?(0,_adopt2.default)(a,r):n.push(r)}else n.push(r)}),n};var _getParent=require("./getParent"),_getParent2=_interopRequireDefault(_getParent),_adopt=require("./adopt"),_adopt2=_interopRequireDefault(_adopt),_spanComparator=require("../spanComparator"),_spanComparator2=_interopRequireDefault(_spanComparator);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../spanComparator":327,"./adopt":321,"./getParent":322}],325:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _mappingFunction=require("./mappingFunction"),_mappingFunction2=_interopRequireDefault(_mappingFunction),_createSpanTree=require("./createSpanTree"),_createSpanTree2=_interopRequireDefault(_createSpanTree),_spanComparator=require("./spanComparator"),_spanComparator2=_interopRequireDefault(_spanComparator),_updateSpanIdOfEntities=require("./updateSpanIdOfEntities"),_updateSpanIdOfEntities2=_interopRequireDefault(_updateSpanIdOfEntities),_idFactory=require("../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory),_SpanModel=require("./SpanModel"),_SpanModel2=_interopRequireDefault(_SpanModel),_ContatinerWithSubContainer=require("../ContatinerWithSubContainer"),_ContatinerWithSubContainer2=_interopRequireDefault(_ContatinerWithSubContainer);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ContatinerWithSubContainer2.default{constructor(e,t,r,a){super(t,r,"span",t=>(0,_mappingFunction2.default)(t,e,a,this.entityContainer)),this.editor=e,this.paragraph=a,this.spanTopLevel=[]}updateSpanTree(){return(0,_createSpanTree2.default)(this,this.editor,super.all)}add(e){if(e)return super.add(new _SpanModel2.default(this.editor,this.paragraph,e,this.entityContainer),()=>{this.spanTopLevel=this.updateSpanTree()});throw new Error("span is undefined.")}addSource(e){super.addSource(e),this.spanTopLevel=this.updateSpanTree()}has(e){const t=_idFactory2.default.makeSpanId(this.editor,e);return this.container.has(t)}get(e){return super.get(e)}range(e,t){let r=super.get(e),a=super.get(t);if((0,_spanComparator2.default)(r,a)>0){const e=r;r=a,a=e}return super.all.filter(e=>r.begin<=e.begin&&e.end<=a.end).map(e=>e.id)}topLevel(){return this.spanTopLevel}get hasMultiEntities(){return super.all.some(e=>e.hasMultiEntitiesType)}remove(e){const t=super.remove(e);return this.spanTopLevel=this.updateSpanTree(),t}clear(){super.clear(),this.spanTopLevel=[]}move(e,t){const r=super.remove(e),a=super.add(new _SpanModel2.default(this.editor,this.paragraph,t,this.entityContainer),t=>{this.spanTopLevel=this.updateSpanTree(),(0,_updateSpanIdOfEntities2.default)(this.entityContainer.all,e,t)});return super._emit("textae.annotationData.span.move"),[{begin:r.begin,end:r.end},a.id]}};

},{"../../../idFactory":398,"../ContatinerWithSubContainer":309,"./SpanModel":320,"./createSpanTree":324,"./mappingFunction":326,"./spanComparator":327,"./updateSpanIdOfEntities":328}],326:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,n,t){return(e=e||[]).map(e=>e.span).map(e=>new _SpanModel2.default(r,n,e,t)).filter((e,r,n)=>!(0,_isBoundaryCrossingWithOtherSpans2.default)(n.slice(0,r-1),e))};var _isBoundaryCrossingWithOtherSpans=require("../../../isBoundaryCrossingWithOtherSpans"),_isBoundaryCrossingWithOtherSpans2=_interopRequireDefault(_isBoundaryCrossingWithOtherSpans),_SpanModel=require("./SpanModel"),_SpanModel2=_interopRequireDefault(_SpanModel);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../isBoundaryCrossingWithOtherSpans":402,"./SpanModel":320}],327:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.begin-t.begin||t.end-e.end};

},{}],328:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return e.filter(e=>t===e.span).forEach(e=>{e.span=r.id}),null};

},{}],329:[function(require,module,exports){
"use strict";function clearAnnotationData(a){a.span.clear(),a.entity.clear(),a.attribute.clear(),a.relation.clear(),a.modification.clear(),a.paragraph.clear(),a.namespace.clear()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=clearAnnotationData;

},{}],330:[function(require,module,exports){
"use strict";function getNextNumber(e){return(0===e.length?0:Math.max(...e))+1}function getIssuedNumbers(e,t){return e.filter(e=>isWellFormed(t,e)).map(onlyNumber)}function isWellFormed(e,t){return new RegExp(`^${e}\\d+$`).test(t)}function onlyNumber(e){return e.slice(1)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e+getNextNumber(getIssuedNumbers(t,e))};

},{}],331:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ModelContainer=require("./ModelContainer"),_ModelContainer2=_interopRequireDefault(_ModelContainer),_ParagraphContainer=require("./ParagraphContainer"),_ParagraphContainer2=_interopRequireDefault(_ParagraphContainer),_SpanContainer=require("./SpanContainer"),_SpanContainer2=_interopRequireDefault(_SpanContainer),_AttributeContainer=require("./AttributeContainer"),_AttributeContainer2=_interopRequireDefault(_AttributeContainer),_RelationContainer=require("./RelationContainer"),_RelationContainer2=_interopRequireDefault(_RelationContainer),_EntityContainer=require("./EntityContainer"),_EntityContainer2=_interopRequireDefault(_EntityContainer),_parseDennotation=require("./parseDennotation"),_parseDennotation2=_interopRequireDefault(_parseDennotation),_clearAnnotationData=require("./clearAnnotationData"),_clearAnnotationData2=_interopRequireDefault(_clearAnnotationData),_toDenotation=require("./toDenotation"),_toDenotation2=_interopRequireDefault(_toDenotation),_toAttribute=require("./toAttribute"),_toAttribute2=_interopRequireDefault(_toAttribute),_toRelation=require("./toRelation"),_toRelation2=_interopRequireDefault(_toRelation);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t){this.sourceDoc="",this.namespace=new _ModelContainer2.default(t.eventEmitter,"namespace"),this.paragraph=new _ParagraphContainer2.default(t,t.eventEmitter),this.span=new _SpanContainer2.default(t,t.eventEmitter,this,this.paragraph),this.attribute=new _AttributeContainer2.default(t.eventEmitter,this),this.relation=new _RelationContainer2.default(t.eventEmitter),this.entity=new _EntityContainer2.default(t,t.eventEmitter,this),this.modification=new _ModelContainer2.default(t.eventEmitter,"modification"),this._editor=t}reset(t){console.assert(t.text,"This is not a json file of anntations."),(0,_clearAnnotationData2.default)(this),this.sourceDoc=t.text,this.paragraph.addSource(t.text),this.config=t.config;const e=(0,_parseDennotation2.default)(this,t);this._editor.eventEmitter.emit("textae.annotationData.paragraph.change",this.paragraph.all),this._editor.eventEmitter.emit("textae.annotationData.all.change",this,e.multitrack,e.rejects)}toJson(){return{denotations:(0,_toDenotation2.default)(this),attributes:(0,_toAttribute2.default)(this),relations:(0,_toRelation2.default)(this),modifications:this.modification.all}}getModificationOf(t){return this.modification.all.filter(e=>e.obj===t)}};

},{"./AttributeContainer":307,"./EntityContainer":311,"./ModelContainer":314,"./ParagraphContainer":316,"./RelationContainer":318,"./SpanContainer":325,"./clearAnnotationData":329,"./parseDennotation":333,"./toAttribute":359,"./toDenotation":360,"./toRelation":361}],332:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){o&&(o=o.map(t)),e.forEach(e=>{e.addSource(o)})};

},{}],333:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,a){const t=(0,_parseTracks2.default)(e.span,e.entity,e.attribute,e.relation,e.modification,e.paragraph,a.text,a),r=(0,_parseAnnotation2.default)(e.span,e.entity,e.attribute,e.relation,e.modification,e.paragraph,a.text,a);return r.name="Root annotations.",(0,_namespace2.default)(e.namespace,a.namespaces),{multitrack:t[0],rejects:[r].concat(t[1])}};var _parseAnnotation=require("./parseAnnotation"),_parseAnnotation2=_interopRequireDefault(_parseAnnotation),_namespace=require("./namespace"),_namespace2=_interopRequireDefault(_namespace),_parseTracks=require("./parseTracks"),_parseTracks2=_interopRequireDefault(_parseTracks);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./namespace":334,"./parseAnnotation":345,"./parseTracks":358}],334:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r){(0,_importSource2.default)([e],e=>Object.assign({},e),r)};var _importSource=require("./importSource"),_importSource2=_interopRequireDefault(_importSource);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./importSource":332}],335:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,r){(0,_importSource2.default)([t],t=>(0,_translateAttribute2.default)(r,t),e)};var _importSource=require("../../importSource"),_importSource2=_interopRequireDefault(_importSource),_translateAttribute=require("./translateAttribute"),_translateAttribute2=_interopRequireDefault(_translateAttribute);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"../../importSource":332,"./translateAttribute":340}],336:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,o){(0,_importSource2.default)([e,t],e=>(0,_translateDenotation2.default)(o,e),r)};var _importSource=require("../../importSource"),_importSource2=_interopRequireDefault(_importSource),_translateDenotation=require("./translateDenotation"),_translateDenotation2=_interopRequireDefault(_translateDenotation);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../importSource":332,"./translateDenotation":342}],337:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){(0,_importSource2.default)([e],e=>(0,_translateModification2.default)(r,e),t)};var _importSource=require("../../importSource"),_importSource2=_interopRequireDefault(_importSource),_translateModification=require("./translateModification"),_translateModification2=_interopRequireDefault(_translateModification);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../importSource":332,"./translateModification":343}],338:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){(0,_importSource2.default)([e],e=>(0,_translateRelation2.default)(r,e),t)};var _importSource=require("../../importSource"),_importSource2=_interopRequireDefault(_importSource),_translateRelation=require("./translateRelation"),_translateRelation2=_interopRequireDefault(_translateRelation);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../importSource":332,"./translateRelation":344}],339:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.id?t+e.id:null};

},{}],340:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e=e||"",Object.assign({},t,{id:(0,_setIdPrefixIfExist2.default)(t,e),subj:e+t.subj,obj:t.obj})};var _setIdPrefixIfExist=require("./setIdPrefixIfExist"),_setIdPrefixIfExist2=_interopRequireDefault(_setIdPrefixIfExist);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./setIdPrefixIfExist":339}],341:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return Object.assign({},e,{begin:parseInt(e.begin),end:parseInt(e.end)})};

},{}],342:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e=e||"",Object.assign({},t,{id:(0,_setIdPrefixIfExist2.default)(t,e),span:(0,_convertBeginAndEndToInteger2.default)(t.span)})};var _setIdPrefixIfExist=require("../setIdPrefixIfExist"),_setIdPrefixIfExist2=_interopRequireDefault(_setIdPrefixIfExist),_convertBeginAndEndToInteger=require("./convertBeginAndEndToInteger"),_convertBeginAndEndToInteger2=_interopRequireDefault(_convertBeginAndEndToInteger);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../setIdPrefixIfExist":339,"./convertBeginAndEndToInteger":341}],343:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e=e||"",Object.assign({},t,{id:(0,_setIdPrefixIfExist2.default)(t,e),obj:e+t.obj})};var _setIdPrefixIfExist=require("./setIdPrefixIfExist"),_setIdPrefixIfExist2=_interopRequireDefault(_setIdPrefixIfExist);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./setIdPrefixIfExist":339}],344:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e=e||"",Object.assign({},t,{id:(0,_setIdPrefixIfExist2.default)(t,e),subj:e+t.subj,obj:e+t.obj})};var _setIdPrefixIfExist=require("./setIdPrefixIfExist"),_setIdPrefixIfExist2=_interopRequireDefault(_setIdPrefixIfExist);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./setIdPrefixIfExist":339}],345:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,i,o,n,a,r,u,_){const d=(0,_validateAnnotation2.default)(r,a,u);return(0,_denotation2.default)(t,e,d.accept.denotation,_),(0,_attribute2.default)(i,d.accept.attribute,_),(0,_relation2.default)(o,d.accept.relation,_),(0,_modification2.default)(n,d.accept.modification,_),d.reject};var _validateAnnotation=require("./validateAnnotation"),_validateAnnotation2=_interopRequireDefault(_validateAnnotation),_denotation=require("./importAnnotation/denotation"),_denotation2=_interopRequireDefault(_denotation),_attribute=require("./importAnnotation/attribute"),_attribute2=_interopRequireDefault(_attribute),_relation=require("./importAnnotation/relation"),_relation2=_interopRequireDefault(_relation),_modification=require("./importAnnotation/modification"),_modification2=_interopRequireDefault(_modification);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./importAnnotation/attribute":335,"./importAnnotation/denotation":336,"./importAnnotation/modification":337,"./importAnnotation/relation":338,"./validateAnnotation":346}],346:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,a){const i=(0,_validateDenotation2.default)(t,e,a.denotations),r=(0,_validateAttribute2.default)(i.accept,a.attributes),o=(0,_validateRelation2.default)(i.accept,a.relations),n=(0,_validateModificatian2.default)(i.accept,o.accept,a.modifications);return{accept:{denotation:i.accept,attribute:r.accept,relation:o.accept,modification:n.accept},reject:{denotationHasLength:i.reject.hasLength,denotationInText:i.reject.inText,denotationInParagraph:i.reject.inParagraph,denotationIsNotCrossing:i.reject.isNotCrossing,attributeObj:o.reject.obj,attributeSubj:o.reject.subj,relationObj:o.reject.obj,relationSubj:o.reject.subj,modification:n.reject.modification,hasError:i.hasError||r.hasError||o.hasError||n.hasError}}};var _validateDenotation=require("./validateDenotation"),_validateDenotation2=_interopRequireDefault(_validateDenotation),_validateAttribute=require("./validateAttribute"),_validateAttribute2=_interopRequireDefault(_validateAttribute),_validateRelation=require("./validateRelation"),_validateRelation2=_interopRequireDefault(_validateRelation),_validateModificatian=require("./validateModificatian"),_validateModificatian2=_interopRequireDefault(_validateModificatian);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./validateAttribute":350,"./validateDenotation":352,"./validateModificatian":356,"./validateRelation":357}],347:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return!!t.dictionary&&1===t.dictionary.filter(r=>r.id===e[t.property]).length};

},{}],348:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return{accept:[],reject:e||[]}};

},{}],349:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,u){return e?e.reduce((e,r,c,n)=>acceptIf(t,u,e,r,c,n),new _Reject2.default):new _Reject2.default};var _Reject=require("./Reject"),_Reject2=_interopRequireDefault(_Reject);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function acceptIf(e,t,u,r,c,n){return e(r,t,c,n)?u.accept.push(r):u.reject.push(r),u}

},{"./Reject":348}],350:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const a=(0,_validate2.default)(t,_isContains2.default,{property:"obj",dictionary:e}),i=(0,_validate2.default)(t,_isContains2.default,{property:"subj",dictionary:e}),r=a.reject.length+i.reject.length;return{accept:i.accept,reject:{obj:a.reject,subj:i.reject,hasError:0!==r}}};var _validate=require("./validate"),_validate2=_interopRequireDefault(_validate),_isContains=require("./isContains"),_isContains2=_interopRequireDefault(_isContains);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isContains":347,"./validate":349}],351:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.span.end-e.span.begin>0};

},{}],352:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a){const r=(0,_validate2.default)(a,_hasLength2.default),n=(0,_validate2.default)(r.accept,_isBeginAndEndIn2.default,e),i=(0,_validate2.default)(n.accept,_isInParagraph2.default,t),s=(0,_validate2.default)(i.accept,(e,t,a,r)=>{const n=r.slice(0,a).map(e=>e.span);return!(0,_isBoundaryCrossingWithOtherSpans2.default)(n,e.span)}),u=r.reject.length+n.reject.length+i.reject.length+s.reject.length;return{accept:s.accept,reject:{hasLength:r.reject,inText:n.reject,inParagraph:i.reject,isNotCrossing:s.reject},hasError:0!==u}};var _validate=require("../validate"),_validate2=_interopRequireDefault(_validate),_isBoundaryCrossingWithOtherSpans=require("../../../../../../isBoundaryCrossingWithOtherSpans"),_isBoundaryCrossingWithOtherSpans2=_interopRequireDefault(_isBoundaryCrossingWithOtherSpans),_hasLength=require("./hasLength"),_hasLength2=_interopRequireDefault(_hasLength),_isBeginAndEndIn=require("./isBeginAndEndIn"),_isBeginAndEndIn2=_interopRequireDefault(_isBeginAndEndIn),_isInParagraph=require("./isInParagraph"),_isInParagraph2=_interopRequireDefault(_isInParagraph);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../../isBoundaryCrossingWithOtherSpans":402,"../validate":349,"./hasLength":351,"./isBeginAndEndIn":353,"./isInParagraph":354}],353:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return(0,_isInText2.default)(e.span.begin,t)&&(0,_isInText2.default)(e.span.end,t)};var _isInText=require("./isInText"),_isInText2=_interopRequireDefault(_isInText);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isInText":355}],354:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n){return 1===n.all.filter(n=>n.begin<=e.span.begin&&e.span.end<=n.end).length};

},{}],355:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return 0<=e&&e<=t.length};

},{}],356:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){const a=(0,_validate2.default)(i,_isContains2.default,{property:"obj",dictionary:e.concat(t)});return{accept:a.accept,reject:{modification:a.reject,hasError:0!==a.reject.length}}};var _validate=require("./validate"),_validate2=_interopRequireDefault(_validate),_isContains=require("./isContains"),_isContains2=_interopRequireDefault(_isContains);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isContains":347,"./validate":349}],357:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const a=(0,_validate2.default)(t,_isContains2.default,{property:"obj",dictionary:e}),i=(0,_validate2.default)(a.accept,_isContains2.default,{property:"subj",dictionary:e}),r=a.reject.length+i.reject.length;return{accept:i.accept,reject:{obj:a.reject,subj:i.reject,hasError:0!==r}}};var _validate=require("./validate"),_validate2=_interopRequireDefault(_validate),_isContains=require("./isContains"),_isContains2=_interopRequireDefault(_isContains);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isContains":347,"./validate":349}],358:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,r,a,o,u,s){if(!s.tracks)return[!1,[]];const i=s.tracks;return delete s.tracks,[!0,i.map((s,i)=>{const c=i+1,p=`track${c}_`,_=(0,_parseAnnotation2.default)(e,t,n,r,a,o,u,s,p);return _.name=`Track ${c} annotations.`,_})]};var _parseAnnotation=require("./parseAnnotation"),_parseAnnotation2=_interopRequireDefault(_parseAnnotation);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./parseAnnotation":345}],359:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.attribute.all.map(e=>({id:e.id,subj:e.subj,pred:e.pred,obj:e.obj}))};

},{}],360:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.entity.all.filter(n=>e.span.get(n.span)).map(n=>{const t=e.span.get(n.span);return{id:n.id,span:{begin:t.begin,end:t.end},obj:n.type.name}})};

},{}],361:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.relation.all.map(e=>({id:e.id,pred:e.type.name,subj:e.subj,obj:e.obj}))};

},{}],362:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const r=(0,_getForwardMatchTypes2.default)(e.ids(),t);return 0===r.length?null:e.get((0,_getLongestIdMatchType2.default)(r))};var _getForwardMatchTypes=require("./getForwardMatchTypes"),_getForwardMatchTypes2=_interopRequireDefault(_getForwardMatchTypes),_getLongestIdMatchType=require("./getLongestIdMatchType"),_getLongestIdMatchType2=_interopRequireDefault(_getLongestIdMatchType);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getForwardMatchTypes":363,"./getLongestIdMatchType":364}],363:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const o=[];for(const s of e)-1!==s.indexOf("*")&&0===t.indexOf(s.slice(0,-1))&&o.push(s);return o};

},{}],364:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){let t="";for(const o of e)o.length>t.length&&(t=o);return t};

},{}],365:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.has(t)?e.get(t):(0,_getForwardMatchType2.default)(e,t)};var _getForwardMatchType=require("./getForwardMatchType"),_getForwardMatchType2=_interopRequireDefault(_getForwardMatchType);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getForwardMatchType":362}],366:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getConfig=require("./getConfig"),_getConfig2=_interopRequireDefault(_getConfig);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class DefinedTypeContainer{constructor(e){this._map=e.reduce((e,t)=>e.set(t.id,t),new Map)}has(e){return this._map.has(e)}get(e){return Object.assign({},this._map.get(e))}set(e,t){e!==t.id&&this._map.delete(e),this._map.set(t.id,t)}delete(e){this._map.delete(e)}ids(){return this._map.keys()}getConfig(e){return(0,_getConfig2.default)(this,e)}isBlock(e){if(this.has(e))return this.get(e).type&&"block"===this.get(e).type}labelIncludes(e){return[...this._map.values()].filter(e=>e.label).filter(t=>t.label.includes(e))}clone(){return new Map(this._map)}}exports.default=DefinedTypeContainer;

},{"./getConfig":365}],367:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.reduce((e,t)=>{const r=t.type.name;return e.has(r)?e.set(r,e.get(r)+1):e.set(r,1),e},new Map)};

},{}],368:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const o=[];for(const s of e)t.has(s)||o.push(s);return o.sort((e,t)=>e>t?1:e<t?-1:0),o};

},{}],369:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,a){const u=(0,_createCountMap2.default)(e),o=(0,_createTypesWithoutInstance2.default)(t.ids(),u);return(0,_sortByCountAndName2.default)(u).concat(o).map(e=>({id:e,label:t.has(e)&&t.get(e).label||void 0,defaultType:e===r,uri:(0,_getUrlMatches2.default)(e)?e:void 0,color:t.has(e)&&t.get(e).color||a,useNumber:u.get(e)}))};var _getUrlMatches=require("../../../../getUrlMatches"),_getUrlMatches2=_interopRequireDefault(_getUrlMatches),_createCountMap=require("../createCountMap"),_createCountMap2=_interopRequireDefault(_createCountMap),_sortByCountAndName=require("./sortByCountAndName"),_sortByCountAndName2=_interopRequireDefault(_sortByCountAndName),_createTypesWithoutInstance=require("./createTypesWithoutInstance"),_createTypesWithoutInstance2=_interopRequireDefault(_createTypesWithoutInstance);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../getUrlMatches":397,"../createCountMap":367,"./createTypesWithoutInstance":368,"./sortByCountAndName":370}],370:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=Array.from(e.keys());return t.sort((t,r)=>{const o=e.get(r)-e.get(t);return 0!==o?o:t>r?1:t<r?-1:0}),t};

},{}],371:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=(0,_createCountMap2.default)(e);if(0===t.size)return"something";const o=[...t.entries()].sort(),{mostCommonlyUsedType:r}=o.reduce(({max:e,mostCommonlyUsedType:t},[o,r])=>(r>e&&(e=r,t=o),{max:e,mostCommonlyUsedType:t}),{max:0,mostCommonlyUsedType:[o][0]});return r};var _createCountMap=require("./createCountMap"),_createCountMap2=_interopRequireDefault(_createCountMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./createCountMap":367}],372:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getUrlMatches=require("../../../getUrlMatches"),_getUrlMatches2=_interopRequireDefault(_getUrlMatches),_getDefaultTypeAutomatically=require("./getDefaultTypeAutomatically"),_getDefaultTypeAutomatically2=_interopRequireDefault(_getDefaultTypeAutomatically),_formatForPallet=require("./formatForPallet"),_formatForPallet2=_interopRequireDefault(_formatForPallet),_DefinedTypeContainer=require("./DefinedTypeContainer"),_DefinedTypeContainer2=_interopRequireDefault(_DefinedTypeContainer);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i,l,a="#555555"){this._editor=e,this._name=t,this._definedTypes=null,this._getAllInstanceFunc=i,this._defaultColor=a,this._lockStateObservable=l,l(()=>this._editor.eventEmitter.emit(`textae.typeDefinition.${this._name}.type.lock`))}set definedTypes(e){this._definedTypes=new _DefinedTypeContainer2.default(e);const t=e.find(e=>!0===e.default);t?(delete t.default,this._defaultType=t.id):this._defaultType=null}has(e){return this._definedTypes.has(e)}get(e){return this._definedTypes.get(e)}set(e,t){this._definedTypes.set(e,t),this._editor.eventEmitter.emit(`textae.typeDefinition.${this._name}.type.change`,t.id)}addDefinedType(e){if(void 0===e.color){const t=this.getColor(e.id);t!==this._defaultColor&&(e.color=t)}if(void 0===e.label){const t=this.getLabel(e.id);t&&(e.label=t)}this.set(e.id,e),this._editor.eventEmitter.emit(`textae.typeDefinition.${this._name}.type.change`,e.id)}get definedTypes(){return this._definedTypes}get config(){const e=this._definedTypes.clone();for(const{type:t}of this._getAllInstanceFunc())e.has(t.name)||e.set(t.name,{id:t.name});for(const[t,i]of e.entries()){const l=Object.assign({},i);i.id===this.defaultType?l.default=!0:delete l.default,e.set(t,l)}return[...e.values()]}get defaultType(){return this._defaultType?this._defaultType:(0,_getDefaultTypeAutomatically2.default)(this._getAllInstanceFunc())}set defaultType(e){console.assert(e,"id is necessary!"),this._defaultType=e,this._editor.eventEmitter.emit(`textae.typeDefinition.${this._name}.type.default.change`)}get defaultColor(){return this._defaultColor}getColor(e){const t=this._definedTypes.getConfig(e);return t&&t.color||this._defaultColor}getLabel(e){const t=this._definedTypes.getConfig(e);return t&&t.label}getUri(e){return(0,_getUrlMatches2.default)(e)?e:void 0}findByLabel(e){return this.definedTypes.labelIncludes(e).map(e=>({label:`${e.label}@${e.id}`,raw:e}))}get pallet(){return(0,_formatForPallet2.default)(this._getAllInstanceFunc(),this._definedTypes,this.defaultType,this._defaultColor)}delete(e){this._definedTypes.delete(e),this._editor.eventEmitter.emit(`textae.typeDefinition.${this._name}.type.change`,e)}get isLock(){return this._lockStateObservable()}};

},{"../../../getUrlMatches":397,"./DefinedTypeContainer":366,"./formatForPallet":369,"./getDefaultTypeAutomatically":371}],373:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Container=require("./Container"),_Container2=_interopRequireDefault(_Container),_createAttributeDefinition=require("./createAttributeDefinition"),_createAttributeDefinition2=_interopRequireDefault(_createAttributeDefinition);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class extends _Container2.default{constructor(t,e,i){super(t,"entity",()=>e.all,i,"#77DDDD"),this._annotationDataEntity=e}set definedTypes(t){const[e,i]=t;super.definedTypes=e||[],this._annotationDataEntity.definedTypes=this.definedTypes,this._definedAttributes=new Map((i||[]).map(t=>[t.pred,(0,_createAttributeDefinition2.default)(t)]))}createAttribute(t,e=null){null!==e&&this._definedAttributes.size!==e?this._definedAttributes=new Map(Array.from(this._definedAttributes.entries()).reduce((i,[r,n],u)=>(u===e&&i.push([t.pred,(0,_createAttributeDefinition2.default)(t)]),i.push([r,n]),i),[])):this._definedAttributes.set(t.pred,(0,_createAttributeDefinition2.default)(t)),this._editor.eventEmitter.emit("textae.typeDefinition.entity.attributeDefinition.create",t.pred)}findAttribute(t){return this._definedAttributes.get(t)}updateAttribute(t,e){return this._definedAttributes=new Map(Array.from(this._definedAttributes.entries()).map(([i,r])=>i===t?[e.pred,(0,_createAttributeDefinition2.default)(e)]:[i,r])),this._editor.eventEmitter.emit("textae.typeDefinition.entity.attributeDefinition.change",e.pred),this.findAttribute(e.pred)}deleteAttribute(t){this._definedAttributes.delete(t),this._editor.eventEmitter.emit("textae.typeDefinition.entity.attributeDefinition.delete")}get attributes(){return Array.from(this._definedAttributes.values())||[]}get definedTypes(){return this._definedTypes}get attributeConfig(){return this.attributes.map(t=>t.JSON)}isBlock(t){return this._definedTypes.isBlock(t)}hasAttributeInstance(t){return this._annotationDataEntity.attributeContainer.all.some(e=>e.pred===t)}hasSelectionAtributeValueInstance(t,e){return this._annotationDataEntity.attributeContainer.all.some(i=>i.pred===t&&i.obj==e)}getAttributeLabel(t){if(this._definedAttributes.has(t.pred))return this.findAttribute(t.pred).getLabel(t.obj)}getAttributeColor(t){if(this._definedAttributes.has(t.pred))return this.findAttribute(t.pred).getColor(t.obj)}getIndexOfAttribute(t){return Array.from(this._definedAttributes.values()).findIndex(e=>e.pred===t)}getAttributeAt(t){return Array.from(this._definedAttributes.values())[t-1]}};

},{"./Container":372,"./createAttributeDefinition":379}],374:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor(e){this.pred=e.pred,this.valueType=e["value type"]}get JSON(){return{pred:this.pred}}get _valuesClone(){console.assert(this._values,"this._values is necessary to clone!");const e=[];for(const s of this._values)e.push(Object.assign({},s));return e}};

},{}],375:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _AttributeDefinition=require("./AttributeDefinition"),_AttributeDefinition2=_interopRequireDefault(_AttributeDefinition);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _AttributeDefinition2.default{constructor(e){super(e),this.default=!0,this._label=e.label,this._color=e.color}getLabel(){return this._label?this._label:this.pred}getColor(){return this._color}get JSON(){return Object.assign(super.JSON,{"value type":"flag",default:this.default,label:this._label,color:this._color})}};

},{"./AttributeDefinition":374}],376:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _AttributeDefinition=require("../AttributeDefinition"),_AttributeDefinition2=_interopRequireDefault(_AttributeDefinition),_IntervalNotation=require("../../../../../IntervalNotation"),_IntervalNotation2=_interopRequireDefault(_IntervalNotation);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class extends _AttributeDefinition2.default{constructor(t){super(t),this.default=t.default,this.min=t.min,this.max=t.max,this.step=t.step,this._values=t.values||[]}getLabel(t){const e=this._getDef(t);return e&&e.label?e.label:t}getColor(t){const e=this._getDef(t);return e&&e.color?e.color:null}_getDef(t){const e=this._values.filter(t=>"default"!==t.range).find(e=>new _IntervalNotation2.default(e.range).test(t));if(e)return e;const i=this._values.find(t=>"default"===t.range);return i||null}get JSON(){return Object.assign(super.JSON,{"value type":"numeric",default:this.default,min:this.min,max:this.max,step:this.step,values:super._valuesClone})}};

},{"../../../../../IntervalNotation":169,"../AttributeDefinition":374}],377:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _AttributeDefinition=require("./AttributeDefinition"),_AttributeDefinition2=_interopRequireDefault(_AttributeDefinition);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _AttributeDefinition2.default{constructor(e){super(e),this._values=e.values||[]}get default(){return this.values.find(e=>e.default).id}getLabel(e){const t=this._getDef(e);if(t&&t.label)return t.label}getColor(e){const t=this._getDef(e);return t&&t.color?t.color:null}get values(){return this._values}_getDef(e){return this.values.find(t=>t.id==e)}get JSON(){return Object.assign(super.JSON,{"value type":"selection",values:super._valuesClone})}};

},{"./AttributeDefinition":374}],378:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _AttributeDefinition=require("./AttributeDefinition"),_AttributeDefinition2=_interopRequireDefault(_AttributeDefinition);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class extends _AttributeDefinition2.default{constructor(t){super(t),this.autocompletionWs=t.autocompletion_ws,this.default=t.default,this._values=t.values||[]}getLabel(t){const e=this._getDef(t);if(e&&e.label)return e.label}getColor(t){const e=this._getDef(t);return e&&e.color?e.color:null}_getDef(t){const e=this._values.filter(t=>"default"!==t.pattern).find(e=>new RegExp(e.pattern).test(t));if(e)return e;const i=this._values.find(t=>"default"===t.pattern);return i||null}get JSON(){return Object.assign(super.JSON,{"value type":"string",autocompletion_ws:this.autocompletionWs,default:this.default,values:super._valuesClone})}};

},{"./AttributeDefinition":374}],379:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){if(t instanceof _AttributeDefinition2.default)throw new Error("Give me hash object instead of an AttributeDefinition instance");switch(t["value type"]){case"flag":return new _FlagAttributeDefinition2.default(t);case"numeric":return new _NumericAttributeDefinition2.default(t);case"selection":return new _SelectionAttributeDefinition2.default(t);case"string":return new _StringAttributeDefinition2.default(t);default:throw new Error(`${t["value type"]} of ${JSON.stringify(t)} is Uknown Attribute`)}};var _FlagAttributeDefinition=require("./FlagAttributeDefinition"),_FlagAttributeDefinition2=_interopRequireDefault(_FlagAttributeDefinition),_NumericAttributeDefinition=require("./NumericAttributeDefinition"),_NumericAttributeDefinition2=_interopRequireDefault(_NumericAttributeDefinition),_SelectionAttributeDefinition=require("./SelectionAttributeDefinition"),_SelectionAttributeDefinition2=_interopRequireDefault(_SelectionAttributeDefinition),_StringAttributeDefinition=require("./StringAttributeDefinition"),_StringAttributeDefinition2=_interopRequireDefault(_StringAttributeDefinition),_AttributeDefinition=require("./AttributeDefinition"),_AttributeDefinition2=_interopRequireDefault(_AttributeDefinition);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./AttributeDefinition":374,"./FlagAttributeDefinition":375,"./NumericAttributeDefinition":376,"./SelectionAttributeDefinition":377,"./StringAttributeDefinition":378}],380:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _observ=require("observ"),_observ2=_interopRequireDefault(_observ),_EntityContainer=require("./EntityContainer"),_EntityContainer2=_interopRequireDefault(_EntityContainer),_Container=require("./Container"),_Container2=_interopRequireDefault(_Container);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e){this._editor=t,this._lockStateObservable=new _observ2.default(!1),this._entityContainer=new _EntityContainer2.default(t,e.entity,this._lockStateObservable),this._relationContainer=new _Container2.default(t,"relation",()=>e.relation.all,this._lockStateObservable)}isLock(){return this._lockStateObservable()}lockEdit(){this._lockStateObservable.set(!0)}unlockEdit(){this._lockStateObservable.set(!1)}get entity(){return this._entityContainer}setTypeConfig(t){t?(this._entityContainer.definedTypes=[t["entity types"]||[],t["attribute types"]||[]],this._relationContainer.definedTypes=t["relation types"]||[],this.autocompletionWs=t.autocompletion_ws):(this._entityContainer.definedTypes=[],this._relationContainer.definedTypes=[],this.autocompletionWs=""),this._editor.eventEmitter.emit("textae.typeDefinition.reset")}get relation(){return this._relationContainer}get config(){const t={};return this._entityContainer.config.length&&(t["entity types"]=this._entityContainer.config),this._relationContainer.config.length&&(t["relation types"]=this._relationContainer.config),this._entityContainer.attributeConfig.length&&(t["attribute types"]=this._entityContainer.attributeConfig),t}};

},{"./Container":372,"./EntityContainer":373,"observ":141}],381:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _add=require("./add"),_add2=_interopRequireDefault(_add),_single=require("./single"),_single2=_interopRequireDefault(_single),_toggle=require("./toggle"),_toggle2=_interopRequireDefault(_toggle),_remove=require("./remove"),_remove2=_interopRequireDefault(_remove),_clear=require("./clear"),_clear2=_interopRequireDefault(_clear);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i){this._emitter=e,this._kindName=t,this._selected=new Set,this._annotationData=i}add(e){(0,_add2.default)(this._selected,this._emitter,this._kindName,e)}has(e){return this._selected.has(e)}get all(){return Array.from(this._selected.values()).map(e=>this._annotationData[this._kindName].get(e))}get size(){return this._selected.size}get some(){return this.size>0}single(){return(0,_single2.default)(this._selected)}toggle(e){(0,_toggle2.default)(this._selected,this._emitter,this._kindName,e)}remove(e){(0,_remove2.default)(this._selected,this._emitter,this._kindName,e)}clear(){(0,_clear2.default)(this._selected,this._emitter,this._kindName)}};

},{"./add":382,"./clear":383,"./remove":385,"./single":386,"./toggle":387}],382:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,a){a.forEach?a.forEach(a=>{e.add(a),t.emit(`textae.selection.${r}.select`,a),(0,_triggerChange2.default)(t,r)}):(e.add(a),t.emit(`textae.selection.${r}.select`,a),(0,_triggerChange2.default)(t,r))};var _triggerChange=require("./triggerChange"),_triggerChange2=_interopRequireDefault(_triggerChange);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./triggerChange":388}],383:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t){0!==e.size&&(e.forEach(u=>(0,_remove2.default)(e,r,t,u)),(0,_triggerChange2.default)(r,t))};var _triggerChange=require("./triggerChange"),_triggerChange2=_interopRequireDefault(_triggerChange),_remove=require("./remove"),_remove2=_interopRequireDefault(_remove);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./remove":385,"./triggerChange":388}],384:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _IdContainer=require("./IdContainer"),_IdContainer2=_interopRequireDefault(_IdContainer),_modelToId=require("../modelToId"),_modelToId2=_interopRequireDefault(_modelToId),_getPaneDomOfType=require("../getPaneDomOfType"),_getPaneDomOfType2=_interopRequireDefault(_getPaneDomOfType);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const kinds=["span","entity","relation"];exports.default=class{constructor(e,t){this._map=new Map(kinds.map(a=>[a,new _IdContainer2.default(e,a,t)])),this._map.forEach((e,t)=>{this[t]=e}),this.entity.isSamePredAttrributeSelected=(e=>this.entity.all.some(t=>t.attributes.find(t=>t.pred===e))),this.entity.findSelectedWithSamePredicateAttribute=(e=>this.entity.all.find(t=>t.attributes.find(t=>t.pred===e.pred)));const a=new Map([["textae.annotationData.all.change",()=>this.clear()],["textae.annotationData.span.remove",e=>this.span.remove((0,_modelToId2.default)(e))],["textae.annotationData.entity.remove",e=>this.entity.remove((0,_modelToId2.default)(e))],["textae.annotationData.relation.remove",e=>this.relation.remove((0,_modelToId2.default)(e))]]);for(const t of a)e.on(t[0],t[1])}add(e,t){console.assert(this[e]),this[e].add(t)}get some(){return Array.from(this._map.values()).reduce((e,t)=>e||t.some,!1)}clear(){this._map.forEach(e=>e.clear())}selectSpan(e,t){e&&(t?this.span.add(e.id):this.selectSingleSpanById(e.id))}selectSingleSpanById(e){e&&(this.clear(),this.span.add(e))}selectEntity(e,t){e&&(t||this.clear(),this.entity.add(e.title))}selectEntityLabel(e,t){if(e){const a=(0,_getPaneDomOfType2.default)(e).children;t||this.clear(),this.entity.add(Array.from(a).map(e=>e.title))}}};

},{"../getPaneDomOfType":395,"../modelToId":405,"./IdContainer":381}],385:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i){e.delete(i),t.emit(`textae.selection.${r}.deselect`,i),(0,_triggerChange2.default)(t,r)};var _triggerChange=require("./triggerChange"),_triggerChange2=_interopRequireDefault(_triggerChange);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./triggerChange":388}],386:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return 1===e.size?e.values().next().value:null};

},{}],387:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t,u){e.has(u)?(0,_remove2.default)(e,r,t,u):(0,_add2.default)(e,r,t,u)};var _add=require("./add"),_add2=_interopRequireDefault(_add),_remove=require("./remove"),_remove2=_interopRequireDefault(_remove);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./add":382,"./remove":385}],388:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.emit(`textae.selection.${t}.change`)};

},{}],389:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _makeTypeId=require("./makeTypeId"),_makeTypeId2=_interopRequireDefault(_makeTypeId),_getLabel=require("../getLabel"),_getLabel2=_interopRequireDefault(_getLabel),_getUri=require("../getUri"),_getUri2=_interopRequireDefault(_getUri);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,r){this._name=e,this._definedTypes=t,this._entity=r}get name(){return this._name}get id(){return(0,_makeTypeId2.default)(this._entity)}get attributes(){return this._entity?this._entity.attributes:[]}withSamePredicateAttribute(e){return this.attributes.some(t=>t.pred===e)}withoutSamePredicateAttribute(e){return this.attributes.every(t=>t.pred!==e)}get isBlock(){return this._definedTypes&&this._definedTypes.isBlock(this._name)}mergeType(e){e.name=this._name;for(const t of this.attributes)e.attributes.some(e=>e.pred===t.pred)||e.attributes.push(t);return e}toDomInfo(e,t){const r=this.id,i=this.name;return{id:r,label:(0,_getLabel2.default)(e,i,t.getLabel(i)),href:(0,_getUri2.default)(e,i,t.getUri(i)),color:t.getColor(i),attributes:this._toAttributesForDom(e,t)}}_toAttributesForDom(e,t){return this.attributes.map(r=>Object.assign({},r,{domId:`${this.id}-${r.id}`,title:`pred: ${r.pred}, value: ${r.obj}`,label:(0,_getLabel2.default)(e,"string"==typeof r.obj?r.obj:"",t.getAttributeLabel(r)),href:(0,_getUri2.default)(e,"string"==typeof r.obj?r.obj:""),color:t.getAttributeColor(r)}))}};

},{"../getLabel":393,"../getUri":396,"./makeTypeId":390}],390:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=e.attributes.map(e=>e.pred+e.obj).join(","),n=`${e.type.name}${t}`;return-1===typeCounter.indexOf(n)&&typeCounter.push(n),`${e.span}-${typeCounter.indexOf(n)}`};const typeCounter=[];

},{}],391:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){let r=!1;const a=new _observ2.default(!1);e.eventEmitter.on("textae.history.change",e=>{a.set(r||e.hasAnythingToSaveAnnotation)}),e.eventEmitter.on("textae.dataAccessObject.annotation.save",()=>{a.set(!1),r=!1}),e.eventEmitter.on("textae.annotationData.all.change",(e,t,o)=>{(t||(0,_hasError2.default)(o))&&(a.set(!0),r=!0),a.set(!1)}),a(e=>{t.buttonStateHelper.transit("write",e)})};var _observ=require("observ"),_observ2=_interopRequireDefault(_observ),_hasError=require("../../hasError"),_hasError2=_interopRequireDefault(_hasError);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../hasError":813,"observ":141}],392:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if((0,_isUri2.default)(e)){const t=(0,_getUrlMatches2.default)(e);if(t)return t[9]?t[9].slice(1):t[6]?t[6]+(t[7]||""):t[5]&&t[5].length>1?t[5].split("/").filter(e=>""!==e).pop():t[3]}return e};var _isUri=require("../isUri"),_isUri2=_interopRequireDefault(_isUri),_getUrlMatches=require("../getUrlMatches"),_getUrlMatches2=_interopRequireDefault(_getUrlMatches);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../getUrlMatches":397,"../isUri":404}],393:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){if(r)return r;if((0,_isUri2.default)(t))return(0,_getDisplayName2.default)(t);const i=(0,_getMatchPrefix2.default)(e,t);return i?t.replace(`${i.prefix}:`,""):t};var _isUri=require("../isUri"),_isUri2=_interopRequireDefault(_isUri),_getMatchPrefix=require("../getMatchPrefix"),_getMatchPrefix2=_interopRequireDefault(_getMatchPrefix),_getDisplayName=require("./getDisplayName"),_getDisplayName2=_interopRequireDefault(_getDisplayName);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../getMatchPrefix":394,"../isUri":404,"./getDisplayName":392}],394:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const r=e.all.filter(e=>"_base"!==e.prefix).filter(e=>0===t.indexOf(`${e.prefix}:`));return 1===r.length?r[0]:null};

},{}],395:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.closest(".textae-editor__type").querySelector(".textae-editor__entity-pane")};

},{}],396:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,i){if((0,_isUri2.default)(r))return r;if(i)return i;if(e.some){const i=(0,_getMatchPrefix2.default)(e,r);if(i)return`${i.uri}${r.replace(`${i.prefix}:`,"")}`;const t=e.all.find(e=>"_base"===e.prefix);if(t)return`${t.uri}${r}`}return null};var _isUri=require("./isUri"),_isUri2=_interopRequireDefault(_isUri),_getMatchPrefix=require("./getMatchPrefix"),_getMatchPrefix2=_interopRequireDefault(_getMatchPrefix);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getMatchPrefix":394,"./isUri":404}],397:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(s){return/\(?(?:(http|https|ftp):\/\/)?(?:((?:[^\W\s]|\.|-|[:]{1})+)@{1})?((?:www.)?(?:[^\W\s]|\.|-)+[.][^\W\s]{2,4}|localhost|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})(?::(\d*))?([/]?[^\s?]*[/]{1})*(?:\/?([^\s\n?[\]{}#]*(?:(?=\.)){1}|[^\s\n?[\]{}.#]*)?([.]{1}[^\s?#]*)?)?(?:\?{1}([^\s\n#[\]]*))?([#][^\s\n]*)?\)?/gi.exec(s)};

},{}],398:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _makeTypePrefix=require("./makeTypePrefix"),_makeTypePrefix2=_interopRequireDefault(_makeTypePrefix),_makeId=require("./makeId"),_makeId2=_interopRequireDefault(_makeId);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default={makeSpanId:(e,a)=>`${(0,_makeTypePrefix2.default)(e.editorId,"S")}${a.begin}_${a.end}`,makeEntityDomId:(e,a)=>(0,_makeId2.default)(e.editorId,"E",a.replace(/[:.]/g,"")),makeParagraphId:(e,a)=>(0,_makeId2.default)(e.editorId,"P",a)};

},{"./makeId":399,"./makeTypePrefix":400}],399:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t){return(0,_makeTypePrefix2.default)(e,r)+t};var _makeTypePrefix=require("./makeTypePrefix"),_makeTypePrefix2=_interopRequireDefault(_makeTypePrefix);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./makeTypePrefix":400}],400:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return`${e}__${t}`};

},{}],401:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){this.eventEmitter=new _events.EventEmitter;const e=new _AnnotationData2.default(this),t=new _Selection2.default(this.eventEmitter,e),r=new _History2.default(this.eventEmitter),a={clipBoard:[]},o=new _ButtonController2.default(this,e,t,a),n=new _DataAccessObject2.default(this,_CONFIRM_DISCARD_CHANGE_MESSAGE2.default);return(0,_bindUpdateSaveButton2.default)(this,o),(0,_observeDataSave2.default)(this,r),(0,_observeHistoryChange2.default)(this,o.buttonStateHelper,_CONFIRM_DISCARD_CHANGE_MESSAGE2.default),(0,_observeModelChange2.default)(this,r),this.api={start:i=>(0,_start2.default)(i,n,r,o,e,t,a)},this};var _DataAccessObject=require("../component/DataAccessObject"),_DataAccessObject2=_interopRequireDefault(_DataAccessObject),_ButtonController=require("../buttonModel/ButtonController"),_ButtonController2=_interopRequireDefault(_ButtonController),_AnnotationData=require("./Model/AnnotationData"),_AnnotationData2=_interopRequireDefault(_AnnotationData),_Selection=require("./Selection"),_Selection2=_interopRequireDefault(_Selection),_History=require("./History"),_History2=_interopRequireDefault(_History),_bindUpdateSaveButton=require("./bindUpdateSaveButton"),_bindUpdateSaveButton2=_interopRequireDefault(_bindUpdateSaveButton),_start=require("./start"),_start2=_interopRequireDefault(_start),_events=require("events"),_CONFIRM_DISCARD_CHANGE_MESSAGE=require("./CONFIRM_DISCARD_CHANGE_MESSAGE"),_CONFIRM_DISCARD_CHANGE_MESSAGE2=_interopRequireDefault(_CONFIRM_DISCARD_CHANGE_MESSAGE),_observeDataSave=require("./observeDataSave"),_observeDataSave2=_interopRequireDefault(_observeDataSave),_observeHistoryChange=require("./observeHistoryChange"),_observeHistoryChange2=_interopRequireDefault(_observeHistoryChange),_observeModelChange=require("./observeModelChange"),_observeModelChange2=_interopRequireDefault(_observeModelChange);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../buttonModel/ButtonController":180,"../component/DataAccessObject":207,"./CONFIRM_DISCARD_CHANGE_MESSAGE":302,"./History":305,"./Model/AnnotationData":331,"./Selection":384,"./bindUpdateSaveButton":391,"./observeDataSave":406,"./observeHistoryChange":407,"./observeModelChange":408,"./start":792,"events":54}],402:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r){return e.filter(e=>(0,_isBoundaryCrossing2.default)(r,e)).length>0};var _isBoundaryCrossing=require("./isBoundaryCrossing"),_isBoundaryCrossing2=_interopRequireDefault(_isBoundaryCrossing);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isBoundaryCrossing":403}],403:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n){const t=n.begin<e.begin&&e.begin<n.end&&n.end<e.end,d=e.begin<n.begin&&n.begin<e.end&&e.end<n.end;return t||d};

},{}],404:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){return t.trim().startsWith("http")};

},{}],405:[function(require,module,exports){
"use strict";function modelToId(e){return e.id}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=modelToId;

},{}],406:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.eventEmitter.on("textae.dataAccessObject.annotation.save",()=>{t.annotatioSaved(),_alertifyjs2.default.success("annotation saved")}).on("textae.dataAccessObject.configuration.save",()=>{t.configurationSaved(),_alertifyjs2.default.success("configuration saved")}).on("textae.dataAccessObject.saveError",()=>{_alertifyjs2.default.error("could not save")})};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"alertifyjs":44}],407:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,o){e.eventEmitter.on("textae.history.change",e=>{n.enabled("undo",e.hasAnythingToUndo),n.enabled("redo",e.hasAnythingToRedo),window.onbeforeunload=e.hasAnythingToSaveAnnotation?()=>o:null})};

},{}],408:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,a){e.eventEmitter.on("textae.annotationData.all.change",(e,r,t)=>{a.resetAllHistories(),(0,_hasError2.default)(t)&&new _ValidationDialog2.default(t).open()})};var _ValidationDialog=require("../component/ValidationDialog"),_ValidationDialog2=_interopRequireDefault(_ValidationDialog),_hasError=require("../hasError"),_hasError2=_interopRequireDefault(_hasError);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../component/ValidationDialog":283,"../hasError":813}],409:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,o,i){return new Map([["view",()=>t.event.toViewMode()],["term",()=>t.event.toTermMode()],["relation",()=>t.event.toRelationMode()],["simple",()=>t.event.toggleSimpleMode()],["read",()=>n.importAnnotation()],["write",()=>n.uploadAnnotation()],["undo",e.undo],["redo",e.redo],["replicate",()=>t.event.replicate()],["replicate-auto",()=>o.pushButtons.getButton("replicate-auto").toggle()],["boundary-detection",()=>t.event.toggleDetectBoundaryMode()],["entity",()=>t.event.createEntity()],["change-label",()=>t.event.changeLabel()],["pallet",()=>t.event.showPallet()],["negation",()=>t.event.negation()],["speculation",()=>t.event.speculation()],["delete",()=>t.event.removeSelectedElements()],["copy",()=>t.event.copyEntities()],["paste",()=>t.event.pasteEntities()],["setting",()=>t.event.showSettingDialog()],["line-height",i]])};

},{}],410:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n){return new Map([["1",e=>t.event.manipulateAttribute(1,e)],["2",e=>t.event.manipulateAttribute(2,e)],["3",e=>t.event.manipulateAttribute(3,e)],["4",e=>t.event.manipulateAttribute(4,e)],["5",e=>t.event.manipulateAttribute(5,e)],["6",e=>t.event.manipulateAttribute(6,e)],["7",e=>t.event.manipulateAttribute(7,e)],["8",e=>t.event.manipulateAttribute(8,e)],["9",e=>t.event.manipulateAttribute(9,e)],["a",e.redo],["b",()=>t.event.toggleDetectBoundaryMode()],["c",()=>t.event.copyEntities()],["d",()=>t.event.removeSelectedElements()],["e",()=>t.event.createEntity()],["f",()=>t.event.toggleInstaceRelation()],["i",()=>n.importAnnotation()],["m",()=>t.event.toggleInstaceRelation()],["q",()=>t.event.showPallet()],["r",()=>t.event.replicate()],["s",()=>t.event.speculation()],["u",()=>n.uploadAnnotation()],["v",()=>t.event.pasteEntities()],["w",()=>t.event.changeLabel()],["x",()=>t.event.negation()],["y",e.redo],["z",e.undo],["ArrowDown",()=>t.event.selectDown()],["ArrowLeft",e=>t.event.selectLeft(e)],["ArrowRight",e=>t.event.selectRight(e)],["ArrowUp",()=>t.event.selectUp()],["Backspace",()=>t.event.removeSelectedElements()],["Delete",()=>t.event.removeSelectedElements()],["Escape",()=>t.event.cancelSelect()]])};

},{}],411:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){return new Map([["textae.pallet.button.read.click",()=>t.importConfiguration()],["textae.pallet.button.write.click",()=>t.uploadConfiguration()]])};

},{}],412:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,...s){e.has(t)&&e.get(t)(...s)};

},{}],413:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _handle=require("./handle"),_handle2=_interopRequireDefault(_handle),_KeyApiMap=require("./KeyApiMap"),_KeyApiMap2=_interopRequireDefault(_KeyApiMap),_IconApiMap=require("./IconApiMap"),_IconApiMap2=_interopRequireDefault(_IconApiMap),_PalletApiMap=require("./PalletApiMap"),_PalletApiMap2=_interopRequireDefault(_PalletApiMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i,a,p,l){this._keyApiMap=new _KeyApiMap2.default(e,t,i),this._iconApiMap=new _IconApiMap2.default(e,t,i,a,l),this._palletApiMap=new _PalletApiMap2.default(i),this._view=p,this._buttonController=a,this._presenter=t,this._isSelected=!1}handleKeyInput(e){if(this._isSelected){const t=e.shiftKey&&48<=e.keyCode&&e.keyCode<=57?String.fromCharCode(e.keyCode):e.key;(0,_handle2.default)(this._keyApiMap,t,e.shiftKey)}}handleButtonClick(e){(0,_handle2.default)(this._iconApiMap,e,{})}handlePalletClick(e){(0,_handle2.default)(this._palletApiMap,e)}redraw(){this._view.updateDisplay()}updateButtons(){this._buttonController.buttonStateHelper.propagate()}select(){this._presenter.event.select(),this._isSelected=!0}unselect(){this._presenter.event.unselect(),this._isSelected=!1}};

},{"./IconApiMap":409,"./KeyApiMap":410,"./PalletApiMap":411,"./handle":412}],414:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_RemoveValueFromAttributeDefinitionCommand=require("./RemoveValueFromAttributeDefinitionCommand"),_RemoveValueFromAttributeDefinitionCommand2=_interopRequireDefault(_RemoveValueFromAttributeDefinitionCommand),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ConfigurationCommand2.default{constructor(e,t,i,a=null){super(),this._typeContainer=e,"selection"===t["value type"]&&i.default&&(this._indexThatRemoveDefaultFrom||(this._indexThatRemoveDefaultFrom=t.values.findIndex(e=>e.default)),delete t.values[this._indexThatRemoveDefaultFrom].default),t.values.splice(a||t.values.length,0,i),this._attrDef=t,this._value=i,this._index=a}execute(){this._updatedAttrDef=this._typeContainer.updateAttribute(this._attrDef.pred,this._attrDef).JSON,(0,_commandLog2.default)(`add a new value to attrribute:${this._attrDef.pred}, value: ${JSON.stringify(this._value)}, index: ${this._index}, updated values: \n ${this._attrDef.values.map(e=>JSON.stringify(e)).join("\n ")}`)}revert(){return new _RemoveValueFromAttributeDefinitionCommand2.default(this._typeContainer,this._updatedAttrDef,this._updatedAttrDef.values.length-1,this._indexThatRemoveDefaultFrom)}};

},{"./ConfigurationCommand":439,"./RemoveValueFromAttributeDefinitionCommand":462,"./commandLog":468}],415:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _BaseCommand=require("./BaseCommand"),_BaseCommand2=_interopRequireDefault(_BaseCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _BaseCommand2.default{get kind(){return new Set(["annotation_command"])}};

},{"./BaseCommand":417}],416:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_getSpecificModification=require("./getSpecificModification"),_getSpecificModification2=_interopRequireDefault(_getSpecificModification),_commandTemplate=require("./commandTemplate");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,i,o,a){super();const m=a.getSelectedIdEditable();this._subCommands=m.filter(e=>!(0,_getSpecificModification2.default)(t,e,o).length>0).map(a=>new _commandTemplate.CreateCommand(e,t,i,"modification",!1,{obj:a,pred:o})),this._logMessage=`attach a modification to ${m}`}};

},{"./CompositeCommand":438,"./commandTemplate":469,"./getSpecificModification":475}],417:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{get isEmpty(){return!1}};

},{}],418:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _AnnotationCommand=require("./AnnotationCommand"),_AnnotationCommand2=_interopRequireDefault(_AnnotationCommand);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}class ChangeAttributeCommand extends _AnnotationCommand2.default{constructor(t,e,n,o){super(),this.annotationData=t,this.attribute=e,this.oldPred=e.pred,this.oldObj=e.obj,this.newPred=n,this.newObj=o}execute(){this.newModel=this.annotationData.attribute.change(this.attribute.id,this.newPred,this.newObj)}revert(){return new ChangeAttributeCommand(this.annotationData,this.newModel,this.oldPred,this.oldObj)}}exports.default=ChangeAttributeCommand;

},{"./AnnotationCommand":415}],419:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const n=Object.assign({},e.JSON),s=new Map;for(const[o,l]of t.entries())null===l&&void 0!==e[o]?(delete n[o],s.set(o,e[o])):null!==l&&(n[o]=l,s.set(o,void 0===e[o]?null:e[o]));return[n,s]};

},{}],420:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return e.attribute.all.filter(e=>e.pred===t).map(t=>new _ChangeAttributeCommand2.default(e,t,r,t.obj))};var _ChangeAttributeCommand=require("../ChangeAttributeCommand"),_ChangeAttributeCommand2=_interopRequireDefault(_ChangeAttributeCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../ChangeAttributeCommand":418}],421:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return new ChangeAttributeDefinitionCommand(t,e,r)};var _ConfigurationCommand=require("../ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand),_commandLog=require("../commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_applyChangedProperties=require("./applyChangedProperties"),_applyChangedProperties2=_interopRequireDefault(_applyChangedProperties);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class ChangeAttributeDefinitionCommand extends _ConfigurationCommand2.default{constructor(e,t,r){super(),this._typeContainer=e,this._attrDef=t,this._changedProperties=r}execute(){const e=this._attrDef.pred,[t,r]=(0,_applyChangedProperties2.default)(this._attrDef,this._changedProperties);this._revertAttrDef=this._typeContainer.updateAttribute(e,t),this._revertChangedProperties=r,(0,_commandLog2.default)(`change old pred:${e} to new attridute definition:${JSON.stringify(t)}`)}revert(){return new ChangeAttributeDefinitionCommand(this._typeContainer,this._revertAttrDef,this._revertChangedProperties)}}

},{"../ConfigurationCommand":439,"../commandLog":468,"./applyChangedProperties":419}],422:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("../CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_createChangeConfigCommand=require("./createChangeConfigCommand"),_createChangeConfigCommand2=_interopRequireDefault(_createChangeConfigCommand),_createChangeAnnotationCommands=require("./createChangeAnnotationCommands"),_createChangeAnnotationCommands2=_interopRequireDefault(_createChangeAnnotationCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,n,a){super();const o=[(0,_createChangeConfigCommand2.default)(n,t,a)];let r=[];a.has("pred")&&(r=(0,_createChangeAnnotationCommands2.default)(e,n.pred,a.get("pred"))),this._subCommands=o.concat(r),this._logMessage=`set ${[...a.entries()].map(([e,t])=>`${e}:${t}`)} to attribute definition ${n.pred}`}};

},{"../CompositeCommand":438,"./createChangeAnnotationCommands":420,"./createChangeConfigCommand":421}],423:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_ChangeAttributeCommand=require("./ChangeAttributeCommand"),_ChangeAttributeCommand2=_interopRequireDefault(_ChangeAttributeCommand),_AddValueToAttributeDefinitionCommand=require("./AddValueToAttributeDefinitionCommand"),_AddValueToAttributeDefinitionCommand2=_interopRequireDefault(_AddValueToAttributeDefinitionCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,i,n,u=null){super();const a=t.entity.all.filter(e=>e.attributes.find(e=>e.pred===i.pred)),r=[];for(const t of a){const o=t.attributes.find(e=>e.pred==i.pred&&e.obj!==n);o&&r.push(new _ChangeAttributeCommand2.default(e,o,null,n))}const d=[];u&&"string"===i.valueType&&!i.JSON.values.some(e=>e.pattern===n)&&d.push(new _AddValueToAttributeDefinitionCommand2.default(o,i.JSON,{pattern:n,label:u})),this._subCommands=r.concat(d),this._logMessage=`update obj ${n} to attributes: ${r.map(({attribute:e})=>`{id: ${e.id}, subj: ${e.subj}, pred: ${e.pred}, obj: ${e.obj}}`).join(",")}`}};

},{"./AddValueToAttributeDefinitionCommand":414,"./ChangeAttributeCommand":418,"./CompositeCommand":438}],424:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_CreateTypeDefinitionCommand=require("./CreateTypeDefinitionCommand"),_CreateTypeDefinitionCommand2=_interopRequireDefault(_CreateTypeDefinitionCommand),_ChangeTypeDefinitionCommand=require("./ChangeTypeDefinitionCommand"),_ChangeTypeDefinitionCommand2=_interopRequireDefault(_ChangeTypeDefinitionCommand),_ChangeTypeNameAndAttributeRemoveRelationOfSelectedEntitiesCommand=require("./ChangeTypeNameAndAttributeRemoveRelationOfSelectedEntitiesCommand"),_ChangeTypeNameAndAttributeRemoveRelationOfSelectedEntitiesCommand2=_interopRequireDefault(_ChangeTypeNameAndAttributeRemoveRelationOfSelectedEntitiesCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,n,i,a,o,m){super();const d=[];if(i){const n=m.get(a);n.id?n.label!==i&&d.push(new _ChangeTypeDefinitionCommand2.default(e,t,m,"entity",a,new Map([["label",i]]))):d.push(new _CreateTypeDefinitionCommand2.default(e,m,{id:a,label:i}))}const r=new _ChangeTypeNameAndAttributeRemoveRelationOfSelectedEntitiesCommand2.default(e,t,n,a,o);r.isEmpty||d.push(r),this._subCommands=d,this._logMessage=`change entity value: ${a} attribute: ${JSON.stringify(o)}  label: ${i} `}};

},{"./ChangeTypeDefinitionCommand":430,"./ChangeTypeNameAndAttributeRemoveRelationOfSelectedEntitiesCommand":434,"./CompositeCommand":438,"./CreateTypeDefinitionCommand":447}],425:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_CreateTypeDefinitionCommand=require("./CreateTypeDefinitionCommand"),_CreateTypeDefinitionCommand2=_interopRequireDefault(_CreateTypeDefinitionCommand),_ChangeTypeDefinitionCommand=require("./ChangeTypeDefinitionCommand"),_ChangeTypeDefinitionCommand2=_interopRequireDefault(_ChangeTypeDefinitionCommand),_ChangeTypeOfSelectedRelationsCommand=require("./ChangeTypeOfSelectedRelationsCommand"),_ChangeTypeOfSelectedRelationsCommand2=_interopRequireDefault(_ChangeTypeOfSelectedRelationsCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,n,t,a,i,o){super();const m=[];if(a){const t=o.get(i);t.id?t.label!==a&&m.push(new _ChangeTypeDefinitionCommand2.default(e,n,o,"relation",i,new Map([["label",a]]))):m.push(new _CreateTypeDefinitionCommand2.default(e,o,{id:i,label:a}))}const C=new _ChangeTypeOfSelectedRelationsCommand2.default(e,n,t,i);C.isEmpty||m.push(C),this._subCommands=m,this._logMessage=`change relation value: ${i} label: ${a} `}};

},{"./ChangeTypeDefinitionCommand":430,"./ChangeTypeOfSelectedRelationsCommand":435,"./CompositeCommand":438,"./CreateTypeDefinitionCommand":447}],426:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_AnnotationCommand=require("./AnnotationCommand"),_AnnotationCommand2=_interopRequireDefault(_AnnotationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class ChangeTypeCommand extends _AnnotationCommand2.default{constructor(e,t,o,n,a){super(),this.editor=e,this.annotationData=t,this.modelType=o,this.id=n,this.newType=a}execute(){this.oldType=this.annotationData[this.modelType].get(this.id).type.name;const e=this.annotationData[this.modelType].changeType(this.id,this.newType);(0,_commandLog2.default)(`change type of a ${this.modelType}. oldtype:${this.oldType} ${this.modelType}:`,e)}revert(){return new ChangeTypeCommand(this.editor,this.annotationData,this.modelType,this.id,this.oldType)}}exports.default=ChangeTypeCommand;

},{"./AnnotationCommand":415,"./commandLog":468}],427:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,a,t,r){return e[n].all.filter(e=>e.type.name===a).map(u=>new _ChangeTypeCommand2.default(t,e,n,u.id,r.get("id")||a))};var _ChangeTypeCommand=require("../ChangeTypeCommand"),_ChangeTypeCommand2=_interopRequireDefault(_ChangeTypeCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../ChangeTypeCommand":426}],428:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,i,t,a,o){return e.has(n)?new _ChangeTypeDefinitionCommand2.default(i,t,e,a,n,o,null):new _CreateTypeDefinitionCommand2.default(i,e,Object.assign(Object.fromEntries(o),{id:n}))};var _ChangeTypeDefinitionCommand=require("../ChangeTypeDefinitionCommand"),_ChangeTypeDefinitionCommand2=_interopRequireDefault(_ChangeTypeDefinitionCommand),_CreateTypeDefinitionCommand=require("../CreateTypeDefinitionCommand"),_CreateTypeDefinitionCommand2=_interopRequireDefault(_CreateTypeDefinitionCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../ChangeTypeDefinitionCommand":430,"../CreateTypeDefinitionCommand":447}],429:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("../CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_createChangeConfigCommand=require("./createChangeConfigCommand"),_createChangeConfigCommand2=_interopRequireDefault(_createChangeConfigCommand),_createChangeAnnotationCommands=require("./createChangeAnnotationCommands"),_createChangeAnnotationCommands2=_interopRequireDefault(_createChangeAnnotationCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,n,a,o,t,m){super();const r=[(0,_createChangeConfigCommand2.default)(a,t,e,n,o,m)];let i=[];(m.has("id")||m.has("label")||m.has("color"))&&(i=(0,_createChangeAnnotationCommands2.default)(n,o,t,e,m)),this._subCommands=r.concat(i),this._logMessage=`set ${[...m.entries()].map(([e,n])=>`${e}:${n}`)} to type definition ${t}`}};

},{"../CompositeCommand":438,"./createChangeAnnotationCommands":427,"./createChangeConfigCommand":428}],430:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class ChangeTypeDefinitionCommand extends _ConfigurationCommand2.default{constructor(e,t,i,n,o,a,r){super(),this.editor=e,this.annotationData=t,this.typeContainer=i,this.modelType=n,this.id=o,this.changedProperties=a,this.newDefaultTypeId=r}execute(){const e=this.typeContainer.get(this.id),[t,i]=applyChangedProperties(this.changedProperties,e);this.typeContainer.set(this.id,t),this._updateDefaultType(t),this.revertId=t.id,this.revertChangedProperties=i,(0,_commandLog2.default)(`change old type:${JSON.stringify(e)} to new type:${JSON.stringify(t)}, default is ${this.typeContainer.defaultType}`)}_updateDefaultType(e){e.default?(this.revertDefaultTypeId=this.typeContainer.defaultType,this.typeContainer.defaultType=e.id):this.newDefaultTypeId&&(this.typeContainer.defaultType=this.newDefaultTypeId)}revert(){return new ChangeTypeDefinitionCommand(this.editor,this.annotationData,this.typeContainer,this.modelType,this.revertId,this.revertChangedProperties,this.revertDefaultTypeId)}}function applyChangedProperties(e,t){const i=Object.assign({},t),n=new Map;for(const[o,a]of e.entries())null===a&&void 0!==t[o]?(delete i[o],n.set(o,t[o])):null!==a&&(i[o]=a,n.set(o,void 0===t[o]?null:t[o]));return[i,n]}exports.default=ChangeTypeDefinitionCommand;

},{"./ConfigurationCommand":439,"./commandLog":468}],431:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,a,o){return e.reduce((e,m)=>e.concat(t.filter(e=>!r.entity.get(m).attributes.some(t=>e.pred===t.pred&&e.obj===t.obj)).map(({obj:e,pred:t})=>new _commandTemplate.CreateCommand(a,r,o,"attribute",!1,{subj:m,obj:e,pred:t}))),[])};var _commandTemplate=require("../commandTemplate");

},{"../commandTemplate":469}],432:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return e.reduce((e,u)=>e.concat(t.entity.get(u).getDifferentAttributes(r)),[])};

},{}],433:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i,n){return(0,_getChangingAttributesFromEntitiers2.default)(e,t,r).map(e=>new _commandTemplate.RemoveCommand(i,t,n,"attribute",e.id))};var _commandTemplate=require("../commandTemplate"),_getChangingAttributesFromEntitiers=require("./getChangingAttributesFromEntitiers"),_getChangingAttributesFromEntitiers2=_interopRequireDefault(_getChangingAttributesFromEntitiers);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../commandTemplate":469,"./getChangingAttributesFromEntitiers":432}],434:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("../CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_ChangeTypeCommand=require("../ChangeTypeCommand"),_ChangeTypeCommand2=_interopRequireDefault(_ChangeTypeCommand),_getRemoveRelationCommands=require("../getRemoveRelationCommands"),_getRemoveRelationCommands2=_interopRequireDefault(_getRemoveRelationCommands),_getRemoveChangingAttributeCommands=require("./getRemoveChangingAttributeCommands"),_getRemoveChangingAttributeCommands2=_interopRequireDefault(_getRemoveChangingAttributeCommands),_getAddChangingAttributeCommands=require("./getAddChangingAttributeCommands"),_getAddChangingAttributeCommands2=_interopRequireDefault(_getAddChangingAttributeCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,n,o,a){super();const m=n.entity.all.filter(e=>!e.sameType(o,a)).map(e=>e.id),i=m.map(n=>new _ChangeTypeCommand2.default(e,t,"entity",n,o)),d=(0,_getRemoveChangingAttributeCommands2.default)(m,t,a,e,n),C=(0,_getAddChangingAttributeCommands2.default)(m,a,t,e,n),r=t.entity.isBlock(o)?(0,_getRemoveRelationCommands2.default)(m,t,e,n):[];this._subCommands=r.concat(i).concat(d).concat(C),this._logMessage=`set type ${o} and ${JSON.stringify(a)} to entities ${m}`}};

},{"../ChangeTypeCommand":426,"../CompositeCommand":438,"../getRemoveRelationCommands":474,"./getAddChangingAttributeCommands":431,"./getRemoveChangingAttributeCommands":433}],435:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_ChangeTypeCommand=require("./ChangeTypeCommand"),_ChangeTypeCommand2=_interopRequireDefault(_ChangeTypeCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,o,t,a){super();const n=t.relation.all.filter(e=>e.type.name!==a).map(e=>e.id);this._subCommands=n.map(t=>new _ChangeTypeCommand2.default(e,o,"relation",t,a)),this._logMessage=`set type ${a} to relations ${n}`}};

},{"./ChangeTypeCommand":426,"./CompositeCommand":438}],436:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_ChangeTypeCommand=require("./ChangeTypeCommand"),_ChangeTypeCommand2=_interopRequireDefault(_ChangeTypeCommand),_getRemoveRelationCommands=require("./getRemoveRelationCommands"),_getRemoveRelationCommands2=_interopRequireDefault(_getRemoveRelationCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,m){super();const a=o.entity.all.filter(e=>e.type.name!==m).map(e=>e.id),n=a.map(o=>new _ChangeTypeCommand2.default(e,t,"entity",o,m)),i=t.entity.isBlock(m)?(0,_getRemoveRelationCommands2.default)(a,t,e,o):[];this._subCommands=i.concat(n),this._logMessage=`set type ${m} to entities ${a}`}};

},{"./ChangeTypeCommand":426,"./CompositeCommand":438,"./getRemoveRelationCommands":474}],437:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class ChangeValueOfAttributeDefinitionCommand extends _ConfigurationCommand2.default{constructor(e,t,a,i,u){super(),this._typeContainer=e,this._attrDef=t,this._index=a,this._value=i,this._indexThatRemoveDefaultFrom=u}execute(){if("selection"===this._attrDef["value type"]&&(!this._attrDef.values[this._index].default&&this._value.default&&(this._indexThatRemoveDefaultFrom||(this._indexThatRemoveDefaultFrom=this._attrDef.values.findIndex(e=>e.default)),delete this._attrDef.values[this._indexThatRemoveDefaultFrom].default),this._attrDef.values[this._index].default&&!this._value.default))if(1===this._attrDef.values.length)this._value.default=!0;else{let e=null;this._attrDef.values.forEach((t,a)=>{null===e&&a!=this._index&&(e=a)}),delete this._value.default,this._attrDef.values[e].default=!0,this._indexThatRemoveDefaultFrom=e}this._valueBeforeChange=this._attrDef.values.splice(this._index,1,this._value)[0],this._typeContainer.updateAttribute(this._attrDef.pred,this._attrDef),(0,_commandLog2.default)(`change value of attrribute:${this._attrDef.pred}, oldValue: ${JSON.stringify(this._valueBeforeChange)}, newValue: ${JSON.stringify(this._value)}`)}revert(){return new ChangeValueOfAttributeDefinitionCommand(this._typeContainer,this._attrDef,this._index,this._valueBeforeChange,this._indexThatRemoveDefaultFrom)}}exports.default=ChangeValueOfAttributeDefinitionCommand;

},{"./ConfigurationCommand":439,"./commandLog":468}],438:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _invoke=require("../invoke"),_invoke2=_interopRequireDefault(_invoke),_invokeRevert=require("../invokeRevert"),_invokeRevert2=_interopRequireDefault(_invokeRevert),_commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_BaseCommand=require("./BaseCommand"),_BaseCommand2=_interopRequireDefault(_BaseCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _BaseCommand2.default{execute(){console.assert(this._subCommands,"_subCommands is necessary!"),this.isEmpty?this.revert=(()=>({execute(){}})):((0,_invoke2.default)(this._subCommands),this.revert=(()=>({_subCommands:this._subCommands,_logMessage:this._logMessage,execute(){(0,_invokeRevert2.default)(this._subCommands),(0,_commandLog2.default)(`revert: ${this._logMessage}`)}})),(0,_commandLog2.default)(this._logMessage))}get kind(){return this._subCommands.reduce((e,s)=>new Set([...e,...s.kind]),new Set)}get isEmpty(){return!this._subCommands||0===this._subCommands.length}};

},{"../invoke":479,"../invokeRevert":481,"./BaseCommand":417,"./commandLog":468}],439:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _BaseCommand=require("./BaseCommand"),_BaseCommand2=_interopRequireDefault(_BaseCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _BaseCommand2.default{get kind(){return new Set(["configuration_command"])}};

},{"./BaseCommand":417}],440:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_DeleteAttributeDefinitionCommand=require("./DeleteAttributeDefinitionCommand"),_DeleteAttributeDefinitionCommand2=_interopRequireDefault(_DeleteAttributeDefinitionCommand),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ConfigurationCommand2.default{constructor(e,t,i){super(),this.typeContainer=e,this.newAttrDef=t,this.index=i}execute(){"numeric"===this.newAttrDef["value type"]&&(this.newAttrDef.min=this.newAttrDef.min||0,this.newAttrDef.max=this.newAttrDef.max||0,this.newAttrDef.step=this.newAttrDef.step||0,this.newAttrDef.default=this.newAttrDef.default||0),"selection"!==this.newAttrDef["value type"]||this.newAttrDef.values||(this.newAttrDef.values=[{id:"default",default:!0}]),this.typeContainer.createAttribute(this.newAttrDef,this.index),(0,_commandLog2.default)(`create a new attrribute definition:${JSON.stringify(this.newAttrDef)}, index: ${this.index}`)}revert(){return new _DeleteAttributeDefinitionCommand2.default(this.typeContainer,this.newAttrDef)}};

},{"./ConfigurationCommand":439,"./DeleteAttributeDefinitionCommand":448,"./commandLog":468}],441:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_getCreateAttributeToSelectedEntitiesCommands=require("./getCreateAttributeToSelectedEntitiesCommands"),_getCreateAttributeToSelectedEntitiesCommands2=_interopRequireDefault(_getCreateAttributeToSelectedEntitiesCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,i,r){super(),this._subCommands=(0,_getCreateAttributeToSelectedEntitiesCommands2.default)(t,i,e,o,r),this._logMessage=`create attirbute ${i.pred}:${i.default} to entity ${o.entity.all.map(e=>e.id).join(", ")}`}};

},{"./CompositeCommand":438,"./getCreateAttributeToSelectedEntitiesCommands":470}],442:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_commandTemplate=require("./commandTemplate");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,m,a){super(),this._subCommands=m.map(({obj:m,pred:r})=>new _commandTemplate.CreateCommand(e,t,o,"attribute",!1,{subj:a,obj:m,pred:r})),this._logMessage=`create attributes ${m.map(({obj:e,pred:t})=>`obj:${e} pred:${t}`)} for entity ${a}`}};

},{"./CompositeCommand":438,"./commandTemplate":469}],443:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_commandTemplate=require("./commandTemplate");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,a){super();const m=o.span.all.map(e=>e.id);this._subCommands=m.map(m=>new _commandTemplate.CreateCommand(e,t,o,"entity",!0,{span:m,type:a})),this._logMessage=`create a ${a} type entity to ${m}`}};

},{"./CompositeCommand":438,"./commandTemplate":469}],444:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _invoke=require("../invoke"),_invoke2=_interopRequireDefault(_invoke),_invokeRevert=require("../invokeRevert"),_invokeRevert2=_interopRequireDefault(_invokeRevert),_commandTemplate=require("./commandTemplate"),_commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_AnnotationCommand=require("./AnnotationCommand"),_AnnotationCommand2=_interopRequireDefault(_AnnotationCommand),_CreateAttributesForEntityCommand=require("./CreateAttributesForEntityCommand"),_CreateAttributesForEntityCommand2=_interopRequireDefault(_CreateAttributesForEntityCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _AnnotationCommand2.default{constructor(e,t,n,o,a){super(),this._editor=e,this._annotationData=t,this._selectionModel=n,this._spanId=o,this._typeName=a.name,this._attributes=a.attributes}execute(){const e=this._createEntityCommand(),t=this._createAttributesCommands((0,_invoke2.default)([e]).pop().id);(0,_invoke2.default)([t]),this.revert=(()=>({execute(){(0,_invokeRevert2.default)([e].concat(t)),(0,_commandLog2.default)(`revert create a type for span: ${this.id}`)}})),(0,_commandLog2.default)(`create a type for span: ${this._spanId}`)}_createEntityCommand(){return new _commandTemplate.CreateCommand(this._editor,this._annotationData,this._selectionModel,"entity",!0,{span:this._spanId,type:this._typeName})}_createAttributesCommands(e){return new _CreateAttributesForEntityCommand2.default(this._editor,this._annotationData,this._selectionModel,this._attributes,e)}};

},{"../invoke":479,"../invokeRevert":481,"./AnnotationCommand":415,"./CreateAttributesForEntityCommand":442,"./commandLog":468,"./commandTemplate":469}],445:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_CreateSpanAndTypesCommand=require("./CreateSpanAndTypesCommand"),_CreateSpanAndTypesCommand2=_interopRequireDefault(_CreateSpanAndTypesCommand),_ReplicateSpanCommand=require("./ReplicateSpanCommand"),_ReplicateSpanCommand2=_interopRequireDefault(_ReplicateSpanCommand),_TypeModel=require("../../../TypeModel"),_TypeModel2=_interopRequireDefault(_TypeModel);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const BLOCK_THRESHOLD=100;exports.default=class extends _CompositeCommand2.default{constructor(e,n,a,t,o,d,p){super();const i=[new _TypeModel2.default(o)];this._subCommands=[new _CreateSpanAndTypesCommand2.default(e,n,a,{begin:t.begin,end:t.end},i)],this._logMessage=`create a span ${t.begin}:${t.end} with type ${i[0].name}`,d&&t.end-t.begin<=100&&(this._subCommands.push(new _ReplicateSpanCommand2.default(e,n,a,{begin:t.begin,end:t.end},i,p)),this._logMessage=`${this._logMessage} and replicate auto`)}};

},{"../../../TypeModel":389,"./CompositeCommand":438,"./CreateSpanAndTypesCommand":446,"./ReplicateSpanCommand":466}],446:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandTemplate=require("./commandTemplate"),_idFactory=require("../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory),_CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_CreateEntityCommand=require("./CreateEntityCommand"),_CreateEntityCommand2=_interopRequireDefault(_CreateEntityCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,a,o,m){super();const r=_idFactory2.default.makeSpanId(e,o);this._subCommands=[new _commandTemplate.CreateCommand(e,t,a,"span",!0,o)].concat(m.map(o=>new _CreateEntityCommand2.default(e,t,a,r,o))),this._logMessage=`create a span ${r}`}};

},{"../../../idFactory":398,"./CompositeCommand":438,"./CreateEntityCommand":444,"./commandTemplate":469}],447:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_RemoveTypeDefinitionCommand=require("./RemoveTypeDefinitionCommand"),_RemoveTypeDefinitionCommand2=_interopRequireDefault(_RemoveTypeDefinitionCommand),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ConfigurationCommand2.default{constructor(e,t,i){super(),this.editor=e,this.typeContainer=t,this.newType=i}execute(){this.typeContainer.addDefinedType(this.newType),this.newType.default&&(this.revertDefaultTypeId=this.typeContainer.defaultType,this.typeContainer.defaultType=this.newType.id),(0,_commandLog2.default)(`create a new type:${JSON.stringify(this.newType)}, default is ${this.typeContainer.defaultType}`)}revert(){return new _RemoveTypeDefinitionCommand2.default(this.editor,this.typeContainer,this.newType,this.revertDefaultTypeId)}};

},{"./ConfigurationCommand":439,"./RemoveTypeDefinitionCommand":461,"./commandLog":468}],448:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_CreateAttributeDefinitionCommand=require("./CreateAttributeDefinitionCommand"),_CreateAttributeDefinitionCommand2=_interopRequireDefault(_CreateAttributeDefinitionCommand),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ConfigurationCommand2.default{constructor(e,t){super(),this.typeContainer=e,this.removeAttrdef=t,this.index=e.getIndexOfAttribute(t.pred)}execute(){this.typeContainer.deleteAttribute(this.removeAttrdef.pred),(0,_commandLog2.default)(`remove an attrribute definition:${JSON.stringify(this.removeAttrdef)}, index:${this.index}`)}revert(){return new _CreateAttributeDefinitionCommand2.default(this.typeContainer,this.removeAttrdef.JSON,this.index)}};

},{"./ConfigurationCommand":439,"./CreateAttributeDefinitionCommand":440,"./commandLog":468}],449:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_AnnotationCommand=require("./AnnotationCommand"),_AnnotationCommand2=_interopRequireDefault(_AnnotationCommand),_idFactory=require("../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory);function _interopRequireDefault(n){return n&&n.__esModule?n:{default:n}}class MoveSpanCommand extends _AnnotationCommand2.default{constructor(n,e,t,o){console.assert(t!==_idFactory2.default.makeSpanId(n,o),`Do not need move span:  ${t} ${o}`),super(),this.editor=n,this.annotationData=e,this.spanId=t,this.newSpan=o}execute(){const[n,e]=this.annotationData.span.move(this.spanId,this.newSpan);this.oldSpan=n,this.newId=e,(0,_commandLog2.default)(`move span: ${this.spanId} to {begin: ${this.newSpan.begin}, end: ${this.newSpan.end}}`)}revert(){return new MoveSpanCommand(this.editor,this.annotationData,this.newId,this.oldSpan)}}exports.default=MoveSpanCommand;

},{"../../../idFactory":398,"./AnnotationCommand":415,"./commandLog":468}],450:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_CreateEntityCommand=require("./CreateEntityCommand"),_CreateEntityCommand2=_interopRequireDefault(_CreateEntityCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,a){super();const m=o.span.all.map(e=>e.id);this._subCommands=m.map(m=>a.map(a=>new _CreateEntityCommand2.default(e,t,o,m,a))).flat(),this._logMessage=`paste types ${a} to ${m}`}};

},{"./CompositeCommand":438,"./CreateEntityCommand":444}],451:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_getRemoveAttributesByPredCommands=require("./getRemoveAttributesByPredCommands"),_getRemoveAttributesByPredCommands2=_interopRequireDefault(_getRemoveAttributesByPredCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,m){super();const r=(0,_getRemoveAttributesByPredCommands2.default)(e,t,o,m);this._subCommands=r,this._logMessage=`remove attirbute ${m.pred} to entity ${o.entity.all.map(e=>e.id).join(", ")}`}};

},{"./CompositeCommand":438,"./getRemoveAttributesByPredCommands":473}],452:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandTemplate=require("./commandTemplate"),_RemoveRelationAndAssociatesCommand=require("./RemoveRelationAndAssociatesCommand"),_RemoveRelationAndAssociatesCommand2=_interopRequireDefault(_RemoveRelationAndAssociatesCommand),_CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,o,t,m){super();const a=(m=>new _commandTemplate.RemoveCommand(e,o,t,"entity",m))(m),n=o.entity.get(m).relations.map(m=>new _RemoveRelationAndAssociatesCommand2.default(e,o,t,m)),i=o.getModificationOf(m).map(e=>e.id).map(m=>new _commandTemplate.RemoveCommand(e,o,t,"modification",m)),s=o.entity.get(m).attributes.map(m=>new _commandTemplate.RemoveCommand(e,o,t,"attribute",m.id));this._subCommands=n.concat(i).concat(s).concat(a),this._logMessage=`remove an entity ${m}`}};

},{"./CompositeCommand":438,"./RemoveRelationAndAssociatesCommand":454,"./commandTemplate":469}],453:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_getSpecificModification=require("./getSpecificModification"),_getSpecificModification2=_interopRequireDefault(_getSpecificModification),_commandTemplate=require("./commandTemplate");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,i,o,t,a){super();const m=a.getSelectedIdEditable();this._subCommands=m.map(e=>(0,_getSpecificModification2.default)(i,e,t)[0]).map(t=>new _commandTemplate.RemoveCommand(e,i,o,"modification",t.id)),this._logMessage=`remove a modification ${t} from ${m}`}};

},{"./CompositeCommand":438,"./commandTemplate":469,"./getSpecificModification":475}],454:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandTemplate=require("./commandTemplate"),_CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,o,m,t){super();const a=new _commandTemplate.RemoveCommand(e,o,m,"relation",t),n=o.getModificationOf(t).map(e=>e.id).map(t=>new _commandTemplate.RemoveCommand(e,o,m,"modification",t));this._subCommands=n.concat(a),this._logMessage=`remove a relation ${t}`}};

},{"./CompositeCommand":438,"./commandTemplate":469}],455:[function(require,module,exports){
"use strict";function areAllEntiesOfSpanRemoved(e,t){return e.entities.every(e=>t.includes(e))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=areAllEntiesOfSpanRemoved;

},{}],456:[function(require,module,exports){
"use strict";function getSpans(e,t){return new Set(e.map(e=>t.span.get(e.span)))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getSpans;

},{}],457:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _RemoveSpanCommand=require("../../RemoveSpanCommand"),_RemoveSpanCommand2=_interopRequireDefault(_RemoveSpanCommand),_RemoveEntityAndAssociatesCommand=require("../../RemoveEntityAndAssociatesCommand"),_RemoveEntityAndAssociatesCommand2=_interopRequireDefault(_RemoveEntityAndAssociatesCommand),_CompositeCommand=require("../../CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_getSpans=require("./getSpans"),_getSpans2=_interopRequireDefault(_getSpans),_removedEntitiesFromSpan=require("./removedEntitiesFromSpan"),_removedEntitiesFromSpan2=_interopRequireDefault(_removedEntitiesFromSpan),_areAllEntiesOfSpanRemoved=require("./areAllEntiesOfSpanRemoved"),_areAllEntiesOfSpanRemoved2=_interopRequireDefault(_areAllEntiesOfSpanRemoved);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o){super();const n=o.entity.all,a=(0,_getSpans2.default)(n,t);let m=[];for(const i of a.values())(0,_areAllEntiesOfSpanRemoved2.default)(i,n)?m.push(new _RemoveSpanCommand2.default(e,t,o,i.id)):m=m.concat((0,_removedEntitiesFromSpan2.default)(n,i).map(n=>new _RemoveEntityAndAssociatesCommand2.default(e,t,o,n.id)));this._subCommands=m,this._logMessage=`remove entities ${n.map(e=>e.id)} from spans ${[...a.values()].map(e=>e.id)}`}};

},{"../../CompositeCommand":438,"../../RemoveEntityAndAssociatesCommand":452,"../../RemoveSpanCommand":460,"./areAllEntiesOfSpanRemoved":455,"./getSpans":456,"./removedEntitiesFromSpan":458}],458:[function(require,module,exports){
"use strict";function removedEntitiesFromSpan(e,t){return e.filter(e=>e.span===t.id)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=removedEntitiesFromSpan;

},{}],459:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("../CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_RemoveRelationAndAssociatesCommand=require("../RemoveRelationAndAssociatesCommand"),_RemoveRelationAndAssociatesCommand2=_interopRequireDefault(_RemoveRelationAndAssociatesCommand),_RemoveEntitiesAndRemeveSpanIfNoEntityRestCommand=require("./RemoveEntitiesAndRemeveSpanIfNoEntityRestCommand"),_RemoveEntitiesAndRemeveSpanIfNoEntityRestCommand2=_interopRequireDefault(_RemoveEntitiesAndRemeveSpanIfNoEntityRestCommand),_RemoveSpanCommand=require("../RemoveSpanCommand"),_RemoveSpanCommand2=_interopRequireDefault(_RemoveSpanCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,o,t){super();const n=t.span.all.map(e=>e.id),m=t.relation.all.map(e=>e.id);this._subCommands=[].concat(m.map(n=>new _RemoveRelationAndAssociatesCommand2.default(e,o,t,n)),t.entity.some?[new _RemoveEntitiesAndRemeveSpanIfNoEntityRestCommand2.default(e,o,t)]:[],n.map(n=>new _RemoveSpanCommand2.default(e,o,t,n))),this._logMessage=`remove selected ${n.concat(t.entity.all.map(e=>e.id)).concat(m)}`}};

},{"../CompositeCommand":438,"../RemoveRelationAndAssociatesCommand":454,"../RemoveSpanCommand":460,"./RemoveEntitiesAndRemeveSpanIfNoEntityRestCommand":457}],460:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandTemplate=require("./commandTemplate"),_RemoveEntityAndAssociatesCommand=require("./RemoveEntityAndAssociatesCommand"),_RemoveEntityAndAssociatesCommand2=_interopRequireDefault(_RemoveEntityAndAssociatesCommand),_CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,o,t,m){super();const n=o.span.get(m).entities.map(({id:m})=>new _RemoveEntityAndAssociatesCommand2.default(e,o,t,m)),s=new _commandTemplate.RemoveCommand(e,o,t,"span",m);this._subCommands=n.concat(s),this._logMessage=`remove a span ${m}`}};

},{"./CompositeCommand":438,"./RemoveEntityAndAssociatesCommand":452,"./commandTemplate":469}],461:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_CreateTypeDefinitionCommand=require("./CreateTypeDefinitionCommand"),_CreateTypeDefinitionCommand2=_interopRequireDefault(_CreateTypeDefinitionCommand),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _ConfigurationCommand2.default{constructor(e,t,i,o){super(),this.editor=e,this.typeContainer=t,this.removeType=i,this.revertDefaultTypeId=o}execute(){const e=this.removeType.id,t=this.typeContainer.get(e);this.typeContainer.delete(e),this.revertDefaultTypeId&&(this.typeContainer.defaultType=this.revertDefaultTypeId),t&&(this.removeType=t),(0,_commandLog2.default)(`remove a type:${JSON.stringify(this.removeType)}, default is ${this.typeContainer.defaultType}`)}revert(){return new _CreateTypeDefinitionCommand2.default(this.editor,this.typeContainer,this.removeType)}};

},{"./ConfigurationCommand":439,"./CreateTypeDefinitionCommand":447,"./commandLog":468}],462:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_AddValueToAttributeDefinitionCommand=require("./AddValueToAttributeDefinitionCommand"),_AddValueToAttributeDefinitionCommand2=_interopRequireDefault(_AddValueToAttributeDefinitionCommand),_ConfigurationCommand=require("./ConfigurationCommand"),_ConfigurationCommand2=_interopRequireDefault(_ConfigurationCommand);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class extends _ConfigurationCommand2.default{constructor(t,e,i,a=null){super(),this._typeContainer=t,this._attrDef=e,this._index=i,this._indexThatAddDefaultTo=a}execute(){if("selection"===this._attrDef["value type"]&&this._attrDef.values[this._index].default){let t=null;this._attrDef.values.forEach((e,i)=>{null===t&&i!=this._index&&(t=i)}),this._attrDef.values[t].default=!0}this._deletedValue=this._attrDef.values.splice(this._index,1)[0],"selection"===this._attrDef["value type"]&&null!==this._indexThatAddDefaultTo&&(this._attrDef.values[this._indexThatAddDefaultTo].default=!0),this._typeContainer.updateAttribute(this._attrDef.pred,this._attrDef),(0,_commandLog2.default)(`remove a value from an attrribute:${this._attrDef.pred}, index:${this._index}, updated values: \n ${this._attrDef.values.map(t=>JSON.stringify(t)).join("\n ")}`)}revert(){return new _AddValueToAttributeDefinitionCommand2.default(this._typeContainer,this._attrDef,this._deletedValue,this._index)}};

},{"./AddValueToAttributeDefinitionCommand":414,"./ConfigurationCommand":439,"./commandLog":468}],463:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const n=String.prototype.indexOf.bind(e,e.substring(t.begin,t.end)),r=t.end-t.begin,i=[];let o=0;for(let e=n(o);-1!==e;e=n(o))i.push({begin:e,end:e+r}),o=e+r;return i};

},{}],464:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,i){const t=e.span.all,s=i?r=>(0,_isWord2.default)(e.sourceDoc,i,r):e=>e;return(0,_getSpansTheirStringIsSameWith2.default)(e.sourceDoc,r).filter(e=>e.begin!==r.begin).filter(s).filter(e=>!(0,_isAlreadySpaned2.default)(t,e)).filter(e=>!(0,_isBoundaryCrossingWithOtherSpans2.default)(t,e))};var _isBoundaryCrossingWithOtherSpans=require("../../../../../isBoundaryCrossingWithOtherSpans"),_isBoundaryCrossingWithOtherSpans2=_interopRequireDefault(_isBoundaryCrossingWithOtherSpans),_isAlreadySpaned=require("../../../../isAlreadySpaned"),_isAlreadySpaned2=_interopRequireDefault(_isAlreadySpaned),_getSpansTheirStringIsSameWith=require("./getSpansTheirStringIsSameWith"),_getSpansTheirStringIsSameWith2=_interopRequireDefault(_getSpansTheirStringIsSameWith),_isWord=require("./isWord"),_isWord2=_interopRequireDefault(_isWord);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../isBoundaryCrossingWithOtherSpans":402,"../../../../isAlreadySpaned":793,"./getSpansTheirStringIsSameWith":463,"./isWord":465}],465:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){const n=e.charAt(r.begin-1),c=e.charAt(r.end);return t(n)&&t(c)};

},{}],466:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CreateSpanAndTypesCommand=require("../CreateSpanAndTypesCommand"),_CreateSpanAndTypesCommand2=_interopRequireDefault(_CreateSpanAndTypesCommand),_getReplicationSpans=require("./getReplicationSpans"),_getReplicationSpans2=_interopRequireDefault(_getReplicationSpans),_CompositeCommand=require("../CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_idFactory=require("../../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,a,t,n,o,i){super(),this._subCommands=(0,_getReplicationSpans2.default)(a,n,i).map(n=>new _CreateSpanAndTypesCommand2.default(e,a,t,n,o)),this._logMessage=`replicate a span ${_idFactory2.default.makeSpanId(e,n)}`}};

},{"../../../../idFactory":398,"../CompositeCommand":438,"../CreateSpanAndTypesCommand":446,"./getReplicationSpans":464}],467:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CompositeCommand=require("./CompositeCommand"),_CompositeCommand2=_interopRequireDefault(_CompositeCommand),_getCreateAttributeToSelectedEntitiesCommands=require("./getCreateAttributeToSelectedEntitiesCommands"),_getCreateAttributeToSelectedEntitiesCommands2=_interopRequireDefault(_getCreateAttributeToSelectedEntitiesCommands),_getRemoveAttributesByPredCommands=require("./getRemoveAttributesByPredCommands"),_getRemoveAttributesByPredCommands2=_interopRequireDefault(_getRemoveAttributesByPredCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _CompositeCommand2.default{constructor(e,t,o,s){super(),this._subCommands=(0,_getCreateAttributeToSelectedEntitiesCommands2.default)(t,s,e,o);const i=(0,_getRemoveAttributesByPredCommands2.default)(e,t,o,s);this._subCommands=this._subCommands.concat(i),this._logMessage=`toggle flag attirbute ${s.pred} to entity ${o.entity.all.map(e=>e.id).join(", ")}`}};

},{"./CompositeCommand":438,"./getCreateAttributeToSelectedEntitiesCommands":470,"./getRemoveAttributesByPredCommands":473}],468:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o){o?console.log("[command.invoke]",e,o):console.log("[command.invoke]",e)};

},{}],469:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.RemoveCommand=exports.CreateCommand=void 0;var _commandLog=require("./commandLog"),_commandLog2=_interopRequireDefault(_commandLog),_AnnotationCommand=require("./AnnotationCommand"),_AnnotationCommand2=_interopRequireDefault(_AnnotationCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}class CreateCommand extends _AnnotationCommand2.default{constructor(e,t,o,n,i,a){super(),this.editor=e,this.annotationData=t,this.selectionModel=o,this.modelType=n,this.isSelectable=i,this.newModel=a}execute(){return this.newModel=this.annotationData[this.modelType].add(this.newModel),this.isSelectable&&this.selectionModel.add(this.modelType,this.newModel.id),(0,_commandLog2.default)(`create a new ${this.modelType}: ${this.newModel.id}`),this.newModel}revert(){return new RemoveCommand(this.editor,this.annotationData,this.selectionModel,this.modelType,this.newModel.id)}}class RemoveCommand extends _AnnotationCommand2.default{constructor(e,t,o,n,i){super(),this.editor=e,this.annotationData=t,this.selectionModel=o,this.modelType=n,this.id=i}execute(){this.oloModel=this.annotationData[this.modelType].remove(this.id),this.oloModel?(0,_commandLog2.default)(`remove a ${this.modelType}: `,this.oloModel):(0,_commandLog2.default)(`already removed ${this.modelType}: `,this.id)}revert(){return this.oloModel?new CreateCommand(this.editor,this.annotationData,this.selectionModel,this.modelType,!1,this.oloModel):{execute:()=>{}}}}exports.CreateCommand=CreateCommand,exports.RemoveCommand=RemoveCommand;

},{"./AnnotationCommand":415,"./commandLog":468}],470:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,a,d){return a.entity.all.filter(e=>e.type.withoutSamePredicateAttribute(t.pred)).map(m=>new _commandTemplate.CreateCommand(r,e,a,"attribute",!1,{id:null,subj:m.id,pred:t.pred,obj:d||t.default}))};var _commandTemplate=require("./commandTemplate");

},{"./commandTemplate":469}],471:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.reduce((e,r)=>{const u=r.attributes.find(e=>e.pred===t.pred);return u&&e.push(u),e},[])};

},{}],472:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,m,a){return e.map(e=>new _commandTemplate.RemoveCommand(t,m,a,"attribute",e.id))};var _commandTemplate=require("../commandTemplate");

},{"../commandTemplate":469}],473:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i){const u=(0,_getExistingSamePredicateAttributes2.default)(r.entity.all,i);return(0,_getRemoveAtributesByPredAndObjCommands2.default)(u,e,t,r)};var _getRemoveAtributesByPredAndObjCommands=require("./getRemoveAtributesByPredAndObjCommands"),_getRemoveAtributesByPredAndObjCommands2=_interopRequireDefault(_getRemoveAtributesByPredAndObjCommands),_getExistingSamePredicateAttributes=require("./getExistingSamePredicateAttributes"),_getExistingSamePredicateAttributes2=_interopRequireDefault(_getExistingSamePredicateAttributes);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getExistingSamePredicateAttributes":471,"./getRemoveAtributesByPredAndObjCommands":472}],474:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a,m){return e.map(e=>t.entity.get(e).relations.map(e=>new _commandTemplate.RemoveCommand(a,t,m,"relation",e))).flat()};var _commandTemplate=require("./commandTemplate");

},{"./commandTemplate":469}],475:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getSpecificModification;var _isModificationType=require("./isModificationType"),_isModificationType2=_interopRequireDefault(_isModificationType);function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}function getSpecificModification(i,e,t){return i.getModificationOf(e).filter(i=>(0,_isModificationType2.default)(i,t))}

},{"./isModificationType":477}],476:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _commandTemplate=require("./commandTemplate"),_AddValueToAttributeDefinitionCommand=require("./AddValueToAttributeDefinitionCommand"),_AddValueToAttributeDefinitionCommand2=_interopRequireDefault(_AddValueToAttributeDefinitionCommand),_AttatchModificationsToSelectedCommand=require("./AttatchModificationsToSelectedCommand"),_AttatchModificationsToSelectedCommand2=_interopRequireDefault(_AttatchModificationsToSelectedCommand),_ChangeAttributeDefinitionAndRefectInstancesCommand=require("./ChangeAttributeDefinitionAndRefectInstancesCommand"),_ChangeAttributeDefinitionAndRefectInstancesCommand2=_interopRequireDefault(_ChangeAttributeDefinitionAndRefectInstancesCommand),_ChangeAttributesOfSelectedEntitiesWithSamePred=require("./ChangeAttributesOfSelectedEntitiesWithSamePred"),_ChangeAttributesOfSelectedEntitiesWithSamePred2=_interopRequireDefault(_ChangeAttributesOfSelectedEntitiesWithSamePred),_ChangeEntityTypeCommand=require("./ChangeEntityTypeCommand"),_ChangeEntityTypeCommand2=_interopRequireDefault(_ChangeEntityTypeCommand),_ChangeRelationLabelCommand=require("./ChangeRelationLabelCommand"),_ChangeRelationLabelCommand2=_interopRequireDefault(_ChangeRelationLabelCommand),_ChangeTypeDefinitionAndRefectInstancesCommand=require("./ChangeTypeDefinitionAndRefectInstancesCommand"),_ChangeTypeDefinitionAndRefectInstancesCommand2=_interopRequireDefault(_ChangeTypeDefinitionAndRefectInstancesCommand),_ChangeTypeOfSelectedRelationsCommand=require("./ChangeTypeOfSelectedRelationsCommand"),_ChangeTypeOfSelectedRelationsCommand2=_interopRequireDefault(_ChangeTypeOfSelectedRelationsCommand),_ChangeTypeRemoveRelationOfSelectedEntitiesCommand=require("./ChangeTypeRemoveRelationOfSelectedEntitiesCommand"),_ChangeTypeRemoveRelationOfSelectedEntitiesCommand2=_interopRequireDefault(_ChangeTypeRemoveRelationOfSelectedEntitiesCommand),_ChangeValueOfAttributeDefinitionCommand=require("./ChangeValueOfAttributeDefinitionCommand"),_ChangeValueOfAttributeDefinitionCommand2=_interopRequireDefault(_ChangeValueOfAttributeDefinitionCommand),_CreateAttributeDefinitionCommand=require("./CreateAttributeDefinitionCommand"),_CreateAttributeDefinitionCommand2=_interopRequireDefault(_CreateAttributeDefinitionCommand),_CreateAttributeToSelectedEntitiesCommand=require("./CreateAttributeToSelectedEntitiesCommand"),_CreateAttributeToSelectedEntitiesCommand2=_interopRequireDefault(_CreateAttributeToSelectedEntitiesCommand),_CreateDefaultTypeEntityToSelectedSpans=require("./CreateDefaultTypeEntityToSelectedSpans"),_CreateDefaultTypeEntityToSelectedSpans2=_interopRequireDefault(_CreateDefaultTypeEntityToSelectedSpans),_CreateSpanAndAutoReplicateCommand=require("./CreateSpanAndAutoReplicateCommand"),_CreateSpanAndAutoReplicateCommand2=_interopRequireDefault(_CreateSpanAndAutoReplicateCommand),_CreateTypeDefinitionCommand=require("./CreateTypeDefinitionCommand"),_CreateTypeDefinitionCommand2=_interopRequireDefault(_CreateTypeDefinitionCommand),_DeleteAttributeDefinitionCommand=require("./DeleteAttributeDefinitionCommand"),_DeleteAttributeDefinitionCommand2=_interopRequireDefault(_DeleteAttributeDefinitionCommand),_MoveSpanCommand=require("./MoveSpanCommand"),_MoveSpanCommand2=_interopRequireDefault(_MoveSpanCommand),_PasteTypesToSelectedSpansCommand=require("./PasteTypesToSelectedSpansCommand"),_PasteTypesToSelectedSpansCommand2=_interopRequireDefault(_PasteTypesToSelectedSpansCommand),_ReplicateSpanCommand=require("./ReplicateSpanCommand"),_ReplicateSpanCommand2=_interopRequireDefault(_ReplicateSpanCommand),_RemoveAttributesOfSelectedEntitiesByPredCommand=require("./RemoveAttributesOfSelectedEntitiesByPredCommand"),_RemoveAttributesOfSelectedEntitiesByPredCommand2=_interopRequireDefault(_RemoveAttributesOfSelectedEntitiesByPredCommand),_RemoveModificationsFromSelectedCommand=require("./RemoveModificationsFromSelectedCommand"),_RemoveModificationsFromSelectedCommand2=_interopRequireDefault(_RemoveModificationsFromSelectedCommand),_RemoveSelectedCommand=require("./RemoveSelectedCommand"),_RemoveSelectedCommand2=_interopRequireDefault(_RemoveSelectedCommand),_RemoveSpanCommand=require("./RemoveSpanCommand"),_RemoveSpanCommand2=_interopRequireDefault(_RemoveSpanCommand),_RemoveTypeDefinitionCommand=require("./RemoveTypeDefinitionCommand"),_RemoveTypeDefinitionCommand2=_interopRequireDefault(_RemoveTypeDefinitionCommand),_RemoveValueFromAttributeDefinitionCommand=require("./RemoveValueFromAttributeDefinitionCommand"),_RemoveValueFromAttributeDefinitionCommand2=_interopRequireDefault(_RemoveValueFromAttributeDefinitionCommand),_ToggleFlagAttributeToSelectedEntitiesCommand=require("./ToggleFlagAttributeToSelectedEntitiesCommand"),_ToggleFlagAttributeToSelectedEntitiesCommand2=_interopRequireDefault(_ToggleFlagAttributeToSelectedEntitiesCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,n,i){this._editor=e,this._annotationData=t,this._selectionModel=n,this._typeDefinition=i}addValueToAttributeDefinitionCommand(e,t,n){return new _AddValueToAttributeDefinitionCommand2.default(this._typeDefinition[e],t.JSON,n)}changeAttributeDefinitionCommand(e,t,n){return new _ChangeAttributeDefinitionAndRefectInstancesCommand2.default(this._annotationData,this._typeDefinition[e],t,n)}changeAttributesOfSelectedEntitiesWithSamePred(e,t,n,i){return new _ChangeAttributesOfSelectedEntitiesWithSamePred2.default(this._annotationData,this._selectionModel,this._typeDefinition[e],t,n,i)}changeEntityTypeCommand(e,t,n,i){return new _ChangeEntityTypeCommand2.default(this._editor,this._annotationData,this._selectionModel,e,t,n,i)}changeRelationLabelCommand(e,t,n){return new _ChangeRelationLabelCommand2.default(this._editor,this._annotationData,this._selectionModel,e,t,n)}changeTypeDefinitionCommand(e,t,n){return new _ChangeTypeDefinitionAndRefectInstancesCommand2.default(this._editor,this._annotationData,this._typeDefinition[e],e,t,n)}changeTypeOfSelectedRelationsCommand(e,t){return new _ChangeTypeOfSelectedRelationsCommand2.default(this._editor,this._annotationData,this._selectionModel,e,t)}changeTypeRemoveRelationOfSelectedEntitiesCommand(e){return new _ChangeTypeRemoveRelationOfSelectedEntitiesCommand2.default(this._editor,this._annotationData,this._selectionModel,e)}changeValueOfAttributeDefinitionCommand(e,t,n,i){return new _ChangeValueOfAttributeDefinitionCommand2.default(this._typeDefinition[e],t,n,i)}createAttributeDefinitionCommand(e,t){return new _CreateAttributeDefinitionCommand2.default(this._typeDefinition[e],t)}createAttributeToSelectedEntitiesCommand(e,t=null){return new _CreateAttributeToSelectedEntitiesCommand2.default(this._editor,this._annotationData,this._selectionModel,e,t)}createDefaultTypeEntityToSelectedSpansCommand(e){return new _CreateDefaultTypeEntityToSelectedSpans2.default(this._editor,this._annotationData,this._selectionModel,e)}createModificationCommand(e,t){return new _AttatchModificationsToSelectedCommand2.default(this._editor,this._annotationData,this._selectionModel,e,t)}createRelationCommand(e){return new _commandTemplate.CreateCommand(this._editor,this._annotationData,this._selectionModel,"relation",!0,e)}createSpanAndAutoReplicateCommand(e,t,n){return new _CreateSpanAndAutoReplicateCommand2.default(this._editor,this._annotationData,this._selectionModel,e,this._typeDefinition.entity.defaultType,t,n)}createTypeDefinitionCommand(e,t){return new _CreateTypeDefinitionCommand2.default(this._editor,this._typeDefinition[e],t)}deleteAttributeDefinitionCommand(e,t){return new _DeleteAttributeDefinitionCommand2.default(this._typeDefinition[e],t)}moveSpanCommand(e,t){return new _MoveSpanCommand2.default(this._editor,this._annotationData,e,t)}pasteTypesToSelectedSpansCommand(e){return new _PasteTypesToSelectedSpansCommand2.default(this._editor,this._annotationData,this._selectionModel,e)}replicateSpanCommand(e,t,n){return new _ReplicateSpanCommand2.default(this._editor,this._annotationData,this._selectionModel,e,t,n)}removeAttributesOfSelectedEntitiesByPredCommand(e){return new _RemoveAttributesOfSelectedEntitiesByPredCommand2.default(this._editor,this._annotationData,this._selectionModel,e)}removeModificationCommand(e,t){return new _RemoveModificationsFromSelectedCommand2.default(this._editor,this._annotationData,this._selectionModel,e,t)}removeSpanCommand(e){return new _RemoveSpanCommand2.default(this._editor,this._annotationData,this._selectionModel,e)}removeSelectedComand(){return new _RemoveSelectedCommand2.default(this._editor,this._annotationData,this._selectionModel)}removeTypeDefinitionCommand(e,t){return new _RemoveTypeDefinitionCommand2.default(this._editor,this._typeDefinition[e],t)}removeValueFromAttributeDefinitionCommand(e,t,n){return new _RemoveValueFromAttributeDefinitionCommand2.default(this._typeDefinition[e],t.JSON,n)}toggleFlagAttributeToSelectedEntitiesCommand(e){return new _ToggleFlagAttributeToSelectedEntitiesCommand2.default(this._editor,this._annotationData,this._selectionModel,e)}};

},{"./AddValueToAttributeDefinitionCommand":414,"./AttatchModificationsToSelectedCommand":416,"./ChangeAttributeDefinitionAndRefectInstancesCommand":422,"./ChangeAttributesOfSelectedEntitiesWithSamePred":423,"./ChangeEntityTypeCommand":424,"./ChangeRelationLabelCommand":425,"./ChangeTypeDefinitionAndRefectInstancesCommand":429,"./ChangeTypeOfSelectedRelationsCommand":435,"./ChangeTypeRemoveRelationOfSelectedEntitiesCommand":436,"./ChangeValueOfAttributeDefinitionCommand":437,"./CreateAttributeDefinitionCommand":440,"./CreateAttributeToSelectedEntitiesCommand":441,"./CreateDefaultTypeEntityToSelectedSpans":443,"./CreateSpanAndAutoReplicateCommand":445,"./CreateTypeDefinitionCommand":447,"./DeleteAttributeDefinitionCommand":448,"./MoveSpanCommand":449,"./PasteTypesToSelectedSpansCommand":450,"./RemoveAttributesOfSelectedEntitiesByPredCommand":451,"./RemoveModificationsFromSelectedCommand":453,"./RemoveSelectedCommand":459,"./RemoveSpanCommand":460,"./RemoveTypeDefinitionCommand":461,"./RemoveValueFromAttributeDefinitionCommand":462,"./ReplicateSpanCommand":466,"./ToggleFlagAttributeToSelectedEntitiesCommand":467,"./commandTemplate":469}],477:[function(require,module,exports){
"use strict";function isModificationType(e,i){return e.pred===i}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isModificationType;

},{}],478:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,o,n){return{invoke:e=>{e.isEmpty||((0,_invoke2.default)([e]),o.push([e]))},undo:()=>{if(o.hasAnythingToUndo){r.clear(),e.focus();const t=o.prev();t.kinds.has("configuration_command")&&_alertifyjs2.default.success("configuration has been undone"),(0,_invokeRevert2.default)(t.commands)}},redo:()=>{if(o.hasAnythingToRedo){r.clear();const e=o.next();e.kinds.has("configuration_command")&&_alertifyjs2.default.success("configuration has been redo"),(0,_invoke2.default)(e.commands)}},factory:new _Factory2.default(e,t,r,n)}};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs),_invoke=require("./invoke"),_invoke2=_interopRequireDefault(_invoke),_invokeRevert=require("./invokeRevert"),_invokeRevert2=_interopRequireDefault(_invokeRevert),_Factory=require("./Factory"),_Factory2=_interopRequireDefault(_Factory);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./Factory":476,"./invoke":479,"./invokeRevert":481,"alertifyjs":44}],479:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.map(e=>e.execute())};

},{}],480:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return(e=Object.create(e)).reverse(),e.map(e=>e.revert())};

},{}],481:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){(0,_invoke2.default)((0,_RevertCommands2.default)(e))};var _invoke=require("../invoke"),_invoke2=_interopRequireDefault(_invoke),_RevertCommands=require("./RevertCommands"),_RevertCommands2=_interopRequireDefault(_RevertCommands);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../invoke":479,"./RevertCommands":480}],482:[function(require,module,exports){
module.exports={
  "cssClass": "textae-editor__relation__label",
  "id": "label"
}

},{}],483:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});class OriginalData{constructor(){this._map=new Map}get annotation(){return this._map.get("annotation")||{}}set annotation(t){this._map.set("annotation",t)}get configuration(){return this._map.get("configuration")||{}}set configuration(t){this._map.set("configuration",t)}}exports.default=OriginalData;

},{}],484:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _showSaveAnnoDialogWithEditedData=require("./showSaveAnnoDialogWithEditedData"),_showSaveAnnoDialogWithEditedData2=_interopRequireDefault(_showSaveAnnoDialogWithEditedData),_showSaveConfDialogWithEditedData=require("./showSaveConfDialogWithEditedData"),_showSaveConfDialogWithEditedData2=_interopRequireDefault(_showSaveConfDialogWithEditedData);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,i,a,e,o,n,s){this._dataAccessObject=t,this._history=i,this._annotationData=a,this._typeDefinition=e,this._getOriginalAnnotation=o,this._getOriginalConfig=n,this._saveToParameter=s}importAnnotation(){this._dataAccessObject.showAccessAnno(this._history.hasAnythingToSaveAnnotation)}uploadAnnotation(){(0,_showSaveAnnoDialogWithEditedData2.default)(this._dataAccessObject,this._annotationData,this._typeDefinition.config,this._getOriginalAnnotation(),this._saveToParameter)}importConfiguration(){this._dataAccessObject.showAccessConf(this._history.hasAnythingToSaveConfiguration)}uploadConfiguration(){(0,_showSaveConfDialogWithEditedData2.default)(this._dataAccessObject,this._typeDefinition.config,this._getOriginalConfig())}};

},{"./showSaveAnnoDialogWithEditedData":485,"./showSaveConfDialogWithEditedData":486}],485:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o,t,s,n){const c=Object.assign(s,o.toJson(),{config:t});e.showSaveAnno(c,n)};

},{}],486:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,s){const o=Object.assign({},s,t);e.showSaveConf(s,o)};

},{}],487:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){const e=Object.assign({},SEED),t=(t,a)=>updateHash(e,t,a);for(const a of Object.keys(SEED))e[`set${(0,_capitalize2.default)(a,!0)}`]=(e=>t(a,e));return e};var _capitalize=require("capitalize"),_capitalize2=_interopRequireDefault(_capitalize);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const SEED={instanceHide:0,instanceShow:2};function updateHash(e,t,a){return e[t]=a,a}

},{"capitalize":47}],488:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,p,u){e?p.setInstanceShow(u):p.setInstanceHide(u),(0,_updateTypeGap2.default)(e,t,p)};var _updateTypeGap=require("./updateTypeGap"),_updateTypeGap2=_interopRequireDefault(_updateTypeGap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./updateTypeGap":490}],489:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _TypeGapCache=require("./TypeGapCache"),_TypeGapCache2=_interopRequireDefault(_TypeGapCache),_alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs),_changeTypeGap=require("./changeTypeGap"),_changeTypeGap2=_interopRequireDefault(_changeTypeGap),_updateTypeGap=require("./updateTypeGap"),_updateTypeGap2=_interopRequireDefault(_updateTypeGap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e){this._typeGap=e,this._showInstance=!0,this._typeGapCache=new _TypeGapCache2.default}show(){this._showInstance=!0,(0,_updateTypeGap2.default)(this._showInstance,this._typeGap,this._typeGapCache)}hide(){this._showInstance=!1,(0,_updateTypeGap2.default)(this._showInstance,this._typeGap,this._typeGapCache)}get showInstance(){return this._showInstance}get typeGap(){return this._typeGap().value}set typeGap(e){(0,_changeTypeGap2.default)(this._showInstance,this._typeGap,this._typeGapCache,e)}notifyNewInstance(){this._showInstance||_alertifyjs2.default.success("an instance is created behind.")}};

},{"./TypeGapCache":487,"./changeTypeGap":488,"./updateTypeGap":490,"alertifyjs":44}],490:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,s){e?t.set({value:s.instanceShow,showInstance:e}):t.set({value:s.instanceHide,showInstance:e})};

},{}],491:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){const t=new _emitterFsm2.default({states:[_state2.default.INIT,_state2.default.TERM,_state2.default.INSTANCE,_state2.default.RELATION,_state2.default.VIEW_TERM,_state2.default.VIEW_INSTANCE]});return t.config(_state2.default.INIT,{to:{exclude:[_state2.default.RELATION]}}),t.config(_state2.default.TERM,{from:{exclude:[_state2.default.VIEW_INSTANCE]},to:{exclude:[_state2.default.INIT,_state2.default.VIEW_INSTANCE]}}),t.config(_state2.default.INSTANCE,{from:{exclude:[_state2.default.VIEW_TERM]},to:{exclude:[_state2.default.INIT,_state2.default.VIEW_TERM]}}),t.config(_state2.default.RELATION,{from:{exclude:[_state2.default.INIT]},to:{exclude:[_state2.default.INIT,_state2.default.VIEW_TERM]}}),t.config(_state2.default.VIEW_TERM,{from:{exclude:[_state2.default.INSTANCE,_state2.default.RELATION]},to:{exclude:[_state2.default.INIT,_state2.default.INSTANCE]}}),t.config(_state2.default.VIEW_INSTANCE,{from:{exclude:[_state2.default.TERM]},to:{exclude:[_state2.default.INIT,_state2.default.TERM]}}),t};var _emitterFsm=require("emitter-fsm"),_emitterFsm2=_interopRequireDefault(_emitterFsm),_state=require("./state"),_state2=_interopRequireDefault(_state);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./state":503,"emitter-fsm":53}],492:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _setEditableStyle=require("./setEditableStyle"),_setEditableStyle2=_interopRequireDefault(_setEditableStyle),_ViewMode=require("./ViewMode"),_ViewMode2=_interopRequireDefault(_ViewMode);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const TERM="term",INSTANCE="instance",RELATION="relation";exports.default=class{constructor(t,e,i,s,d,o){this._editor=t,this._typeEditor=s,this._viewMode=new _ViewMode2.default(t,e,d),this._buttonStateHelper=d,this._displayInstance=o}toTerm(){this._displayInstance.hide(),this._editor.eventEmitter.emit("textae.editMode.transition",!0,TERM),this._typeEditor.editEntity(),this._viewMode.setTerm(),(0,_setEditableStyle2.default)(this._editor,this._buttonStateHelper,!0)}toInstance(){this._displayInstance.show(),this._editor.eventEmitter.emit("textae.editMode.transition",!0,INSTANCE),this._typeEditor.editEntity(),this._viewMode.setInstance(),(0,_setEditableStyle2.default)(this._editor,this._buttonStateHelper,!0)}toRelation(){this._displayInstance.show(),this._editor.eventEmitter.emit("textae.editMode.transition",!0,RELATION),this._typeEditor.editRelation(),this._viewMode.setRelation(),(0,_setEditableStyle2.default)(this._editor,this._buttonStateHelper,!0)}toViewTerm(){this._displayInstance.hide(),this._editor.eventEmitter.emit("textae.editMode.transition",!1,TERM),this._typeEditor.noEdit(),this._viewMode.setTerm(),(0,_setEditableStyle2.default)(this._editor,this._buttonStateHelper,!1)}toViewInstance(){this._displayInstance.show(),this._editor.eventEmitter.emit("textae.editMode.transition",!1,INSTANCE),this._typeEditor.noEdit(),this._viewMode.setInstance(),(0,_setEditableStyle2.default)(this._editor,this._buttonStateHelper,!1)}};

},{"./ViewMode":494,"./setEditableStyle":502}],493:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.removeClass("textae-editor--term-mode").removeClass("textae-editor--instance-mode").removeClass("textae-editor--relation-mode").addClass(`textae-editor--${t}-mode`)};

},{}],494:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Selector=require("../../../Selector"),_Selector2=_interopRequireDefault(_Selector),_changeCssClass=require("./changeCssClass"),_changeCssClass2=_interopRequireDefault(_changeCssClass),_removeListeners=require("./removeListeners"),_removeListeners2=_interopRequireDefault(_removeListeners);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,s){this._editor=e,this._buttonStateHelper=s;const i=new _Selector2.default(e,t);this._entitySelectChanged=(e=>{s.updateByEntity(),i.entityLabel.update(e)})}setTerm(){(0,_changeCssClass2.default)(this._editor,"term"),(0,_removeListeners2.default)(this._editor,this._entitySelectChanged),this._editor.eventEmitter.on("textae.selection.entity.select",this._entitySelectChanged).on("textae.selection.entity.deselect",this._entitySelectChanged)}setInstance(){(0,_changeCssClass2.default)(this._editor,"instance"),(0,_removeListeners2.default)(this._editor,this._entitySelectChanged),this._editor.eventEmitter.on("textae.selection.entity.select",this._entitySelectChanged).on("textae.selection.entity.deselect",this._entitySelectChanged)}setRelation(){(0,_changeCssClass2.default)(this._editor,"relation"),(0,_removeListeners2.default)(this._editor,this._entitySelectChanged)}};

},{"../../../Selector":628,"./changeCssClass":493,"./removeListeners":495}],495:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.eventEmitter.removeListener("textae.selection.entity.select",t).removeListener("textae.selection.entity.deselect",t)};

},{}],496:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){const e=new _StateMachine2.default;return e.on("transition",t=>{}).on(toEnterEvent(_state2.default.TERM),()=>t.toTerm()).on(toEnterEvent(_state2.default.INSTANCE),()=>t.toInstance()).on(toEnterEvent(_state2.default.RELATION),()=>t.toRelation()).on(toEnterEvent(_state2.default.VIEW_TERM),()=>t.toViewTerm()).on(toEnterEvent(_state2.default.VIEW_INSTANCE),()=>t.toViewInstance()),e};var _StateMachine=require("./StateMachine"),_StateMachine2=_interopRequireDefault(_StateMachine),_state=require("./state"),_state2=_interopRequireDefault(_state);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}function toEnterEvent(t){return`enter:${t}`}

},{"./StateMachine":491,"./state":503}],497:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e.enabled("view",!0),e.enabled("term",!0),e.enabled("relation",!0),e.enabled("simple",!0),e.enabled("setting",!0)};

},{}],498:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _Transition=require("./Transition"),_Transition2=_interopRequireDefault(_Transition),_bindTransition=require("./bindTransition"),_bindTransition2=_interopRequireDefault(_bindTransition),_enableButtonHasAnnotation=require("./enableButtonHasAnnotation"),_enableButtonHasAnnotation2=_interopRequireDefault(_enableButtonHasAnnotation),_state=require("./state"),_state2=_interopRequireDefault(_state),_pushView=require("./pushView"),_pushView2=_interopRequireDefault(_pushView),_pushTerm=require("./pushTerm"),_pushTerm2=_interopRequireDefault(_pushTerm),_pushSimple=require("./pushSimple"),_pushSimple2=_interopRequireDefault(_pushSimple),_upSimple=require("./upSimple"),_upSimple2=_interopRequireDefault(_upSimple),_toggleInstaceRelation=require("./toggleInstaceRelation"),_toggleInstaceRelation2=_interopRequireDefault(_toggleInstaceRelation);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i,a,n,s){const u=new _Transition2.default(e,t,i,a,n,s);this._stateMachine=(0,_bindTransition2.default)(u),this._annotationData=t,this._stateMachine.once("transition",()=>(0,_enableButtonHasAnnotation2.default)(n))}toTerm(){this._stateMachine.setState(_state2.default.TERM)}toInstance(){this._stateMachine.setState(_state2.default.INSTANCE)}toViewTerm(){this._stateMachine.setState(_state2.default.VIEW_TERM)}toViewInstance(){this._stateMachine.setState(_state2.default.VIEW_INSTANCE)}pushView(){(0,_pushView2.default)(this._stateMachine)}pushTerm(){(0,_pushTerm2.default)(this._stateMachine,this._annotationData)}pushRelation(){this._stateMachine.setState(_state2.default.RELATION)}pushSimple(){(0,_pushSimple2.default)(this._stateMachine)}upSimple(){(0,_upSimple2.default)(this._stateMachine)}toggleInstaceRelation(){(0,_toggleInstaceRelation2.default)(this._stateMachine,this._annotationData)}};

},{"./Transition":492,"./bindTransition":496,"./enableButtonHasAnnotation":497,"./pushSimple":499,"./pushTerm":500,"./pushView":501,"./state":503,"./toggleInstaceRelation":505,"./upSimple":506}],499:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){switch(e.currentState){case _state2.default.INSTANCE:e.setState(_state2.default.TERM);break;case _state2.default.VIEW_INSTANCE:e.setState(_state2.default.VIEW_TERM);break;default:throw new Error(`Invalid state: ${e.currentState}`)}};var _state=require("./state"),_state2=_interopRequireDefault(_state);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./state":503}],500:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){switch(t.currentState){case _state2.default.RELATION:(0,_toEditStateAccordingToAnntationData2.default)(t,e);break;case _state2.default.VIEW_INSTANCE:t.setState(_state2.default.INSTANCE);break;case _state2.default.VIEW_TERM:t.setState(_state2.default.TERM)}};var _state=require("./state"),_state2=_interopRequireDefault(_state),_toEditStateAccordingToAnntationData=require("./toEditStateAccordingToAnntationData"),_toEditStateAccordingToAnntationData2=_interopRequireDefault(_toEditStateAccordingToAnntationData);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./state":503,"./toEditStateAccordingToAnntationData":504}],501:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){switch(e.currentState){case _state2.default.TERM:e.setState(_state2.default.VIEW_TERM);break;case _state2.default.INSTANCE:case _state2.default.RELATION:e.setState(_state2.default.VIEW_INSTANCE)}};var _state=require("./state"),_state2=_interopRequireDefault(_state);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./state":503}],502:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a){a?e.addClass("textae-editor--editable"):e.removeClass("textae-editor--editable")};

},{}],503:[function(require,module,exports){
module.exports={
    "INIT": "Init",
    "TERM": "Term Centric",
    "INSTANCE": "Instance / Relation",
    "RELATION": "Relation Edit",
    "VIEW_TERM": "View Term",
    "VIEW_INSTANCE": "View Instance"
}

},{}],504:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){(0,_isSimple2.default)(t)?e.setState(_state2.default.TERM):e.setState(_state2.default.INSTANCE)};var _isSimple=require("../isSimple"),_isSimple2=_interopRequireDefault(_isSimple),_state=require("./state"),_state2=_interopRequireDefault(_state);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../isSimple":621,"./state":503}],505:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){switch(t.currentState){case _state2.default.TERM:case _state2.default.INSTANCE:t.setState(_state2.default.RELATION);break;case _state2.default.RELATION:(0,_toEditStateAccordingToAnntationData2.default)(t,e)}};var _state=require("./state"),_state2=_interopRequireDefault(_state),_toEditStateAccordingToAnntationData=require("./toEditStateAccordingToAnntationData"),_toEditStateAccordingToAnntationData2=_interopRequireDefault(_toEditStateAccordingToAnntationData);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./state":503,"./toEditStateAccordingToAnntationData":504}],506:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){switch(e.currentState){case _state2.default.TERM:e.setState(_state2.default.INSTANCE);break;case _state2.default.VIEW_TERM:e.setState(_state2.default.VIEW_INSTANCE);break;default:throw new Error(`Invalid state: ${e.currentState}`)}};var _state=require("./state"),_state2=_interopRequireDefault(_state);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./state":503}],507:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.clipBoard=[...new Set((0,_getSelectedSpansEntities2.default)(t).concat(t.entity.all))].map(e=>e.type)};var _getSelectedSpansEntities=require("./getSelectedSpansEntities"),_getSelectedSpansEntities2=_interopRequireDefault(_getSelectedSpansEntities);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getSelectedSpansEntities":508}],508:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.span.all.map(e=>e.entities).flat()};

},{}],509:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _copyEntities=require("./copyEntities"),_copyEntities2=_interopRequireDefault(_copyEntities);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i){this._commander=e,this._selectionModel=t,this._clipBoard=i}copyEntities(){(0,_copyEntities2.default)(this._clipBoard,this._selectionModel)}pasteEntities(){this._commander.invoke(this._commander.factory.pasteTypesToSelectedSpansCommand(this._clipBoard.clipBoard))}};

},{"./copyEntities":507}],510:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o,t,r){return e?o.factory.removeModificationCommand(t,r):o.factory.createModificationCommand(t,r)};

},{}],511:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){return{negation:()=>{(0,_toggleModification2.default)(e,t,"Negation",i)},speculation:()=>{(0,_toggleModification2.default)(e,t,"Speculation",i)}}};var _toggleModification=require("./toggleModification"),_toggleModification2=_interopRequireDefault(_toggleModification);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./toggleModification":512}],512:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o,u){const n=t.getButton(o.toLowerCase()).value();e.invoke((0,_getCommand2.default)(n,e,o,u))};var _getCommand=require("./getCommand"),_getCommand2=_interopRequireDefault(_getCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getCommand":510}],513:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){e.invoke(e.factory.createDefaultTypeEntityToSelectedSpansCommand(t.entity.defaultType)),o()};

},{}],514:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _SettingDialog=require("../../../../component/SettingDialog"),_SettingDialog2=_interopRequireDefault(_SettingDialog),_ClipBoardHandler=require("./ClipBoardHandler"),_ClipBoardHandler2=_interopRequireDefault(_ClipBoardHandler),_createEntityHandler=require("./createEntityHandler"),_createEntityHandler2=_interopRequireDefault(_createEntityHandler),_replicateHandler=require("./replicateHandler"),_replicateHandler2=_interopRequireDefault(_replicateHandler),_ModificationHandler=require("./ModificationHandler"),_ModificationHandler2=_interopRequireDefault(_ModificationHandler),_selectLeft=require("./selectLeft"),_selectLeft2=_interopRequireDefault(_selectLeft),_selectRight=require("./selectRight"),_selectRight2=_interopRequireDefault(_selectRight),_selectUpperLayer=require("./selectUpperLayer"),_selectUpperLayer2=_interopRequireDefault(_selectUpperLayer),_selectLowerLayer=require("./selectLowerLayer"),_selectLowerLayer2=_interopRequireDefault(_selectLowerLayer),_toggleSimpleMode=require("./toggleSimpleMode"),_toggleSimpleMode2=_interopRequireDefault(_toggleSimpleMode),_toggleDetectBoundaryMode=require("./toggleDetectBoundaryMode"),_toggleDetectBoundaryMode2=_interopRequireDefault(_toggleDetectBoundaryMode),_toggleInstaceRelation=require("./toggleInstaceRelation"),_toggleInstaceRelation2=_interopRequireDefault(_toggleInstaceRelation);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i,o,l,r,a,n,s,d,_){this._clipBoardHandler=new _ClipBoardHandler2.default(e,t,n),this._commander=e,this._editor=d,this._selectionModel=t,this._typeDefinition=i,this._displayInstance=o,this._typeEditor=s,this._annotationData=l,this._buttonController=r,this._spanConfig=a,this._modificationHandler=new _ModificationHandler2.default(e,r.pushButtons,s),this._editMode=_}copyEntities(){this._clipBoardHandler.copyEntities()}removeSelectedElements(){const e=this._commander.factory.removeSelectedComand();(0,_selectRight2.default)(this._editor[0],this._selectionModel,null),this._commander.invoke(e)}createEntity(){(0,_createEntityHandler2.default)(this._commander,this._typeDefinition,()=>this._displayInstance.notifyNewInstance())}showPallet(){this._typeEditor.showPallet()}replicate(){(0,_replicateHandler2.default)(this._commander,this._annotationData,this._buttonController.pushButtons,this._spanConfig,this._selectionModel.span.single())}pasteEntities(){this._clipBoardHandler.pasteEntities()}changeLabel(){this._typeEditor.changeLabel()}manipulateAttribute(e,t){this._typeEditor.manipulateAttribute(e,t)}cancelSelect(){this._typeEditor.cancelSelect(),this._editor.focus()}negation(){this._modificationHandler.negation()}speculation(){this._modificationHandler.speculation()}showSettingDialog(){new _SettingDialog2.default(this._editor,this._typeDefinition,this._displayInstance).open()}select(){this._editor[0].classList.add("textae-editor--active")}unselect(){this._editor[0].classList.remove("textae-editor--active"),this._editor.eventEmitter.emit("textae.editor.unselect")}selectLeft(e){this._typeEditor.isEntityPalletShown?this._typeEditor.selectLeftAttributeTab():(0,_selectLeft2.default)(this._editor[0],this._selectionModel,e)}selectRight(e){this._typeEditor.isEntityPalletShown?this._typeEditor.selectRightAttributeTab():(0,_selectRight2.default)(this._editor[0],this._selectionModel,e)}selectUp(){(0,_selectUpperLayer2.default)(this._editor[0],this._selectionModel)}selectDown(){(0,_selectLowerLayer2.default)(this._editor[0],this._selectionModel)}toggleSimpleMode(){(0,_toggleSimpleMode2.default)(this._buttonController.pushButtons,this._editMode)}toggleDetectBoundaryMode(){(0,_toggleDetectBoundaryMode2.default)(this._buttonController.pushButtons)}toggleInstaceRelation(){(0,_toggleInstaceRelation2.default)(this._editMode)}toViewMode(){this._editMode.pushView()}toTermMode(){this._editMode.pushTerm()}toRelationMode(){this._editMode.pushRelation()}};

},{"../../../../component/SettingDialog":265,"./ClipBoardHandler":509,"./ModificationHandler":511,"./createEntityHandler":513,"./replicateHandler":516,"./selectLeft":517,"./selectLowerLayer":519,"./selectRight":523,"./selectUpperLayer":526,"./toggleDetectBoundaryMode":529,"./toggleInstaceRelation":530,"./toggleSimpleMode":531}],515:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.getButton("boundary-detection").value()?e=>t.isDelimiter(e):null};

},{}],516:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,u,a){const r=(0,_getDetectBoundaryFunc2.default)(n,u),o=t.span.get(a);a?e.invoke(e.factory.replicateSpanCommand(o,o.types,r)):alert("You can replicate span annotation when there is only span selected.")};var _getDetectBoundaryFunc=require("./getDetectBoundaryFunc"),_getDetectBoundaryFunc2=_interopRequireDefault(_getDetectBoundaryFunc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getDetectBoundaryFunc":515}],517:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,u){(0,_selectLeftFunc2.default)(e,t,u)()};var _selectLeftFunc=require("./selectLeftFunc"),_selectLeftFunc2=_interopRequireDefault(_selectLeftFunc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./selectLeftFunc":518}],518:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,u){return(0,_selectNextFunc2.default)(e,t,u,t=>(0,_getNextElement.getLeftElement)(e,t[0]))};var _getNextElement=require("../../../getNextElement"),_selectNextFunc=require("../selectNextFunc"),_selectNextFunc2=_interopRequireDefault(_selectNextFunc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../getNextElement":788,"../selectNextFunc":522}],519:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const l=(0,_selectSelected2.default)(e,"textae-editor__type-values");if(1===l.length)return void(0,_selectSpanOfEntityLabel2.default)(t,l[0]);const n=(0,_selectSelected2.default)(e,"textae-editor__entity");1!==n.length||(0,_selectLabelOfEntity2.default)(t,n[0])};var _selectLabelOfEntity=require("./selectLabelOfEntity"),_selectLabelOfEntity2=_interopRequireDefault(_selectLabelOfEntity),_selectSpanOfEntityLabel=require("./selectSpanOfEntityLabel"),_selectSpanOfEntityLabel2=_interopRequireDefault(_selectSpanOfEntityLabel),_selectSelected=require("../selectSelected"),_selectSelected2=_interopRequireDefault(_selectSelected);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../selectSelected":525,"./selectLabelOfEntity":520,"./selectSpanOfEntityLabel":521}],520:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){console.assert(t,"An entity MUST exists.");const o=(0,_getLabelDomOfType2.default)(t);e.selectEntityLabel(o)};var _getLabelDomOfType=require("../../../getLabelDomOfType"),_getLabelDomOfType2=_interopRequireDefault(_getLabelDomOfType);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../getLabelDomOfType":787}],521:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){console.assert(t,"A label MUST exists.");const s=t.closest(".textae-editor__grid").id.substring(1);e.selectSingleSpanById(s)};

},{}],522:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,l,c){const n=(0,_selectSelected2.default)(e,"textae-editor__span");if(n.length){const e=c(n);return()=>t.selectSpan(e,l)}const r=(0,_selectSelected2.default)(e,"textae-editor__type-values");if(r.length){const e=c(r);return()=>t.selectEntityLabel(e,l)}const s=(0,_selectSelected2.default)(e,"textae-editor__entity");if(s.length){const e=c(s);return()=>t.selectEntity(e,l)}return()=>{}};var _selectSelected=require("./selectSelected"),_selectSelected2=_interopRequireDefault(_selectSelected);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./selectSelected":525}],523:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=selectRight;var _selectRightFunc=require("./selectRightFunc"),_selectRightFunc2=_interopRequireDefault(_selectRightFunc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function selectRight(e,t,u){(0,_selectRightFunc2.default)(e,t,u)()}

},{"./selectRightFunc":524}],524:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,u){return(0,_selectNextFunc2.default)(e,t,u,t=>(0,_getNextElement.getRightElement)(e,t[t.length-1]))};var _getNextElement=require("../../../getNextElement"),_selectNextFunc=require("../selectNextFunc"),_selectNextFunc2=_interopRequireDefault(_selectNextFunc);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../getNextElement":788,"../selectNextFunc":522}],525:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.querySelectorAll(`.${t}.ui-selected`)};

},{}],526:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const l=t.span.single();if(l)return void(0,_selectFirstEntityLabelOfSpan2.default)(t,l);const i=(0,_selectSelected2.default)(e,"textae-editor__type-values");1!==i.length||(0,_selectFirstEntityOfEntityLabel2.default)(t,i[0])};var _selectFirstEntityOfEntityLabel=require("./selectFirstEntityOfEntityLabel"),_selectFirstEntityOfEntityLabel2=_interopRequireDefault(_selectFirstEntityOfEntityLabel),_selectFirstEntityLabelOfSpan=require("./selectFirstEntityLabelOfSpan"),_selectFirstEntityLabelOfSpan2=_interopRequireDefault(_selectFirstEntityLabelOfSpan),_selectSelected=require("../selectSelected"),_selectSelected2=_interopRequireDefault(_selectSelected);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../selectSelected":525,"./selectFirstEntityLabelOfSpan":527,"./selectFirstEntityOfEntityLabel":528}],527:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const o=document.querySelector(`#G${t}`);if(o){const t=o.querySelector(".textae-editor__type");e.selectEntityLabel(t)}};

},{}],528:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const n=(0,_getPaneDomOfType2.default)(t);e.selectEntity(n.children[0])};var _getPaneDomOfType=require("../../../../getPaneDomOfType"),_getPaneDomOfType2=_interopRequireDefault(_getPaneDomOfType);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../getPaneDomOfType":395}],529:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e.getButton("boundary-detection").toggle()};

},{}],530:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e.toggleInstaceRelation()};

},{}],531:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.getButton("simple").value()?t.upSimple():t.pushSimple()};

},{}],532:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _LABEL=require("../../../LABEL"),_LABEL2=_interopRequireDefault(_LABEL);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,r){this._modelType=e,this.typeContainer=t,this.commander=r}addType(e){return console.assert(e.id,"id is necessary!"),this.commander.factory.createTypeDefinitionCommand(this._modelType,e)}changeType(e,t){return this.commander.factory.changeTypeDefinitionCommand(this._modelType,e,t)}jsPlumbConnectionClicked(...e){const t=e[0].getOverlay(_LABEL2.default.id).canvas.querySelector("a");if(t){const e=t.getAttribute("href");window.open(e,"_blank")}}removeType(e,t){const r={id:e,label:t||""};if(void 0===e)throw new Error("You must set the type id to remove.");return this.commander.factory.removeTypeDefinitionCommand(this._modelType,r)}changeLabelHandler(){}manipulateAttribute(){}};

},{"../../../LABEL":482}],533:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor(t,e){this._commander=t,this._annotationData=e}handle(t,e){const o=t.entity.getAttributeAt(e),r=this._commander.factory.removeAttributesOfSelectedEntitiesByPredCommand(o);this._commander.invoke(r)}};

},{}],534:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){e.eventEmitter.on("textae.entityPallet.attribute.selection-attribute-label.click",(e,n)=>{if(t.entity.isSamePredAttrributeSelected(e.pred)){const t=i.factory.changeAttributesOfSelectedEntitiesWithSamePred("entity",e,n);i.invoke(t)}else{const t=i.factory.createAttributeToSelectedEntitiesCommand(e,n);i.invoke(t)}}).on("textae.selecionAttributePallet.remove-button.click",e=>{const t=i.factory.removeAttributesOfSelectedEntitiesByPredCommand(e);i.invoke(t)})};

},{}],535:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){const r=e.entity.findSelectedWithSamePredicateAttribute(t);if(r){const e=r.attributes.find(e=>e.pred===t.pred);(0,_openEditNumericAttributeDialog2.default)(t,e,i)}else{const e=i.factory.createAttributeToSelectedEntitiesCommand(t);i.invoke(e)}};var _openEditNumericAttributeDialog=require("../../../../openEditNumericAttributeDialog"),_openEditNumericAttributeDialog2=_interopRequireDefault(_openEditNumericAttributeDialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../openEditNumericAttributeDialog":622}],536:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i,o){if(e.entity.findSelectedWithSamePredicateAttribute(t))o.show(),o.showAttribute(t.pred);else{const e=i.factory.createAttributeToSelectedEntitiesCommand(t);i.invoke(e)}};

},{}],537:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,i){const r=t.entity.findSelectedWithSamePredicateAttribute(e);if(r){const t=r.attributes.find(t=>t.pred===e.pred);(0,_openEditStringAttributeDialog2.default)(t,i,e)}else{const t=i.factory.createAttributeToSelectedEntitiesCommand(e);i.invoke(t)}};var _openEditStringAttributeDialog=require("../../../../openEditStringAttributeDialog"),_openEditStringAttributeDialog2=_interopRequireDefault(_openEditStringAttributeDialog);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"../../../../openEditStringAttributeDialog":624}],538:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,r,i,u){t.hide();const a=i.entity.getAttributeAt(u);if(console.log(a),a)switch(a.valueType){case"flag":(0,_toggleFlagAttribute2.default)(a,e);break;case"numeric":(0,_createNumericAttributeOrShowEditNumericAttributeDialog2.default)(r,a,e);break;case"selection":(0,_createSelectionAttributeOrShowSelectionAttributePallet2.default)(r,a,e,t);break;case"string":(0,_createStringAttributeOrShowEditStringAttributeDialog2.default)(r,a,e);break;default:throw`${a.valueType} is unknown attribute`}else _alertifyjs2.default.warning(`Attribute No.${u} is not defined`)};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs),_toggleFlagAttribute=require("./toggleFlagAttribute"),_toggleFlagAttribute2=_interopRequireDefault(_toggleFlagAttribute),_createNumericAttributeOrShowEditNumericAttributeDialog=require("./createNumericAttributeOrShowEditNumericAttributeDialog"),_createNumericAttributeOrShowEditNumericAttributeDialog2=_interopRequireDefault(_createNumericAttributeOrShowEditNumericAttributeDialog),_createSelectionAttributeOrShowSelectionAttributePallet=require("./createSelectionAttributeOrShowSelectionAttributePallet"),_createSelectionAttributeOrShowSelectionAttributePallet2=_interopRequireDefault(_createSelectionAttributeOrShowSelectionAttributePallet),_createStringAttributeOrShowEditStringAttributeDialog=require("./createStringAttributeOrShowEditStringAttributeDialog"),_createStringAttributeOrShowEditStringAttributeDialog2=_interopRequireDefault(_createStringAttributeOrShowEditStringAttributeDialog);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./createNumericAttributeOrShowEditNumericAttributeDialog":535,"./createSelectionAttributeOrShowSelectionAttributePallet":536,"./createStringAttributeOrShowEditStringAttributeDialog":537,"./toggleFlagAttribute":539,"alertifyjs":44}],539:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const o=t.factory.toggleFlagAttributeToSelectedEntitiesCommand(e);t.invoke(o)};

},{}],540:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _bindTextaeEvents=require("./bindTextaeEvents"),_bindTextaeEvents2=_interopRequireDefault(_bindTextaeEvents),_handle=require("./handle"),_handle2=_interopRequireDefault(_handle);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,n,a,l){this._commander=e,this._annotationData=n,this._selectionModel=a,this._pallet=l,t[0].appendChild(this._pallet.el),(0,_bindTextaeEvents2.default)(t,a,e)}handle(e,t){(0,_handle2.default)(this._pallet,this._commander,this._selectionModel,e,t)}};

},{"./bindTextaeEvents":534,"./handle":538}],541:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _DefaultHandler=require("../../DefaultHandler"),_DefaultHandler2=_interopRequireDefault(_DefaultHandler),_EditEntityTypeDialog=require("../../../../../../../component/EditEntityTypeDialog"),_EditEntityTypeDialog2=_interopRequireDefault(_EditEntityTypeDialog),_mergeTypes=require("./mergeTypes"),_mergeTypes2=_interopRequireDefault(_mergeTypes);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _DefaultHandler2.default{constructor(e,t,i,n,a,l,o){super("entity",t.entity,i),this._editor=e,this._annotationData=n,this._selectionModel=a,this._typeDefinition=t,this._editAttribute=l,this._deleteAttribute=o}jsPlumbConnectionClicked(e,t){t.originalEvent.preventDefault()}changeTypeOfSelectedElement(e){return this.commander.factory.changeTypeRemoveRelationOfSelectedEntitiesCommand(e)}changeLabelHandler(e){if(this._selectionModel.entity.some){const t=(0,_mergeTypes2.default)(this._selectionModel.entity.all.map(e=>e.type)),i=({typeName:e,label:t,attributes:i})=>{const n=this.commander.factory.changeEntityTypeCommand(t,e,i,this.typeContainer);e&&this.commander.invoke(n)},n=new _EditEntityTypeDialog2.default(this._editor,t,this.typeContainer,e);n.promise.then(i),n.open()}}manipulateAttribute(e,t){t?this._deleteAttribute.handle(this._typeDefinition,e):this._editAttribute.handle(this._typeDefinition,e)}get selectedIds(){return this._selectionModel.entity.all.map(e=>e.id)}selectAll(e){this._selectionModel.entity.clear();for(const{id:t}of this._annotationData.entity.findByType(e))this._selectionModel.entity.add(t)}};

},{"../../../../../../../component/EditEntityTypeDialog":222,"../../DefaultHandler":532,"./mergeTypes":542}],542:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.reduce((e,t)=>t.mergeType(e),{name:"",attributes:[]})};

},{}],543:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _skipBlank=require("./skipBlank"),_skipBlank2=_interopRequireDefault(_skipBlank),_SpanAdjuster=require("./SpanAdjuster"),_SpanAdjuster2=_interopRequireDefault(_SpanAdjuster);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _SpanAdjuster2.default{backFromBegin(e,r,a){return _skipBlank2.default.forward(e,r,e=>a.isBlankCharacter(e))}forwardFromEnd(e,r,a){return _skipBlank2.default.back(e,r,e=>a.isBlankCharacter(e))}forwardFromBegin(e,r,a){return _skipBlank2.default.forward(e,r,e=>a.isBlankCharacter(e))}backFromEnd(e,r,a){return _skipBlank2.default.back(e,r,e=>a.isBlankCharacter(e))}};

},{"./SpanAdjuster":557,"./skipBlank":581}],544:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t){return(0,_skipCharacters2.default)(_getPrev2.default,-1,e,r,e=>e[1]&&!t(e[0])&&!t(e[1]))};var _skipCharacters=require("./skipCharacters"),_skipCharacters2=_interopRequireDefault(_skipCharacters),_getPrev=require("./getPrev"),_getPrev2=_interopRequireDefault(_getPrev);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getPrev":547,"./skipCharacters":550}],545:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return(0,_skipCharacters2.default)(_getNext2.default,-1,e,t,r)};var _skipCharacters=require("./skipCharacters"),_skipCharacters2=_interopRequireDefault(_skipCharacters),_getNext=require("./getNext"),_getNext2=_interopRequireDefault(_getNext);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getNext":546,"./skipCharacters":550}],546:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return[e.charAt(t),e.charAt(t+1)]};

},{}],547:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return[e.charAt(t),e.charAt(t-1)]};

},{}],548:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _skipBlank=require("../skipBlank"),_skipBlank2=_interopRequireDefault(_skipBlank),_SpanAdjuster=require("../SpanAdjuster"),_SpanAdjuster2=_interopRequireDefault(_SpanAdjuster),_backToDelimiter=require("./backToDelimiter"),_backToDelimiter2=_interopRequireDefault(_backToDelimiter),_skipToDelimiter=require("./skipToDelimiter"),_skipToDelimiter2=_interopRequireDefault(_skipToDelimiter),_isNotWord=require("./isNotWord"),_isNotWord2=_interopRequireDefault(_isNotWord),_skipToWord=require("./skipToWord"),_skipToWord2=_interopRequireDefault(_skipToWord),_backToWord=require("./backToWord"),_backToWord2=_interopRequireDefault(_backToWord);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _SpanAdjuster2.default{backFromBegin(e,r,i){const t=_skipBlank2.default.forward(e,r,e=>i.isBlankCharacter(e));return(0,_backToDelimiter2.default)(e,t,e=>i.isDelimiter(e))}forwardFromEnd(e,r,i){const t=_skipBlank2.default.back(e,r,e=>i.isBlankCharacter(e));return(0,_skipToDelimiter2.default)(e,t,e=>i.isDelimiter(e))}forwardFromBegin(e,r,i){return(0,_skipToWord2.default)(e,r,e=>(0,_isNotWord2.default)(e=>i.isBlankCharacter(e),e=>i.isDelimiter(e),e))}backFromEnd(e,r,i){return(0,_backToWord2.default)(e,r,e=>(0,_isNotWord2.default)(e=>i.isBlankCharacter(e),e=>i.isDelimiter(e),e))}};

},{"../SpanAdjuster":557,"../skipBlank":581,"./backToDelimiter":544,"./backToWord":545,"./isNotWord":549,"./skipToDelimiter":551,"./skipToWord":552}],549:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return""!==r[0]&&!e(r[1])&&!t(r[1])||t(r[0])};

},{}],550:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,o,u){for(;u(e(r,o));)o+=t;return o};

},{}],551:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=skipToDelimiter;var _skipCharacters=require("./skipCharacters"),_skipCharacters2=_interopRequireDefault(_skipCharacters),_getNext=require("./getNext"),_getNext2=_interopRequireDefault(_getNext);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function skipToDelimiter(e,t,r){return(0,_skipCharacters2.default)(_getNext2.default,1,e,t,e=>e[1]&&!r(e[0])&&!r(e[1]))}

},{"./getNext":546,"./skipCharacters":550}],552:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t){return(0,_skipCharacters2.default)(_getPrev2.default,1,e,r,t)};var _skipCharacters=require("./skipCharacters"),_skipCharacters2=_interopRequireDefault(_skipCharacters),_getPrev=require("./getPrev"),_getPrev2=_interopRequireDefault(_getPrev);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getPrev":547,"./skipCharacters":550}],553:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){let t=0;for(const n of e.parentElement.childNodes){if(n==e)break;"#text"===n.nodeName?t+=n.nodeValue.length:t+=n.textContent.length}return t};

},{}],554:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,o){const n=o.parentElement;if(n.classList.contains("textae-editor__body__text-box__paragraph"))return t.get(n.id);if(n.classList.contains("textae-editor__span"))return e.get(n.id);throw new Error(`Can not get position of a node : ${o} ${o.data}`)};

},{}],555:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return(0,_getParentModel2.default)(e,t,r).begin+(0,_getOffsetFromParent2.default)(r)};var _getParentModel=require("./getParentModel"),_getParentModel2=_interopRequireDefault(_getParentModel),_getOffsetFromParent=require("./getOffsetFromParent"),_getOffsetFromParent2=_interopRequireDefault(_getOffsetFromParent);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getOffsetFromParent":553,"./getParentModel":554}],556:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getPosition=require("./getPosition"),_getPosition2=_interopRequireDefault(_getPosition);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e){this._annotationData=t,this._selection=e}get anchor(){return(0,_getPosition2.default)(this._annotationData.paragraph,this._annotationData.span,this._selection.anchorNode)+this._selection.anchorOffset}get focus(){return(0,_getPosition2.default)(this._annotationData.paragraph,this._annotationData.span,this._selection.focusNode)+this._selection.focusOffset}get begin(){return this.anchor<this.focus?this.anchor:this.focus}get end(){return this.anchor<this.focus?this.focus:this.anchor}};

},{"./getPosition":555}],557:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{backFromBegin(e,r,o){}forwardFromEnd(e,r,o){}forwardFromBegin(e,r,o){}backFromEnd(e,r,o){}};

},{}],558:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){if(!o)return!1;const r=new _Positions2.default(e,o),i=e.sourceDoc.substring(r.begin,r.end);return t.removeBlankChractors(i).length>0};var _Positions=require("../Positions"),_Positions2=_interopRequireDefault(_Positions);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../Positions":556}],559:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,a){return new _SelectionWrapper2.default(a).isAnchrNodeInSpanOrParagraph()&&(0,_hasCharacters2.default)(e,r,a)};var _hasCharacters=require("./hasCharacters"),_hasCharacters2=_interopRequireDefault(_hasCharacters),_SelectionWrapper=require("../../../../ElementEditor/SelectionWrapper"),_SelectionWrapper2=_interopRequireDefault(_SelectionWrapper);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../ElementEditor/SelectionWrapper":605,"./hasCharacters":558}],560:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,r,i){return e.factory.createSpanAndAutoReplicateCommand({begin:t.begin,end:t.end},n,r?e=>i.isDelimiter(e):null)};

},{}],561:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o,t,i){const n=new _Positions2.default(e,t);return{begin:o.backFromBegin(e.sourceDoc,n.begin,i),end:o.forwardFromEnd(e.sourceDoc,n.end-1,i)+1}};var _Positions=require("../Positions"),_Positions2=_interopRequireDefault(_Positions);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../Positions":556}],562:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,a,t,n,i,s){const u=(0,_getNewSpan2.default)(e,a,i,s);if((0,_isBoundaryCrossingWithOtherSpans2.default)(e.span.all,u))return;if((0,_isAlreadySpaned2.default)(e.span.all,u))return;const o=(0,_createCommands2.default)(r,u,n,t,s);r.invoke(o)};var _isBoundaryCrossingWithOtherSpans=require("../../../../../../../isBoundaryCrossingWithOtherSpans"),_isBoundaryCrossingWithOtherSpans2=_interopRequireDefault(_isBoundaryCrossingWithOtherSpans),_isAlreadySpaned=require("../../../../../../isAlreadySpaned"),_isAlreadySpaned2=_interopRequireDefault(_isAlreadySpaned),_createCommands=require("./createCommands"),_createCommands2=_interopRequireDefault(_createCommands),_getNewSpan=require("./getNewSpan"),_getNewSpan2=_interopRequireDefault(_getNewSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../../../isBoundaryCrossingWithOtherSpans":402,"../../../../../../isAlreadySpaned":793,"./createCommands":560,"./getNewSpan":561}],563:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,o,r){return(0,_isFocusInSelectedSpan2.default)(e,n,o)?n.span.single():isForcusOneDownUnderAnchor(o)?o.focusNode.parentNode.id:r||null};var _isFocusInSelectedSpan=require("../isFocusInSelectedSpan"),_isFocusInSelectedSpan2=_interopRequireDefault(_isFocusInSelectedSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isForcusOneDownUnderAnchor(e){return e.anchorNode.parentNode===e.focusNode.parentNode.parentNode}

},{"../isFocusInSelectedSpan":573}],564:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o,n,t,r,d,i){const c=(0,_getTargetSpanWhenFocusNodeDifferentFromAnchorNode2.default)(o,n,d);c&&(n.clear(),(0,_shrinkSpanToSelectionAndSelectNextIfRemoved2.default)(e,o,t,r,c,d,i,n))};var _getTargetSpanWhenFocusNodeDifferentFromAnchorNode=require("./getTargetSpanWhenFocusNodeDifferentFromAnchorNode"),_getTargetSpanWhenFocusNodeDifferentFromAnchorNode2=_interopRequireDefault(_getTargetSpanWhenFocusNodeDifferentFromAnchorNode),_shrinkSpanToSelectionAndSelectNextIfRemoved=require("../shrinkSpanToSelectionAndSelectNextIfRemoved"),_shrinkSpanToSelectionAndSelectNextIfRemoved2=_interopRequireDefault(_shrinkSpanToSelectionAndSelectNextIfRemoved);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../shrinkSpanToSelectionAndSelectNextIfRemoved":577,"./getTargetSpanWhenFocusNodeDifferentFromAnchorNode":563}],565:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,r,a,i){const o=(0,_getNewSpan2.default)(e,n,r,a,i);(0,_isBoundaryCrossingWithOtherSpans2.default)(e.span.all,o)?(0,_clearTextSelectionAndAlert2.default)("A span cannot be expanded to make a boundary crossing."):e.span.has(o)||t.invoke(t.factory.moveSpanCommand(r,o))};var _isBoundaryCrossingWithOtherSpans=require("../../../../../../../isBoundaryCrossingWithOtherSpans"),_isBoundaryCrossingWithOtherSpans2=_interopRequireDefault(_isBoundaryCrossingWithOtherSpans),_clearTextSelectionAndAlert=require("../../../../clearTextSelectionAndAlert"),_clearTextSelectionAndAlert2=_interopRequireDefault(_clearTextSelectionAndAlert),_getNewSpan=require("./getNewSpan"),_getNewSpan2=_interopRequireDefault(_getNewSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../../../isBoundaryCrossingWithOtherSpans":402,"../../../../clearTextSelectionAndAlert":612,"./getNewSpan":568}],566:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,r){return(0,_isAnchorInSelectedSpan2.default)(e,n,r)?n.span.single():(0,_isAnchorOneDownUnderForcus2.default)(r)?r.anchorNode.parentNode.id:null};var _isAnchorOneDownUnderForcus=require("./isAnchorOneDownUnderForcus"),_isAnchorOneDownUnderForcus2=_interopRequireDefault(_isAnchorOneDownUnderForcus),_isAnchorInSelectedSpan=require("../isAnchorInSelectedSpan"),_isAnchorInSelectedSpan2=_interopRequireDefault(_isAnchorInSelectedSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../isAnchorInSelectedSpan":572,"./isAnchorOneDownUnderForcus":570}],567:[function(require,module,exports){
"use strict";function getNewExpandSpan(e,n,o,r,t,d){const a=e.span.get(o);return r>t?{begin:n.backFromBegin(e.sourceDoc,t,d),end:a.end}:{begin:a.begin,end:n.forwardFromEnd(e.sourceDoc,t-1,d)+1}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getNewExpandSpan;

},{}],568:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getNewSpan;var _getNewExpandSpan=require("./getNewExpandSpan"),_getNewExpandSpan2=_interopRequireDefault(_getNewExpandSpan),_Positions=require("../Positions"),_Positions2=_interopRequireDefault(_Positions);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getNewSpan(e,t,n,o,a){const i=new _Positions2.default(e,o);return(0,_getNewExpandSpan2.default)(e,t,n,i.anchor,i.focus,a)}

},{"../Positions":556,"./getNewExpandSpan":567}],569:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,a,n,t,p,r){const o=(0,_getExpandTargetSpan2.default)(e,a,p);o&&(a.clear(),(0,_expandSpanToSelection2.default)(e,n,t,o,p,r))};var _getExpandTargetSpan=require("./getExpandTargetSpan"),_getExpandTargetSpan2=_interopRequireDefault(_getExpandTargetSpan),_expandSpanToSelection=require("./expandSpanToSelection"),_expandSpanToSelection2=_interopRequireDefault(_expandSpanToSelection);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./expandSpanToSelection":565,"./getExpandTargetSpan":566}],570:[function(require,module,exports){
"use strict";function isAnchorOneDownUnderForcus(e){return e.anchorNode.parentNode.parentNode===e.focusNode.parentNode}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isAnchorOneDownUnderForcus;

},{}],571:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _clearTextSelection=require("../../../clearTextSelection"),_clearTextSelection2=_interopRequireDefault(_clearTextSelection),_Positions=require("./Positions"),_Positions2=_interopRequireDefault(_Positions),_DelimiterDetectAdjuster=require("./DelimiterDetectAdjuster"),_DelimiterDetectAdjuster2=_interopRequireDefault(_DelimiterDetectAdjuster),_BlankSkipAdjuster=require("./BlankSkipAdjuster"),_BlankSkipAdjuster2=_interopRequireDefault(_BlankSkipAdjuster),_validateOnText=require("./validateOnText"),_validateOnText2=_interopRequireDefault(_validateOnText),_validateOnSpan=require("./validateOnSpan"),_validateOnSpan2=_interopRequireDefault(_validateOnSpan),_create=require("./create"),_create2=_interopRequireDefault(_create),_expand=require("./expand"),_expand2=_interopRequireDefault(_expand),_crossTheEar=require("./crossTheEar"),_crossTheEar2=_interopRequireDefault(_crossTheEar),_pullByTheEar=require("./pullByTheEar"),_pullByTheEar2=_interopRequireDefault(_pullByTheEar);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,n,i,a){this._editor=e,this._annotationData=t,this._selectionModel=n,this._commander=i,this._pushButtons=a}selectEndOnText(e){(0,_validateOnText2.default)(this._annotationData,e.spanConfig,e.selection)&&(e.selection.anchorNode.parentNode.classList.contains("textae-editor__body__text-box__paragraph")?this._create(e):e.selection.anchorNode.parentNode.classList.contains("textae-editor__span")&&this._expand(e)),(0,_clearTextSelection2.default)()}selectEndOnSpan(e){if((0,_validateOnSpan2.default)(this._annotationData,e.spanConfig,e.selection))if(e.selection.anchorNode===e.selection.focusNode){const t=new _Positions2.default(this._annotationData,e.selection),n=this._annotationData.span.get(e.selection.anchorNode.parentElement.id);t.anchor===n.begin||t.anchor===n.end?this._shrinkPullByTheEar(e,e.selection.anchorNode.parentElement.id):this._create(e)}else e.selection.focusNode.parentElement.closest(`#${e.selection.anchorNode.parentElement.id}`)?this._shrinkCrossTheEar(e):e.selection.anchorNode.parentElement.closest(`#${e.selection.focusNode.parentElement.id}`)?e.selection.focusNode.parentElement.classList.contains("ui-selected")?this._shrinkCrossTheEar(e):this._expand(e):e.selection.focusNode.parentElement.closest(`#${e.selection.anchorNode.parentElement.parentElement.id}`)&&this._expand(e);(0,_clearTextSelection2.default)()}_create(e){this._selectionModel.clear(),(0,_create2.default)(this._annotationData,this._commander,this._spanAdjuster,this._isDetectDelimiterEnable,this._isReplicateAuto,e.selection,e.spanConfig)}_expand(e){(0,_expand2.default)(this._annotationData,this._selectionModel,this._commander,this._spanAdjuster,e.selection,e.spanConfig)}_shrinkCrossTheEar(e){(0,_crossTheEar2.default)(this._editor,this._annotationData,this._selectionModel,this._commander,this._spanAdjuster,e.selection,e.spanConfig)}_shrinkPullByTheEar(e){(0,_pullByTheEar2.default)(this._editor,this._annotationData,this._selectionModel,this._commander,this._spanAdjuster,e.selection,e.spanConfig)}get _isDetectDelimiterEnable(){return this._pushButtons.getButton("boundary-detection").value()}get _isReplicateAuto(){return this._pushButtons.getButton("replicate-auto").value()}get _spanAdjuster(){return this._isDetectDelimiterEnable?new _DelimiterDetectAdjuster2.default:new _BlankSkipAdjuster2.default}};

},{"../../../clearTextSelection":611,"./BlankSkipAdjuster":543,"./DelimiterDetectAdjuster":548,"./Positions":556,"./create":562,"./crossTheEar":564,"./expand":569,"./pullByTheEar":576,"./validateOnSpan":582,"./validateOnText":583}],572:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){return(0,_isInSelectedSpan2.default)(e,t,new _Positions2.default(e,i).anchor)};var _Positions=require("./Positions"),_Positions2=_interopRequireDefault(_Positions),_isInSelectedSpan=require("./isInSelectedSpan"),_isInSelectedSpan2=_interopRequireDefault(_isInSelectedSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./Positions":556,"./isInSelectedSpan":574}],573:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){return(0,_isInSelectedSpan2.default)(e,t,new _Positions2.default(e,i).focus)};var _Positions=require("./Positions"),_Positions2=_interopRequireDefault(_Positions),_isInSelectedSpan=require("./isInSelectedSpan"),_isInSelectedSpan2=_interopRequireDefault(_isInSelectedSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./Positions":556,"./isInSelectedSpan":574}],574:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n){const s=t.span.single();if(s){const t=e.span.get(s);return t.begin<n&&n<t.end}return!1};

},{}],575:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n){return(0,_isFocusInSelectedSpan2.default)(e,t,n)?t.span.single():n.focusNode.parentElement.id};var _isFocusInSelectedSpan=require("../isFocusInSelectedSpan"),_isFocusInSelectedSpan2=_interopRequireDefault(_isFocusInSelectedSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../isFocusInSelectedSpan":573}],576:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o,n,r,a,d){const i=(0,_getTargetSpanWhenFocusNodeSameWithAnchorNode2.default)(t,o,a);i&&(o.clear(),(0,_shrinkSpanToSelectionAndSelectNextIfRemoved2.default)(e,t,n,r,i,a,d,o))};var _getTargetSpanWhenFocusNodeSameWithAnchorNode=require("./getTargetSpanWhenFocusNodeSameWithAnchorNode"),_getTargetSpanWhenFocusNodeSameWithAnchorNode2=_interopRequireDefault(_getTargetSpanWhenFocusNodeSameWithAnchorNode),_shrinkSpanToSelectionAndSelectNextIfRemoved=require("../shrinkSpanToSelectionAndSelectNextIfRemoved"),_shrinkSpanToSelectionAndSelectNextIfRemoved2=_interopRequireDefault(_shrinkSpanToSelectionAndSelectNextIfRemoved);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../shrinkSpanToSelectionAndSelectNextIfRemoved":577,"./getTargetSpanWhenFocusNodeSameWithAnchorNode":575}],577:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,i,r,o,l,u){const a=document.querySelector(`#${r}`),c=(0,_getNextElement.getRightElement)(e[0],a);(0,_shrinkSpanToSelection2.default)(t,n,i,r,o,l)&&c&&u.selectSingleSpanById(c.id)};var _shrinkSpanToSelection=require("./shrinkSpanToSelection"),_shrinkSpanToSelection2=_interopRequireDefault(_shrinkSpanToSelection),_getNextElement=require("../../../../../../getNextElement");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../../getNextElement":788,"./shrinkSpanToSelection":580}],578:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,d,o,r,i){const t=e.span.get(d);return o<r?t.end===r?{begin:t.end,end:t.end}:{begin:n.forwardFromBegin(e.sourceDoc,r,i),end:t.end}:t.begin===r?{begin:t.begin,end:t.begin}:{begin:t.begin,end:n.backFromEnd(e.sourceDoc,r-1,i)+1}};

},{}],579:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getNewSpan;var _getNewShortSpan=require("./getNewShortSpan"),_getNewShortSpan2=_interopRequireDefault(_getNewShortSpan),_Positions=require("../../Positions"),_Positions2=_interopRequireDefault(_Positions);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getNewSpan(e,t,o,r,n){const i=new _Positions2.default(e,r);return(0,_getNewShortSpan2.default)(e,t,o,i.anchor,i.focus,n)}

},{"../../Positions":556,"./getNewShortSpan":578}],580:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,t,r,a,i){const o=(0,_getNewSpan2.default)(e,t,r,a,i);if((0,_isBoundaryCrossingWithOtherSpans2.default)(e.span.all,o))return(0,_clearTextSelectionAndAlert2.default)("A span cannot be shrinked to make a boundary crossing."),!1;const s=e.span.has(o);return o.begin<o.end&&!s?(n.invoke(n.factory.moveSpanCommand(r,o)),!1):(n.invoke(n.factory.removeSpanCommand(r)),!0)};var _isBoundaryCrossingWithOtherSpans=require("../../../../../../../../isBoundaryCrossingWithOtherSpans"),_isBoundaryCrossingWithOtherSpans2=_interopRequireDefault(_isBoundaryCrossingWithOtherSpans),_clearTextSelectionAndAlert=require("../../../../../clearTextSelectionAndAlert"),_clearTextSelectionAndAlert2=_interopRequireDefault(_clearTextSelectionAndAlert),_getNewSpan=require("./getNewSpan"),_getNewSpan2=_interopRequireDefault(_getNewSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../../../../isBoundaryCrossingWithOtherSpans":402,"../../../../../clearTextSelectionAndAlert":612,"./getNewSpan":579}],581:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _skipCharacters=require("./DelimiterDetectAdjuster/skipCharacters"),_skipCharacters2=_interopRequireDefault(_skipCharacters);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const getNow=function(e,r){return e.charAt(r)},skipForwardBlank=function(e,r,t){return(0,_skipCharacters2.default)(getNow,1,e,r,t)},skipBackBlank=function(e,r,t){return(0,_skipCharacters2.default)(getNow,-1,e,r,t)};exports.default={forward:skipForwardBlank,back:skipBackBlank};

},{"./DelimiterDetectAdjuster/skipCharacters":550}],582:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){return new _SelectionWrapper2.default(r).isFocusNodeInSpan()&&(0,_commonValidate2.default)(e,t,r)};var _commonValidate=require("./commonValidate"),_commonValidate2=_interopRequireDefault(_commonValidate),_SelectionWrapper=require("../../../ElementEditor/SelectionWrapper"),_SelectionWrapper2=_interopRequireDefault(_SelectionWrapper);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../ElementEditor/SelectionWrapper":605,"./commonValidate":559}],583:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t){return new _SelectionWrapper2.default(t).isFocusNodeInParagraph&&(0,_commonValidate2.default)(e,r,t)};var _commonValidate=require("./commonValidate"),_commonValidate2=_interopRequireDefault(_commonValidate),_SelectionWrapper=require("../../../ElementEditor/SelectionWrapper"),_SelectionWrapper2=_interopRequireDefault(_SelectionWrapper);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../ElementEditor/SelectionWrapper":605,"./commonValidate":559}],584:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=[];t.push((0,_delegate2.default)(e[0],".textae-editor__body__text-box__paragraph-margin","mouseup",t=>e.eventEmitter.emit("textae.editor.editEntity.paragraph.mouseup",t)));for(const i of e[0].querySelectorAll(".textae-editor__body__text-box__paragraph-margin"))t.push((0,_delegate2.default)(i,".textae-editor__body__text-box__paragraph-margin","click",t=>e.eventEmitter.emit("textae.editor.editEntity.paragraph.click",t)));return t.push((0,_bindEditorBodyClickEventTrigger2.default)(e)),t.push((0,_delegate2.default)(e[0],".textae-editor__type","click",t=>e.eventEmitter.emit("textae.editor.editEntity.type.click",t))),t.push((0,_delegate2.default)(e[0],".textae-editor__type-values","click",t=>e.eventEmitter.emit("textae.editor.editEntity.typeValues.click",t))),t.push((0,_delegate2.default)(e[0],".textae-editor__entity","click",t=>e.eventEmitter.emit("textae.editor.editEntity.entity.click",t))),t.push((0,_delegate2.default)(e[0],".textae-editor__span","mouseup",t=>e.eventEmitter.emit("textae.editor.editEntity.span.mouseup",t))),t};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_bindEditorBodyClickEventTrigger=require("../bindEditorBodyClickEventTrigger"),_bindEditorBodyClickEventTrigger2=_interopRequireDefault(_bindEditorBodyClickEventTrigger);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../bindEditorBodyClickEventTrigger":607,"delegate":50}],585:[function(require,module,exports){
"use strict";function selectSpanWithBlockEnities(e,t,n){t.span.add(n),e.span.get(n).getBlockEntities(e.entity).forEach(e=>t.entity.add(e.id))}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return n=>{const i=t.span.single(),s=n.target.id;if(n.shiftKey&&i){t.clear();for(const n of e.span.range(i,s))selectSpanWithBlockEnities(e,t,n)}else n.ctrlKey||n.metaKey?(t.span.toggle(s),e.span.get(s).getBlockEntities(e.entity).forEach(e=>t.entity.toggle(e))):(t.clear(),selectSpanWithBlockEnities(e,t,s))}};

},{}],586:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){e.ctrlKey||e.metaKey?t.entity.toggle(e.target.title):(t.clear(),t.entity.add(e.target.title)),e.stopPropagation()};

},{}],587:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){const e=window.getSelection();return{anchorNode:e.anchorNode,anchorOffset:e.anchorOffset,focusNode:e.focusNode,focusOffset:e.focusOffset,range:e.getRangeAt(0)}};

},{}],588:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i,n,l){e.eventEmitter.on("textae.editor.editEntity.paragraph.mouseup",()=>new _SelectionWrapper2.default(window.getSelection()).showAlertIfOtherParagraph()).on("textae.editor.editEntity.paragraph.click",e=>{window.getSelection().isCollapsed||(t.selectEndOnText({spanConfig:i,selection:(0,_getSelectionSnapShot2.default)()}),e.stopPropagation())}).on("textae.editor.editEntity.span.mouseup",e=>(0,_spanClicked2.default)(()=>t.selectEndOnSpan({spanConfig:i,selection:(0,_getSelectionSnapShot2.default)()}),new _SelectSpan2.default(n,l),e)).on("textae.editor.editEntity.entity.click",e=>(0,_entityClicked2.default)(l,e)).on("textae.editor.editEntity.type.click",()=>e.focus()).on("textae.editor.editEntity.typeValues.click",e=>(0,_typeValuesClicked2.default)(l,e))};var _SelectionWrapper=require("../../SelectionWrapper"),_SelectionWrapper2=_interopRequireDefault(_SelectionWrapper),_SelectSpan=require("./SelectSpan"),_SelectSpan2=_interopRequireDefault(_SelectSpan),_getSelectionSnapShot=require("./getSelectionSnapShot"),_getSelectionSnapShot2=_interopRequireDefault(_getSelectionSnapShot),_typeValuesClicked=require("./typeValuesClicked"),_typeValuesClicked2=_interopRequireDefault(_typeValuesClicked),_entityClicked=require("./entityClicked"),_entityClicked2=_interopRequireDefault(_entityClicked),_spanClicked=require("./spanClicked"),_spanClicked2=_interopRequireDefault(_spanClicked);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../SelectionWrapper":605,"./SelectSpan":585,"./entityClicked":586,"./getSelectionSnapShot":587,"./spanClicked":592,"./typeValuesClicked":593}],589:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(const o of t)e.entity.remove(o.title)};

},{}],590:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,l,s){return t?l.classList.contains("ui-selected")?(0,_deselect2.default)(e,s):(0,_select2.default)(e,s):(e.clear(),(0,_select2.default)(e,s)),!1};var _select=require("./select"),_select2=_interopRequireDefault(_select),_deselect=require("./deselect"),_deselect2=_interopRequireDefault(_deselect);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./deselect":589,"./select":591}],591:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(const o of t)e.entity.add(o.title)};

},{}],592:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){return 2===o.button&&(0,_clearTextSelection2.default)(),window.getSelection().isCollapsed?(t(o),!1):(e(),o.stopPropagation(),null)};var _getSelectionSnapShot=require("./getSelectionSnapShot"),_getSelectionSnapShot2=_interopRequireDefault(_getSelectionSnapShot),_clearTextSelection=require("../../../clearTextSelection"),_clearTextSelection2=_interopRequireDefault(_clearTextSelection);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../clearTextSelection":611,"./getSelectionSnapShot":587}],593:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const i=(0,_getEntitiesDomOfType2.default)(t.target);return(0,_selectEntities2.default)(e,t.ctrlKey||t.metaKey,t.target.closest(".textae-editor__type-values"),i)};var _selectEntities=require("./selectEntities"),_selectEntities2=_interopRequireDefault(_selectEntities),_getEntitiesDomOfType=require("../../../../../getEntitiesDomOfType"),_getEntitiesDomOfType2=_interopRequireDefault(_getEntitiesDomOfType);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../getEntitiesDomOfType":785,"./selectEntities":590}],594:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _EditEntityHandler=require("./EditEntityHandler"),_EditEntityHandler2=_interopRequireDefault(_EditEntityHandler),_bindMouseEvents=require("./bindMouseEvents"),_bindMouseEvents2=_interopRequireDefault(_bindMouseEvents),_SpanEditor=require("./SpanEditor"),_SpanEditor2=_interopRequireDefault(_SpanEditor),_bindTextaeEvents=require("./bindTextaeEvents"),_bindTextaeEvents2=_interopRequireDefault(_bindTextaeEvents);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,n,i,r,d,u,a,s){this._editor=e,this._entityHandler=new _EditEntityHandler2.default(e,d,i,t,n,a,s);const _=new _SpanEditor2.default(e,t,n,i,r);(0,_bindTextaeEvents2.default)(e,_,u,t,n)}init(){return(0,_bindMouseEvents2.default)(this._editor)}get entityHandler(){return this._entityHandler}};

},{"./EditEntityHandler":541,"./SpanEditor":571,"./bindMouseEvents":584,"./bindTextaeEvents":588}],595:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _DefaultHandler=require("../DefaultHandler"),_DefaultHandler2=_interopRequireDefault(_DefaultHandler),_EditRelationTypeDialog=require("../../../../../../component/EditRelationTypeDialog"),_EditRelationTypeDialog2=_interopRequireDefault(_EditRelationTypeDialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class extends _DefaultHandler2.default{constructor(e,t,l,n){super("relation",e.relation,t),this._annotationData=l,this._selectionModel=n}changeTypeOfSelectedElement(e){return this.commander.factory.changeTypeOfSelectedRelationsCommand(e)}changeLabelHandler(e){if(this._selectionModel.relation.some){const t=this._getSelectedType(),l=new _EditRelationTypeDialog2.default(t,this.typeContainer,e);l.promise.then(({value:e,label:t})=>{const l=this.commander.factory.changeRelationLabelCommand(t,e,this.typeContainer);e&&this.commander.invoke(l)}),l.open()}}jsPlumbConnectionClicked(e,t){const l=e.getParameter("id");t.ctrlKey||t.metaKey?this._selectionModel.relation.toggle(l):this._selectionModel.relation.single()!==l&&(this._selectionModel.relation.clear(),this._selectionModel.relation.add(l))}_getSelectedType(){const e=this._selectionModel.relation.single();return e?this._annotationData.relation.get(e).type:""}get selectedIds(){return this._selectionModel.relation.all.map(e=>e.id)}selectAll(e){this._selectionModel.relation.clear();for(const{id:t}of this._annotationData.relation.findByType(e))this._selectionModel.relation.add(t)}};

},{"../../../../../../component/EditRelationTypeDialog":226,"../DefaultHandler":532}],596:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=[];return t.push((0,_bindEditorBodyClickEventTrigger2.default)(e)),t.push((0,_delegate2.default)(e[0],".textae-editor__entity","click",t=>e.eventEmitter.emit("textae.editor.editRelation.entity.click",t))),t.push((0,_delegate2.default)(e[0],".textae-editor__relation, .textae-editor__relation__label","click",t=>e.eventEmitter.emit("textae.editor.editRelation.relationLabel.click",t))),t};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate),_bindEditorBodyClickEventTrigger=require("../bindEditorBodyClickEventTrigger"),_bindEditorBodyClickEventTrigger2=_interopRequireDefault(_bindEditorBodyClickEventTrigger);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../bindEditorBodyClickEventTrigger":607,"delegate":50}],597:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,i,n){t.eventEmitter.on("textae.editor.editRelation.entity.click",t=>{e.entity.some?(0,_onSelectObjectEntity2.default)(e,i,n,t):(e.clear(),e.entity.add(t.target.getAttribute("title")))}).on("textae.editor.editRelation.relatioLabel.click",t=>t.stopPropagation())};var _onSelectObjectEntity=require("./onSelectObjectEntity"),_onSelectObjectEntity2=_interopRequireDefault(_onSelectObjectEntity);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./onSelectObjectEntity":599}],598:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o,a){e.invoke(e.factory.createRelationCommand({subj:t,obj:o,type:a.relation.defaultType}))};

},{}],599:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i,n){const a=e.entity.all[0].id,r=n.target.getAttribute("title");a===r?e.entity.remove(a):((0,_createRelation2.default)(t,a,r,i),(0,_updateSelectionOfEntity2.default)(n,e.entity,a,r))};var _updateSelectionOfEntity=require("./updateSelectionOfEntity"),_updateSelectionOfEntity2=_interopRequireDefault(_updateSelectionOfEntity),_createRelation=require("./createRelation"),_createRelation2=_interopRequireDefault(_createRelation);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./createRelation":598,"./updateSelectionOfEntity":600}],600:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,o){e.ctrlKey||e.metaKey?t.remove(o):e.shiftKey?(t.remove(r),t.add(o)):(t.remove(r),t.remove(o))};

},{}],601:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _EditRelationHandler=require("./EditRelationHandler"),_EditRelationHandler2=_interopRequireDefault(_EditRelationHandler),_bindMouseEvents=require("./bindMouseEvents"),_bindMouseEvents2=_interopRequireDefault(_bindMouseEvents),_bindTextaeEvents=require("./bindTextaeEvents"),_bindTextaeEvents2=_interopRequireDefault(_bindTextaeEvents);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,n,i,r){this._editor=e,this._relationHandler=new _EditRelationHandler2.default(r,i,t,n),(0,_bindTextaeEvents2.default)(e,n,i,r)}init(){return(0,_bindMouseEvents2.default)(this._editor)}get relationHandler(){return this._relationHandler}};

},{"./EditRelationHandler":595,"./bindMouseEvents":596,"./bindTextaeEvents":597}],602:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.parentElement.closest(".textae-editor__body__text-box__paragraph")};

},{}],603:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.classList.contains("textae-editor__body__text-box__paragraph")};

},{}],604:[function(require,module,exports){
"use strict";function hasSpan(e){return e.classList.contains("textae-editor__span")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=hasSpan;

},{}],605:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _hasNodeSpanClass=require("./hasNodeSpanClass"),_hasNodeSpanClass2=_interopRequireDefault(_hasNodeSpanClass),_hasNodeParagraphClass=require("./hasNodeParagraphClass"),_hasNodeParagraphClass2=_interopRequireDefault(_hasNodeParagraphClass),_showAlertIfOtherParagraph=require("./showAlertIfOtherParagraph"),_showAlertIfOtherParagraph2=_interopRequireDefault(_showAlertIfOtherParagraph),_getParagraph=require("./getParagraph"),_getParagraph2=_interopRequireDefault(_getParagraph);function _interopRequireDefault(a){return a&&a.__esModule?a:{default:a}}exports.default=class{constructor(a){this._selection=a}isFocusNodeInSpan(){return(0,_hasNodeSpanClass2.default)(this._selection.focusNode.parentNode)}isFocusNodeInParagraph(){return(0,_hasNodeParagraphClass2.default)(this._selection.focusNode.parentNode)}isAnchrNodeInSpanOrParagraph(){const a=this._selection.anchorNode.parentNode;return(0,_hasNodeSpanClass2.default)(a)||(0,_hasNodeParagraphClass2.default)(a)}showAlertIfOtherParagraph(){return(0,_showAlertIfOtherParagraph2.default)(this._isInSameParagraph())}_isInSameParagraph(){return(0,_getParagraph2.default)(this._selection.anchorNode)===(0,_getParagraph2.default)(this._selection.focusNode)}};

},{"./getParagraph":602,"./hasNodeParagraphClass":603,"./hasNodeSpanClass":604,"./showAlertIfOtherParagraph":606}],606:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return!e&&((0,_clearTextSelectionAndAlert2.default)("It is ambiguous for which span you want to adjust the boundary. Select the span, and try again."),!0)};var _clearTextSelectionAndAlert=require("../../clearTextSelectionAndAlert"),_clearTextSelectionAndAlert2=_interopRequireDefault(_clearTextSelectionAndAlert);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../clearTextSelectionAndAlert":612}],607:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return(0,_delegate2.default)(e[0],".textae-editor__body__text-box","click",t=>{(t.target.classList.contains("textae-editor__body__text-box")||t.target.classList.contains("textae-editor__body__text-box__paragraph-margin"))&&e.eventEmitter.emit("textae.editor.body.click")})};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"delegate":50}],608:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){switch(e){case"entity":return t.entityHandler;case"relation":return r.relationHandler;default:return new _DefaultHandler2.default}};var _DefaultHandler=require("./DefaultHandler"),_DefaultHandler2=_interopRequireDefault(_DefaultHandler);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./DefaultHandler":532}],609:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _EditRelation=require("./EditRelation"),_EditRelation2=_interopRequireDefault(_EditRelation),_EditEntity=require("./EditEntity"),_EditEntity2=_interopRequireDefault(_EditEntity),_getHandler=require("./getHandler"),_getHandler2=_interopRequireDefault(_getHandler),_EditAttribute=require("./EditAttribute"),_EditAttribute2=_interopRequireDefault(_EditAttribute),_DeleteAttribute=require("./DeleteAttribute"),_DeleteAttribute2=_interopRequireDefault(_DeleteAttribute);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e,i,n,r,l,d,_){this._handler="default";const u=new _EditAttribute2.default(r,t,e,i,_),a=new _DeleteAttribute2.default(r,e);this._editEntity=new _EditEntity2.default(t,e,i,r,l,d,n,u,a),this._editRelation=new _EditRelation2.default(t,e,i,r,d),this._editor=t,this._listeners=[]}_setHandlerType(t){this._handler=t}getHandlerType(){return this._handler}getHandler(){return(0,_getHandler2.default)(this._handler,this._editEntity,this._editRelation)}get entityHandler(){return this._editEntity.entityHandler}get relationHandler(){return this._editRelation.relationHandler}noEdit(){this._unbindAllMouseEventhandler(),this._setHandlerType("default")}editEntity(){this._unbindAllMouseEventhandler(),this._listeners=this._editEntity.init(),this._setHandlerType("entity")}editRelation(){this._unbindAllMouseEventhandler(),this._listeners=this._editRelation.init(),this._setHandlerType("relation")}_unbindAllMouseEventhandler(){for(const t of this._listeners)t.destroy();this._listeners=[]}};

},{"./DeleteAttribute":533,"./EditAttribute":540,"./EditEntity":594,"./EditRelation":601,"./getHandler":608}],610:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,i,n){t.on("textae.entityPallet.attribute.create-predicate-button.click",()=>{const t=new _CreateAttributeDefinitionDialog2.default;t.promise.then(t=>{t.pred&&e.invoke(e.factory.createAttributeDefinitionCommand("entity",t))}),t.open()}).on("textae.entityPallet.attribute.edit-predicate-button.click",t=>{const i=new _EditAttributeDefinitionDialog2.default(t);i.promise.then(i=>{i.size&&""!==i.get("pred")&&e.invoke(e.factory.changeAttributeDefinitionCommand("entity",t,i))}),i.open()}).on("textae.entityPallet.attribute.delete-predicate-button.click",t=>e.invoke(e.factory.deleteAttributeDefinitionCommand("entity",t))).on("textae.entityPallet.attribute.add-value-button.click",t=>{const i=new _EditValueOfAttributeDefinitionDialog2.default(t.valueType);i.promise.then(i=>{(i.range||i.id||i.pattern)&&e.invoke(e.factory.addValueToAttributeDefinitionCommand("entity",t,i))}),i.open()}).on("textae.entityPallet.attribute.edit-value-button.click",(t,i)=>{const n=t.JSON.values[i],o=new _EditValueOfAttributeDefinitionDialog2.default(t.valueType,n);o.promise.then(o=>{if(o.range||o.id||o.pattern){if(!(Object.keys(o).reduce((t,e)=>t||o[e]!==n[e],!1)||Object.keys(n).reduce((t,e)=>t||o[e]!==n[e],!1)))return;e.invoke(e.factory.changeValueOfAttributeDefinitionCommand("entity",t.JSON,i,o))}}),o.open()}).on("textae.entityPallet.attribute.remove-value-button.click",(t,i)=>e.invoke(e.factory.removeValueFromAttributeDefinitionCommand("entity",t,i))).on("textae.entityPallet.attribute.add-button.click",t=>e.invoke(e.factory.createAttributeToSelectedEntitiesCommand(t))).on("textae.entityPallet.attribute.object.edit",t=>{const o=i.findSelectedWithSamePredicateAttribute(t).attributes.find(e=>e.pred===t.pred);switch(t.valueType){case"numeric":(0,_openEditNumericAttributeDialog2.default)(t,o,e);break;case"selection":n.show(),n.showAttribute(t.pred);break;case"string":(0,_openEditStringAttributeDialog2.default)(o,e,t);break;default:throw new Error(`Invalid attribute valueType: ${t.valueType}`)}}).on("textae.entityPallet.attribute.remove-button.click",t=>e.invoke(e.factory.removeAttributesOfSelectedEntitiesByPredCommand(t)))};var _CreateAttributeDefinitionDialog=require("../../../../component/CreateAttributeDefinitionDialog"),_CreateAttributeDefinitionDialog2=_interopRequireDefault(_CreateAttributeDefinitionDialog),_EditAttributeDefinitionDialog=require("../../../../component/EditAttributeDefinitionDialog"),_EditAttributeDefinitionDialog2=_interopRequireDefault(_EditAttributeDefinitionDialog),_EditValueOfAttributeDefinitionDialog=require("../../../../component/EditValueOfAttributeDefinitionDialog"),_EditValueOfAttributeDefinitionDialog2=_interopRequireDefault(_EditValueOfAttributeDefinitionDialog),_openEditNumericAttributeDialog=require("../openEditNumericAttributeDialog"),_openEditNumericAttributeDialog2=_interopRequireDefault(_openEditNumericAttributeDialog),_openEditStringAttributeDialog=require("../openEditStringAttributeDialog"),_openEditStringAttributeDialog2=_interopRequireDefault(_openEditStringAttributeDialog);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"../../../../component/CreateAttributeDefinitionDialog":192,"../../../../component/EditAttributeDefinitionDialog":213,"../../../../component/EditValueOfAttributeDefinitionDialog":233,"../openEditNumericAttributeDialog":622,"../openEditStringAttributeDialog":624}],611:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){window.getSelection().removeAllRanges()};

},{}],612:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){(0,_clearTextSelection2.default)(),setTimeout(()=>alert(e),10)};var _clearTextSelection=require("./clearTextSelection"),_clearTextSelection2=_interopRequireDefault(_clearTextSelection);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./clearTextSelection":611}],613:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ElementEditor=require("./ElementEditor"),_ElementEditor2=_interopRequireDefault(_ElementEditor),_jsPlumbConnectionClicked=require("./jsPlumbConnectionClicked"),_jsPlumbConnectionClicked2=_interopRequireDefault(_jsPlumbConnectionClicked),_initPallet=require("./initPallet"),_initPallet2=_interopRequireDefault(_initPallet),_EntityPallet=require("../../../../component/EntityPallet"),_EntityPallet2=_interopRequireDefault(_EntityPallet),_RelationPallet=require("../../../../component/RelationPallet"),_RelationPallet2=_interopRequireDefault(_RelationPallet),_bindAttributeTabEvents=require("./bindAttributeTabEvents"),_bindAttributeTabEvents2=_interopRequireDefault(_bindAttributeTabEvents);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e,i,l,n,a,o,r,s){this._editor=t,this._typeDefinition=r,this._autocompletionWs=s,this._selectionModel=i,this._entityPallet=new _EntityPallet2.default(t,o,r,i.entity),this._elementEditor=new _ElementEditor2.default(t,e,i,l,n,a,r,this._entityPallet),(0,_bindAttributeTabEvents2.default)(t.eventEmitter,n,i.entity,this._entityPallet),(0,_initPallet2.default)(this._entityPallet,t,this,n,"entity",this._elementEditor.entityHandler),this._relationPallet=new _RelationPallet2.default(t,o,r),(0,_initPallet2.default)(this._relationPallet,t,this,n,"relation",this._elementEditor.relationHandler)}editRelation(){this._elementEditor.editRelation()}editEntity(){this._elementEditor.editEntity()}noEdit(){this._elementEditor.noEdit()}showPallet(){const t=this._getPallet();t&&t.show()}selectLeftAttributeTab(){this._entityPallet.visibly&&this._entityPallet.selectLeftTab()}selectRightAttributeTab(){this._entityPallet.visibly&&this._entityPallet.selectRightTab()}get isEntityPalletShown(){return this._entityPallet.visibly}changeLabel(){this._elementEditor.getHandler().changeLabelHandler(this.autocompletionWs)}manipulateAttribute(t,e){this._elementEditor.getHandler().manipulateAttribute(t,e)}cancelSelect(){const t=this._getPallet();t&&(t.visibly?t.hide():this._selectionModel.clear())}jsPlumbConnectionClicked(t,e){(0,_jsPlumbConnectionClicked2.default)(this._elementEditor,t,e)}getSelectedIdEditable(){return this._elementEditor.getHandler().selectedIds}_getPallet(){return"entity"==this._elementEditor.getHandlerType()?this._entityPallet:"relation"==this._elementEditor.getHandlerType()?this._relationPallet:void 0}get autocompletionWs(){return this._autocompletionWs||this._typeDefinition.autocompletionWs}};

},{"../../../../component/EntityPallet":237,"../../../../component/RelationPallet":256,"./ElementEditor":609,"./bindAttributeTabEvents":610,"./initPallet":614,"./jsPlumbConnectionClicked":615}],614:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i,n,a,o){t.eventEmitter.on(`textae.${a}Pallet.add-button.click`,()=>{const e=new _CreateTypeDefinitionDialog2.default(o.typeContainer,i.autocompletionWs);e.promise.then(({newType:e})=>o.commander.invoke(o.addType(e))),e.open()}).on(`textae.${a}Pallet.read-button.click`,()=>t.api.handlePalletClick("textae.pallet.button.read.click")).on(`textae.${a}Pallet.write-button.click`,()=>t.api.handlePalletClick("textae.pallet.button.write.click")).on(`textae.${a}Pallet.item.label.click`,e=>n.invoke(o.changeTypeOfSelectedElement(e))).on(`textae.${a}Pallet.item.select-all-button.click`,e=>o.selectAll(e)).on(`textae.${a}Pallet.item.edit-button.click`,(e,t,n)=>{const a=new _EditTypeDefinitionDialog2.default(o.typeContainer,e,t,n,i.autocompletionWs);a.promise.then(({id:e,changedProperties:t})=>{t.size&&o.commander.invoke(o.changeType(e,t))}),a.open()}).on(`textae.${a}Pallet.item.remove-button.click`,(e,t)=>n.invoke(o.removeType(e,t))).on("textae.editor.unselect",()=>e.hide()).on("textae.history.change",()=>e.updateDisplay()).on("textae.dataAccessObject.configuration.save",()=>e.updateDisplay()).on(`textae.typeDefinition.${a}.type.lock`,()=>e.updateDisplay()).on(`textae.typeDefinition.${a}.type.change`,()=>e.updateDisplay()).on(`textae.typeDefinition.${a}.type.default.change`,()=>e.updateDisplay()),t[0].appendChild(e.el)};var _CreateTypeDefinitionDialog=require("../../../../component/CreateTypeDefinitionDialog"),_CreateTypeDefinitionDialog2=_interopRequireDefault(_CreateTypeDefinitionDialog),_EditTypeDefinitionDialog=require("../../../../component/EditTypeDefinitionDialog"),_EditTypeDefinitionDialog2=_interopRequireDefault(_EditTypeDefinitionDialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../component/CreateTypeDefinitionDialog":193,"../../../../component/EditTypeDefinitionDialog":230}],615:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n){e.getHandler().jsPlumbConnectionClicked&&!n.processedByTextae&&e.getHandler().jsPlumbConnectionClicked(t,n),n.processedByTextae=!0};

},{}],616:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,i){(0,_isSimple2.default)(i)?e.toTerm():e.toInstance()};var _isSimple=require("../isSimple"),_isSimple2=_interopRequireDefault(_isSimple);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../isSimple":621}],617:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,i){(0,_isSimple2.default)(i)?e.toViewTerm():e.toViewInstance()};var _isSimple=require("../isSimple"),_isSimple2=_interopRequireDefault(_isSimple);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../isSimple":621}],618:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o,t){e.eventEmitter.on("textae.annotationData.all.change",(e,i)=>{"edit"!==t?(0,_forView2.default)(o,e):((0,_showLoadNoticeForEditableMode2.default)(i),(0,_forEditable2.default)(o,e))})};var _forView=require("./forView"),_forView2=_interopRequireDefault(_forView),_showLoadNoticeForEditableMode=require("./showLoadNoticeForEditableMode"),_showLoadNoticeForEditableMode2=_interopRequireDefault(_showLoadNoticeForEditableMode),_forEditable=require("./forEditable"),_forEditable2=_interopRequireDefault(_forEditable);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./forEditable":616,"./forView":617,"./showLoadNoticeForEditableMode":619}],619:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e&&_alertifyjs2.default.success("track annotations have been merged to root annotations.")};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"alertifyjs":44}],620:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _TypeEditor=require("./TypeEditor"),_TypeEditor2=_interopRequireDefault(_TypeEditor),_EditMode=require("./EditMode"),_EditMode2=_interopRequireDefault(_EditMode),_DisplayInstance=require("./DisplayInstance"),_DisplayInstance2=_interopRequireDefault(_DisplayInstance),_bindModelChange=require("./bindModelChange"),_bindModelChange2=_interopRequireDefault(_bindModelChange),_EventMap=require("./EventMap"),_EventMap2=_interopRequireDefault(_EventMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,n,i,o,a,d,r,l,u,_,s){const p=new _TypeEditor2.default(e,t,n,o,i,d.pushButtons,l,u,_),c=new _DisplayInstance2.default(r),M=new _EditMode2.default(e,t,n,p,d.buttonStateHelper,c);e.eventEmitter.on("textae.editMode.transition",(e,t)=>{p.cancelSelect(),d.setButtonState(e,t)}).on("textae.editor.body.click",()=>p.cancelSelect()),(0,_bindModelChange2.default)(e,M,s),this.event=new _EventMap2.default(i,n,u,c,t,d,o,a,p,e,M),e.on("textae.editor.jsPlumbConnection.add",(e,t)=>{t.bindClickAction((e,t)=>p.jsPlumbConnectionClicked(e,t))})}};

},{"./DisplayInstance":489,"./EditMode":498,"./EventMap":514,"./TypeEditor":613,"./bindModelChange":618}],621:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return!e.relation.some&&!e.span.hasMultiEntities};

},{}],622:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){const r=new _EditNumericAttributeDialog2.default(e,t);r.promise.then(({newObj:t})=>{const r=i.factory.changeAttributesOfSelectedEntitiesWithSamePred("entity",e,t);i.invoke(r)}),r.open()};var _EditNumericAttributeDialog=require("../../../component/EditNumericAttributeDialog"),_EditNumericAttributeDialog2=_interopRequireDefault(_EditNumericAttributeDialog);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../component/EditNumericAttributeDialog":224}],623:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i){return e?t.factory.changeAttributesOfSelectedEntitiesWithSamePred("entity",r,e,i):t.factory.removeAttributesOfSelectedEntitiesByPredCommand(r)};

},{}],624:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){const r=new _EditStringAttributeDialog2.default(e,i);r.promise.then(({newObj:e,newLabel:r})=>{t.invoke((0,_getChangeOrRemoveCommand2.default)(e,t,i,r))}),r.open()};var _EditStringAttributeDialog=require("../../../../component/EditStringAttributeDialog"),_EditStringAttributeDialog2=_interopRequireDefault(_EditStringAttributeDialog),_getChangeOrRemoveCommand=require("./getChangeOrRemoveCommand"),_getChangeOrRemoveCommand2=_interopRequireDefault(_getChangeOrRemoveCommand);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../component/EditStringAttributeDialog":228,"./getChangeOrRemoveCommand":623}],625:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const SELECTED="ui-selected";exports.default=SELECTED;

},{}],626:[function(require,module,exports){
"use strict";function removeUiSelectClass(e){e&&e.deselect&&e.deselect()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){removeUiSelectClass(e.toConnect(t))};

},{}],627:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return document.querySelector(`#${e}`)};

},{}],628:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const o=(0,_getDomPositionCache2.default)(e,t.entity);return{span:{select:e=>{const t=(0,_getSpanDom2.default)(e);(0,_modifyStyle2.default)(t,"add"),t.focus()},deselect:e=>{const t=(0,_getSpanDom2.default)(e);t&&(0,_modifyStyle2.default)(t,"remove")}},entity:{select:t=>{const o=(0,_getEntityDom2.default)(e[0],t);o&&((0,_modifyStyle2.default)(o,"add"),(0,_getLabelDomOfType2.default)(o).focus())},deselect:t=>{const o=(0,_getEntityDom2.default)(e[0],t);o&&(0,_modifyStyle2.default)(o,"remove")}},attribute:{select:e=>{const t=document.querySelector(`div[title="${e}"]`);t&&(0,_modifyStyle2.default)(t,"add")},deselect:e=>{const t=document.querySelector(`div[title="${e}"]`);t&&(0,_modifyStyle2.default)(t,"remove")}},relation:{select:e=>(0,_selectRelation2.default)(o,e),deselect:e=>(0,_deselectRelation2.default)(o,e)},entityLabel:{update:t=>(0,_updateEntityTypeValues2.default)(e,t)}}};var _getDomPositionCache=require("../View/getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache),_selectRelation=require("./selectRelation"),_selectRelation2=_interopRequireDefault(_selectRelation),_deselectRelation=require("./deselectRelation"),_deselectRelation2=_interopRequireDefault(_deselectRelation),_getEntityDom=require("../getEntityDom"),_getEntityDom2=_interopRequireDefault(_getEntityDom),_getLabelDomOfType=require("../getLabelDomOfType"),_getLabelDomOfType2=_interopRequireDefault(_getLabelDomOfType),_updateEntityTypeValues=require("./updateEntityTypeValues"),_updateEntityTypeValues2=_interopRequireDefault(_updateEntityTypeValues),_getSpanDom=require("./getSpanDom"),_getSpanDom2=_interopRequireDefault(_getSpanDom),_modifyStyle=require("./modifyStyle"),_modifyStyle2=_interopRequireDefault(_modifyStyle);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../View/getDomPositionCache":765,"../getEntityDom":786,"../getLabelDomOfType":787,"./deselectRelation":626,"./getSpanDom":627,"./modifyStyle":629,"./selectRelation":630,"./updateEntityTypeValues":631}],629:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.classList[t](_SELECTED2.default)};var _SELECTED=require("./SELECTED"),_SELECTED2=_interopRequireDefault(_SELECTED);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./SELECTED":625}],630:[function(require,module,exports){
"use strict";function addUiSelectClass(e){e&&e.select&&e.select()}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){addUiSelectClass(e.toConnect(t))};

},{}],631:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){console.assert(t,"An entity id is necessary.");const i=(0,_getEntityDom2.default)(e[0],t);if(i){const e=(0,_getPaneDomOfType2.default)(i),t=e.closest(".textae-editor__type").querySelector(".textae-editor__type-values");(0,_getEntitiesDomOfType2.default)(i).length===e.querySelectorAll(`.${_SELECTED2.default}`).length?(t.classList.add(_SELECTED2.default),e.classList.add(_SELECTED2.default)):(t.classList.remove(_SELECTED2.default),e.classList.remove(_SELECTED2.default)),e.querySelectorAll(`.${_SELECTED2.default}`).length?t.classList.add("textae-editor__type-values--some_entity_selected"):t.classList.remove("textae-editor__type-values--some_entity_selected")}};var _getEntityDom=require("../getEntityDom"),_getEntityDom2=_interopRequireDefault(_getEntityDom),_getEntitiesDomOfType=require("../getEntitiesDomOfType"),_getEntitiesDomOfType2=_interopRequireDefault(_getEntitiesDomOfType),_getPaneDomOfType=require("../../getPaneDomOfType"),_getPaneDomOfType2=_interopRequireDefault(_getPaneDomOfType),_SELECTED=require("./SELECTED"),_SELECTED2=_interopRequireDefault(_SELECTED);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../getPaneDomOfType":395,"../getEntitiesDomOfType":785,"../getEntityDom":786,"./SELECTED":625}],632:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const defaults={"delimiter characters":[" ",".","!","?",",",":",";","-","/","&","(",")","{","}","[","]","+","*","\\",'"',"'","\n",""],"non-edge characters":[" ","\n"]};exports.default=class{constructor(){this._delimiterCharacters=[],this._blankCharacters=[]}set(e){const r=Object.assign({},defaults,e);return this._delimiterCharacters=r["delimiter characters"],this._blankCharacters=r["non-edge characters"],e}isDelimiter(e){return this._delimiterCharacters.indexOf("ANY")>=0?1:this._delimiterCharacters.indexOf(e)>=0}isBlankCharacter(e){return this._blankCharacters.indexOf(e)>=0}removeBlankChractors(e){for(const r of this._blankCharacters)e=e.replace(r,"");return e}};

},{}],633:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,i,t,r){if(!i.span.get(r.id))return;const o=(0,_getGridPosition2.default)(i=>e.getSpan(i),t,r,i);(0,_isMoved2.default)(e.getGrid(r.id),o)&&((0,_updateGridPositon2.default)(r,o),e.setGrid(r.id,o),(0,_showInvisibleGrid2.default)(r))};var _getGridPosition=require("../getGridPosition"),_getGridPosition2=_interopRequireDefault(_getGridPosition),_showInvisibleGrid=require("../showInvisibleGrid"),_showInvisibleGrid2=_interopRequireDefault(_showInvisibleGrid),_isMoved=require("./isMoved"),_isMoved2=_interopRequireDefault(_isMoved),_updateGridPositon=require("./updateGridPositon"),_updateGridPositon2=_interopRequireDefault(_updateGridPositon);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../getGridPosition":639,"../showInvisibleGrid":641,"./isMoved":634,"./updateGridPositon":635}],634:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return!e||e.top!==t.top||e.left!==t.left};

},{}],635:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const r=(0,_getGridOfSpan2.default)(e.id);r&&(r.style.top=`${t.top}px`,r.style.left=`${t.left}px`)};var _getGridOfSpan=require("../getGridOfSpan"),_getGridOfSpan2=_interopRequireDefault(_getGridOfSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../getGridOfSpan":638}],636:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,i,t){return new Promise((o,n)=>{requestAnimationFrame(()=>{try{(0,_arrangeGridPosition2.default)(e,r,i,t),o()}catch(e){console.error(e,e.stack),n()}})})};var _arrangeGridPosition=require("./arrangeGridPosition"),_arrangeGridPosition2=_interopRequireDefault(_arrangeGridPosition);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./arrangeGridPosition":633}],637:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,i){return e.cacheAllSpan(r.span.all),r.span.all.map(a=>(0,_arrangeGridPositionPromise2.default)(e,r,i,a))};var _arrangeGridPositionPromise=require("./arrangeGridPositionPromise"),_arrangeGridPositionPromise2=_interopRequireDefault(_arrangeGridPositionPromise);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./arrangeGridPositionPromise":636}],638:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return document.querySelector(`#G${e}`)};

},{}],639:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,d){const r=e(n.id),u=(0,_getHeightIncludeDescendantGrids2.default)(n,t,d);return{top:r.top-u,left:r.left}};var _getHeightIncludeDescendantGrids=require("../../getHeightIncludeDescendantGrids"),_getHeightIncludeDescendantGrids2=_interopRequireDefault(_getHeightIncludeDescendantGrids);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../getHeightIncludeDescendantGrids":770}],640:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getDomPositionCache=require("../../getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache),_genArrangeAllGridPositionPromises=require("./genArrangeAllGridPositionPromises"),_genArrangeAllGridPositionPromises2=_interopRequireDefault(_genArrangeAllGridPositionPromises),_arrangeGridPosition=require("./arrangeGridPosition"),_arrangeGridPosition2=_interopRequireDefault(_arrangeGridPosition);function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}exports.default=class{constructor(i,o){this.editor=i,this.annotationData=o,this.domPositionCache=(0,_getDomPositionCache2.default)(i,o.entity)}arrangePosition(i){this.domPositionCache.reset(),this.domPositionCache.cacheAllSpan(this.annotationData.span.all);for(const o of this.annotationData.span.all)(0,_arrangeGridPosition2.default)(this.domPositionCache,this.annotationData,i,o)}arrangePositionAsync(i){return this.domPositionCache.reset(),Promise.all((0,_genArrangeAllGridPositionPromises2.default)(this.domPositionCache,this.annotationData,i))}};

},{"../../getDomPositionCache":765,"./arrangeGridPosition":633,"./genArrangeAllGridPositionPromises":637}],641:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=showInvisibleGrid;var _getGridOfSpan=require("./getGridOfSpan"),_getGridOfSpan2=_interopRequireDefault(_getGridOfSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function showInvisibleGrid(e){const i=(0,_getGridOfSpan2.default)(e.id);filterVisibleGrid(i)&&showGrid(i)}function filterVisibleGrid(e){return e&&e.classList.contains("hidden")?e:null}function showGrid(e){e.classList.remove("hidden")}

},{"./getGridOfSpan":638}],642:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _GridLayout=require("./GridLayout"),_GridLayout2=_interopRequireDefault(_GridLayout);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e,i){this._editor=t,this._gridLayout=new _GridLayout2.default(t,e),this._renderer=i}update(t){this._editor.eventEmitter.emit("textae.annotationPosition.position-update.start"),this._gridLayout.arrangePosition(t),this._renderer.arrangeRelationPositionAllAsync().then(()=>this._editor.eventEmitter.emit("textae.annotationPosition.position-update.end"))}updateAsync(t){this._editor.eventEmitter.emit("textae.annotationPosition.position-update.start"),this._gridLayout.arrangePositionAsync(t).then(()=>this._renderer.arrangeRelationPositionAllAsync()).then(this._editor.eventEmitter.emit("textae.annotationPosition.position-update.end")).catch(t=>console.error(t,t.stack))}};

},{"./GridLayout":640}],643:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o){const t=(0,_getDomPositionCache2.default)(e,o);return{on:e=>processAccosiatedRelation(o,t,e=>e.pointup(),e),off:e=>processAccosiatedRelation(o,t,e=>e.pointdown(),e)}};var _getDomPositionCache=require("./getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function processAccosiatedRelation(e,o,t,i){e.get(i).relations.map(e=>o.toConnect(e)).filter(e=>e.pointup&&e.pointdown).forEach(t)}

},{"./getDomPositionCache":765}],644:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=e.offsetWidth,l=Array.prototype.map.call(e.children,e=>e.offsetWidth).reduce((e,t)=>e+t,0);e.style.left=l>t?`${(t-l)/2}px`:null};

},{}],645:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,i){const u=(0,_getEntityDom2.default)(t[0],i.id);u&&e.update(u,i.id)};var _getEntityDom=require("../../../getEntityDom"),_getEntityDom2=_interopRequireDefault(_getEntityDom);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"../../../getEntityDom":786}],646:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,n,u,l,i){const a=new _Selector2.default(e,t),o=(0,_removeEntityElement2.default)(e,i.id);(0,_create2.default)(e,n,u,l,i,t.namespace),(0,_updateAncestorsElement2.default)(o),r.entity.has(i.id)&&(a.entity.select(i.id),a.entityLabel.update(i.id))};var _Selector=require("../../../Selector"),_Selector2=_interopRequireDefault(_Selector),_create=require("./create"),_create2=_interopRequireDefault(_create),_removeEntityElement=require("./removeEntityElement"),_removeEntityElement2=_interopRequireDefault(_removeEntityElement),_updateAncestorsElement=require("./updateAncestorsElement"),_updateAncestorsElement2=_interopRequireDefault(_updateAncestorsElement);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../Selector":628,"./create":652,"./removeEntityElement":658,"./updateAncestorsElement":660}],647:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=createEntityElement;var _idFactory=require("../../../../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function createEntityElement(e,t,r,i){const a=document.createElement("div");return a.setAttribute("id",_idFactory2.default.makeEntityDomId(e,i.id)),a.setAttribute("title",i.id),a.classList.add("textae-editor__entity"),a.style.borderColor=t.getColor(i.type.name),r.getClasses(i.id).forEach(e=>{a.classList.add(e)}),a}

},{"../../../../../../idFactory":398}],648:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a){return template(e.type.toDomInfo(t,a))};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}require("../../../registerTypeValeusPartial");const source='\n<div id="{{id}}" class="textae-editor__type">\n  <div class="textae-editor__type-gap"></div>\n  <div id="P-{{id}}" class="textae-editor__entity-pane"></div>\n  {{>type-values}}\n</div>\n',template=_handlebars2.default.compile(source);

},{"../../../registerTypeValeusPartial":657,"handlebars":88}],649:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r){return document.querySelector(`#G${r}`)||e.render(r)};

},{}],650:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,u){const p=(0,_getTypeDom2.default)(u);return p||((0,_getGrid2.default)(r,u.span).insertAdjacentHTML("beforeend",(0,_createEmptyTypeHtml2.default)(u,e,t)),(0,_getTypeDom2.default)(u))};var _getTypeDom=require("../../../../getTypeDom"),_getTypeDom2=_interopRequireDefault(_getTypeDom),_createEmptyTypeHtml=require("./createEmptyTypeHtml"),_createEmptyTypeHtml2=_interopRequireDefault(_createEmptyTypeHtml),_getGrid=require("./getGrid"),_getGrid2=_interopRequireDefault(_getGrid);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../getTypeDom":749,"./createEmptyTypeHtml":648,"./getGrid":649}],651:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,n,i,a){const o=(0,_getTypeElement2.default)(t,r,n,a).querySelector(".textae-editor__entity-pane"),u=_idFactory2.default.makeEntityDomId(e,a.id);o.querySelector(`#${u}`)||(o.appendChild((0,_createEntityElement2.default)(e,r,i,a)),(0,_arrangePositionOfPane2.default)(o))};var _idFactory=require("../../../../../../idFactory"),_idFactory2=_interopRequireDefault(_idFactory),_getTypeElement=require("./getTypeElement"),_getTypeElement2=_interopRequireDefault(_getTypeElement),_arrangePositionOfPane=require("../../arrangePositionOfPane"),_arrangePositionOfPane2=_interopRequireDefault(_arrangePositionOfPane),_createEntityElement=require("./createEntityElement"),_createEntityElement2=_interopRequireDefault(_createEntityElement);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../../idFactory":398,"../../arrangePositionOfPane":644,"./createEntityElement":647,"./getTypeElement":650}],652:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i,u,n){u.type.isBlock||(0,_createEntity2.default)(e,n,t,r,i,u)};var _createEntity=require("./createEntity"),_createEntity2=_interopRequireDefault(_createEntity);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./createEntity":651}],653:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t){return typeValuesTemplate(e.toDomInfo(r,t))};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}require("./registerTypeValeusPartial");const typeValuesTemplate=_handlebars2.default.compile("\n{{> type-values}}\n");

},{"./registerTypeValeusPartial":657,"handlebars":88}],654:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return 0===e.span.get(t).types.length};

},{}],655:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=destroy;var _removeEntityElement=require("../removeEntityElement"),_removeEntityElement2=_interopRequireDefault(_removeEntityElement),_updateAncestorsElement=require("../updateAncestorsElement"),_updateAncestorsElement2=_interopRequireDefault(_updateAncestorsElement),_doesSpanHasNoEntity=require("./doesSpanHasNoEntity"),_doesSpanHasNoEntity2=_interopRequireDefault(_doesSpanHasNoEntity);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function destroy(e,t,n,r){if((0,_doesSpanHasNoEntity2.default)(t,r.span))n.remove(r.span);else{const t=(0,_removeEntityElement2.default)(e,r.id);(0,_updateAncestorsElement2.default)(t)}return r}

},{"../removeEntityElement":658,"../updateAncestorsElement":660,"./doesSpanHasNoEntity":654}],656:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ModificationRenderer=require("../ModificationRenderer"),_ModificationRenderer2=_interopRequireDefault(_ModificationRenderer),_create=require("./create"),_create2=_interopRequireDefault(_create),_changeTypeOfExists=require("./changeTypeOfExists"),_changeTypeOfExists2=_interopRequireDefault(_changeTypeOfExists),_changeModificationOfExists=require("./changeModificationOfExists"),_changeModificationOfExists2=_interopRequireDefault(_changeModificationOfExists),_destroy=require("./destroy"),_destroy2=_interopRequireDefault(_destroy),_setTypeGapHeight=require("./setTypeGapHeight"),_setTypeGapHeight2=_interopRequireDefault(_setTypeGapHeight),_updateTypeDom=require("./updateTypeDom"),_updateTypeDom2=_interopRequireDefault(_updateTypeDom);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i,a,n,o){this.editor=e,this.annotationData=t,this.typeContainer=a,this.gridRenderer=n,this.selectionModel=i,this.modification=new _ModificationRenderer2.default(t),this.typeGap=o}render(e){(0,_create2.default)(this.editor,this.typeContainer,this.gridRenderer,this.modification,e,this.annotationData.namespace),(0,_setTypeGapHeight2.default)(e,this.typeGap)}change(e){(0,_changeTypeOfExists2.default)(this.editor,this.annotationData,this.selectionModel,this.typeContainer,this.gridRenderer,this.modification,e),(0,_setTypeGapHeight2.default)(e,this.typeGap)}changeModification(e){(0,_changeModificationOfExists2.default)(this.editor,this.modification,e)}remove(e){(0,_destroy2.default)(this.editor,this.annotationData,this.gridRenderer,e)}updateTypeDom(e){for(const t of this.annotationData.entity.allRenderedTypes)t.name===e&&(0,_updateTypeDom2.default)(this.annotationData.namespace,this.typeContainer,t)}updateAttribute(e){for(const t of this.annotationData.entity.allRenderedTypes)t.withSamePredicateAttribute(e)&&(0,_updateTypeDom2.default)(this.annotationData.namespace,this.typeContainer,t)}updateTypeDomAll(){for(const e of this.annotationData.entity.allRenderedTypes)(0,_updateTypeDom2.default)(this.annotationData.namespace,this.typeContainer,e)}};

},{"../ModificationRenderer":669,"./changeModificationOfExists":645,"./changeTypeOfExists":646,"./create":652,"./destroy":655,"./setTypeGapHeight":659,"./updateTypeDom":661}],657:[function(require,module,exports){
"use strict";var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}_handlebars2.default.registerPartial("type-values",'\n  <div class="textae-editor__type-values" style="background-color: {{color}}">\n    <div class="textae-editor__type-label" tabindex="0">\n      {{#if href}}\n        <a target="_blank"/ href="{{href}}">{{label}}</a>\n      {{else}}\n        {{label}}\n      {{/if}}\n    </div>\n    {{#each attributes}}\n    <div id="{{domId}}" title="{{title}}" data-pred="{{pred}}" data-obj="{{obj}}" class="textae-editor__attribute"{{#if color}} style="background-color: {{color}}"{{/if}}>\n      <span class="textae-editor__attribute-label">\n        {{#if href}}\n          <a target="_blank"/ href="{{href}}">{{label}}</a>\n        {{else}}\n          {{label}}\n        {{/if}}\n      </span>\n    </div>\n    {{/each}}\n  </div>\n  ');

},{"handlebars":88}],658:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const r=(0,_getEntityDom2.default)(e[0],t);if(r){const e=r.parentNode;return r.remove(),e}return null};var _getEntityDom=require("../../../getEntityDom"),_getEntityDom2=_interopRequireDefault(_getEntityDom);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../getEntityDom":786}],659:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const p=(0,_getTypeDom2.default)(e);p&&p.querySelector(".textae-editor__type-gap").setAttribute("style",(0,_getTypeGapHeightStyle2.default)(t()))};var _getTypeGapHeightStyle=require("../../lineHeight/getTypeGapHeightStyle"),_getTypeGapHeightStyle2=_interopRequireDefault(_getTypeGapHeightStyle),_getTypeDom=require("../getTypeDom"),_getTypeDom2=_interopRequireDefault(_getTypeDom);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../lineHeight/getTypeGapHeightStyle":774,"../getTypeDom":749}],660:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(e)if(e.children.length)(0,_arrangePositionOfPane2.default)(e);else{const t=e.closest(".textae-editor__type"),r=t.closest(".textae-editor__grid");t.remove(),r.children.length||r.remove()}};var _arrangePositionOfPane=require("./arrangePositionOfPane"),_arrangePositionOfPane2=_interopRequireDefault(_arrangePositionOfPane);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./arrangePositionOfPane":644}],661:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,l){const r=document.querySelector(`#${l.id}`),u=_dohtml2.default.create((0,_createTypeValuesHtml2.default)(l,e,t)),a=r.querySelector(".textae-editor__type-values");r.replaceChild(u,a)};var _dohtml=require("dohtml"),_dohtml2=_interopRequireDefault(_dohtml),_createTypeValuesHtml=require("./createTypeValuesHtml"),_createTypeValuesHtml2=_interopRequireDefault(_createTypeValuesHtml);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./createTypeValuesHtml":653,"dohtml":51}],662:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,s){t.reset();const o=t.getSpan(s);e.style.width=`${o.width}px`};

},{}],663:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i){const d=t.getSpan(i),n=(0,_getRightGrid2.default)(e,i);if(n){const e=(0,_createGridHtml2.default)(i,d.width);return n.insertAdjacentHTML("beforebegin",e),n.previousElementSibling}{const e=(0,_createGridHtml2.default)(i,d.width);return r.insertAdjacentHTML("beforeend",e),r.lastElementChild}};var _getRightGrid=require("./getRightGrid"),_getRightGrid2=_interopRequireDefault(_getRightGrid),_createGridHtml=require("./createGridHtml"),_createGridHtml2=_interopRequireDefault(_createGridHtml);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./createGridHtml":664,"./getRightGrid":666}],664:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return template({id:`G${e}`,spanWidth:t})};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n  <div id={{id}} class="textae-editor__grid hidden" style="width: {{spanWidth}}px">\n  </div>\n  ',template=_handlebars2.default.compile(source);

},{"handlebars":88}],665:[function(require,module,exports){
"use strict";function getGridElement(e){return document.querySelector(`#G${e}`)}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getGridElement;

},{}],666:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){let[r,n]=(0,_getRightSpanAndGrid2.default)(e,t);if(!r)return null;if(n)return n;for(;r;)if([r,n]=(0,_getRightSpanAndGrid2.default)(e,r.id),n)return n;return null};var _getRightSpanAndGrid=require("./getRightSpanAndGrid"),_getRightSpanAndGrid2=_interopRequireDefault(_getRightSpanAndGrid);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getRightSpanAndGrid":667}],667:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const n=(0,_getNextElement.getRightElement)(e,document.querySelector(`#${t}`));if(!n)return[null,null];const r=document.querySelector(`#G${n.id}`);return r?[n,r]:[n,null]};var _getNextElement=require("../../../getNextElement");

},{"../../../getNextElement":788}],668:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getAnnotationBox=require("../getAnnotationBox"),_getAnnotationBox2=_interopRequireDefault(_getAnnotationBox),_createGrid=require("./createGrid"),_createGrid2=_interopRequireDefault(_createGrid),_adaptWidthToSpan=require("./adaptWidthToSpan"),_adaptWidthToSpan2=_interopRequireDefault(_adaptWidthToSpan),_getGridElement=require("./getGridElement"),_getGridElement2=_interopRequireDefault(_getGridElement);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t){this.editor=e,this.domPositionCache=t,this.container=(0,_getAnnotationBox2.default)(e)}render(e){return(0,_createGrid2.default)(this.editor[0],this.domPositionCache,this.container[0],e)}remove(e){const t=(0,_getGridElement2.default)(e);t&&t.parentNode.removeChild(t),this.domPositionCache.gridPositionCache.delete(e)}updateWidth(e){const t=(0,_getGridElement2.default)(e);t&&(0,_adaptWidthToSpan2.default)(t,this.domPositionCache,e)}};

},{"../getAnnotationBox":747,"./adaptWidthToSpan":662,"./createGrid":663,"./getGridElement":665}],669:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return{getClasses:t=>getClasses(e,t),update:(t,s)=>update(e,t,s)}};const allModificationClasses="textae-editor__negation textae-editor__speculation";function getClasses(e,t){return e.getModificationOf(t).map(e=>`textae-editor__${e.pred.toLowerCase()}`)}function update(e,t,s){t.classList.remove("textae-editor__negation"),t.classList.remove("textae-editor__speculation"),getClasses(e,s).forEach(e=>t.classList.add(e))}

},{}],670:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){const i=(0,_getDomPositionCache2.default)(e,t.entity).toConnect(o);if(!i)throw new Error(`no connect for id: ${o}`);return i};var _getDomPositionCache=require("../../getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../getDomPositionCache":765}],671:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const r=e.getOverlay(_LABEL2.default.id);if(!r)throw new Error("no label overlay");return r};var _LABEL=require("../../../LABEL"),_LABEL2=_interopRequireDefault(_LABEL);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../LABEL":482}],672:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=3;

},{}],673:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,l,t){return new Promise((s,i)=>{try{const u=r.relation.all.filter(e=>!e.removed).filter(e=>void 0===e.render);(0,_resetAllCurviness2.default)(e,r,u),t.repaintEverything(),(0,_reselectAll2.default)(e,r,l.relation.all),s()}catch(e){i(e)}})};var _reselectAll=require("./reselectAll"),_reselectAll2=_interopRequireDefault(_reselectAll),_resetAllCurviness=require("./resetAllCurviness"),_resetAllCurviness2=_interopRequireDefault(_resetAllCurviness);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./reselectAll":674,"./resetAllCurviness":675}],674:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=reselectAll;var _Connect=require("../Connect"),_Connect2=_interopRequireDefault(_Connect);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function reselectAll(e,t,n){n.map(n=>new _Connect2.default(e,t,n.id)).filter(e=>e instanceof jsPlumb.Connection).forEach(e=>e.select())}

},{"../Connect":670}],675:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=resetAllCurviness;var _Connect=require("../Connect"),_Connect2=_interopRequireDefault(_Connect),_determineCurviness=require("../determineCurviness"),_determineCurviness2=_interopRequireDefault(_determineCurviness),_resetArrows=require("../jsPlumbArrowOverlayUtil/resetArrows"),_resetArrows2=_interopRequireDefault(_resetArrows);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function resetAllCurviness(e,r,n){n.map(n=>({connect:new _Connect2.default(e,r,n.id),curviness:(0,_determineCurviness2.default)(e,r,n)})).filter(e=>e.connect.setConnector&&e.connect.connector.getCurviness()!==e.curviness).forEach(e=>{e.connect.setConnector(["Bezier",{curviness:e.curviness}]),(0,_resetArrows2.default)(e.connect)})}

},{"../Connect":670,"../determineCurviness":680,"../jsPlumbArrowOverlayUtil/resetArrows":690}],676:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,r){const l=new _Connect2.default(e,t,r.id);l instanceof jsPlumb.Connection&&n.update(new _LabelOverlay2.default(l).getElement(),r.id)};var _Connect=require("./Connect"),_Connect2=_interopRequireDefault(_Connect),_LabelOverlay=require("./LabelOverlay"),_LabelOverlay2=_interopRequireDefault(_LabelOverlay);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./Connect":670,"./LabelOverlay":671}],677:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=changeType;var _Connect=require("./Connect"),_Connect2=_interopRequireDefault(_Connect),_LabelOverlay=require("./LabelOverlay"),_LabelOverlay2=_interopRequireDefault(_LabelOverlay),_connectorStrokeStyle=require("./connectorStrokeStyle"),_connectorStrokeStyle2=_interopRequireDefault(_connectorStrokeStyle),_POINTUP_LINE_WIDTH=require("./POINTUP_LINE_WIDTH"),_POINTUP_LINE_WIDTH2=_interopRequireDefault(_POINTUP_LINE_WIDTH),_getLabelTag=require("../getLabelTag"),_getLabelTag2=_interopRequireDefault(_getLabelTag);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function changeType(e,t,n,r,a){const l=new _Connect2.default(e,t,a.id),_=(0,_connectorStrokeStyle2.default)(t,n,a.id);l instanceof jsPlumb.Connection&&(r.relation.has(a.id)&&(_.lineWidth=_POINTUP_LINE_WIDTH2.default),l.setPaintStyle(_),new _LabelOverlay2.default(l).setLabel(`[${a.id}] ${(0,_getLabelTag2.default)(t.namespace,n.relation,a.type.name)}`))}

},{"../getLabelTag":748,"./Connect":670,"./LabelOverlay":671,"./POINTUP_LINE_WIDTH":672,"./connectorStrokeStyle":679}],678:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const s=e.slice(1);return`rgba(${parseInt(s.substr(0,2),16)}, ${parseInt(s.substr(2,2),16)}, ${parseInt(s.substr(4,2),16)}, 1)`};

},{}],679:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){const r=e.relation.get(o).type.name,n=t.relation.getColor(r);return{lineWidth:1,strokeStyle:(0,_converseHEXinotRGBA2.default)(n)}};var _converseHEXinotRGBA=require("./converseHEXinotRGBA"),_converseHEXinotRGBA2=_interopRequireDefault(_converseHEXinotRGBA);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./converseHEXinotRGBA":678}],680:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,o){const r=(0,_getDomPositionCache2.default)(t,e.entity),n=toAnchors(o),i=r.getEntity(n.sourceId),a=r.getEntity(n.targetId),s=i.center,u=a.center,c=i.top,E=a.top,R=Math.abs(s-u),_=Math.abs(c-E);let f=R*CURVINESS_PARAMETERS.xrate+_*CURVINESS_PARAMETERS.yrate+CURVINESS_PARAMETERS.offset;return f/=2.4};var _getDomPositionCache=require("../../getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}const CURVINESS_PARAMETERS={xrate:.6,yrate:.05,offset:20};function toAnchors(t){return{sourceId:t.subj,targetId:t.obj}}

},{"../../getDomPositionCache":765}],681:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _ModificationRenderer=require("../ModificationRenderer"),_ModificationRenderer2=_interopRequireDefault(_ModificationRenderer),_getAnnotationBox=require("../getAnnotationBox"),_getAnnotationBox2=_interopRequireDefault(_getAnnotationBox),_getDomPositionCache=require("../../getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache),_arrangePositionAll=require("./arrangePositionAll"),_arrangePositionAll2=_interopRequireDefault(_arrangePositionAll),_makeJsPlumbInstance=require("./makeJsPlumbInstance"),_makeJsPlumbInstance2=_interopRequireDefault(_makeJsPlumbInstance),_removeRelation=require("./removeRelation"),_removeRelation2=_interopRequireDefault(_removeRelation),_setRenderLazy=require("./setRenderLazy"),_setRenderLazy2=_interopRequireDefault(_setRenderLazy),_changeType=require("./changeType"),_changeType2=_interopRequireDefault(_changeType),_changeJsPlumbModification=require("./changeJsPlumbModification"),_changeJsPlumbModification2=_interopRequireDefault(_changeJsPlumbModification),_renderLazyRelationAll=require("./renderLazyRelationAll"),_renderLazyRelationAll2=_interopRequireDefault(_renderLazyRelationAll);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,i,n){this.editor=e,this.annotationData=t,this.selectionModel=i,this.typeDefinition=n,this.modificationRenderer=new _ModificationRenderer2.default(t),this.domPositionCache=(0,_getDomPositionCache2.default)(e,t.entity),this.jsPlumbInstance=(0,_makeJsPlumbInstance2.default)((0,_getAnnotationBox2.default)(e))}arrangePositionAll(){(0,_renderLazyRelationAll2.default)(this.annotationData.relation.all),(0,_arrangePositionAll2.default)(this.editor,this.annotationData,this.selectionModel,this.jsPlumbInstance)}reset(){this.jsPlumbInstance.reset(),this.domPositionCache.connectCache.clear()}render(e){(0,_setRenderLazy2.default)(this.jsPlumbInstance,this.editor,this.annotationData,this.typeDefinition,this.modificationRenderer,e)}change(e){(0,_changeType2.default)(this.editor,this.annotationData,this.typeDefinition,this.selectionModel,e)}changeAll(){this.annotationData.relation.all.map(e=>{(0,_changeType2.default)(this.editor,this.annotationData,this.typeDefinition,this.selectionModel,e)})}changeModification(e){(0,_changeJsPlumbModification2.default)(this.editor,this.annotationData,this.modificationRenderer,e)}remove(e){(0,_removeRelation2.default)(this.editor,this.annotationData,this.jsPlumbInstance,this.domPositionCache,e)}};

},{"../../getDomPositionCache":765,"../ModificationRenderer":669,"../getAnnotationBox":747,"./arrangePositionAll":673,"./changeJsPlumbModification":676,"./changeType":677,"./makeJsPlumbInstance":692,"./removeRelation":693,"./renderLazyRelationAll":694,"./setRenderLazy":696}],682:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const HOVER_ARROW={width:14,length:18,location:1,id:"hover-arrow"};exports.default=HOVER_ARROW;

},{}],683:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const NORMAL_ARROW={width:7,length:9,location:1,id:"normal-arrow"};exports.default=NORMAL_ARROW;

},{}],684:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(R,e){R===_NORMAL_ARROW2.default.id?e.addOverlay(["Arrow",_NORMAL_ARROW2.default]):R===_HOVER_ARROW2.default.id&&e.addOverlay(["Arrow",_HOVER_ARROW2.default])};var _NORMAL_ARROW=require("./NORMAL_ARROW"),_NORMAL_ARROW2=_interopRequireDefault(_NORMAL_ARROW),_HOVER_ARROW=require("./HOVER_ARROW"),_HOVER_ARROW2=_interopRequireDefault(_HOVER_ARROW);function _interopRequireDefault(R){return R&&R.__esModule?R:{default:R}}

},{"./HOVER_ARROW":682,"./NORMAL_ARROW":683}],685:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.getOverlays().filter(e=>"Arrow"===e.type).map(e=>e.id)};

},{}],686:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.getOverlay(_HOVER_ARROW2.default.id)};var _HOVER_ARROW=require("./HOVER_ARROW"),_HOVER_ARROW2=_interopRequireDefault(_HOVER_ARROW);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./HOVER_ARROW":682}],687:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.getOverlay(_NORMAL_ARROW2.default.id)};var _NORMAL_ARROW=require("./NORMAL_ARROW"),_NORMAL_ARROW2=_interopRequireDefault(_NORMAL_ARROW);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./NORMAL_ARROW":683}],688:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(r){(0,_hasNormalArrow2.default)(r)||((0,_removeArrow2.default)(_HOVER_ARROW2.default.id,r),(0,_addArrow2.default)(_NORMAL_ARROW2.default.id,r))};var _NORMAL_ARROW=require("./NORMAL_ARROW"),_NORMAL_ARROW2=_interopRequireDefault(_NORMAL_ARROW),_HOVER_ARROW=require("./HOVER_ARROW"),_HOVER_ARROW2=_interopRequireDefault(_HOVER_ARROW),_addArrow=require("./addArrow"),_addArrow2=_interopRequireDefault(_addArrow),_hasNormalArrow=require("./hasNormalArrow"),_hasNormalArrow2=_interopRequireDefault(_hasNormalArrow),_removeArrow=require("./removeArrow"),_removeArrow2=_interopRequireDefault(_removeArrow);function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}

},{"./HOVER_ARROW":682,"./NORMAL_ARROW":683,"./addArrow":684,"./hasNormalArrow":687,"./removeArrow":689}],689:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){t.removeOverlay(e)};

},{}],690:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){for(const r of(0,_getArrowIds2.default)(e))e.removeOverlays(r),(0,_addArrow2.default)(r,e)};var _addArrow=require("./addArrow"),_addArrow2=_interopRequireDefault(_addArrow),_getArrowIds=require("./getArrowIds"),_getArrowIds2=_interopRequireDefault(_getArrowIds);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./addArrow":684,"./getArrowIds":685}],691:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(r){(0,_hasHoverArrow2.default)(r)||((0,_removeArrow2.default)(_NORMAL_ARROW2.default.id,r),(0,_addArrow2.default)(_HOVER_ARROW2.default.id,r))};var _NORMAL_ARROW=require("./NORMAL_ARROW"),_NORMAL_ARROW2=_interopRequireDefault(_NORMAL_ARROW),_HOVER_ARROW=require("./HOVER_ARROW"),_HOVER_ARROW2=_interopRequireDefault(_HOVER_ARROW),_addArrow=require("./addArrow"),_addArrow2=_interopRequireDefault(_addArrow),_hasHoverArrow=require("./hasHoverArrow"),_hasHoverArrow2=_interopRequireDefault(_hasHoverArrow),_removeArrow=require("./removeArrow"),_removeArrow2=_interopRequireDefault(_removeArrow);function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}

},{"./HOVER_ARROW":682,"./NORMAL_ARROW":683,"./addArrow":684,"./hasHoverArrow":686,"./removeArrow":689}],692:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return jsPlumb.getInstance({ConnectionsDetachable:!1,Container:e,Endpoint:["Dot",{radius:1}]})};

},{}],693:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,o,r){const u=new _Connect2.default(e,t,r.id);n.detach(u),o.connectCache.delete(r.id),u.dead=!0,r.removed=!0};var _Connect=require("./Connect"),_Connect2=_interopRequireDefault(_Connect);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./Connect":670}],694:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return Promise.all(e.filter(e=>e.render).map(e=>e.render())).catch(e=>{console.error("error in renderLazyRelationAll",e)})};

},{}],695:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){const i=e.relationId;return(0,_getDomPositionCache2.default)(t,o.entity).connectCache.set(i,e),e};var _getDomPositionCache=require("../../../getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../getDomPositionCache":765}],696:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,a,t,u,n){Object.assign(n,{relationId:n.id,render:()=>(0,_renderLazy2.default)(r,a,n,e,t,u)}),(0,_cache2.default)(n,r,a)};var _renderLazy=require("./renderLazy"),_renderLazy2=_interopRequireDefault(_renderLazy),_cache=require("./cache"),_cache2=_interopRequireDefault(_cache);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./cache":695,"./renderLazy":717}],697:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){if(!t.relation.get(i))return!1;const o=(0,_getDomPositionCache2.default)(e,t.entity),r=t.relation.get(i);return o.gridPositionCache.isGridPrepared(r.subj)&&o.gridPositionCache.isGridPrepared(r.obj)};var _getDomPositionCache=require("../../../getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../getDomPositionCache":765}],698:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{bindClickAction(e){this.bind("click",e),this.getOverlay(_LABEL2.default.id).bind("click",(t,i)=>e(t.component,i))}}};var _LABEL=require("../../../../../LABEL"),_LABEL2=_interopRequireDefault(_LABEL);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../LABEL":482}],699:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,u,i,n){return e.connect({source:(0,_jquery2.default)((0,_getEntityDom2.default)(t[0],r.subj)),target:(0,_jquery2.default)((0,_getEntityDom2.default)(t[0],r.obj)),anchors:["TopCenter","TopCenter"],connector:["Bezier",{curviness:(0,_determineCurviness2.default)(t,u,r)}],paintStyle:(0,_connectorStrokeStyle2.default)(u,i,r.id),parameters:{id:r.id},cssClass:"textae-editor__relation",overlays:[["Arrow",_NORMAL_ARROW2.default],["Label",Object.assign({},_LABEL2.default,{label:`[${r.id}] ${(0,_getLabelTag2.default)(u.namespace,i.relation,r.type.name)}`,cssClass:`${_LABEL2.default.cssClass} ${n.getClasses(r.id).join(" ")}`})]]})};var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_determineCurviness=require("../../determineCurviness"),_determineCurviness2=_interopRequireDefault(_determineCurviness),_getEntityDom=require("../../../../../getEntityDom"),_getEntityDom2=_interopRequireDefault(_getEntityDom),_LABEL=require("../../../../../LABEL"),_LABEL2=_interopRequireDefault(_LABEL),_connectorStrokeStyle=require("../../connectorStrokeStyle"),_connectorStrokeStyle2=_interopRequireDefault(_connectorStrokeStyle),_NORMAL_ARROW=require("../../jsPlumbArrowOverlayUtil/NORMAL_ARROW"),_NORMAL_ARROW2=_interopRequireDefault(_NORMAL_ARROW),_getLabelTag=require("../../../getLabelTag"),_getLabelTag2=_interopRequireDefault(_getLabelTag);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../../LABEL":482,"../../../../../getEntityDom":786,"../../../getLabelTag":748,"../../connectorStrokeStyle":679,"../../determineCurviness":680,"../../jsPlumbArrowOverlayUtil/NORMAL_ARROW":683,"jquery":116}],700:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,l){e.dead||((0,_deselectLine2.default)(e),(0,_deselectLabel2.default)(e),e.setPaintStyle((0,_connectorStrokeStyle2.default)(t,r,l)),(0,_hideBigArrow2.default)(e))};var _connectorStrokeStyle=require("../../../../connectorStrokeStyle"),_connectorStrokeStyle2=_interopRequireDefault(_connectorStrokeStyle),_deselectLabel=require("./deselectLabel"),_deselectLabel2=_interopRequireDefault(_deselectLabel),_deselectLine=require("./deselectLine"),_deselectLine2=_interopRequireDefault(_deselectLine),_hideBigArrow=require("../../../../jsPlumbArrowOverlayUtil/hideBigArrow"),_hideBigArrow2=_interopRequireDefault(_hideBigArrow);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../connectorStrokeStyle":679,"../../../../jsPlumbArrowOverlayUtil/hideBigArrow":688,"./deselectLabel":701,"./deselectLine":702}],701:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){new _LabelOverlay2.default(e).removeClass("ui-selected")};var _LabelOverlay=require("../../../../LabelOverlay"),_LabelOverlay2=_interopRequireDefault(_LabelOverlay);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../LabelOverlay":671}],702:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e.removeClass("ui-selected")};

},{}],703:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.connector.canvas.classList.contains(t)};

},{}],704:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){new _LabelOverlay2.default(e).removeClass("hover")};var _LabelOverlay=require("../../../../LabelOverlay"),_LabelOverlay2=_interopRequireDefault(_LabelOverlay);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../LabelOverlay":671}],705:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e.removeClass("hover")};

},{}],706:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){new _LabelOverlay2.default(e).addClass("hover")};var _LabelOverlay=require("../../../../LabelOverlay"),_LabelOverlay2=_interopRequireDefault(_LabelOverlay);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../LabelOverlay":671}],707:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){e.addClass("hover")};

},{}],708:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _pointup=require("./pointup"),_pointup2=_interopRequireDefault(_pointup),_pointdown=require("./pointdown"),_pointdown2=_interopRequireDefault(_pointdown),_select=require("./select"),_select2=_interopRequireDefault(_select),_deselect=require("./deselect"),_deselect2=_interopRequireDefault(_deselect);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}exports.default=class{constructor(t,e,i,n){this.editor=t,this.annotationData=e,this.typeDefinition=i,this.connect=n}pointup(){(0,_pointup2.default)(this.connect,this.annotationData,this.typeDefinition,this.connect.relationId)}pointdown(){(0,_pointdown2.default)(this.connect,this.annotationData,this.typeDefinition,this.connect.relationId)}select(){(0,_select2.default)(this.connect,this.editor,this.annotationData,this.typeDefinition,this.connect.relationId)}deselect(){(0,_deselect2.default)(this.connect,this.annotationData,this.typeDefinition,this.connect.relationId)}};

},{"./deselect":700,"./pointdown":709,"./pointup":710,"./select":711}],709:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,o,t){(0,_hasClass2.default)(e,"ui-selected")||((0,_hoverdownLine2.default)(e),(0,_hoverdownLabel2.default)(e),e.setPaintStyle((0,_connectorStrokeStyle2.default)(r,o,t)),(0,_hideBigArrow2.default)(e))};var _connectorStrokeStyle=require("../../../../connectorStrokeStyle"),_connectorStrokeStyle2=_interopRequireDefault(_connectorStrokeStyle),_hoverdownLabel=require("./hoverdownLabel"),_hoverdownLabel2=_interopRequireDefault(_hoverdownLabel),_hoverdownLine=require("./hoverdownLine"),_hoverdownLine2=_interopRequireDefault(_hoverdownLine),_hasClass=require("./hasClass"),_hasClass2=_interopRequireDefault(_hasClass),_hideBigArrow=require("../../../../jsPlumbArrowOverlayUtil/hideBigArrow"),_hideBigArrow2=_interopRequireDefault(_hideBigArrow);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../connectorStrokeStyle":679,"../../../../jsPlumbArrowOverlayUtil/hideBigArrow":688,"./hasClass":703,"./hoverdownLabel":704,"./hoverdownLine":705}],710:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t,o){(0,_hasClass2.default)(e,"ui-selected")||((0,_hoverupLine2.default)(e),(0,_hoverupLabel2.default)(e),e.setPaintStyle(Object.assign((0,_connectorStrokeStyle2.default)(r,t,o),{lineWidth:_POINTUP_LINE_WIDTH2.default})),(0,_showBigArrow2.default)(e))};var _connectorStrokeStyle=require("../../../../connectorStrokeStyle"),_connectorStrokeStyle2=_interopRequireDefault(_connectorStrokeStyle),_POINTUP_LINE_WIDTH=require("../../../../POINTUP_LINE_WIDTH"),_POINTUP_LINE_WIDTH2=_interopRequireDefault(_POINTUP_LINE_WIDTH),_hoverupLabel=require("./hoverupLabel"),_hoverupLabel2=_interopRequireDefault(_hoverupLabel),_hoverupLine=require("./hoverupLine"),_hoverupLine2=_interopRequireDefault(_hoverupLine),_hasClass=require("./hasClass"),_hasClass2=_interopRequireDefault(_hasClass),_showBigArrow=require("../../../../jsPlumbArrowOverlayUtil/showBigArrow"),_showBigArrow2=_interopRequireDefault(_showBigArrow);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../POINTUP_LINE_WIDTH":672,"../../../../connectorStrokeStyle":679,"../../../../jsPlumbArrowOverlayUtil/showBigArrow":691,"./hasClass":703,"./hoverupLabel":706,"./hoverupLine":707}],711:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,t,o,l){e.dead||((0,_selectLine2.default)(r,e),(0,_selectLabel2.default)(e),(0,_hoverdownLine2.default)(e),(0,_hoverdownLabel2.default)(e),e.setPaintStyle(Object.assign((0,_connectorStrokeStyle2.default)(t,o,l),{lineWidth:_POINTUP_LINE_WIDTH2.default})),(0,_showBigArrow2.default)(e))};var _connectorStrokeStyle=require("../../../../connectorStrokeStyle"),_connectorStrokeStyle2=_interopRequireDefault(_connectorStrokeStyle),_POINTUP_LINE_WIDTH=require("../../../../POINTUP_LINE_WIDTH"),_POINTUP_LINE_WIDTH2=_interopRequireDefault(_POINTUP_LINE_WIDTH),_selectLine=require("./selectLine"),_selectLine2=_interopRequireDefault(_selectLine),_selectLabel=require("./selectLabel"),_selectLabel2=_interopRequireDefault(_selectLabel),_hoverdownLabel=require("./hoverdownLabel"),_hoverdownLabel2=_interopRequireDefault(_hoverdownLabel),_hoverdownLine=require("./hoverdownLine"),_hoverdownLine2=_interopRequireDefault(_hoverdownLine),_showBigArrow=require("../../../../jsPlumbArrowOverlayUtil/showBigArrow"),_showBigArrow2=_interopRequireDefault(_showBigArrow);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../POINTUP_LINE_WIDTH":672,"../../../../connectorStrokeStyle":679,"../../../../jsPlumbArrowOverlayUtil/showBigArrow":691,"./hoverdownLabel":704,"./hoverdownLine":705,"./selectLabel":712,"./selectLine":713}],712:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){new _LabelOverlay2.default(e).addClass("ui-selected")};var _LabelOverlay=require("../../../../LabelOverlay"),_LabelOverlay2=_interopRequireDefault(_LabelOverlay);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../../LabelOverlay":671}],713:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,s){s.addClass("ui-selected"),e.focus()};

},{}],714:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,u){const o=new _Pointupable2.default(e,t,n,u);return Object.assign(u,{pointup(){o.pointup()},pointdown(){o.pointdown()},select(){o.select()},deselect(){o.deselect()}})};var _Pointupable=require("./Pointupable"),_Pointupable2=_interopRequireDefault(_Pointupable);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./Pointupable":708}],715:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,t,i,o){return extendRelationId(i,o),(0,_extendPointup2.default)(e,n,t,i),bindConnect(i),bindLabel(i),i};var _LabelOverlay=require("../../LabelOverlay"),_LabelOverlay2=_interopRequireDefault(_LabelOverlay),_extendPointup=require("./extendPointup"),_extendPointup2=_interopRequireDefault(_extendPointup);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function extendRelationId(e,n){return Object.assign(e,{relationId:n})}function bindConnect(e){bindHoverAction(e,e=>e.pointup(),e=>e.pointdown())}function bindLabel(e){bindHoverAction(new _LabelOverlay2.default(e),e=>e.component.pointup(),e=>e.component.pointdown())}function bindHoverAction(e,n,t){e.bind("mouseenter",n).bind("mouseexit",t)}

},{"../../LabelOverlay":671,"./extendPointup":714}],716:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r,i,u,n){delete n.render;const c=(0,_createJsPlumbConnect2.default)(e,t,n,r,i,u);(0,_hoverize2.default)(t,r,i,c,n.id),Object.assign(c,new _Api2.default),t.trigger("textae.editor.jsPlumbConnection.add",c),(0,_cache2.default)(c,t,r)};var _Api=require("./Api"),_Api2=_interopRequireDefault(_Api),_hoverize=require("./hoverize"),_hoverize2=_interopRequireDefault(_hoverize),_createJsPlumbConnect=require("./createJsPlumbConnect"),_createJsPlumbConnect2=_interopRequireDefault(_createJsPlumbConnect),_cache=require("../cache"),_cache2=_interopRequireDefault(_cache);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../cache":695,"./Api":698,"./createJsPlumbConnect":699,"./hoverize":715}],717:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r,i,t,d,u,n){return new Promise((a,_)=>{setTimeout(()=>{try{if(!(0,_isGridPrepared2.default)(e,r,i.relationId))return;i.render&&(0,_render2.default)(t,e,r,d,u,i,n),a(i)}catch(e){_(e)}},0)})};var _render=require("./render"),_render2=_interopRequireDefault(_render),_isGridPrepared=require("./isGridPrepared"),_isGridPrepared2=_interopRequireDefault(_isGridPrepared);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isGridPrepared":697,"./render":716}],718:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=destroySpanRecurcive;var _destroy=require("../../destroy"),_destroy2=_interopRequireDefault(_destroy);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function destroySpanRecurcive(e){for(const r of e.children)destroySpanRecurcive(r);(0,_destroy2.default)(e.id)}

},{"../../destroy":735}],719:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return null!==document.querySelector(`#${e.id}`)};

},{}],720:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){for(const r of e.children)(0,_exists2.default)(r)&&(0,_destroySpanRecurcive2.default)(r);return e};var _exists=require("./exists"),_exists2=_interopRequireDefault(_exists),_destroySpanRecurcive=require("./destroySpanRecurcive"),_destroySpanRecurcive2=_interopRequireDefault(_destroySpanRecurcive);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./destroySpanRecurcive":718,"./exists":719}],721:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r){let n;return e.parent?0===(n=e.parent.children.indexOf(e))?null:e.parent.children[n-1]:0===(n=r.indexOf(e))||r[n-1].paragraph!==e.paragraph?null:r[n-1]};

},{}],722:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=create;var _renderClassOfSpan=require("../renderClassOfSpan"),_renderClassOfSpan2=_interopRequireDefault(_renderClassOfSpan),_getBigBrother=require("./getBigBrother"),_getBigBrother2=_interopRequireDefault(_getBigBrother),_renderSingleSpan=require("./renderSingleSpan"),_renderSingleSpan2=_interopRequireDefault(_renderSingleSpan),_renderEntitiesOfSpan=require("./renderEntitiesOfSpan"),_renderEntitiesOfSpan2=_interopRequireDefault(_renderEntitiesOfSpan),_destroyChildrenSpan=require("./destroyChildrenSpan"),_destroyChildrenSpan2=_interopRequireDefault(_destroyChildrenSpan),_renderChildrenSpan=require("./renderChildrenSpan"),_renderChildrenSpan2=_interopRequireDefault(_renderChildrenSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function create(e,r,n){(0,_destroyChildrenSpan2.default)(r);const t=(0,_getBigBrother2.default)(r,e.span.topLevel());(0,_renderSingleSpan2.default)(r,t),(0,_renderClassOfSpan2.default)(e,r),(0,_renderEntitiesOfSpan2.default)(r,n),(0,_renderChildrenSpan2.default)(r,r=>create(e,r,n))}

},{"../renderClassOfSpan":737,"./destroyChildrenSpan":720,"./getBigBrother":721,"./renderChildrenSpan":723,"./renderEntitiesOfSpan":724,"./renderSingleSpan":734}],723:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(const r of e.children)t(r);return e};

},{}],724:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(const o of e.entities)t(o)};

},{}],725:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){let r,o;if([r,o]=t?(0,_getTextNodeFromBigBrother2.default)(t):(0,_getTextNodeFromParent2.default)(e),!r)throw new Error(`The textNode on to create a span is not found. ${e.toStringOnlyThis()}`);return(0,_createSpanRange2.default)(r,o,e)};var _createSpanRange=require("./createSpanRange"),_createSpanRange2=_interopRequireDefault(_createSpanRange),_getTextNodeFromParent=require("./getTextNodeFromParent"),_getTextNodeFromParent2=_interopRequireDefault(_getTextNodeFromParent),_getTextNodeFromBigBrother=require("./getTextNodeFromBigBrother"),_getTextNodeFromBigBrother2=_interopRequireDefault(_getTextNodeFromBigBrother);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./createSpanRange":729,"./getTextNodeFromBigBrother":732,"./getTextNodeFromParent":733}],726:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){const e=document.createElement("span");return e.setAttribute("id",t.id),e.setAttribute("title",t.id),e.setAttribute("class","textae-editor__span"),e.setAttribute("tabindex",0),e};

},{}],727:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const r=document.createRange();return r.setStart(e,t.start),r.setEnd(e,t.end),r};

},{}],728:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return{start:e.begin-t,end:e.end-t}};

},{}],729:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){const a=(0,_getOffset2.default)(r,t);if(!(0,_validateOffset2.default)(e,a))throw new Error(`oh my god! I cannot render this span. ${r.toStringOnlyThis()}, textNode ${e.textContent}`);return(0,_createRange2.default)(e,a)};var _createRange=require("./createRange"),_createRange2=_interopRequireDefault(_createRange),_getOffset=require("./getOffset"),_getOffset2=_interopRequireDefault(_getOffset),_validateOffset=require("./validateOffset"),_validateOffset2=_interopRequireDefault(_validateOffset);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./createRange":727,"./getOffset":728,"./validateOffset":730}],730:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return 0<=t.start&&t.end<=e.length};

},{}],731:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.parent?e.parent:e.paragraph};

},{}],732:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return[document.querySelector(`#${e.id}`).nextSibling,e.end]};

},{}],733:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=(0,_getParentModel2.default)(e);return[document.querySelector(`#${t.id}`).firstChild,t.begin]};var _getParentModel=require("./getParentModel"),_getParentModel2=_interopRequireDefault(_getParentModel);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getParentModel":731}],734:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const a=(0,_cerateRangeToSpan2.default)(e,t),n=(0,_createSpanElement2.default)(e);a.surroundContents(n)};var _createSpanElement=require("./createSpanElement"),_createSpanElement2=_interopRequireDefault(_createSpanElement),_cerateRangeToSpan=require("./cerateRangeToSpan"),_cerateRangeToSpan2=_interopRequireDefault(_cerateRangeToSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./cerateRangeToSpan":725,"./createSpanElement":726}],735:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const r=document.querySelector(`#${e}`),t=r.parentNode;for(;r.firstChild;)t.insertBefore(r.firstChild,r);t.removeChild(r),t.normalize()};

},{}],736:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _create=require("./create"),_create2=_interopRequireDefault(_create),_destroy=require("./destroy"),_destroy2=_interopRequireDefault(_destroy),_renderClassOfSpan=require("./renderClassOfSpan"),_renderClassOfSpan2=_interopRequireDefault(_renderClassOfSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,r){this.annotationData=e,this.renderEntityFunc=r}render(e){(0,_create2.default)(this.annotationData,e,this.renderEntityFunc)}remove(e){(0,_destroy2.default)(e.id)}change(e){(0,_renderClassOfSpan2.default)(this.annotationData,e)}};

},{"./create":722,"./destroy":735,"./renderClassOfSpan":737}],737:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,s){const t=document.querySelector(`#${s.id}`);s.types.some(e=>e.isBlock)?(t.classList.add(BLOCK),s.types.every(e=>e.isBlock)?t.classList.add(WRAP):t.classList.remove(WRAP)):(t.classList.remove(BLOCK),t.classList.remove(WRAP))};const BLOCK="textae-editor__span--block",WRAP="textae-editor__span--wrap";

},{}],738:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,a,n,o,i,r,d){const u=new _SpanRenderer2.default(e,e=>r.render(e));t.eventEmitter.on("textae.annotationData.all.change",()=>{(0,_renderAllAnnotations2.default)(t,a,e,u,n),(0,_setLineHeightToTypeGap2.default)(t[0],e,o())}).on("textae.annotationData.paragraph.change",e=>(0,_renderParagraph2.default)(t,e)).on("textae.annotationData.span.add",e=>{u.render(e)}).on("textae.annotationData.span.remove",e=>{u.remove(e),i.remove(e.id)}).on("textae.annotationData.entity.add",t=>{(0,_updateBlockStyleOfSpan2.default)(e,t,u),r.render(t)}).on("textae.annotationData.entity.change",t=>{r.change(t),(0,_updateBlockStyleOfSpan2.default)(e,t,u),i.updateWidth(t.span)}).on("textae.annotationData.entity.remove",t=>{r.remove(t),(0,_updateBlockStyleOfSpan2.default)(e,t,u)}).on("textae.annotationData.relation.add",e=>{n.render(e)}).on("textae.annotationData.relation.change",e=>{n.change(e)}).on("textae.annotationData.relation.remove",e=>{n.remove(e)}).on("textae.annotationData.attribute.add",e=>{r.change(e.entity)}).on("textae.annotationData.attribute.change",e=>{r.change(e.entity)}).on("textae.annotationData.attribute.remove",e=>{r.change(e.entity)}).on("textae.annotationData.modification.add",t=>{(0,_renderModificationOfEntityOrRelation2.default)(e,t,r,n),(0,_updateModificationButtons2.default)(e,t,d)}).on("textae.annotationData.modification.remove",t=>{(0,_renderModificationOfEntityOrRelation2.default)(e,t,r,n),(0,_updateModificationButtons2.default)(e,t,d)})};var _renderParagraph=require("./renderParagraph"),_renderParagraph2=_interopRequireDefault(_renderParagraph),_updateModificationButtons=require("./updateModificationButtons"),_updateModificationButtons2=_interopRequireDefault(_updateModificationButtons),_renderModificationOfEntityOrRelation=require("./renderModificationOfEntityOrRelation"),_renderModificationOfEntityOrRelation2=_interopRequireDefault(_renderModificationOfEntityOrRelation),_updateBlockStyleOfSpan=require("./updateBlockStyleOfSpan"),_updateBlockStyleOfSpan2=_interopRequireDefault(_updateBlockStyleOfSpan),_renderAllAnnotations=require("./renderAllAnnotations"),_renderAllAnnotations2=_interopRequireDefault(_renderAllAnnotations),_setLineHeightToTypeGap=require("../../setLineHeightToTypeGap"),_setLineHeightToTypeGap2=_interopRequireDefault(_setLineHeightToTypeGap),_SpanRenderer=require("./SpanRenderer"),_SpanRenderer2=_interopRequireDefault(_SpanRenderer);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../setLineHeightToTypeGap":778,"./SpanRenderer":736,"./renderAllAnnotations":739,"./renderModificationOfEntityOrRelation":742,"./renderParagraph":743,"./updateBlockStyleOfSpan":744,"./updateModificationButtons":745}],739:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,r,t,l){(0,_getAnnotationBox2.default)(e).empty(),n.gridPositionCache.clear(),(0,_renderAllSpan2.default)(r,t),(0,_renderAllRelation2.default)(r,l)};var _getAnnotationBox=require("../getAnnotationBox"),_getAnnotationBox2=_interopRequireDefault(_getAnnotationBox),_renderAllRelation=require("./renderAllRelation"),_renderAllRelation2=_interopRequireDefault(_renderAllRelation),_renderAllSpan=require("./renderAllSpan"),_renderAllSpan2=_interopRequireDefault(_renderAllSpan);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../getAnnotationBox":747,"./renderAllRelation":740,"./renderAllSpan":741}],740:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r){r.reset(),e.relation.all.forEach(e=>r.render(e))};

},{}],741:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.span.topLevel().forEach(e=>{t.render(e)})};

},{}],742:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o,i){const n=e.entity.get(t.obj);n&&o.changeModification(n);const c=e.relation.get(t.obj);c&&i.changeModification(c)};

},{}],743:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){(0,_getTextBox2.default)(e[0]).innerHTML=tepmlate({paragraphs:t})};var _handlebars=require("handlebars"),_handlebars2=_interopRequireDefault(_handlebars),_getTextBox=require("../../getTextBox"),_getTextBox2=_interopRequireDefault(_getTextBox);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const source='\n{{#paragraphs}}\n<p class="textae-editor__body__text-box__paragraph-margin">\n    <span class="textae-editor__body__text-box__paragraph" id="{{id}}">{{text}}</span>\n</p>\n{{/paragraphs}}\n',tepmlate=_handlebars2.default.compile(source);

},{"../../getTextBox":771,"handlebars":88}],744:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,s){const n=e.span.get(t.span);s.change(n)};

},{}],745:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,o){e.entity.get(t.obj)?o.updateByEntity():e.relation.get(t.obj)&&o.updateByRelation()};

},{}],746:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){e.eventEmitter.on("textae.typeDefinition.entity.type.change",e=>{t.updateTypeDom(e)}).on("textae.typeDefinition.entity.attributeDefinition.change",e=>t.updateAttribute(e)),e.eventEmitter.on("textae.typeDefinition.reset",()=>{t.updateTypeDomAll(),i.changeAll()})};

},{}],747:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.find(".textae-editor__body__annotation-box")};

},{}],748:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){const u=(0,_getLabel2.default)(e,r,t.getLabel(r)),a=(0,_getUri2.default)(e,r,t.getUri(r));return a?`<a target="_blank"/ href="${a}">${u}</a>`:u};var _getLabel=require("../../../getLabel"),_getLabel2=_interopRequireDefault(_getLabel),_getUri=require("../../../getUri"),_getUri2=_interopRequireDefault(_getUri);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../getLabel":393,"../../../getUri":396}],749:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return document.querySelector(`#${e.type.id}`)};

},{}],750:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _getDomPositionCache=require("../getDomPositionCache"),_getDomPositionCache2=_interopRequireDefault(_getDomPositionCache),_GridRenderer=require("./GridRenderer"),_GridRenderer2=_interopRequireDefault(_GridRenderer),_EntityRenderer=require("./EntityRenderer"),_EntityRenderer2=_interopRequireDefault(_EntityRenderer),_bindTypeDefinitionEvents=require("./bindTypeDefinitionEvents"),_bindTypeDefinitionEvents2=_interopRequireDefault(_bindTypeDefinitionEvents),_bindAnnotationDataEvents=require("./bindAnnotationDataEvents"),_bindAnnotationDataEvents2=_interopRequireDefault(_bindAnnotationDataEvents),_RelationRenderer=require("./RelationRenderer"),_RelationRenderer2=_interopRequireDefault(_RelationRenderer);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e,t,n,i,r,o){const a=(0,_getDomPositionCache2.default)(e,t.entity),d=new _GridRenderer2.default(e,a),_=new _EntityRenderer2.default(e,t,n,r.entity,d,o);this._relationRenderer=new _RelationRenderer2.default(e,t,n,r),(0,_bindAnnotationDataEvents2.default)(t,e,a,this._relationRenderer,o,d,_,i),(0,_bindTypeDefinitionEvents2.default)(e,_,this._relationRenderer),this._editor=e,this._annotationData=t,this._typeDefinition=r,this._typeGap=o}arrangeRelationPositionAllAsync(){return new Promise((e,t)=>{this._relationRenderer.arrangePositionAll(),e()})}};

},{"../getDomPositionCache":765,"./EntityRenderer":656,"./GridRenderer":668,"./RelationRenderer":681,"./bindAnnotationDataEvents":738,"./bindTypeDefinitionEvents":746}],751:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){t.eventEmitter.on("textae.annotationPosition.position-update.start",()=>e.startWait()).on("textae.annotationPosition.position-update.end",()=>e.endWait())};

},{}],752:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,a){const n=(0,_debounce2.default)(()=>e.updateAsync(a()),100);t.eventEmitter.on("textae.annotationData.all.change",()=>{n()}).on("textae.annotationData.entity.add",()=>{n()}).on("textae.annotationData.entity.change",()=>{n()}).on("textae.annotationData.entity.remove",()=>{n()}).on("textae.annotationData.relation.add",()=>{n()}).on("textae.annotationData.attribute.add",()=>{n()}).on("textae.annotationData.attribute.change",()=>{n()}).on("textae.annotationData.attribute.remove",()=>{n()}).on("textae.annotationData.span.move",()=>{e.update(a())})};var _debounce=require("debounce"),_debounce2=_interopRequireDefault(_debounce);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"debounce":48}],753:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n){e.eventEmitter.on("textae.selection.span.select",t.span.select).on("textae.selection.span.deselect",t.span.deselect).on("textae.selection.span.change",()=>n.updateBySpan()).on("textae.selection.entity.select",t.entity.select).on("textae.selection.entity.deselect",t.entity.deselect).on("textae.selection.attribute.select",t.attribute.select).on("textae.selection.attribute.deselect",t.attribute.deselect).on("textae.selection.relation.select",e=>setTimeout(()=>t.relation.select(e),150)).on("textae.selection.relation.deselect",e=>setTimeout(()=>t.relation.deselect(e),150)).on("textae.selection.relation.change",()=>n.updateByRelation())};var _Selector=require("../Selector"),_Selector2=_interopRequireDefault(_Selector);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../Selector":628}],754:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,p,a){e(e=>{(0,_updateAllTypeGaps2.default)(t,e),(0,_setLineHeightToTypeGap2.default)(t[0],p,e),a.update(e)})};var _setLineHeightToTypeGap=require("../setLineHeightToTypeGap"),_setLineHeightToTypeGap2=_interopRequireDefault(_setLineHeightToTypeGap),_updateAllTypeGaps=require("./updateAllTypeGaps"),_updateAllTypeGaps2=_interopRequireDefault(_updateAllTypeGaps);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../setLineHeightToTypeGap":778,"./updateAllTypeGaps":755}],755:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(const r of e[0].querySelectorAll(".textae-editor__type-gap"))r.setAttribute("style",(0,_getTypeGapHeightStyle2.default)(t))};var _getTypeGapHeightStyle=require("../lineHeight/getTypeGapHeightStyle"),_getTypeGapHeightStyle2=_interopRequireDefault(_getTypeGapHeightStyle);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../lineHeight/getTypeGapHeightStyle":774}],756:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){const e=[],r=r=>create(e,r);return r.clearAllCache=(()=>clearAll(e)),r};var _LesserMap=require("./LesserMap"),_LesserMap2=_interopRequireDefault(_LesserMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function create(e,r){const t=new _LesserMap2.default;return add(e,t),e=>getFromCache(t,r,e)}function add(e,r){e.push(r)}function getFromCache(e,r,t){return e.has(t)||e.set(t,r(t)),e.get(t)}function clearAll(e){e.forEach(e=>e.clear())}

},{"./LesserMap":759}],757:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=class{constructor(t){this._gridPosition=t}getGrid(t){return this._gridPosition.get(t)}setGrid(t,e){this._gridPosition.set(t,e)}};

},{}],758:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const r=new _LesserMap2.default;return Object.assign(r,{isGridPrepared:s=>isGridPrepared(e,r,s)})};var _LesserMap=require("./LesserMap"),_LesserMap2=_interopRequireDefault(_LesserMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function isGridPrepared(e,r,s){const t=e.get(s).span;return r.get(t)}

},{"./LesserMap":759}],759:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){const e=new Map;return publicApis.reduce((t,s)=>(t[s]=Map.prototype[s].bind(e),t),{})};const publicApis=["set","get","has","keys","delete","clear"];

},{}],760:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _LesserMap=require("./LesserMap"),_LesserMap2=_interopRequireDefault(_LesserMap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(){this._newCache=new _LesserMap2.default}get connectCache(){return this._newCache}toConnect(e){return this._newCache.get(e)}};

},{"./LesserMap":759}],761:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e,o,r){const n=(0,_getEntityDom2.default)(t[0],r);if(!n)throw new Error(`entity is not rendered : ${r}`);const i=e.get(r).span,f=o.get(i);return{top:f.top+n.offsetTop,center:f.left+n.offsetLeft+n.offsetWidth/2}};var _getEntityDom=require("../../../../getEntityDom"),_getEntityDom2=_interopRequireDefault(_getEntityDom);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"../../../../getEntityDom":786}],762:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){const o=t[0].querySelector(`#${e}`);if(!o)throw new Error(`span is not renderd : ${e}`);const f=o.getBoundingClientRect(),n=o.offsetParent.offsetParent.getBoundingClientRect();return{top:f.top-n.top,left:f.left-n.left,width:o.offsetWidth,height:o.offsetHeight,center:o.offsetLeft+o.offsetWidth/2}};

},{}],763:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CachedGetterFactory=require("../CachedGetterFactory"),_CachedGetterFactory2=_interopRequireDefault(_CachedGetterFactory),_getSpan=require("./getSpan"),_getSpan2=_interopRequireDefault(_getSpan),_getEntity=require("./getEntity"),_getEntity2=_interopRequireDefault(_getEntity);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const factory=new _CachedGetterFactory2.default;exports.default=class{constructor(e,t,r){this._cachedGetSpan=factory(t=>(0,_getSpan2.default)(e,t)),this._cachedGetEntity=factory(a=>(0,_getEntity2.default)(e,t,r,a))}reset(){factory.clearAllCache()}getSpan(e){return this._cachedGetSpan(e)}getEntity(e){return this._cachedGetEntity(e)}};

},{"../CachedGetterFactory":756,"./getEntity":761,"./getSpan":762}],764:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _GridPosition=require("./GridPosition"),_GridPosition2=_interopRequireDefault(_GridPosition),_SpanAndEntityPosition=require("./SpanAndEntityPosition"),_SpanAndEntityPosition2=_interopRequireDefault(_SpanAndEntityPosition),_RelationApi=require("./RelationApi"),_RelationApi2=_interopRequireDefault(_RelationApi),_GridApi=require("./GridApi"),_GridApi2=_interopRequireDefault(_GridApi);function _interopRequireDefault(i){return i&&i.__esModule?i:{default:i}}exports.default=class{constructor(i,t){this._gridPosition=new _GridPosition2.default(t),this._spanAndEntityPosition=new _SpanAndEntityPosition2.default(i,t,this._gridPosition),this._grid=new _GridApi2.default(this._gridPosition),this._relation=new _RelationApi2.default}get gridPositionCache(){return this._gridPosition}reset(){this._spanAndEntityPosition.reset()}getSpan(i){return this._spanAndEntityPosition.getSpan(i)}getGrid(i){return this._grid.getGrid(i)}getEntity(i){return this._spanAndEntityPosition.getEntity(i)}cacheAllSpan(i){for(const t of i)this._spanAndEntityPosition.getSpan(t.id)}setGrid(i,t){this._grid.setGrid(i,t)}get connectCache(){return this._relation.connectCache}toConnect(i){return this._relation.toConnect(i)}};

},{"./GridApi":757,"./GridPosition":758,"./RelationApi":760,"./SpanAndEntityPosition":763}],765:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,o){return e.postionCache=e.postionCache||new _DomPositionCache2.default(e,o),e.postionCache};var _DomPositionCache=require("./DomPositionCache"),_DomPositionCache2=_interopRequireDefault(_DomPositionCache);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./DomPositionCache":764}],766:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getAttributesHeight;const attributeUnitHeght=18;function getAttributesHeight(t){return t.map(t=>t.attributes.length*attributeUnitHeght).reduce((t,e)=>t+e,0)}

},{}],767:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.showInstance?12:0};

},{}],768:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.value*_typeGapUnitHeight2.default+labelUnitHegiht+(0,_getHeightOfEntityPane2.default)(e)};var _typeGapUnitHeight=require("../../typeGapUnitHeight"),_typeGapUnitHeight2=_interopRequireDefault(_typeGapUnitHeight),_getHeightOfEntityPane=require("./getHeightOfEntityPane"),_getHeightOfEntityPane2=_interopRequireDefault(_getHeightOfEntityPane);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const labelUnitHegiht=18;

},{"../../typeGapUnitHeight":779,"./getHeightOfEntityPane":767}],769:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const i=e.types.filter(e=>!e.isBlock);return i.length*(0,_getTypeUnitHeight2.default)(t)+(0,_getAttributesHeight2.default)(i)};var _getAttributesHeight=require("./getAttributesHeight"),_getAttributesHeight2=_interopRequireDefault(_getAttributesHeight),_getTypeUnitHeight=require("./getTypeUnitHeight"),_getTypeUnitHeight2=_interopRequireDefault(_getTypeUnitHeight);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getAttributesHeight":766,"./getTypeUnitHeight":768}],770:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getHeightIncludeDescendantGrids;var _getGridHeight=require("./getGridHeight"),_getGridHeight2=_interopRequireDefault(_getGridHeight);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function getHeightIncludeDescendantGrids(e,t,i){const r=0===e.children.length?0:getMaxHeight(e,t,i);return(0,_getGridHeight2.default)(e,t)+r}function getMaxHeight(e,t,i){return Math.max.apply(null,e.children.map(e=>getHeightIncludeDescendantGrids(e,t,i)))}

},{"./getGridHeight":769}],771:[function(require,module,exports){
"use strict";function getTextBox(e){return e.querySelector(".textae-editor__body__text-box")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=getTextBox;

},{}],772:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _CursorChanger=require("../../../util/CursorChanger"),_CursorChanger2=_interopRequireDefault(_CursorChanger),_Selector=require("../Selector"),_Selector2=_interopRequireDefault(_Selector),_Hover=require("./Hover"),_Hover2=_interopRequireDefault(_Hover),_AnnotationPosition=require("./AnnotationPosition"),_AnnotationPosition2=_interopRequireDefault(_AnnotationPosition),_bindSelectionModelEvents=require("./bindSelectionModelEvents"),_bindSelectionModelEvents2=_interopRequireDefault(_bindSelectionModelEvents),_updateTextBoxHeight=require("./updateTextBoxHeight"),_updateTextBoxHeight2=_interopRequireDefault(_updateTextBoxHeight),_bindTypeGapEvents=require("./bindTypeGapEvents"),_bindTypeGapEvents2=_interopRequireDefault(_bindTypeGapEvents),_bindAnnotaitonPositionEvents=require("./bindAnnotaitonPositionEvents"),_bindAnnotaitonPositionEvents2=_interopRequireDefault(_bindAnnotaitonPositionEvents),_Renderer=require("./Renderer"),_Renderer2=_interopRequireDefault(_Renderer),_bindAnnotationPositionOnAnnotationDataEvents=require("./bindAnnotationPositionOnAnnotationDataEvents"),_bindAnnotationPositionOnAnnotationDataEvents2=_interopRequireDefault(_bindAnnotationPositionOnAnnotationDataEvents);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const BODY='\n<div class="textae-editor__body">\n    <div class="textae-editor__body__annotation-box"></div>\n    <div class="textae-editor__body__text-box"></div>\n</div>\n';exports.default=class{constructor(e,t,n,i,o,r){e[0].innerHTML=BODY.replace(/[\n\r]+/g,""),(0,_bindSelectionModelEvents2.default)(e,new _Selector2.default(e,t),i);const a=new _Renderer2.default(e,t,n,i,r,o),_=new _AnnotationPosition2.default(e,t,a);(0,_bindTypeGapEvents2.default)(o,e,t,_),(0,_bindAnnotationPositionOnAnnotationDataEvents2.default)(e,_,o),(0,_bindAnnotaitonPositionEvents2.default)(e,new _CursorChanger2.default(e)),this._hoverRelation=new _Hover2.default(e,t.entity),this._editor=e,this._typeGap=o,this._annotationPosition=_}get hoverRelation(){return this._hoverRelation}updateDisplay(){(0,_updateTextBoxHeight2.default)(this._editor[0]),this._annotationPosition.update(this._typeGap())}};

},{"../../../util/CursorChanger":828,"../Selector":628,"./AnnotationPosition":642,"./Hover":643,"./Renderer":750,"./bindAnnotaitonPositionEvents":751,"./bindAnnotationPositionOnAnnotationDataEvents":752,"./bindSelectionModelEvents":753,"./bindTypeGapEvents":754,"./updateTextBoxHeight":780}],773:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=(0,_getTextBox2.default)(e),o=window.getComputedStyle(t);return(0,_pixelToInt2.default)(o.lineHeight)};var _getTextBox=require("../getTextBox"),_getTextBox2=_interopRequireDefault(_getTextBox),_pixelToInt=require("../pixelToInt"),_pixelToInt2=_interopRequireDefault(_pixelToInt);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../getTextBox":771,"../pixelToInt":777}],774:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return`height: ${_typeGapUnitHeight2.default*e.value}px;`};var _typeGapUnitHeight=require("../typeGapUnitHeight"),_typeGapUnitHeight2=_interopRequireDefault(_typeGapUnitHeight);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../typeGapUnitHeight":779}],775:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const u=(0,_getTextBox2.default)(e);u.style.lineHeight=`${t}px`,u.style.paddingTop=`${t/2}px`,(0,_suppressScrollJump2.default)(u,t),(0,_updateTextBoxHeight2.default)(e)};var _getTextBox=require("../../getTextBox"),_getTextBox2=_interopRequireDefault(_getTextBox),_updateTextBoxHeight=require("../../updateTextBoxHeight"),_updateTextBoxHeight2=_interopRequireDefault(_updateTextBoxHeight),_suppressScrollJump=require("./suppressScrollJump"),_suppressScrollJump2=_interopRequireDefault(_suppressScrollJump);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../getTextBox":771,"../../updateTextBoxHeight":780,"./suppressScrollJump":776}],776:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const l=e.style.lineHeight,o=(0,_pixelToInt2.default)(l);o&&window.scroll(window.scrollX,window.scrollY*t/o)};var _pixelToInt=require("../../pixelToInt"),_pixelToInt2=_interopRequireDefault(_pixelToInt);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../pixelToInt":777}],777:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=parseInt(e,10);return isNaN(t)?0:t};

},{}],778:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){if(0===t.span.all.length)(0,_setLineHeight2.default)(e,(0,_getLineHeight2.default)(e));else{const n=Math.max(...t.span.all.map(e=>(0,_getHeightIncludeDescendantGrids2.default)(e,i,t)));(0,_setLineHeight2.default)(e,n+TEXT_HEIGHT+MARGIN_TOP)}};var _getHeightIncludeDescendantGrids=require("./getHeightIncludeDescendantGrids"),_getHeightIncludeDescendantGrids2=_interopRequireDefault(_getHeightIncludeDescendantGrids),_setLineHeight=require("./lineHeight/setLineHeight"),_setLineHeight2=_interopRequireDefault(_setLineHeight),_getLineHeight=require("./lineHeight/getLineHeight"),_getLineHeight2=_interopRequireDefault(_getLineHeight);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const TEXT_HEIGHT=23,MARGIN_TOP=30;

},{"./getHeightIncludeDescendantGrids":770,"./lineHeight/getLineHeight":773,"./lineHeight/setLineHeight":775}],779:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const typeGapUnitHeight=18;exports.default=18;

},{}],780:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=(0,_getTextBox2.default)(e),o=window.getComputedStyle(t);t.style.height="auto",t.style.height=`${t.offsetHeight-(0,_pixelToInt2.default)(o.paddingTop)+20}px`};var _getTextBox=require("./getTextBox"),_getTextBox2=_interopRequireDefault(_getTextBox),_pixelToInt=require("./pixelToInt"),_pixelToInt2=_interopRequireDefault(_pixelToInt);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getTextBox":771,"./pixelToInt":777}],781:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const o=e[0];o.addEventListener("mousedown",e=>{e.shiftKey&&e.preventDefault()}),(0,_delegate2.default)(o,".textae-editor__type","mousedown",e=>e.preventDefault()),(0,_delegate2.default)(o,".textae-editor__entity","mouseover",e=>t.hoverRelation.on(e.target.title)),(0,_delegate2.default)(o,".textae-editor__entity","mouseout",e=>t.hoverRelation.off(e.target.title))};var _delegate=require("delegate"),_delegate2=_interopRequireDefault(_delegate);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"delegate":50}],782:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i,p){(0,_setLineHeightToTypeGap2.default)(e[0],t,i()),p.updateDisplay()};var _setLineHeightToTypeGap=require("./View/setLineHeightToTypeGap"),_setLineHeightToTypeGap2=_interopRequireDefault(_setLineHeightToTypeGap);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./View/setLineHeightToTypeGap":778}],783:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){new MutationObserver(t=>{t.forEach(t=>{t.removedNodes.length&&1===t.removedNodes[0].nodeType&&(t.removedNodes[0].classList.contains("textae-editor__span")||t.removedNodes[0].classList.contains("textae-editor__type"))&&"BODY"===document.activeElement.tagName&&e.focus()})}).observe(e[0].querySelector(".textae-editor__body"),{childList:!0,subtree:!0})};

},{}],784:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(e){const r=(0,_getQueryParams2.default)(e);if(r.has("config_lock"))return r.get("config_lock")}return null};var _getQueryParams=require("./getQueryParams"),_getQueryParams2=_interopRequireDefault(_getQueryParams);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getQueryParams":790}],785:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.closest(".textae-editor__type").querySelectorAll(".textae-editor__entity")};

},{}],786:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.querySelector(`[title="${t}"]`)};

},{}],787:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.closest(".textae-editor__type").querySelector(".textae-editor__type-label")};

},{}],788:[function(require,module,exports){
"use strict";function getLeftElement(e,t){console.assert(t,"element MUST exists.");const[n,l]=getElements(e,t);return l>0?n[l-1]:null}function getRightElement(e,t){console.assert(t,"element MUST exists.");const[n,l]=getElements(e,t);return n.length-l>1?n[l+1]:null}function getElements(e,t){const n=Array.from(t.classList).filter(e=>0===e.indexOf("textae-editor__"))[0],l=e.querySelectorAll(`.${n}`);return[l,Array.from(l).indexOf(t)]}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLeftElement=getLeftElement,exports.getRightElement=getRightElement;

},{}],789:[function(require,module,exports){
"use strict";function getAttribute(t,e,n){e.getAttribute(n)&&t.set(n,e.getAttribute(n))}function decodeUrl(t,e){t.has(e)&&t.set(e,decodeURIComponent(t.get(e)))}function getAnnotation(t,e){const n=new Map,o=t.innerText;t.innerHTML="",o&&n.set("inlineAnnotation",o);const r=getUrl(e);if(r&&n.set("url",r),getSaveToUrl(t)&&n.set("save_to",getSaveToUrl(t)),!o&&!r){const t='{"text": "Currently, the document is empty. Use the `import` button or press the key `i` to open a document with annotation."}';n.set("inlineAnnotation",t)}return n}function getSource(t){return t.getAttribute("source")||t.getAttribute("target")}function getUrl(t){return t?decodeURIComponent(t):""}function getSaveToUrl(t){const e=t.getAttribute("save_to");return e?decodeURIComponent(e):""}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){const e=new Map;return getAttribute(e,t,"mode"),getAttribute(e,t,"control"),getAttribute(e,t,"status_bar"),getAttribute(e,t,"config"),getAttribute(e,t,"config_lock"),getAttribute(e,t,"autocompletion_ws"),decodeUrl(e,"config"),decodeUrl(e,"autocompletion_ws"),e.set("source",getSource(t)),e.set("annotation",getAnnotation(t,e.get("source"))),e};

},{}],790:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=new Map,o=e.split("?")[1];if(o){const e=o.split("&");for(let o=0;o<e.length;o++){const n=e[o].split("="),s=decodeURIComponent(n[0]),p=decodeURIComponent(n[1]);t.set(s,decodeURIComponent(p))}}return t};

},{}],791:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){return"on"===e?new _StatusBar2.default(t):{status(){}}};var _StatusBar=require("../../component/StatusBar"),_StatusBar2=_interopRequireDefault(_StatusBar);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"../../component/StatusBar":275}],792:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,i,a,o,r){const u=(0,_getParams2.default)(e[0]),l=new _SpanConfig2.default;e.eventEmitter.on("textae.typeDefinition.reset",()=>n.resetConfiguration());const s=new _TypeDefinition2.default(e,a),_=new _Commander2.default(e,a,o,n,s),d=new _observ2.default({value:-1,showInstance:!1}),f=new _View2.default(e,a,o,i.buttonStateHelper,d,s),c=new _OriginalData2.default;e.eventEmitter.on("textae.dataAccessObject.annotation.load",({annotation:t,source:n})=>{t&&t.text?((0,_setAnnotation2.default)(l,s,a,t,u.get("config")),p.status(n),c.annotation=t,e.eventEmitter.emit("textae.pallet.update")):_alertifyjs2.default.error(`${n} is not a annotation file or its format is invalid.`)}).on("textae.dataAccessObject.configuration.load",({config:e,source:t})=>{const[n,i]=(0,_validateConfigurationAndAlert2.default)(a.toJson(),e,`${t} is not a configuration file or its format is invalid.`);n&&(c.configuration=e,(0,_setSpanAndTypeConfig2.default)(l,s,i))}).on("textae.dataAccessObject.configuration.save",()=>{c.configuration=Object.assign(c.configuration,s.config)});const g=new _Presenter2.default(e,a,o,_,l,r,i,d,c,s,u.get("autocompletion_ws"),u.get("mode"));(0,_bindMouseEvent2.default)(e,f),(0,_focusEditorWhenFocusedChildRemoved2.default)(e);const p=(0,_getStatusBar2.default)(e,u.get("status_bar"));"visible"===u.get("control")&&e[0].classList.add("textae-editor--control-visible"),"hidden"===u.get("control")&&e[0].classList.add("textae-editor--control-hidden");const q=(0,_getConfigEditParamFromUrl2.default)(u.get("source"));null!==q&&u.set("config_lock",q),u.has("config_lock")&&"true"===u.get("config_lock")?s.lockEdit():s.unlockEdit(),c.annotation=(0,_loadAnnotation2.default)(l,s,a,p,u,t);const m=new _PersistenceInterface2.default(t,n,a,s,()=>c.annotation,()=>c.configuration,u.get("annotation").get("save_to"));e.api=new _APIs2.default(_,g,m,i,f,()=>(0,_calculateLineHeight2.default)(e,a,d,f)),e[0].addEventListener("keyup",t=>{e.eventEmitter.emit("textae.editor.key.input"),e.api.handleKeyInput(t)}),e[0].tabIndex=-1,_alertifyjs2.default.set("notifier","position","top-right")};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs),_observ=require("observ"),_observ2=_interopRequireDefault(_observ),_getParams=require("./getParams"),_getParams2=_interopRequireDefault(_getParams),_SpanConfig=require("./SpanConfig"),_SpanConfig2=_interopRequireDefault(_SpanConfig),_Commander=require("./Commander"),_Commander2=_interopRequireDefault(_Commander),_TypeDefinition=require("../Model/TypeDefinition"),_TypeDefinition2=_interopRequireDefault(_TypeDefinition),_View=require("./View"),_View2=_interopRequireDefault(_View),_Presenter=require("./Presenter"),_Presenter2=_interopRequireDefault(_Presenter),_bindMouseEvent=require("./bindMouseEvent"),_bindMouseEvent2=_interopRequireDefault(_bindMouseEvent),_PersistenceInterface=require("./PersistenceInterface"),_PersistenceInterface2=_interopRequireDefault(_PersistenceInterface),_APIs=require("./APIs"),_APIs2=_interopRequireDefault(_APIs),_calculateLineHeight=require("./calculateLineHeight"),_calculateLineHeight2=_interopRequireDefault(_calculateLineHeight),_focusEditorWhenFocusedChildRemoved=require("./focusEditorWhenFocusedChildRemoved"),_focusEditorWhenFocusedChildRemoved2=_interopRequireDefault(_focusEditorWhenFocusedChildRemoved),_getStatusBar=require("./getStatusBar"),_getStatusBar2=_interopRequireDefault(_getStatusBar),_setSpanAndTypeConfig=require("./setSpanAndTypeConfig"),_setSpanAndTypeConfig2=_interopRequireDefault(_setSpanAndTypeConfig),_setAnnotation=require("./setAnnotation"),_setAnnotation2=_interopRequireDefault(_setAnnotation),_loadAnnotation=require("./loadAnnotation"),_loadAnnotation2=_interopRequireDefault(_loadAnnotation),_getConfigEditParamFromUrl=require("./getConfigEditParamFromUrl"),_getConfigEditParamFromUrl2=_interopRequireDefault(_getConfigEditParamFromUrl),_OriginalData=require("./OriginalData"),_OriginalData2=_interopRequireDefault(_OriginalData),_validateConfigurationAndAlert=require("./validateConfigurationAndAlert"),_validateConfigurationAndAlert2=_interopRequireDefault(_validateConfigurationAndAlert);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../Model/TypeDefinition":380,"./APIs":413,"./Commander":478,"./OriginalData":483,"./PersistenceInterface":484,"./Presenter":620,"./SpanConfig":632,"./View":772,"./bindMouseEvent":781,"./calculateLineHeight":782,"./focusEditorWhenFocusedChildRemoved":783,"./getConfigEditParamFromUrl":784,"./getParams":789,"./getStatusBar":791,"./loadAnnotation":794,"./setAnnotation":796,"./setSpanAndTypeConfig":800,"./validateConfigurationAndAlert":802,"alertifyjs":44,"observ":141}],793:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return e.filter(e=>e.begin===t.begin&&e.end===t.end).length>0};

},{}],794:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,n,e,o,i,r){const a=i.get("annotation"),u=i.get("config");if(a){if(a.has("inlineAnnotation")){const i=JSON.parse(a.get("inlineAnnotation"));return(0,_setAnnotation2.default)(t,n,e,i,u),o.status("inline"),i}if(!a.has("url"))throw new Error("annotation text is empty.");r.getAnnotationFromServer(a.get("url"))}else u&&r.getConfigurationFromServer(u);return null};var _setAnnotation=require("./setAnnotation"),_setAnnotation2=_interopRequireDefault(_setAnnotation);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"./setAnnotation":796}],795:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,r){"string"==typeof e?(0,_ajaxAccessor2.default)(e,e=>r(e),()=>_alertifyjs2.default.error(`could not load the configuration from the location you specified.: ${e}`)):r()};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs),_ajaxAccessor=require("../../../util/ajaxAccessor"),_ajaxAccessor2=_interopRequireDefault(_ajaxAccessor);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../../util/ajaxAccessor":829,"alertifyjs":44}],796:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,n,o,t,i){t.config?(0,_setConfigAndAnnotation2.default)(e,n,o,t,t.config,"configuration in anntotaion file is invalid."):(0,_getConfigFromServer2.default)(i,r=>{(0,_setConfigAndAnnotation2.default)(e,n,o,t,r,`a configuration file from ${i} is invalid.`)})};var _getConfigFromServer=require("./getConfigFromServer"),_getConfigFromServer2=_interopRequireDefault(_getConfigFromServer),_setConfigAndAnnotation=require("./setConfigAndAnnotation"),_setConfigAndAnnotation2=_interopRequireDefault(_setConfigAndAnnotation);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getConfigFromServer":795,"./setConfigAndAnnotation":799}],797:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(e.denotations)for(const n of e.denotations){if(n.span.begin!==parseInt(n.span.begin))return!0;if(n.span.end!==parseInt(n.span.end))return!0}};

},{}],798:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=[];if(e.attributes){const s=e.attributes.reduce((e,t)=>{const s=`${t.subj}::${t.pred}`;return e.has(s)?e.get(s).push(t.id):e.set(s,[t.id]),e},new Map);for(const e of s.values())e.length>1&&t.push(e)}return t};

},{}],799:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,n,r,i,a){const[u,o]=(0,_validateConfigurationAndAlert2.default)(r,i,a);if(!u)return;const d=(0,_hasDuplicatedAttributes2.default)(r);d.length?_alertifyjs2.default.error(`Duplicate subj and pred for attributes ${d.join(" and ")}.`):((0,_areNotBeginAndEndInteger2.default)(r)&&_alertifyjs2.default.warning("In the annotation file, some of the begin and end offsets of denotations were not integer values.\n      TextAE converted them to integer values.\n      However, to avoid a chance of unexpected rendering, please fix them.",15),(0,_setSpanAndTypeConfig2.default)(e,t,o),n.reset(r))};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs),_setSpanAndTypeConfig=require("../../setSpanAndTypeConfig"),_setSpanAndTypeConfig2=_interopRequireDefault(_setSpanAndTypeConfig),_areNotBeginAndEndInteger=require("./areNotBeginAndEndInteger"),_areNotBeginAndEndInteger2=_interopRequireDefault(_areNotBeginAndEndInteger),_hasDuplicatedAttributes=require("./hasDuplicatedAttributes"),_hasDuplicatedAttributes2=_interopRequireDefault(_hasDuplicatedAttributes),_validateConfigurationAndAlert=require("../../validateConfigurationAndAlert"),_validateConfigurationAndAlert2=_interopRequireDefault(_validateConfigurationAndAlert);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"../../setSpanAndTypeConfig":800,"../../validateConfigurationAndAlert":802,"./areNotBeginAndEndInteger":797,"./hasDuplicatedAttributes":798,"alertifyjs":44}],800:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,s){e.set(s),t.setTypeConfig(s)};

},{}],801:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t,e){if(t.attributes){if(!e)return`attribute definitions for "${[...new Set(t.attributes.map(t=>t.pred))].join(", ")}" in configuration is missing. `;const i=e["attribute types"]||[],n=t.attributes.filter(t=>!i.some(e=>e.pred===t.pred));if(n.length)return console.warn("attributes without definition",n),`attribute definition for "${n.map(t=>t.pred).join(", ")}" in configuration is missing. `;const r=t.attributes.filter(t=>i.some(e=>e.pred===t.pred&&"selection"===e["value type"])).filter(t=>!i.some(e=>e.pred===t.pred&&e.values.some(e=>e.id===t.obj)));if(r.length)return console.warn("selection attribute values without definition",r),`selection attribute value definition for "${r.map(t=>t.obj).join(", ")}" in configuration is missing. `}};

},{}],802:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,i){const r=(0,_patchConfiguration2.default)(e,t);if(r){const[e,t]=(0,_validateConfiguration2.default)(r);if(!e)return _alertifyjs2.default.error(t||i),[!1]}const a=(0,_hasUndefinedAttributes2.default)(e,r);return a?(_alertifyjs2.default.error(a),[!1]):[!0,r]};var _alertifyjs=require("alertifyjs"),_alertifyjs2=_interopRequireDefault(_alertifyjs),_patchConfiguration=require("./patchConfiguration"),_patchConfiguration2=_interopRequireDefault(_patchConfiguration),_validateConfiguration=require("./validateConfiguration"),_validateConfiguration2=_interopRequireDefault(_validateConfiguration),_hasUndefinedAttributes=require("./hasUndefinedAttributes"),_hasUndefinedAttributes2=_interopRequireDefault(_hasUndefinedAttributes);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./hasUndefinedAttributes":801,"./patchConfiguration":809,"./validateConfiguration":812,"alertifyjs":44}],803:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _toDefinition=require("./toDefinition"),_toDefinition2=_interopRequireDefault(_toDefinition);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e=[]){this._predicateMap=e.reduce((e,t)=>(e.has(t.pred)?e.get(t.pred).push(t.obj):e.set(t.pred,[t.obj]),e),new Map)}get configuration(){return[...this._predicateMap.entries()].map(([e,t])=>(0,_toDefinition2.default)(e,t))}};

},{"./toDefinition":807}],804:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const t=e.reduce((e,t)=>e.has(t)?e.set(t,e.get(t)+1):e.set(t,1),new Map),s=Math.max(...t.values());for(const[e,r]of t.entries())if(r===s)return e};

},{}],805:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){const r=Math.max(...e.map(e=>{const[r,t]=String(e).split(".");return t?t.length:0}));return Number(Array.from(Array(r)).reduce((e,r)=>.1*e,1).toFixed(r))};

},{}],806:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(!0===e)return"flag";if("number"==typeof e)return"numeric";if("string"==typeof e)return"string";throw`${JSON.stringify(e)} is an unexpected value for an Attribute.`};

},{}],807:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const u={pred:e,"value type":(0,_getValueType2.default)(t[0])};switch(u["value type"]){case"flag":return u;case"numeric":return Object.assign({min:Math.min(...t),max:Math.max(...t),step:(0,_getStep2.default)(t),default:(0,_getDefault2.default)(t)},u);case"string":return Object.assign({default:(0,_getDefault2.default)(t)},u);default:throw new Error(`${u}`)}};var _getValueType=require("./getValueType"),_getValueType2=_interopRequireDefault(_getValueType),_getStep=require("./getStep"),_getStep2=_interopRequireDefault(_getStep),_getDefault=require("./getDefault"),_getDefault2=_interopRequireDefault(_getDefault);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./getDefault":804,"./getStep":805,"./getValueType":806}],808:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return JSON.parse(JSON.stringify(e||{}))};

},{}],809:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){return console.assert(e),(0,_merge2.default)(t,new _AttributeConfigurationGenerator2.default(e.attributes).configuration)};var _AttributeConfigurationGenerator=require("./AttributeConfigurationGenerator"),_AttributeConfigurationGenerator2=_interopRequireDefault(_AttributeConfigurationGenerator),_merge=require("./merge"),_merge2=_interopRequireDefault(_merge);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./AttributeConfigurationGenerator":803,"./merge":810}],810:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){const r=(0,_clone2.default)(e);r["attribute types"]||(r["attribute types"]=[]);for(const e of t){const t=r["attribute types"].findIndex(t=>t.pred===e.pred);-1!==t?r["attribute types"][t]=Object.assign(e,r["attribute types"][t]):r["attribute types"].push(e)}return r};var _clone=require("./clone"),_clone2=_interopRequireDefault(_clone);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./clone":808}],811:[function(require,module,exports){
module.exports={
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "JSON schema for texta configuration files",
  "definitions": {
    "characters": {
      "type": "array",
      "items": {
        "type": "string",
        "minLength": 1,
        "maxLength": 1
      }
    },
    "color": {
      "pattern": "^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$"
    },
    "default": {
      "type": "boolean"
    },
    "denote": {
      "type": "object",
      "required": [
        "id"
      ],
      "properties": {
        "id": {
          "type": "string"
        },
        "label": {
          "type": "string"
        },
        "color": {
          "$ref": "#/definitions/color"
        },
        "default": {
          "$ref": "#/definitions/default"
        }
      }
    },
    "types": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/denote"
      }
    },
    "autocompletion_ws": {
      "type": "string",
      "format": "uri-reference"
    }
  },
  "type": "object",
  "properties": {
    "delimiter characters": {
      "$ref": "#/definitions/characters"
    },
    "non-edge characters": {
      "$ref": "#/definitions/characters"
    },
    "autocompletion_ws": {
      "$ref": "#/definitions/autocompletion_ws"
    },
    "entity types": {
      "$ref": "#/definitions/types"
    },
    "relation types": {
      "$ref": "#/definitions/types"
    },
    "attribute types": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["pred", "value type"],
        "properties": {
          "pred": {
            "type": "string"
          },
          "value type": {
            "enum": [
              "flag",
              "selection",
              "string",
              "numeric"
            ]
          }
        },
        "allOf": [
          {
            "if": {
              "properties": {
                "value type": {
                  "const": "flag"
                }
              }
            },
            "then": {
              "properties": {
                "color": {
                  "$ref": "#/definitions/color"
                },
                "label": {
                  "type": "string"
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "value type": {
                  "const": "selection"
                }
              }
            },
            "then": {
              "required": ["values"], 
              "properties": {
                "values": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/denote"
                  }
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "value type": {
                  "const": "string"
                }
              }
            },
            "then": {
              "required": ["default"], 
              "properties": {
                "autocompletion_ws": {
                  "$ref": "#/definitions/autocompletion_ws"
                },
                "default": {
                  "type": "string"
                },
                "values": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "pattern"
                    ],
                    "properties": {
                      "pattern": {
                        "type": "string",
                        "format": "regex"
                      },
                      "label": {
                        "type": "string"
                      },
                      "color": {
                        "$ref": "#/definitions/color"
                      }
                    }
                  }
                }
              }
            }
          },
          {
            "if": {
              "properties": {
                "value type": {
                  "const": "numeric"
                }
              }
            },
            "then": {
              "required": ["default", "min", "max", "step"], 
              "properties": {
                "default": {
                  "type": "number"
                },
                "min": {
                  "type": "number"
                },
                "max": {
                  "type": "number"
                },
                "step": {
                  "type": "number"
                },
                "values": {
                  "type": "array",
                  "items": {
                    "type": "object",
                    "required": [
                      "range"
                    ],
                    "properties": {
                      "range": {
                        "type": "string"
                      },
                      "label": {
                        "type": "string"
                      },
                      "color": {
                        "$ref": "#/definitions/color"
                      }
                    }
                  }
                }
              }
            }
          }
        ]
      }
    }
  }
}
},{}],812:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){if(!e)return[!1];return validate(e)?[!0]:(console.warn(validate.errors),[!1,toErrorMessage(validate.errors)])};var _ajv=require("ajv"),_ajv2=_interopRequireDefault(_ajv),_configurationScheme=require("./configurationScheme.json"),_configurationScheme2=_interopRequireDefault(_configurationScheme);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const ajv=new _ajv2.default({verbose:!0}),validate=ajv.compile(_configurationScheme2.default);function toErrorMessage(e){for(const r of e)if("required"===r.keyword)return`Invalid configuration: The attribute type whose predicate is '${r.data.pred}' misses a mandatory property, '${r.params.missingProperty}'.`}

},{"./configurationScheme.json":811,"ajv":1}],813:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return e.reduce((e,r)=>e||r.hasError,!1)};

},{}],814:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){for(const e of document.querySelectorAll(".textae-editor")){const t=(0,_jquery2.default)(e);_editor2.default.call(t),tool.registerEditor(t),t.api.start(t),(0,_combine2.default)(t,new _ControlBar2.default(t),new _ContextMenu2.default(t))}};var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_tool=require("./tool"),_tool2=_interopRequireDefault(_tool),_ControlBar=require("./control/ControlBar"),_ControlBar2=_interopRequireDefault(_ControlBar),_ContextMenu=require("./control/ContextMenu"),_ContextMenu2=_interopRequireDefault(_ContextMenu),_editor=require("./editor"),_editor2=_interopRequireDefault(_editor),_combine=require("./combine"),_combine2=_interopRequireDefault(_combine);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const tool=new _tool2.default;

},{"./combine":189,"./control/ContextMenu":291,"./control/ControlBar":300,"./editor":401,"./tool":819,"jquery":116}],815:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){return`editor${e.length}`};

},{}],816:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _HelpDialog=require("../../component/HelpDialog"),_HelpDialog2=_interopRequireDefault(_HelpDialog),_getNewId=require("./getNewId"),_getNewId2=_interopRequireDefault(_getNewId),_switchActiveClass=require("./switchActiveClass"),_switchActiveClass2=_interopRequireDefault(_switchActiveClass),_keyInputHandler=require("./keyInputHandler"),_keyInputHandler2=_interopRequireDefault(_keyInputHandler);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const helpDialog=new _HelpDialog2.default;exports.default=class{constructor(){this.editorList=[],this.selectedEditor=null}push(e){Object.assign(e,{editorId:(0,_getNewId2.default)(this.editorList)}),this.editorList.push(e),e[0].addEventListener("keyup",e=>(0,_keyInputHandler2.default)(this,e))}get selected(){return this.selectedEditor}set selected(e){(0,_switchActiveClass2.default)(this.editorList,e),this.selectedEditor=e}unselect(e){this.selectedEditor===e&&(e.api.unselect(),this.selectedEditor=null)}redraw(){this.editorList.forEach(e=>e.api.redraw())}findByDom(e){return this.editorList.filter(t=>t[0]===e)[0]}openHelpDialog(){helpDialog.open()}};

},{"../../component/HelpDialog":238,"./getNewId":815,"./keyInputHandler":817,"./switchActiveClass":818}],817:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){e.selected&&"h"===t.key&&e.openHelpDialog()};

},{}],818:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){for(const o of e)o!==t&&o.api.unselect();t.api.select()};

},{}],819:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _EditorContainer=require("./EditorContainer"),_EditorContainer2=_interopRequireDefault(_EditorContainer),_selectUnselectEditorOn=require("./selectUnselectEditorOn"),_selectUnselectEditorOn2=_interopRequireDefault(_selectUnselectEditorOn),_redrawOnResize=require("./redrawOnResize"),_redrawOnResize2=_interopRequireDefault(_redrawOnResize),_setVeilObserver=require("./setVeilObserver"),_setVeilObserver2=_interopRequireDefault(_setVeilObserver);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(){this._editors=new _EditorContainer2.default,(0,_redrawOnResize2.default)(this._editors),window.addEventListener("load",()=>{(0,_selectUnselectEditorOn2.default)(this._editors)})}registerEditor(e){this._editors.push(e),(0,_setVeilObserver2.default)(e[0])}};

},{"./EditorContainer":816,"./redrawOnResize":820,"./selectUnselectEditorOn":822,"./setVeilObserver":824}],820:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){window.addEventListener("resize",(0,_throttleit2.default)(()=>t.redraw(),500))};var _throttleit=require("throttleit"),_throttleit2=_interopRequireDefault(_throttleit);function _interopRequireDefault(t){return t&&t.__esModule?t:{default:t}}

},{"throttleit":159}],821:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t){t&&(e.selected&&t[0]!==e.selected[0]&&e.unselect(e.selected),e.selected=t)};

},{}],822:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){document.body.addEventListener("focus",t=>{const o=e.findByDom(t.target.closest(".textae-editor"));(0,_selectEditor2.default)(e,o)},!0),document.body.addEventListener("click",t=>{null===t.target.closest(".textae-editor--dialog")&&null===t.target.closest(".ui-autocomplete")&&null===t.target.closest(".ui-widget-overlay")&&null===t.target.closest(".textae-editor__type-pallet__content")&&(e.findByDom(t.target.closest(".textae-editor"))||e.selected&&e.unselect(e.selected))})};var _selectEditor=require("./selectEditor"),_selectEditor2=_interopRequireDefault(_selectEditor);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./selectEditor":821}],823:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(t){return t.classList.contains("textae-editor--wait")?waitingEditors.set(t):waitingEditors.delete(t),waitingEditors.size>0};const waitingEditors=new Map;

},{}],824:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e){new MutationObserver(updateVeil).observe(e,config)};var _hasWaitingEditor=require("./hasWaitingEditor"),_hasWaitingEditor2=_interopRequireDefault(_hasWaitingEditor),_veil=require("./veil"),_veil2=_interopRequireDefault(_veil);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}const config={attributes:!0,attributeFilter:["class"]};function updateVeil(e){e.forEach(e=>switchVeil((0,_hasWaitingEditor2.default)(e.target)))}function switchVeil(e){e?_veil2.default.show():_veil2.default.hide()}

},{"./hasWaitingEditor":823,"./veil":825}],825:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const veilClass="textae-editor-veil";function show(){const e=document.querySelector(`.${veilClass}`);if(e)e.style.display="block";else{const e=document.createElement("div");e.className=veilClass,document.body.appendChild(e)}}function hide(){const e=document.querySelector(`.${veilClass}`);e&&(e.style.display="none")}exports.default={show:show,hide:hide};

},{}],826:[function(require,module,exports){
"use strict";function exists(e){return 0!==document.cookie.split(";").filter(t=>t.includes(`${e}=`)).length}function get(e){const t=new RegExp(`(?:(?:^|.*;\\s*)${e}\\s*\\=\\s*([^;]*).*$)|^.*$`);return document.cookie.replace(t,"$1")}function set(e,t,s){const n=Object.keys(s).reduce((e,t)=>`${e}; ${t}=${s[t]}`,"");document.cookie=`${e}=${t}${n}`}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(){return{exists:exists,get:get,set:set}};

},{}],827:[function(require,module,exports){
"use strict";function changeCursor(e,t){(e=e.add(".ui-dialog, .ui-widget-overlay"))[`${t}Class`]("textae-editor--wait")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=changeCursor;

},{}],828:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _changeCursor=require("./changeCursor"),_changeCursor2=_interopRequireDefault(_changeCursor);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}exports.default=class{constructor(e){this._editor=e}startWait(){(0,_changeCursor2.default)(this._editor,"add")}endWait(){(0,_changeCursor2.default)(this._editor,"remove")}};

},{"./changeCursor":827}],829:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=function(e,t,r){if((0,_isEmptyString2.default)(e))return;const i={type:"GET",url:e,cache:!1,xhrFields:{withCredentials:!0},timeout:3e4};_jquery2.default.ajax(i).done(t).fail(r)};var _jquery=require("jquery"),_jquery2=_interopRequireDefault(_jquery),_isEmptyString=require("./isEmptyString"),_isEmptyString2=_interopRequireDefault(_isEmptyString);function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}

},{"./isEmptyString":830,"jquery":116}],830:[function(require,module,exports){
"use strict";function isEmptyString(t){return!t||""===t}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=isEmptyString;

},{}]},{},[164]);
