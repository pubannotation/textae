# 対応予定のテスト

## URL からコンフィグレーションファイルを読み込んだ時に、変更前のコンフィグレーション情報を読み込んだコンフィグレーションに更新する

### 背景

1. 5.0.0 でコンフィグレーションの読込・保存機能を追加しました
2. コンフィグレーション保存ダイアログでは、コンフィグレーション変更前後の diff を表示します
3. diff を取得するために、変更前のコンフィグレーション情報を保存しています
4. 5.3.5 からアノテーションファイルに含まれるコンフィグレーションを、変更前のコンフィグレーション情報をに反映しています
5. 6.1.3 で、URL からコンフィグレーションファイルを読み込んだ時に、変更前のコンフィグレーション情報を読み込んだコンフィグレーションに更新していませんでした
6. diff に表示するコンフィグレーション情報の読み込み前のコンフィグレーションに、アノテーションファイルに含まれるコンフィグレーションのみ反映されていました
7. 6.4.152 で対応しました

### -- 手段 --

1. Editor0 を選択
2. `q`キーを押してパレットを開く
3. `Import`ボタンをクリック
4. `/dev/1_config.json`を読み込む
5. `Uplaod`ボタンをクリック
6. `Configuration differences`欄の`attribute types`に、新しい Attirbute 定義が追加さえていないこと
7. Editor1 を選択
8. `i`キーを押してアノテーション読込ダイアログを開く
9. ローカルファイルから`private.json`を読み込む
10. `q`キーを押してパレットを開く
11. `Uplaod`ボタンをクリック
12. `Configuration differences`欄の`attribute types`の 1 番目の`pred`の変更前の値が`denote`でないこと

## 左右キーで選択 Entity を変更

### 背景

1.  左右キーで移動する Entity の順序を DOM の順序から取得します
2.  Grid を作るときは右の Span の Grid の前に挿入します
3.  6.1.26 で右の Span の Grid の取得に失敗して、作成した Grid を、常に最後尾に追加していました
4.  左右キーで移動する Entity の順序が、見た目上の Grid の順序ではなく、追加した順になっていました
5.  6.1.29 で対応しました。

### -- 手段 --

1.  既存の Span より左に Span を追加する
2.  追加した Span の Entity を選択する
3.  `右キー`を押す
4.  右隣の Entity が選択されること
5.  `左キー`を押す
6.  左隣の Entity が選択されること

### 左右キーで端っこより先に選択を変更できない

#### Term モード

1.  先頭の Entity を選択する
2.  `左キー`を押す
3.  選択する Entity が変わらないこと
4.  最後の Entity を選択する
5.  `右キー`を押す
6.  選択する Entity が変わらないこと

#### Simple モード

1.  先頭の Entity label を選択する
2.  `左キー`を押す
3.  選択する Entity label が変わらないこと
4.  最後の Entity label を選択する
5.  `右キー`を押す
6.  選択する Entity が変わらないこと

#### Relation モード

1.  先頭の Entity を選択する
2.  `左キー`を押す
3.  選択する Entity が変わらないこと
4.  最後の Entity を選択する
5.  `右キー`を押す
6.  選択する Entity が変わらないこと

## 左右キーに連動してスクロールすること

### 背景

1.  5.0.0 で Attribute を追加した際に、Type の DOM 構造を変更しました
2.  DOM の取得に previousElementSibling, nextElementSibling を使っているところを Element.closest または Element.querySelector におきかえました。
3.  機能が壊れていないか確認します。
4.  6.2.49 で BlockSpan をつくったときにドキュメントの最上部までスクロールしない対応を入れた際に、DenotationEntity を選択した際にスクロールしなくなっていました。
5.  6.4.11 で対応

### Term モードの Entity

1.  Term モードにする
2.  Entity を選択する
3.  `左キー`を何回も押して、表示領域外の Entity を選択する
4.  選択した Entity が表示される位置に表示されること
5.  `右キー`を何回も押して、表示領域外の Entity を選択する
6.  選択した Entity が表示される位置に表示されること

### Span

1.  Span を選択する
2.  `左キー`を何回も押して、表示領域外の Span を選択する
3.  選択した Span が表示される位置に表示されること
4.  `右キー`を何回も押して、表示領域外の Span を選択する
5.  選択した Span が表示される位置に表示されること

## 左右キーで選択 Span を変更

### -- 手段 --

1.  Span を選択する
2.  `左キー`を押す
3.  左隣の Span が選択されること
4.  `右キー`を押す
5.  右隣の Span が選択されること

### 左右キーで端っこより先に選択を変更できない

#### Term モード

1.  先頭の Span を選択する
2.  `左キー`を押す
3.  選択する Span が変わらないこと
4.  最後の Span を選択する
5.  `右キー`を押す
6.  選択する Span が変わらないこと

#### Simple モード

1.  先頭の Span を選択する
2.  `左キー`を押す
3.  選択する Span が変わらないこと
4.  最後の Span を選択する
5.  `右キー`を押す
6.  選択する Span が変わらないこと
