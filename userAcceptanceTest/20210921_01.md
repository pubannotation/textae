## コンテキストメニュー

### 背景

1.  5.0.0 でコンテキストメニューを追加しました。

### Entity を選択してコンテキストメニューを開いたときに Entity を選択したままであること

#### 背景

1.  5.0.0 の開発中に、右クリックで`mouseup`イベントは発火するため、エディタの body をクリックしたと判断して Entity の選択を解除したことがありました。
2.  エディタの body がリッスンするイベントを`click`イベント（右クリックでは発火しない、代わりに`contextmenu`イベントが発火する）に変更して対応しました。

#### -- 手段 ---

1.  Entity を選択する
2.  Editor 上の何も無いところでマウスの右ボタンを押下する
3.  コンテキストメニューが表示されること
4.  Entity を選択されたままであること

### 別 Editor をクリックしたらコンテキストメニューを閉じる

#### 背景

1.  5.0.0 の開発中に、コンテキストメニューを開いているときに、別の Editor をクリックしたときにコンテキストメニューを閉じる挙動を追加しました。

#### -- 手段 ---

1.  マウスの右ボタンを押下する
2.  コンテキストメニューが表示されること
3.  別の Editor を左クリックする
4.  コンテキストメニューが閉じること
5.  マウスの右ボタンを押下する
6.  コンテキストメニューが表示されること
7.  別の Editor を右クリックする
8.  コンテキストメニューが閉じること

### 左クリックでコンテキストメニューを閉じる

#### 背景

1.  5.0.0 の開発中に、コンテキストメニューを開いているときに、コンテキストメニュー以外の場所を左クリックされたしてもコンテキストメニューが閉じないバグがありました。

#### -- 手段 ---

1.  マウスの右ボタンを押下する
2.  コンテキストメニューが表示されること
3.  コンテキストメニュー以外の場所を左クリックする
4.  コンテキストメニューが閉じること

### macOS でコンテキストメニューを開ける

#### 背景

1.  5.0.0 の開発中に macOS で、マウスの右ボタンを押下するとコンテキストメニューが開き、放すと閉じるバグがありました。

#### -- 手段 ---

1.  マウスの右ボタンを押下する
2.  コンテキストメニューが表示されること
3.  マウスの右ボタンを放す
4.  コンテキストメニューが表示されたままであること
